!function(e,a){for(var i in a)e[i]=a[i]}(exports,function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,(function(key){return value[key]}).bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}({0:function(module,exports,__webpack_require__){module.exports=__webpack_require__("K011")},"0Ovr":function(module,exports,__webpack_require__){"use strict";var parserlib=Object.create(null);!function(){function EventTarget(){this._listeners=Object.create(null)}function StringReader(text){this._input=text.replace(/(\r|\n){1,2}/g,"\n"),this._line=1,this._col=1,this._cursor=0}function SyntaxError(message,line,col){Error.call(this),this.name=this.constructor.name,this.col=col,this.line=line,this.message=message}function SyntaxUnit(text,line,col,type){this.col=col,this.line=line,this.text=text,this.type=type}function TokenStreamBase(input,tokenData){this._reader=input?new StringReader(input.toString()):null,this._token=null,this._tokenData=tokenData,this._lt=[],this._ltIndex=0,this._ltIndexCache=[]}EventTarget.prototype={constructor:EventTarget,addListener:function(type,listener){this._listeners[type]||(this._listeners[type]=[]),this._listeners[type].push(listener)},fire:function(event){if("string"==typeof event&&(event={type:event}),void 0!==event.target&&(event.target=this),void 0===event.type)throw new Error("Event object missing 'type' property.");if(this._listeners[event.type])for(var listeners=this._listeners[event.type].concat(),i=0,len=listeners.length;i<len;i++)listeners[i].call(this,event)},removeListener:function(type,listener){if(this._listeners[type])for(var listeners=this._listeners[type],i=0,len=listeners.length;i<len;i++)if(listeners[i]===listener){listeners.splice(i,1);break}}},StringReader.prototype={constructor:StringReader,getCol:function(){return this._col},getLine:function(){return this._line},eof:function(){return this._cursor===this._input.length},peek:function(count){var c=null;return count=void 0===count?1:count,this._cursor<this._input.length&&(c=this._input.charAt(this._cursor+count-1)),c},read:function(){var c=null;return this._cursor<this._input.length&&("\n"===this._input.charAt(this._cursor)?(this._line++,this._col=1):this._col++,c=this._input.charAt(this._cursor++)),c},mark:function(){this._bookmark={cursor:this._cursor,line:this._line,col:this._col}},reset:function(){this._bookmark&&(this._cursor=this._bookmark.cursor,this._line=this._bookmark.line,this._col=this._bookmark.col,delete this._bookmark)},readTo:function(pattern){for(var c,buffer="";buffer.length<pattern.length||buffer.lastIndexOf(pattern)!==buffer.length-pattern.length;){if(!(c=this.read()))throw new Error('Expected "'+pattern+'" at line '+this._line+", col "+this._col+".");buffer+=c}return buffer},readWhile:function(filter){for(var buffer="",c=this.read();null!==c&&filter(c);)buffer+=c,c=this.read();return buffer},readMatch:function(matcher){var source=this._input.substring(this._cursor),value=null;return"string"==typeof matcher?0===source.indexOf(matcher)&&(value=this.readCount(matcher.length)):matcher instanceof RegExp&&matcher.test(source)&&(value=this.readCount(RegExp.lastMatch.length)),value},readCount:function(count){for(var buffer="";count--;)buffer+=this.read();return buffer}},SyntaxError.prototype=Object.create(Error.prototype),SyntaxError.prototype.constructor=SyntaxError,SyntaxUnit.fromToken=function(token){return new SyntaxUnit(token.value,token.startLine,token.startCol)},SyntaxUnit.prototype={constructor:SyntaxUnit,valueOf:function(){return this.toString()},toString:function(){return this.text}},TokenStreamBase.createTokenData=function(tokens){var nameMap=[],typeMap=Object.create(null),tokenData=tokens.concat([]),i=0,len=tokenData.length+1;for(tokenData.UNKNOWN=-1,tokenData.unshift({name:"EOF"});i<len;i++)nameMap.push(tokenData[i].name),tokenData[tokenData[i].name]=i,tokenData[i].text&&(typeMap[tokenData[i].text]=i);return tokenData.name=function(tt){return nameMap[tt]},tokenData.type=function(c){return typeMap[c]},tokenData},TokenStreamBase.prototype={constructor:TokenStreamBase,match:function(tokenTypes,channel){tokenTypes instanceof Array||(tokenTypes=[tokenTypes]);for(var tt=this.get(channel),i=0,len=tokenTypes.length;i<len;)if(tt===tokenTypes[i++])return!0;return this.unget(),!1},mustMatch:function(tokenTypes,channel){var token;if(tokenTypes instanceof Array||(tokenTypes=[tokenTypes]),!this.match.apply(this,arguments))throw token=this.LT(1),new SyntaxError("Expected "+this._tokenData[tokenTypes[0]].name+" at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol)},advance:function(tokenTypes,channel){for(;0!==this.LA(0)&&!this.match(tokenTypes,channel);)this.get();return this.LA(0)},get:function(channel){var token,info,tokenInfo=this._tokenData,i=0;if(this._lt.length&&this._ltIndex>=0&&this._ltIndex<this._lt.length){for(i++,this._token=this._lt[this._ltIndex++],info=tokenInfo[this._token.type];void 0!==info.channel&&channel!==info.channel&&this._ltIndex<this._lt.length;)this._token=this._lt[this._ltIndex++],info=tokenInfo[this._token.type],i++;if((void 0===info.channel||channel===info.channel)&&this._ltIndex<=this._lt.length)return this._ltIndexCache.push(i),this._token.type}return(token=this._getToken()).type>-1&&!tokenInfo[token.type].hide&&(token.channel=tokenInfo[token.type].channel,this._token=token,this._lt.push(token),this._ltIndexCache.push(this._lt.length-this._ltIndex+i),this._lt.length>5&&this._lt.shift(),this._ltIndexCache.length>5&&this._ltIndexCache.shift(),this._ltIndex=this._lt.length),(info=tokenInfo[token.type])&&(info.hide||void 0!==info.channel&&channel!==info.channel)?this.get(channel):token.type},LA:function(index){var tt,total=index;if(index>0){if(index>5)throw new Error("Too much lookahead.");for(;total;)tt=this.get(),total--;for(;total<index;)this.unget(),total++}else if(index<0){if(!this._lt[this._ltIndex+index])throw new Error("Too much lookbehind.");tt=this._lt[this._ltIndex+index].type}else tt=this._token.type;return tt},LT:function(index){return this.LA(index),this._lt[this._ltIndex+index-1]},peek:function(){return this.LA(1)},token:function(){return this._token},tokenName:function(tokenType){return tokenType<0||tokenType>this._tokenData.length?"UNKNOWN_TOKEN":this._tokenData[tokenType].name},tokenType:function(tokenName){return this._tokenData[tokenName]||-1},unget:function(){if(!this._ltIndexCache.length)throw new Error("Too much lookahead.");this._ltIndex-=this._ltIndexCache.pop(),this._token=this._lt[this._ltIndex-1]}},parserlib.util={__proto__:null,StringReader:StringReader,SyntaxError:SyntaxError,SyntaxUnit:SyntaxUnit,EventTarget:EventTarget,TokenStreamBase:TokenStreamBase}}(),function(){var EventTarget=parserlib.util.EventTarget,TokenStreamBase=parserlib.util.TokenStreamBase,SyntaxError=(parserlib.util.StringReader,parserlib.util.SyntaxError),SyntaxUnit=parserlib.util.SyntaxUnit,Colors={__proto__:null,aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",currentColor:"The value of the 'color' property.",activeBorder:"Active window border.",activecaption:"Active window caption.",appworkspace:"Background color of multiple document interface.",background:"Desktop background.",buttonface:"The face background color for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonhighlight:"The color of the border facing the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonshadow:"The color of the border away from the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttontext:"Text on push buttons.",captiontext:"Text in caption, size box, and scrollbar arrow box.",graytext:"Grayed (disabled) text. This color is set to #000 if the current display driver does not support a solid gray color.",greytext:"Greyed (disabled) text. This color is set to #000 if the current display driver does not support a solid grey color.",highlight:"Item(s) selected in a control.",highlighttext:"Text of item(s) selected in a control.",inactiveborder:"Inactive window border.",inactivecaption:"Inactive window caption.",inactivecaptiontext:"Color of text in an inactive caption.",infobackground:"Background color for tooltip controls.",infotext:"Text color for tooltip controls.",menu:"Menu background.",menutext:"Text in menus.",scrollbar:"Scroll bar gray area.",threeddarkshadow:"The color of the darker (generally outer) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedface:"The face background color for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedhighlight:"The color of the lighter (generally outer) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedlightshadow:"The color of the darker (generally inner) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedshadow:"The color of the lighter (generally inner) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",window:"Window background.",windowframe:"Window frame.",windowtext:"Text in windows."};function Combinator(text,line,col){SyntaxUnit.call(this,text,line,col,Parser.COMBINATOR_TYPE),this.type="unknown",/^\s+$/.test(text)?this.type="descendant":">"===text?this.type="child":"+"===text?this.type="adjacent-sibling":"~"===text&&(this.type="sibling")}function MediaFeature(name,value){SyntaxUnit.call(this,"("+name+(null!==value?":"+value:"")+")",name.startLine,name.startCol,Parser.MEDIA_FEATURE_TYPE),this.name=name,this.value=value}function MediaQuery(modifier,mediaType,features,line,col){SyntaxUnit.call(this,(modifier?modifier+" ":"")+(mediaType||"")+(mediaType&&features.length>0?" and ":"")+features.join(" and "),line,col,Parser.MEDIA_QUERY_TYPE),this.modifier=modifier,this.mediaType=mediaType,this.features=features}function Parser(options){EventTarget.call(this),this.options=options||{},this._tokenStream=null}Combinator.prototype=new SyntaxUnit,Combinator.prototype.constructor=Combinator,MediaFeature.prototype=new SyntaxUnit,MediaFeature.prototype.constructor=MediaFeature,MediaQuery.prototype=new SyntaxUnit,MediaQuery.prototype.constructor=MediaQuery,Parser.DEFAULT_TYPE=0,Parser.COMBINATOR_TYPE=1,Parser.MEDIA_FEATURE_TYPE=2,Parser.MEDIA_QUERY_TYPE=3,Parser.PROPERTY_NAME_TYPE=4,Parser.PROPERTY_VALUE_TYPE=5,Parser.PROPERTY_VALUE_PART_TYPE=6,Parser.SELECTOR_TYPE=7,Parser.SELECTOR_PART_TYPE=8,Parser.SELECTOR_SUB_PART_TYPE=9,Parser.prototype=function(){var prop,proto=new EventTarget,additions={__proto__:null,constructor:Parser,DEFAULT_TYPE:0,COMBINATOR_TYPE:1,MEDIA_FEATURE_TYPE:2,MEDIA_QUERY_TYPE:3,PROPERTY_NAME_TYPE:4,PROPERTY_VALUE_TYPE:5,PROPERTY_VALUE_PART_TYPE:6,SELECTOR_TYPE:7,SELECTOR_PART_TYPE:8,SELECTOR_SUB_PART_TYPE:9,_stylesheet:function(){var count,token,tt,tokenStream=this._tokenStream;for(this.fire("startstylesheet"),this._charset(),this._skipCruft();tokenStream.peek()===Tokens.IMPORT_SYM;)this._import(),this._skipCruft();for(;tokenStream.peek()===Tokens.NAMESPACE_SYM;)this._namespace(),this._skipCruft();for(tt=tokenStream.peek();tt>Tokens.EOF;){try{switch(tt){case Tokens.MEDIA_SYM:this._media(),this._skipCruft();break;case Tokens.PAGE_SYM:this._page(),this._skipCruft();break;case Tokens.FONT_FACE_SYM:this._font_face(),this._skipCruft();break;case Tokens.KEYFRAMES_SYM:this._keyframes(),this._skipCruft();break;case Tokens.VIEWPORT_SYM:this._viewport(),this._skipCruft();break;case Tokens.DOCUMENT_SYM:this._document(),this._skipCruft();break;case Tokens.UNKNOWN_SYM:if(tokenStream.get(),this.options.strict)throw new SyntaxError("Unknown @ rule.",tokenStream.LT(0).startLine,tokenStream.LT(0).startCol);for(this.fire({type:"error",error:null,message:"Unknown @ rule: "+tokenStream.LT(0).value+".",line:tokenStream.LT(0).startLine,col:tokenStream.LT(0).startCol}),count=0;tokenStream.advance([Tokens.LBRACE,Tokens.RBRACE])===Tokens.LBRACE;)count++;for(;count;)tokenStream.advance([Tokens.RBRACE]),count--;break;case Tokens.S:this._readWhitespace();break;default:if(!this._ruleset())switch(tt){case Tokens.CHARSET_SYM:throw token=tokenStream.LT(1),this._charset(!1),new SyntaxError("@charset not allowed here.",token.startLine,token.startCol);case Tokens.IMPORT_SYM:throw token=tokenStream.LT(1),this._import(!1),new SyntaxError("@import not allowed here.",token.startLine,token.startCol);case Tokens.NAMESPACE_SYM:throw token=tokenStream.LT(1),this._namespace(!1),new SyntaxError("@namespace not allowed here.",token.startLine,token.startCol);default:tokenStream.get(),this._unexpectedToken(tokenStream.token())}}}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col})}tt=tokenStream.peek()}tt!==Tokens.EOF&&this._unexpectedToken(tokenStream.token()),this.fire("endstylesheet")},_charset:function(emit){var charset,line,col,tokenStream=this._tokenStream;tokenStream.match(Tokens.CHARSET_SYM)&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.mustMatch(Tokens.STRING),charset=tokenStream.token().value,this._readWhitespace(),tokenStream.mustMatch(Tokens.SEMICOLON),!1!==emit&&this.fire({type:"charset",charset:charset,line:line,col:col}))},_import:function(emit){var uri,importToken,mediaList,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.IMPORT_SYM),importToken=tokenStream.token(),this._readWhitespace(),tokenStream.mustMatch([Tokens.STRING,Tokens.URI]),uri=tokenStream.token().value.replace(/^(?:url\()?["']?([^"']+?)["']?\)?$/,"$1"),this._readWhitespace(),mediaList=this._media_query_list(),tokenStream.mustMatch(Tokens.SEMICOLON),this._readWhitespace(),!1!==emit&&this.fire({type:"import",uri:uri,media:mediaList,line:importToken.startLine,col:importToken.startCol})},_namespace:function(emit){var line,col,prefix,uri,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.NAMESPACE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.match(Tokens.IDENT)&&(prefix=tokenStream.token().value,this._readWhitespace()),tokenStream.mustMatch([Tokens.STRING,Tokens.URI]),uri=tokenStream.token().value.replace(/(?:url\()?["']([^"']+)["']\)?/,"$1"),this._readWhitespace(),tokenStream.mustMatch(Tokens.SEMICOLON),this._readWhitespace(),!1!==emit&&this.fire({type:"namespace",prefix:prefix,uri:uri,line:line,col:col})},_media:function(){var line,col,mediaList,tokenStream=this._tokenStream;for(tokenStream.mustMatch(Tokens.MEDIA_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),mediaList=this._media_query_list(),tokenStream.mustMatch(Tokens.LBRACE),this._readWhitespace(),this.fire({type:"startmedia",media:mediaList,line:line,col:col});;)if(tokenStream.peek()===Tokens.PAGE_SYM)this._page();else if(tokenStream.peek()===Tokens.FONT_FACE_SYM)this._font_face();else if(tokenStream.peek()===Tokens.VIEWPORT_SYM)this._viewport();else if(tokenStream.peek()===Tokens.DOCUMENT_SYM)this._document();else if(!this._ruleset())break;tokenStream.mustMatch(Tokens.RBRACE),this._readWhitespace(),this.fire({type:"endmedia",media:mediaList,line:line,col:col})},_media_query_list:function(){var tokenStream=this._tokenStream,mediaList=[];for(this._readWhitespace(),tokenStream.peek()!==Tokens.IDENT&&tokenStream.peek()!==Tokens.LPAREN||mediaList.push(this._media_query());tokenStream.match(Tokens.COMMA);)this._readWhitespace(),mediaList.push(this._media_query());return mediaList},_media_query:function(){var tokenStream=this._tokenStream,type=null,ident=null,token=null,expressions=[];if(tokenStream.match(Tokens.IDENT)&&("only"!==(ident=tokenStream.token().value.toLowerCase())&&"not"!==ident?(tokenStream.unget(),ident=null):token=tokenStream.token()),this._readWhitespace(),tokenStream.peek()===Tokens.IDENT?(type=this._media_type(),null===token&&(token=tokenStream.token())):tokenStream.peek()===Tokens.LPAREN&&(null===token&&(token=tokenStream.LT(1)),expressions.push(this._media_expression())),null===type&&0===expressions.length)return null;for(this._readWhitespace();tokenStream.match(Tokens.IDENT);)"and"!==tokenStream.token().value.toLowerCase()&&this._unexpectedToken(tokenStream.token()),this._readWhitespace(),expressions.push(this._media_expression());return new MediaQuery(ident,type,expressions,token.startLine,token.startCol)},_media_type:function(){return this._media_feature()},_media_expression:function(){var feature,token,tokenStream=this._tokenStream,expression=null;return tokenStream.mustMatch(Tokens.LPAREN),feature=this._media_feature(),this._readWhitespace(),tokenStream.match(Tokens.COLON)&&(this._readWhitespace(),token=tokenStream.LT(1),expression=this._expression()),tokenStream.mustMatch(Tokens.RPAREN),this._readWhitespace(),new MediaFeature(feature,expression?new SyntaxUnit(expression,token.startLine,token.startCol):null)},_media_feature:function(){var tokenStream=this._tokenStream;return this._readWhitespace(),tokenStream.mustMatch(Tokens.IDENT),SyntaxUnit.fromToken(tokenStream.token())},_page:function(){var line,col,tokenStream=this._tokenStream,identifier=null,pseudoPage=null;tokenStream.mustMatch(Tokens.PAGE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.match(Tokens.IDENT)&&"auto"===(identifier=tokenStream.token().value).toLowerCase()&&this._unexpectedToken(tokenStream.token()),tokenStream.peek()===Tokens.COLON&&(pseudoPage=this._pseudo_page()),this._readWhitespace(),this.fire({type:"startpage",id:identifier,pseudo:pseudoPage,line:line,col:col}),this._readDeclarations(!0,!0),this.fire({type:"endpage",id:identifier,pseudo:pseudoPage,line:line,col:col})},_margin:function(){var line,col,tokenStream=this._tokenStream,marginSym=this._margin_sym();return!!marginSym&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol,this.fire({type:"startpagemargin",margin:marginSym,line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endpagemargin",margin:marginSym,line:line,col:col}),!0)},_margin_sym:function(){var tokenStream=this._tokenStream;return tokenStream.match([Tokens.TOPLEFTCORNER_SYM,Tokens.TOPLEFT_SYM,Tokens.TOPCENTER_SYM,Tokens.TOPRIGHT_SYM,Tokens.TOPRIGHTCORNER_SYM,Tokens.BOTTOMLEFTCORNER_SYM,Tokens.BOTTOMLEFT_SYM,Tokens.BOTTOMCENTER_SYM,Tokens.BOTTOMRIGHT_SYM,Tokens.BOTTOMRIGHTCORNER_SYM,Tokens.LEFTTOP_SYM,Tokens.LEFTMIDDLE_SYM,Tokens.LEFTBOTTOM_SYM,Tokens.RIGHTTOP_SYM,Tokens.RIGHTMIDDLE_SYM,Tokens.RIGHTBOTTOM_SYM])?SyntaxUnit.fromToken(tokenStream.token()):null},_pseudo_page:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch(Tokens.COLON),tokenStream.mustMatch(Tokens.IDENT),tokenStream.token().value},_font_face:function(){var line,col,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.FONT_FACE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),this.fire({type:"startfontface",line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endfontface",line:line,col:col})},_viewport:function(){var line,col,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.VIEWPORT_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),this.fire({type:"startviewport",line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endviewport",line:line,col:col})},_document:function(){var token,tokenStream=this._tokenStream,functions=[],prefix="";for(tokenStream.mustMatch(Tokens.DOCUMENT_SYM),token=tokenStream.token(),/^@\-([^\-]+)\-/.test(token.value)&&(prefix=RegExp.$1),this._readWhitespace(),functions.push(this._document_function());tokenStream.match(Tokens.COMMA);)this._readWhitespace(),functions.push(this._document_function());for(tokenStream.mustMatch(Tokens.LBRACE),this._readWhitespace(),this.fire({type:"startdocument",functions:functions,prefix:prefix,line:token.startLine,col:token.startCol});;)if(tokenStream.peek()===Tokens.PAGE_SYM)this._page();else if(tokenStream.peek()===Tokens.FONT_FACE_SYM)this._font_face();else if(tokenStream.peek()===Tokens.VIEWPORT_SYM)this._viewport();else if(tokenStream.peek()===Tokens.MEDIA_SYM)this._media();else if(!this._ruleset())break;tokenStream.mustMatch(Tokens.RBRACE),this._readWhitespace(),this.fire({type:"enddocument",functions:functions,prefix:prefix,line:token.startLine,col:token.startCol})},_document_function:function(){var value,tokenStream=this._tokenStream;return tokenStream.match(Tokens.URI)?(value=tokenStream.token().value,this._readWhitespace()):value=this._function(),value},_operator:function(inFunction){var tokenStream=this._tokenStream,token=null;return(tokenStream.match([Tokens.SLASH,Tokens.COMMA])||inFunction&&tokenStream.match([Tokens.PLUS,Tokens.STAR,Tokens.MINUS]))&&(token=tokenStream.token(),this._readWhitespace()),token?PropertyValuePart.fromToken(token):null},_combinator:function(){var token,tokenStream=this._tokenStream,value=null;return tokenStream.match([Tokens.PLUS,Tokens.GREATER,Tokens.TILDE])&&(value=new Combinator((token=tokenStream.token()).value,token.startLine,token.startCol),this._readWhitespace()),value},_unary_operator:function(){var tokenStream=this._tokenStream;return tokenStream.match([Tokens.MINUS,Tokens.PLUS])?tokenStream.token().value:null},_property:function(){var tokenValue,token,line,col,tokenStream=this._tokenStream,value=null,hack=null;return tokenStream.peek()===Tokens.STAR&&this.options.starHack&&(tokenStream.get(),hack=(token=tokenStream.token()).value,line=token.startLine,col=token.startCol),tokenStream.match(Tokens.IDENT)&&("_"===(tokenValue=(token=tokenStream.token()).value).charAt(0)&&this.options.underscoreHack&&(hack="_",tokenValue=tokenValue.substring(1)),value=new PropertyName(tokenValue,hack,line||token.startLine,col||token.startCol),this._readWhitespace()),value},_ruleset:function(){var selectors,tokenStream=this._tokenStream;try{selectors=this._selectors_group()}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;if(this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col}),tokenStream.advance([Tokens.RBRACE])!==Tokens.RBRACE)throw ex;return!0}return selectors&&(this.fire({type:"startrule",selectors:selectors,line:selectors[0].line,col:selectors[0].col}),this._readDeclarations(!0),this.fire({type:"endrule",selectors:selectors,line:selectors[0].line,col:selectors[0].col})),selectors},_selectors_group:function(){var selector,tokenStream=this._tokenStream,selectors=[];if(null!==(selector=this._selector()))for(selectors.push(selector);tokenStream.match(Tokens.COMMA);)this._readWhitespace(),null!==(selector=this._selector())?selectors.push(selector):this._unexpectedToken(tokenStream.LT(1));return selectors.length?selectors:null},_selector:function(){var tokenStream=this._tokenStream,selector=[],nextSelector=null,combinator=null,ws=null;if(null===(nextSelector=this._simple_selector_sequence()))return null;for(selector.push(nextSelector);;)if(null!==(combinator=this._combinator()))selector.push(combinator),null===(nextSelector=this._simple_selector_sequence())?this._unexpectedToken(tokenStream.LT(1)):selector.push(nextSelector);else{if(!this._readWhitespace())break;ws=new Combinator(tokenStream.token().value,tokenStream.token().startLine,tokenStream.token().startCol),combinator=this._combinator(),null===(nextSelector=this._simple_selector_sequence())?null!==combinator&&this._unexpectedToken(tokenStream.LT(1)):(null!==combinator?selector.push(combinator):selector.push(ws),selector.push(nextSelector))}return new Selector(selector,selector[0].line,selector[0].col)},_simple_selector_sequence:function(){var line,col,tokenStream=this._tokenStream,elementName=null,modifiers=[],selectorText="",components=[function(){return tokenStream.match(Tokens.HASH)?new SelectorSubPart(tokenStream.token().value,"id",tokenStream.token().startLine,tokenStream.token().startCol):null},this._class,this._attrib,this._pseudo,this._negation],i=0,len=components.length,component=null;for(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol,(elementName=this._type_selector())||(elementName=this._universal()),null!==elementName&&(selectorText+=elementName);tokenStream.peek()!==Tokens.S;){for(;i<len&&null===component;)component=components[i++].call(this);if(null===component){if(""===selectorText)return null;break}i=0,modifiers.push(component),selectorText+=component.toString(),component=null}return""!==selectorText?new SelectorPart(elementName,modifiers,selectorText,line,col):null},_type_selector:function(){var tokenStream=this._tokenStream,ns=this._namespace_prefix(),elementName=this._element_name();return elementName?(ns&&(elementName.text=ns+elementName.text,elementName.col-=ns.length),elementName):(ns&&(tokenStream.unget(),ns.length>1&&tokenStream.unget()),null)},_class:function(){var token,tokenStream=this._tokenStream;return tokenStream.match(Tokens.DOT)?(tokenStream.mustMatch(Tokens.IDENT),new SelectorSubPart("."+(token=tokenStream.token()).value,"class",token.startLine,token.startCol-1)):null},_element_name:function(){var token,tokenStream=this._tokenStream;return tokenStream.match(Tokens.IDENT)?new SelectorSubPart((token=tokenStream.token()).value,"elementName",token.startLine,token.startCol):null},_namespace_prefix:function(){var tokenStream=this._tokenStream,value="";return tokenStream.LA(1)!==Tokens.PIPE&&tokenStream.LA(2)!==Tokens.PIPE||(tokenStream.match([Tokens.IDENT,Tokens.STAR])&&(value+=tokenStream.token().value),tokenStream.mustMatch(Tokens.PIPE),value+="|"),value.length?value:null},_universal:function(){var ns,tokenStream=this._tokenStream,value="";return(ns=this._namespace_prefix())&&(value+=ns),tokenStream.match(Tokens.STAR)&&(value+="*"),value.length?value:null},_attrib:function(){var ns,token,tokenStream=this._tokenStream,value=null;return tokenStream.match(Tokens.LBRACKET)?(value=(token=tokenStream.token()).value,value+=this._readWhitespace(),(ns=this._namespace_prefix())&&(value+=ns),tokenStream.mustMatch(Tokens.IDENT),value+=tokenStream.token().value,value+=this._readWhitespace(),tokenStream.match([Tokens.PREFIXMATCH,Tokens.SUFFIXMATCH,Tokens.SUBSTRINGMATCH,Tokens.EQUALS,Tokens.INCLUDES,Tokens.DASHMATCH])&&(value+=tokenStream.token().value,value+=this._readWhitespace(),tokenStream.mustMatch([Tokens.IDENT,Tokens.STRING]),value+=tokenStream.token().value,value+=this._readWhitespace()),tokenStream.mustMatch(Tokens.RBRACKET),new SelectorSubPart(value+"]","attribute",token.startLine,token.startCol)):null},_pseudo:function(){var line,col,tokenStream=this._tokenStream,pseudo=null,colons=":";return tokenStream.match(Tokens.COLON)&&(tokenStream.match(Tokens.COLON)&&(colons+=":"),tokenStream.match(Tokens.IDENT)?(pseudo=tokenStream.token().value,line=tokenStream.token().startLine,col=tokenStream.token().startCol-colons.length):tokenStream.peek()===Tokens.FUNCTION&&(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol-colons.length,pseudo=this._functional_pseudo()),pseudo&&(pseudo=new SelectorSubPart(colons+pseudo,"pseudo",line,col))),pseudo},_functional_pseudo:function(){var tokenStream=this._tokenStream,value=null;return tokenStream.match(Tokens.FUNCTION)&&(value=tokenStream.token().value,value+=this._readWhitespace(),value+=this._expression(),tokenStream.mustMatch(Tokens.RPAREN),value+=")"),value},_expression:function(){for(var tokenStream=this._tokenStream,value="";tokenStream.match([Tokens.PLUS,Tokens.MINUS,Tokens.DIMENSION,Tokens.NUMBER,Tokens.STRING,Tokens.IDENT,Tokens.LENGTH,Tokens.FREQ,Tokens.ANGLE,Tokens.TIME,Tokens.RESOLUTION,Tokens.SLASH]);)value+=tokenStream.token().value,value+=this._readWhitespace();return value.length?value:null},_negation:function(){var line,col,arg,tokenStream=this._tokenStream,value="",subpart=null;return tokenStream.match(Tokens.NOT)&&(value=tokenStream.token().value,line=tokenStream.token().startLine,col=tokenStream.token().startCol,value+=this._readWhitespace(),value+=arg=this._negation_arg(),value+=this._readWhitespace(),tokenStream.match(Tokens.RPAREN),(subpart=new SelectorSubPart(value+=tokenStream.token().value,"not",line,col)).args.push(arg)),subpart},_negation_arg:function(){var line,col,tokenStream=this._tokenStream,args=[this._type_selector,this._universal,function(){return tokenStream.match(Tokens.HASH)?new SelectorSubPart(tokenStream.token().value,"id",tokenStream.token().startLine,tokenStream.token().startCol):null},this._class,this._attrib,this._pseudo],arg=null,i=0,len=args.length;for(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol;i<len&&null===arg;)arg=args[i].call(this),i++;return null===arg&&this._unexpectedToken(tokenStream.LT(1)),"elementName"===arg.type?new SelectorPart(arg,[],arg.toString(),line,col):new SelectorPart(null,[arg],arg.toString(),line,col)},_declaration:function(){var tokenStream=this._tokenStream,property=null,expr=null,prio=null,invalid=null,propertyName="";if(null!==(property=this._property())){tokenStream.mustMatch(Tokens.COLON),this._readWhitespace(),(expr=this._expr())&&0!==expr.length||this._unexpectedToken(tokenStream.LT(1)),prio=this._prio(),propertyName=property.toString(),(this.options.starHack&&"*"===property.hack||this.options.underscoreHack&&"_"===property.hack)&&(propertyName=property.text);try{this._validateProperty(propertyName,expr)}catch(ex){invalid=ex}return this.fire({type:"property",property:property,value:expr,important:prio,line:property.line,col:property.col,invalid:invalid}),!0}return!1},_prio:function(){var result=this._tokenStream.match(Tokens.IMPORTANT_SYM);return this._readWhitespace(),result},_expr:function(inFunction){var values=[],value=null,operator=null;if(null!==(value=this._term(inFunction)))for(values.push(value);;){if((operator=this._operator(inFunction))&&values.push(operator),null===(value=this._term(inFunction)))break;values.push(value)}return values.length>0?new PropertyValue(values,values[0].line,values[0].col):null},_term:function(inFunction){var unary,token,line,col,tokenStream=this._tokenStream,value=null,endChar=null;return null!==(unary=this._unary_operator())&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),tokenStream.peek()===Tokens.IE_FUNCTION&&this.options.ieFilters?(value=this._ie_function(),null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol)):inFunction&&tokenStream.match([Tokens.LPAREN,Tokens.LBRACE,Tokens.LBRACKET])?(endChar=(token=tokenStream.token()).endChar,value=token.value+this._expr(inFunction).text,null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),tokenStream.mustMatch(Tokens.type(endChar)),value+=endChar,this._readWhitespace()):tokenStream.match([Tokens.NUMBER,Tokens.PERCENTAGE,Tokens.LENGTH,Tokens.ANGLE,Tokens.TIME,Tokens.FREQ,Tokens.STRING,Tokens.IDENT,Tokens.URI,Tokens.UNICODE_RANGE])?(value=tokenStream.token().value,null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),this._readWhitespace()):null===(token=this._hexcolor())?(null===unary&&(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol),null===value&&(value=tokenStream.LA(3)===Tokens.EQUALS&&this.options.ieFilters?this._ie_function():this._function())):(value=token.value,null===unary&&(line=token.startLine,col=token.startCol)),null!==value?new PropertyValuePart(null!==unary?unary+value:value,line,col):null},_function:function(){var lt,tokenStream=this._tokenStream,functionText=null;if(tokenStream.match(Tokens.FUNCTION)){if(functionText=tokenStream.token().value,this._readWhitespace(),functionText+=this._expr(!0),this.options.ieFilters&&tokenStream.peek()===Tokens.EQUALS)do{for(this._readWhitespace()&&(functionText+=tokenStream.token().value),tokenStream.LA(0)===Tokens.COMMA&&(functionText+=tokenStream.token().value),tokenStream.match(Tokens.IDENT),functionText+=tokenStream.token().value,tokenStream.match(Tokens.EQUALS),functionText+=tokenStream.token().value,lt=tokenStream.peek();lt!==Tokens.COMMA&&lt!==Tokens.S&&lt!==Tokens.RPAREN;)tokenStream.get(),functionText+=tokenStream.token().value,lt=tokenStream.peek()}while(tokenStream.match([Tokens.COMMA,Tokens.S]));tokenStream.match(Tokens.RPAREN),functionText+=")",this._readWhitespace()}return functionText},_ie_function:function(){var lt,tokenStream=this._tokenStream,functionText=null;if(tokenStream.match([Tokens.IE_FUNCTION,Tokens.FUNCTION])){functionText=tokenStream.token().value;do{for(this._readWhitespace()&&(functionText+=tokenStream.token().value),tokenStream.LA(0)===Tokens.COMMA&&(functionText+=tokenStream.token().value),tokenStream.match(Tokens.IDENT),functionText+=tokenStream.token().value,tokenStream.match(Tokens.EQUALS),functionText+=tokenStream.token().value,lt=tokenStream.peek();lt!==Tokens.COMMA&&lt!==Tokens.S&&lt!==Tokens.RPAREN;)tokenStream.get(),functionText+=tokenStream.token().value,lt=tokenStream.peek()}while(tokenStream.match([Tokens.COMMA,Tokens.S]));tokenStream.match(Tokens.RPAREN),functionText+=")",this._readWhitespace()}return functionText},_hexcolor:function(){var color,tokenStream=this._tokenStream,token=null;if(tokenStream.match(Tokens.HASH)){if(color=(token=tokenStream.token()).value,!/#[a-f0-9]{3,6}/i.test(color))throw new SyntaxError("Expected a hex color but found '"+color+"' at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol);this._readWhitespace()}return token},_keyframes:function(){var token,tt,name,tokenStream=this._tokenStream,prefix="";for(tokenStream.mustMatch(Tokens.KEYFRAMES_SYM),token=tokenStream.token(),/^@\-([^\-]+)\-/.test(token.value)&&(prefix=RegExp.$1),this._readWhitespace(),name=this._keyframe_name(),this._readWhitespace(),tokenStream.mustMatch(Tokens.LBRACE),this.fire({type:"startkeyframes",name:name,prefix:prefix,line:token.startLine,col:token.startCol}),this._readWhitespace(),tt=tokenStream.peek();tt===Tokens.IDENT||tt===Tokens.PERCENTAGE;)this._keyframe_rule(),this._readWhitespace(),tt=tokenStream.peek();this.fire({type:"endkeyframes",name:name,prefix:prefix,line:token.startLine,col:token.startCol}),this._readWhitespace(),tokenStream.mustMatch(Tokens.RBRACE)},_keyframe_name:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch([Tokens.IDENT,Tokens.STRING]),SyntaxUnit.fromToken(tokenStream.token())},_keyframe_rule:function(){var keyList=this._key_list();this.fire({type:"startkeyframerule",keys:keyList,line:keyList[0].line,col:keyList[0].col}),this._readDeclarations(!0),this.fire({type:"endkeyframerule",keys:keyList,line:keyList[0].line,col:keyList[0].col})},_key_list:function(){var tokenStream=this._tokenStream,keyList=[];for(keyList.push(this._key()),this._readWhitespace();tokenStream.match(Tokens.COMMA);)this._readWhitespace(),keyList.push(this._key()),this._readWhitespace();return keyList},_key:function(){var token,tokenStream=this._tokenStream;if(tokenStream.match(Tokens.PERCENTAGE))return SyntaxUnit.fromToken(tokenStream.token());if(tokenStream.match(Tokens.IDENT)){if(token=tokenStream.token(),/from|to/i.test(token.value))return SyntaxUnit.fromToken(token);tokenStream.unget()}this._unexpectedToken(tokenStream.LT(1))},_skipCruft:function(){for(;this._tokenStream.match([Tokens.S,Tokens.CDO,Tokens.CDC]););},_readDeclarations:function(checkStart,readMargins){var tt,tokenStream=this._tokenStream;this._readWhitespace(),checkStart&&tokenStream.mustMatch(Tokens.LBRACE),this._readWhitespace();try{for(;;){if(tokenStream.match(Tokens.SEMICOLON)||readMargins&&this._margin());else{if(!this._declaration())break;if(!tokenStream.match(Tokens.SEMICOLON))break}this._readWhitespace()}tokenStream.mustMatch(Tokens.RBRACE),this._readWhitespace()}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;if(this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col}),(tt=tokenStream.advance([Tokens.SEMICOLON,Tokens.RBRACE]))===Tokens.SEMICOLON)this._readDeclarations(!1,readMargins);else if(tt!==Tokens.RBRACE)throw ex}},_readWhitespace:function(){for(var tokenStream=this._tokenStream,ws="";tokenStream.match(Tokens.S);)ws+=tokenStream.token().value;return ws},_unexpectedToken:function(token){throw new SyntaxError("Unexpected token '"+token.value+"' at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol)},_verifyEnd:function(){this._tokenStream.LA(1)!==Tokens.EOF&&this._unexpectedToken(this._tokenStream.LT(1))},_validateProperty:function(property,value){Validation.validate(property,value)},parse:function(input){this._tokenStream=new TokenStream(input,Tokens),this._stylesheet()},parseStyleSheet:function(input){return this.parse(input)},parseMediaQuery:function(input){this._tokenStream=new TokenStream(input,Tokens);var result=this._media_query();return this._verifyEnd(),result},parsePropertyValue:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._expr();return this._readWhitespace(),this._verifyEnd(),result},parseRule:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._ruleset();return this._readWhitespace(),this._verifyEnd(),result},parseSelector:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._selector();return this._readWhitespace(),this._verifyEnd(),result},parseStyleAttribute:function(input){input+="}",this._tokenStream=new TokenStream(input,Tokens),this._readDeclarations()}};for(prop in additions)Object.prototype.hasOwnProperty.call(additions,prop)&&(proto[prop]=additions[prop]);return proto}();var Properties={__proto__:null,"align-items":"flex-start | flex-end | center | baseline | stretch","align-content":"flex-start | flex-end | center | space-between | space-around | stretch","align-self":"auto | flex-start | flex-end | center | baseline | stretch","-webkit-align-items":"flex-start | flex-end | center | baseline | stretch","-webkit-align-content":"flex-start | flex-end | center | space-between | space-around | stretch","-webkit-align-self":"auto | flex-start | flex-end | center | baseline | stretch","alignment-adjust":"auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical | <percentage> | <length>","alignment-baseline":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical",animation:1,"animation-delay":{multi:"<time>",comma:!0},"animation-direction":{multi:"normal | alternate",comma:!0},"animation-duration":{multi:"<time>",comma:!0},"animation-fill-mode":{multi:"none | forwards | backwards | both",comma:!0},"animation-iteration-count":{multi:"<number> | infinite",comma:!0},"animation-name":{multi:"none | <ident>",comma:!0},"animation-play-state":{multi:"running | paused",comma:!0},"animation-timing-function":1,"-moz-animation-delay":{multi:"<time>",comma:!0},"-moz-animation-direction":{multi:"normal | alternate",comma:!0},"-moz-animation-duration":{multi:"<time>",comma:!0},"-moz-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-moz-animation-name":{multi:"none | <ident>",comma:!0},"-moz-animation-play-state":{multi:"running | paused",comma:!0},"-ms-animation-delay":{multi:"<time>",comma:!0},"-ms-animation-direction":{multi:"normal | alternate",comma:!0},"-ms-animation-duration":{multi:"<time>",comma:!0},"-ms-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-ms-animation-name":{multi:"none | <ident>",comma:!0},"-ms-animation-play-state":{multi:"running | paused",comma:!0},"-webkit-animation-delay":{multi:"<time>",comma:!0},"-webkit-animation-direction":{multi:"normal | alternate",comma:!0},"-webkit-animation-duration":{multi:"<time>",comma:!0},"-webkit-animation-fill-mode":{multi:"none | forwards | backwards | both",comma:!0},"-webkit-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-webkit-animation-name":{multi:"none | <ident>",comma:!0},"-webkit-animation-play-state":{multi:"running | paused",comma:!0},"-o-animation-delay":{multi:"<time>",comma:!0},"-o-animation-direction":{multi:"normal | alternate",comma:!0},"-o-animation-duration":{multi:"<time>",comma:!0},"-o-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-o-animation-name":{multi:"none | <ident>",comma:!0},"-o-animation-play-state":{multi:"running | paused",comma:!0},appearance:"icon | window | desktop | workspace | document | tooltip | dialog | button | push-button | hyperlink | radio | radio-button | checkbox | menu-item | tab | menu | menubar | pull-down-menu | pop-up-menu | list-menu | radio-group | checkbox-group | outline-tree | range | field | combo-box | signature | password | normal | none | inherit",azimuth:function(expression){var part,behind=!1,valid=!1;if(ValidationTypes.isAny(expression,"<angle> | leftwards | rightwards | inherit")||(ValidationTypes.isAny(expression,"behind")&&(behind=!0,valid=!0),ValidationTypes.isAny(expression,"left-side | far-left | left | center-left | center | center-right | right | far-right | right-side")&&(valid=!0,behind||ValidationTypes.isAny(expression,"behind"))),expression.hasNext())throw part=expression.next(),new ValidationError(valid?"Expected end of value but found '"+part+"'.":"Expected (<'azimuth'>) but found '"+part+"'.",part.line,part.col)},"backface-visibility":"visible | hidden",background:1,"background-attachment":{multi:"<attachment>",comma:!0},"background-clip":{multi:"<box>",comma:!0},"background-color":"<color> | inherit","background-image":{multi:"<bg-image>",comma:!0},"background-origin":{multi:"<box>",comma:!0},"background-position":{multi:"<bg-position>",comma:!0},"background-repeat":{multi:"<repeat-style>"},"background-size":{multi:"<bg-size>",comma:!0},"baseline-shift":"baseline | sub | super | <percentage> | <length>",behavior:1,binding:1,bleed:"<length>","bookmark-label":"<content> | <attr> | <string>","bookmark-level":"none | <integer>","bookmark-state":"open | closed","bookmark-target":"none | <uri> | <attr>",border:"<border-width> || <border-style> || <color>","border-bottom":"<border-width> || <border-style> || <color>","border-bottom-color":"<color> | inherit","border-bottom-left-radius":"<x-one-radius>","border-bottom-right-radius":"<x-one-radius>","border-bottom-style":"<border-style>","border-bottom-width":"<border-width>","border-collapse":"collapse | separate | inherit","border-color":{multi:"<color> | inherit",max:4},"border-image":1,"border-image-outset":{multi:"<length> | <number>",max:4},"border-image-repeat":{multi:"stretch | repeat | round",max:2},"border-image-slice":function(expression){var part,valid=!1,fill=!1,count=0;for(ValidationTypes.isAny(expression,"fill")&&(fill=!0,valid=!0);expression.hasNext()&&count<4&&(valid=ValidationTypes.isAny(expression,"<number> | <percentage>"));)count++;if(fill?valid=!0:ValidationTypes.isAny(expression,"fill"),expression.hasNext())throw part=expression.next(),new ValidationError(valid?"Expected end of value but found '"+part+"'.":"Expected ([<number> | <percentage>]{1,4} && fill?) but found '"+part+"'.",part.line,part.col)},"border-image-source":"<image> | none","border-image-width":{multi:"<length> | <percentage> | <number> | auto",max:4},"border-left":"<border-width> || <border-style> || <color>","border-left-color":"<color> | inherit","border-left-style":"<border-style>","border-left-width":"<border-width>","border-radius":function(expression){for(var part,valid=!1,slash=!1,count=0,max=8;expression.hasNext()&&count<max;){if(!(valid=ValidationTypes.isAny(expression,"<length> | <percentage> | inherit"))){if(!("/"===String(expression.peek())&&count>0)||slash)break;slash=!0,max=count+5,expression.next()}count++}if(expression.hasNext())throw part=expression.next(),new ValidationError(valid?"Expected end of value but found '"+part+"'.":"Expected (<'border-radius'>) but found '"+part+"'.",part.line,part.col)},"border-right":"<border-width> || <border-style> || <color>","border-right-color":"<color> | inherit","border-right-style":"<border-style>","border-right-width":"<border-width>","border-spacing":{multi:"<length> | inherit",max:2},"border-style":{multi:"<border-style>",max:4},"border-top":"<border-width> || <border-style> || <color>","border-top-color":"<color> | inherit","border-top-left-radius":"<x-one-radius>","border-top-right-radius":"<x-one-radius>","border-top-style":"<border-style>","border-top-width":"<border-width>","border-width":{multi:"<border-width>",max:4},bottom:"<margin-width> | inherit","-moz-box-align":"start | end | center | baseline | stretch","-moz-box-decoration-break":"slice |clone","-moz-box-direction":"normal | reverse | inherit","-moz-box-flex":"<number>","-moz-box-flex-group":"<integer>","-moz-box-lines":"single | multiple","-moz-box-ordinal-group":"<integer>","-moz-box-orient":"horizontal | vertical | inline-axis | block-axis | inherit","-moz-box-pack":"start | end | center | justify","-o-box-decoration-break":"slice | clone","-webkit-box-align":"start | end | center | baseline | stretch","-webkit-box-decoration-break":"slice |clone","-webkit-box-direction":"normal | reverse | inherit","-webkit-box-flex":"<number>","-webkit-box-flex-group":"<integer>","-webkit-box-lines":"single | multiple","-webkit-box-ordinal-group":"<integer>","-webkit-box-orient":"horizontal | vertical | inline-axis | block-axis | inherit","-webkit-box-pack":"start | end | center | justify","box-decoration-break":"slice | clone","box-shadow":function(expression){var part;if(ValidationTypes.isAny(expression,"none")){if(expression.hasNext())throw new ValidationError("Expected end of value but found '"+(part=expression.next())+"'.",part.line,part.col)}else Validation.multiProperty("<shadow>",expression,!0,1/0)},"box-sizing":"content-box | border-box | inherit","break-after":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-before":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-inside":"auto | avoid | avoid-page | avoid-column","caption-side":"top | bottom | inherit",clear:"none | right | left | both | inherit",clip:1,color:"<color> | inherit","color-profile":1,"column-count":"<integer> | auto","column-fill":"auto | balance","column-gap":"<length> | normal","column-rule":"<border-width> || <border-style> || <color>","column-rule-color":"<color>","column-rule-style":"<border-style>","column-rule-width":"<border-width>","column-span":"none | all","column-width":"<length> | auto",columns:1,content:1,"counter-increment":1,"counter-reset":1,crop:"<shape> | auto",cue:"cue-after | cue-before | inherit","cue-after":1,"cue-before":1,cursor:1,direction:"ltr | rtl | inherit",display:"inline | block | list-item | inline-block | table | inline-table | table-row-group | table-header-group | table-footer-group | table-row | table-column-group | table-column | table-cell | table-caption | grid | inline-grid | run-in | ruby | ruby-base | ruby-text | ruby-base-container | ruby-text-container | contents | none | inherit | -moz-box | -moz-inline-block | -moz-inline-box | -moz-inline-grid | -moz-inline-stack | -moz-inline-table | -moz-grid | -moz-grid-group | -moz-grid-line | -moz-groupbox | -moz-deck | -moz-popup | -moz-stack | -moz-marker | -webkit-box | -webkit-inline-box | -ms-flexbox | -ms-inline-flexbox | flex | -webkit-flex | inline-flex | -webkit-inline-flex","dominant-baseline":1,"drop-initial-after-adjust":"central | middle | after-edge | text-after-edge | ideographic | alphabetic | mathematical | <percentage> | <length>","drop-initial-after-align":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-before-adjust":"before-edge | text-before-edge | central | middle | hanging | mathematical | <percentage> | <length>","drop-initial-before-align":"caps-height | baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-size":"auto | line | <length> | <percentage>","drop-initial-value":"initial | <integer>",elevation:"<angle> | below | level | above | higher | lower | inherit","empty-cells":"show | hide | inherit",filter:1,fit:"fill | hidden | meet | slice","fit-position":1,flex:"<flex>","flex-basis":"<width>","flex-direction":"row | row-reverse | column | column-reverse","flex-flow":"<flex-direction> || <flex-wrap>","flex-grow":"<number>","flex-shrink":"<number>","flex-wrap":"nowrap | wrap | wrap-reverse","-webkit-flex":"<flex>","-webkit-flex-basis":"<width>","-webkit-flex-direction":"row | row-reverse | column | column-reverse","-webkit-flex-flow":"<flex-direction> || <flex-wrap>","-webkit-flex-grow":"<number>","-webkit-flex-shrink":"<number>","-webkit-flex-wrap":"nowrap | wrap | wrap-reverse","-ms-flex":"<flex>","-ms-flex-align":"start | end | center | stretch | baseline","-ms-flex-direction":"row | row-reverse | column | column-reverse | inherit","-ms-flex-order":"<number>","-ms-flex-pack":"start | end | center | justify","-ms-flex-wrap":"nowrap | wrap | wrap-reverse",float:"left | right | none | inherit","float-offset":1,font:1,"font-family":1,"font-feature-settings":"<feature-tag-value> | normal | inherit","font-kerning":"auto | normal | none | initial | inherit | unset","font-size":"<absolute-size> | <relative-size> | <length> | <percentage> | inherit","font-size-adjust":"<number> | none | inherit","font-stretch":"normal | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded | inherit","font-style":"normal | italic | oblique | inherit","font-variant":"normal | small-caps | inherit","font-variant-caps":"normal | small-caps | all-small-caps | petite-caps | all-petite-caps | unicase | titling-caps","font-variant-position":"normal | sub | super | inherit | initial | unset","font-weight":"normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 | inherit",grid:1,"grid-area":1,"grid-auto-columns":1,"grid-auto-flow":1,"grid-auto-position":1,"grid-auto-rows":1,"grid-cell-stacking":"columns | rows | layer","grid-column":1,"grid-columns":1,"grid-column-align":"start | end | center | stretch","grid-column-sizing":1,"grid-column-start":1,"grid-column-end":1,"grid-column-span":"<integer>","grid-flow":"none | rows | columns","grid-layer":"<integer>","grid-row":1,"grid-rows":1,"grid-row-align":"start | end | center | stretch","grid-row-start":1,"grid-row-end":1,"grid-row-span":"<integer>","grid-row-sizing":1,"grid-template":1,"grid-template-areas":1,"grid-template-columns":1,"grid-template-rows":1,"hanging-punctuation":1,height:"<margin-width> | <content-sizing> | inherit","hyphenate-after":"<integer> | auto","hyphenate-before":"<integer> | auto","hyphenate-character":"<string> | auto","hyphenate-lines":"no-limit | <integer>","hyphenate-resource":1,hyphens:"none | manual | auto",icon:1,"image-orientation":"angle | auto","image-rendering":1,"image-resolution":1,"ime-mode":"auto | normal | active | inactive | disabled | inherit","inline-box-align":"initial | last | <integer>","justify-content":"flex-start | flex-end | center | space-between | space-around","-webkit-justify-content":"flex-start | flex-end | center | space-between | space-around",left:"<margin-width> | inherit","letter-spacing":"<length> | normal | inherit","line-height":"<number> | <length> | <percentage> | normal | inherit","line-break":"auto | loose | normal | strict","line-stacking":1,"line-stacking-ruby":"exclude-ruby | include-ruby","line-stacking-shift":"consider-shifts | disregard-shifts","line-stacking-strategy":"inline-line-height | block-line-height | max-height | grid-height","list-style":1,"list-style-image":"<uri> | none | inherit","list-style-position":"inside | outside | inherit","list-style-type":"disc | circle | square | decimal | decimal-leading-zero | lower-roman | upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha | upper-alpha | none | inherit",margin:{multi:"<margin-width> | inherit",max:4},"margin-bottom":"<margin-width> | inherit","margin-left":"<margin-width> | inherit","margin-right":"<margin-width> | inherit","margin-top":"<margin-width> | inherit",mark:1,"mark-after":1,"mark-before":1,marks:1,"marquee-direction":1,"marquee-play-count":1,"marquee-speed":1,"marquee-style":1,"max-height":"<length> | <percentage> | <content-sizing> | none | inherit","max-width":"<length> | <percentage> | <content-sizing> | none | inherit","min-height":"<length> | <percentage> | <content-sizing> | contain-floats | -moz-contain-floats | -webkit-contain-floats | inherit","min-width":"<length> | <percentage> | <content-sizing> | contain-floats | -moz-contain-floats | -webkit-contain-floats | inherit","move-to":1,"nav-down":1,"nav-index":1,"nav-left":1,"nav-right":1,"nav-up":1,"object-fit":"fill | contain | cover | none | scale-down","object-position":"<bg-position>",opacity:"<number> | inherit",order:"<integer>","-webkit-order":"<integer>",orphans:"<integer> | inherit",outline:1,"outline-color":"<color> | invert | inherit","outline-offset":1,"outline-style":"<border-style> | inherit","outline-width":"<border-width> | inherit",overflow:"visible | hidden | scroll | auto | inherit","overflow-style":1,"overflow-wrap":"normal | break-word","overflow-x":1,"overflow-y":1,padding:{multi:"<padding-width> | inherit",max:4},"padding-bottom":"<padding-width> | inherit","padding-left":"<padding-width> | inherit","padding-right":"<padding-width> | inherit","padding-top":"<padding-width> | inherit",page:1,"page-break-after":"auto | always | avoid | left | right | inherit","page-break-before":"auto | always | avoid | left | right | inherit","page-break-inside":"auto | avoid | inherit","page-policy":1,pause:1,"pause-after":1,"pause-before":1,perspective:1,"perspective-origin":1,phonemes:1,pitch:1,"pitch-range":1,"play-during":1,"pointer-events":"auto | none | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all | inherit",position:"static | relative | absolute | fixed | inherit","presentation-level":1,"punctuation-trim":1,quotes:1,"rendering-intent":1,resize:1,rest:1,"rest-after":1,"rest-before":1,richness:1,right:"<margin-width> | inherit",rotation:1,"rotation-point":1,"ruby-align":1,"ruby-overhang":1,"ruby-position":1,"ruby-span":1,size:1,speak:"normal | none | spell-out | inherit","speak-header":"once | always | inherit","speak-numeral":"digits | continuous | inherit","speak-punctuation":"code | none | inherit","speech-rate":1,src:1,stress:1,"string-set":1,"table-layout":"auto | fixed | inherit","tab-size":"<integer> | <length>",target:1,"target-name":1,"target-new":1,"target-position":1,"text-align":"left | right | center | justify | match-parent | start | end | inherit","text-align-last":1,"text-decoration":1,"text-emphasis":1,"text-height":1,"text-indent":"<length> | <percentage> | inherit","text-justify":"auto | none | inter-word | inter-ideograph | inter-cluster | distribute | kashida","text-outline":1,"text-overflow":1,"text-rendering":"auto | optimizeSpeed | optimizeLegibility | geometricPrecision | inherit","text-shadow":1,"text-transform":"capitalize | uppercase | lowercase | none | inherit","text-wrap":"normal | none | avoid",top:"<margin-width> | inherit","-ms-touch-action":"auto | none | pan-x | pan-y | pan-left | pan-right | pan-up | pan-down | manipulation","touch-action":"auto | none | pan-x | pan-y | pan-left | pan-right | pan-up | pan-down | manipulation",transform:1,"transform-origin":1,"transform-style":1,transition:1,"transition-delay":1,"transition-duration":1,"transition-property":1,"transition-timing-function":1,"unicode-bidi":"normal | embed | isolate | bidi-override | isolate-override | plaintext | inherit","user-modify":"read-only | read-write | write-only | inherit","user-select":"none | text | toggle | element | elements | all | inherit","vertical-align":"auto | use-script | baseline | sub | super | top | text-top | central | middle | bottom | text-bottom | <percentage> | <length> | inherit",visibility:"visible | hidden | collapse | inherit","voice-balance":1,"voice-duration":1,"voice-family":1,"voice-pitch":1,"voice-pitch-range":1,"voice-rate":1,"voice-stress":1,"voice-volume":1,volume:1,"white-space":"normal | pre | nowrap | pre-wrap | pre-line | inherit | -pre-wrap | -o-pre-wrap | -moz-pre-wrap | -hp-pre-wrap","white-space-collapse":1,widows:"<integer> | inherit",width:"<length> | <percentage> | <content-sizing> | auto | inherit","will-change":{multi:"<ident>",comma:!0},"word-break":"normal | keep-all | break-all","word-spacing":"<length> | normal | inherit","word-wrap":"normal | break-word","writing-mode":"horizontal-tb | vertical-rl | vertical-lr | lr-tb | rl-tb | tb-rl | bt-rl | tb-lr | bt-lr | lr-bt | rl-bt | lr | rl | tb | inherit","z-index":"<integer> | auto | inherit",zoom:"<number> | <percentage> | normal"};function PropertyName(text,hack,line,col){SyntaxUnit.call(this,text,line,col,Parser.PROPERTY_NAME_TYPE),this.hack=hack}function PropertyValue(parts,line,col){SyntaxUnit.call(this,parts.join(" "),line,col,Parser.PROPERTY_VALUE_TYPE),this.parts=parts}function PropertyValueIterator(value){this._i=0,this._parts=value.parts,this._marks=[],this.value=value}function PropertyValuePart(text,line,col){var temp;if(SyntaxUnit.call(this,text,line,col,Parser.PROPERTY_VALUE_PART_TYPE),this.type="unknown",/^([+\-]?[\d\.]+)([a-z]+)$/i.test(text))switch(this.type="dimension",this.value=+RegExp.$1,this.units=RegExp.$2,this.units.toLowerCase()){case"em":case"rem":case"ex":case"px":case"cm":case"mm":case"in":case"pt":case"pc":case"ch":case"vh":case"vw":case"vmax":case"vmin":this.type="length";break;case"fr":this.type="grid";break;case"deg":case"rad":case"grad":this.type="angle";break;case"ms":case"s":this.type="time";break;case"hz":case"khz":this.type="frequency";break;case"dpi":case"dpcm":this.type="resolution"}else/^([+\-]?[\d\.]+)%$/i.test(text)?(this.type="percentage",this.value=+RegExp.$1):/^([+\-]?\d+)$/i.test(text)?(this.type="integer",this.value=+RegExp.$1):/^([+\-]?[\d\.]+)$/i.test(text)?(this.type="number",this.value=+RegExp.$1):/^#([a-f0-9]{3,6})/i.test(text)?(this.type="color",3===(temp=RegExp.$1).length?(this.red=parseInt(temp.charAt(0)+temp.charAt(0),16),this.green=parseInt(temp.charAt(1)+temp.charAt(1),16),this.blue=parseInt(temp.charAt(2)+temp.charAt(2),16)):(this.red=parseInt(temp.substring(0,2),16),this.green=parseInt(temp.substring(2,4),16),this.blue=parseInt(temp.substring(4,6),16))):/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i.test(text)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3):/^rgb\(\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)/i.test(text)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100):/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/i.test(text)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3,this.alpha=+RegExp.$4):/^rgba\(\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,\s*([\d\.]+)\s*\)/i.test(text)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100,this.alpha=+RegExp.$4):/^hsl\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)/i.test(text)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100):/^hsla\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,\s*([\d\.]+)\s*\)/i.test(text)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100,this.alpha=+RegExp.$4):/^url\(["']?([^\)"']+)["']?\)/i.test(text)?(this.type="uri",this.uri=RegExp.$1):/^([^\(]+)\(/i.test(text)?(this.type="function",this.name=RegExp.$1,this.value=text):/^"([^\n\r\f\\"]|\\\r\n|\\[^\r0-9a-f]|\\[0-9a-f]{1,6}(\r\n|[ \n\r\t\f])?)*"/i.test(text)?(this.type="string",this.value=PropertyValuePart.parseString(text)):/^'([^\n\r\f\\']|\\\r\n|\\[^\r0-9a-f]|\\[0-9a-f]{1,6}(\r\n|[ \n\r\t\f])?)*'/i.test(text)?(this.type="string",this.value=PropertyValuePart.parseString(text)):Colors[text.toLowerCase()]?(this.type="color",temp=Colors[text.toLowerCase()].substring(1),this.red=parseInt(temp.substring(0,2),16),this.green=parseInt(temp.substring(2,4),16),this.blue=parseInt(temp.substring(4,6),16)):/^[\,\/]$/.test(text)?(this.type="operator",this.value=text):/^[a-z\-_\u0080-\uFFFF][a-z0-9\-_\u0080-\uFFFF]*$/i.test(text)&&(this.type="identifier",this.value=text)}PropertyName.prototype=new SyntaxUnit,PropertyName.prototype.constructor=PropertyName,PropertyName.prototype.toString=function(){return(this.hack?this.hack:"")+this.text},PropertyValue.prototype=new SyntaxUnit,PropertyValue.prototype.constructor=PropertyValue,PropertyValueIterator.prototype.count=function(){return this._parts.length},PropertyValueIterator.prototype.isFirst=function(){return 0===this._i},PropertyValueIterator.prototype.hasNext=function(){return this._i<this._parts.length},PropertyValueIterator.prototype.mark=function(){this._marks.push(this._i)},PropertyValueIterator.prototype.peek=function(count){return this.hasNext()?this._parts[this._i+(count||0)]:null},PropertyValueIterator.prototype.next=function(){return this.hasNext()?this._parts[this._i++]:null},PropertyValueIterator.prototype.previous=function(){return this._i>0?this._parts[--this._i]:null},PropertyValueIterator.prototype.restore=function(){this._marks.length&&(this._i=this._marks.pop())},PropertyValuePart.prototype=new SyntaxUnit,PropertyValuePart.prototype.constructor=PropertyValuePart,PropertyValuePart.parseString=function(str){return(str=str.slice(1,-1)).replace(/\\(\r\n|[^\r0-9a-f]|[0-9a-f]{1,6}(\r\n|[ \n\r\t\f])?)/gi,(function(match,esc){if(/^(\n|\r\n|\r|\f)$/.test(esc))return"";var m=/^[0-9a-f]{1,6}/i.exec(esc);if(m){var codePoint=parseInt(m[0],16);return String.fromCodePoint?String.fromCodePoint(codePoint):String.fromCharCode(codePoint)}return esc}))},PropertyValuePart.serializeString=function(value){return'"'+value.replace(/["\r\n\f]/g,(function(match,c){return'"'===c?"\\"+c:"\\"+(String.codePointAt?String.codePointAt(0):String.charCodeAt(0)).toString(16)+" "}))+'"'},PropertyValuePart.fromToken=function(token){return new PropertyValuePart(token.value,token.startLine,token.startCol)};var Pseudos={__proto__:null,":first-letter":1,":first-line":1,":before":1,":after":1};function Selector(parts,line,col){SyntaxUnit.call(this,parts.join(" "),line,col,Parser.SELECTOR_TYPE),this.parts=parts,this.specificity=Specificity.calculate(this)}function SelectorPart(elementName,modifiers,text,line,col){SyntaxUnit.call(this,text,line,col,Parser.SELECTOR_PART_TYPE),this.elementName=elementName,this.modifiers=modifiers}function SelectorSubPart(text,type,line,col){SyntaxUnit.call(this,text,line,col,Parser.SELECTOR_SUB_PART_TYPE),this.type=type,this.args=[]}function Specificity(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}Pseudos.ELEMENT=1,Pseudos.CLASS=2,Pseudos.isElement=function(pseudo){return 0===pseudo.indexOf("::")||Pseudos[pseudo.toLowerCase()]===Pseudos.ELEMENT},Selector.prototype=new SyntaxUnit,Selector.prototype.constructor=Selector,SelectorPart.prototype=new SyntaxUnit,SelectorPart.prototype.constructor=SelectorPart,SelectorSubPart.prototype=new SyntaxUnit,SelectorSubPart.prototype.constructor=SelectorSubPart,Specificity.prototype={constructor:Specificity,compare:function(other){var i,len,comps=["a","b","c","d"];for(i=0,len=comps.length;i<len;i++){if(this[comps[i]]<other[comps[i]])return-1;if(this[comps[i]]>other[comps[i]])return 1}return 0},valueOf:function(){return 1e3*this.a+100*this.b+10*this.c+this.d},toString:function(){return this.a+","+this.b+","+this.c+","+this.d}},Specificity.calculate=function(selector){var i,len,part,b=0,c=0,d=0;function updateValues(part){var i,j,len,num,modifier,elementName=part.elementName?part.elementName.text:"";for(elementName&&"*"!==elementName.charAt(elementName.length-1)&&d++,i=0,len=part.modifiers.length;i<len;i++)switch((modifier=part.modifiers[i]).type){case"class":case"attribute":c++;break;case"id":b++;break;case"pseudo":Pseudos.isElement(modifier.text)?d++:c++;break;case"not":for(j=0,num=modifier.args.length;j<num;j++)updateValues(modifier.args[j])}}for(i=0,len=selector.parts.length;i<len;i++)(part=selector.parts[i])instanceof SelectorPart&&updateValues(part);return new Specificity(0,b,c,d)};var h=/^[0-9a-fA-F]$/,nl=/\n|\r\n|\r|\f/;function isHexDigit(c){return null!==c&&h.test(c)}function isDigit(c){return null!==c&&/\d/.test(c)}function isWhitespace(c){return null!==c&&/\s/.test(c)}function isNewLine(c){return null!==c&&nl.test(c)}function isNameStart(c){return null!==c&&/[a-z_\u0080-\uFFFF\\]/i.test(c)}function isNameChar(c){return null!==c&&(isNameStart(c)||/[0-9\-\\]/.test(c))}function isIdentStart(c){return null!==c&&(isNameStart(c)||/\-\\/.test(c))}function TokenStream(input){TokenStreamBase.call(this,input,Tokens)}TokenStream.prototype=function mix(receiver,supplier){for(var prop in supplier)Object.prototype.hasOwnProperty.call(supplier,prop)&&(receiver[prop]=supplier[prop]);return receiver}(new TokenStreamBase,{_getToken:function(channel){var c,reader=this._reader,token=null,startLine=reader.getLine(),startCol=reader.getCol();for(c=reader.read();c;){switch(c){case"/":token="*"===reader.peek()?this.commentToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"|":case"~":case"^":case"$":case"*":token="="===reader.peek()?this.comparisonToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case'"':case"'":token=this.stringToken(c,startLine,startCol);break;case"#":token=isNameChar(reader.peek())?this.hashToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case".":token=isDigit(reader.peek())?this.numberToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"-":token="-"===reader.peek()?this.htmlCommentEndToken(c,startLine,startCol):isNameStart(reader.peek())?this.identOrFunctionToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"!":token=this.importantToken(c,startLine,startCol);break;case"@":token=this.atRuleToken(c,startLine,startCol);break;case":":token=this.notToken(c,startLine,startCol);break;case"<":token=this.htmlCommentStartToken(c,startLine,startCol);break;case"U":case"u":if("+"===reader.peek()){token=this.unicodeRangeToken(c,startLine,startCol);break}default:token=isDigit(c)?this.numberToken(c,startLine,startCol):isWhitespace(c)?this.whitespaceToken(c,startLine,startCol):isIdentStart(c)?this.identOrFunctionToken(c,startLine,startCol):this.charToken(c,startLine,startCol)}break}return token||null!==c||(token=this.createToken(Tokens.EOF,null,startLine,startCol)),token},createToken:function(tt,value,startLine,startCol,options){var reader=this._reader;return{value:value,type:tt,channel:(options=options||{}).channel,endChar:options.endChar,hide:options.hide||!1,startLine:startLine,startCol:startCol,endLine:reader.getLine(),endCol:reader.getCol()}},atRuleToken:function(first,startLine,startCol){var rule=first,reader=this._reader,tt=Tokens.CHAR;return reader.mark(),rule=first+this.readName(),(tt=Tokens.type(rule.toLowerCase()))!==Tokens.CHAR&&tt!==Tokens.UNKNOWN||(rule.length>1?tt=Tokens.UNKNOWN_SYM:(tt=Tokens.CHAR,rule=first,reader.reset())),this.createToken(tt,rule,startLine,startCol)},charToken:function(c,startLine,startCol){var tt=Tokens.type(c),opts={};return-1===tt?tt=Tokens.CHAR:opts.endChar=Tokens[tt].endChar,this.createToken(tt,c,startLine,startCol,opts)},commentToken:function(first,startLine,startCol){var comment=this.readComment(first);return this.createToken(Tokens.COMMENT,comment,startLine,startCol)},comparisonToken:function(c,startLine,startCol){var comparison=c+this._reader.read(),tt=Tokens.type(comparison)||Tokens.CHAR;return this.createToken(tt,comparison,startLine,startCol)},hashToken:function(first,startLine,startCol){var name=this.readName(first);return this.createToken(Tokens.HASH,name,startLine,startCol)},htmlCommentStartToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),"\x3c!--"===(text+=reader.readCount(3))?this.createToken(Tokens.CDO,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},htmlCommentEndToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),"--\x3e"===(text+=reader.readCount(2))?this.createToken(Tokens.CDC,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},identOrFunctionToken:function(first,startLine,startCol){var reader=this._reader,ident=this.readName(first),tt=Tokens.IDENT,uriFns=["url(","url-prefix(","domain("];return"("===reader.peek()?(ident+=reader.read(),uriFns.indexOf(ident.toLowerCase())>-1?(tt=Tokens.URI,ident=this.readURI(ident),uriFns.indexOf(ident.toLowerCase())>-1&&(tt=Tokens.FUNCTION)):tt=Tokens.FUNCTION):":"===reader.peek()&&"progid"===ident.toLowerCase()&&(ident+=reader.readTo("("),tt=Tokens.IE_FUNCTION),this.createToken(tt,ident,startLine,startCol)},importantToken:function(first,startLine,startCol){var temp,c,reader=this._reader,important=first,tt=Tokens.CHAR;for(reader.mark(),c=reader.read();c;){if("/"===c){if("*"!==reader.peek())break;if(""===(temp=this.readComment(c)))break}else{if(!isWhitespace(c)){if(/i/i.test(c)){temp=reader.readCount(8),/mportant/i.test(temp)&&(important+=c+temp,tt=Tokens.IMPORTANT_SYM);break}break}important+=c+this.readWhitespace()}c=reader.read()}return tt===Tokens.CHAR?(reader.reset(),this.charToken(first,startLine,startCol)):this.createToken(tt,important,startLine,startCol)},notToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),":not("===(text+=reader.readCount(4)).toLowerCase()?this.createToken(Tokens.NOT,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},numberToken:function(first,startLine,startCol){var ident,reader=this._reader,value=this.readNumber(first),tt=Tokens.NUMBER,c=reader.peek();return isIdentStart(c)?(value+=ident=this.readName(reader.read()),tt=/^em$|^ex$|^px$|^gd$|^rem$|^vw$|^vh$|^vmax$|^vmin$|^ch$|^cm$|^mm$|^in$|^pt$|^pc$/i.test(ident)?Tokens.LENGTH:/^deg|^rad$|^grad$/i.test(ident)?Tokens.ANGLE:/^ms$|^s$/i.test(ident)?Tokens.TIME:/^hz$|^khz$/i.test(ident)?Tokens.FREQ:/^dpi$|^dpcm$/i.test(ident)?Tokens.RESOLUTION:Tokens.DIMENSION):"%"===c&&(value+=reader.read(),tt=Tokens.PERCENTAGE),this.createToken(tt,value,startLine,startCol)},stringToken:function(first,startLine,startCol){for(var delim=first,string=first,reader=this._reader,prev=first,tt=Tokens.STRING,c=reader.read();c&&(string+=c,c!==delim||"\\"===prev);){if(isNewLine(reader.peek())&&"\\"!==c){tt=Tokens.INVALID;break}prev=c,c=reader.read()}return null===c&&(tt=Tokens.INVALID),this.createToken(tt,string,startLine,startCol)},unicodeRangeToken:function(first,startLine,startCol){var temp,reader=this._reader,value=first,tt=Tokens.CHAR;return"+"===reader.peek()&&(reader.mark(),value+=reader.read(),2===(value+=this.readUnicodeRangePart(!0)).length?reader.reset():(tt=Tokens.UNICODE_RANGE,-1===value.indexOf("?")&&"-"===reader.peek()&&(reader.mark(),temp=reader.read(),1===(temp+=this.readUnicodeRangePart(!1)).length?reader.reset():value+=temp))),this.createToken(tt,value,startLine,startCol)},whitespaceToken:function(first,startLine,startCol){var value=first+this.readWhitespace();return this.createToken(Tokens.S,value,startLine,startCol)},readUnicodeRangePart:function(allowQuestionMark){for(var reader=this._reader,part="",c=reader.peek();isHexDigit(c)&&part.length<6;)reader.read(),part+=c,c=reader.peek();if(allowQuestionMark)for(;"?"===c&&part.length<6;)reader.read(),part+=c,c=reader.peek();return part},readWhitespace:function(){for(var reader=this._reader,whitespace="",c=reader.peek();isWhitespace(c);)reader.read(),whitespace+=c,c=reader.peek();return whitespace},readNumber:function(first){for(var reader=this._reader,number=first,hasDot="."===first,c=reader.peek();c;){if(isDigit(c))number+=reader.read();else{if("."!==c)break;if(hasDot)break;hasDot=!0,number+=reader.read()}c=reader.peek()}return number},readString:function(){for(var reader=this._reader,delim=reader.read(),string=delim,prev=delim,c=reader.peek();c&&(string+=c=reader.read(),c!==delim||"\\"===prev);){if(isNewLine(reader.peek())&&"\\"!==c){string="";break}prev=c,c=reader.peek()}return null===c&&(string=""),string},readURI:function(first){var reader=this._reader,uri=first,inner="",c=reader.peek();for(reader.mark();c&&isWhitespace(c);)reader.read(),c=reader.peek();for(inner="'"===c||'"'===c?this.readString():this.readURL(),c=reader.peek();c&&isWhitespace(c);)reader.read(),c=reader.peek();return""===inner||")"!==c?(uri=first,reader.reset()):uri+=inner+reader.read(),uri},readURL:function(){for(var reader=this._reader,url="",c=reader.peek();/^[!#$%&\\*-~]$/.test(c);)url+=reader.read(),c=reader.peek();return url},readName:function(first){for(var reader=this._reader,ident=first||"",c=reader.peek();;)if("\\"===c)ident+=this.readEscape(reader.read()),c=reader.peek();else{if(!c||!isNameChar(c))break;ident+=reader.read(),c=reader.peek()}return ident},readEscape:function(first){var reader=this._reader,cssEscape=first||"",i=0,c=reader.peek();if(isHexDigit(c))do{cssEscape+=reader.read(),c=reader.peek()}while(c&&isHexDigit(c)&&++i<6);return 3===cssEscape.length&&/\s/.test(c)||7===cssEscape.length||1===cssEscape.length?reader.read():c="",cssEscape+c},readComment:function(first){var reader=this._reader,comment=first||"",c=reader.read();if("*"===c){for(;c;){if((comment+=c).length>2&&"*"===c&&"/"===reader.peek()){comment+=reader.read();break}c=reader.read()}return comment}return""}});var Tokens=[{name:"CDO"},{name:"CDC"},{name:"S",whitespace:!0},{name:"COMMENT",comment:!0,hide:!0,channel:"comment"},{name:"INCLUDES",text:"~="},{name:"DASHMATCH",text:"|="},{name:"PREFIXMATCH",text:"^="},{name:"SUFFIXMATCH",text:"$="},{name:"SUBSTRINGMATCH",text:"*="},{name:"STRING"},{name:"IDENT"},{name:"HASH"},{name:"IMPORT_SYM",text:"@import"},{name:"PAGE_SYM",text:"@page"},{name:"MEDIA_SYM",text:"@media"},{name:"FONT_FACE_SYM",text:"@font-face"},{name:"CHARSET_SYM",text:"@charset"},{name:"NAMESPACE_SYM",text:"@namespace"},{name:"VIEWPORT_SYM",text:["@viewport","@-ms-viewport","@-o-viewport"]},{name:"DOCUMENT_SYM",text:["@document","@-moz-document"]},{name:"UNKNOWN_SYM"},{name:"KEYFRAMES_SYM",text:["@keyframes","@-webkit-keyframes","@-moz-keyframes","@-o-keyframes"]},{name:"IMPORTANT_SYM"},{name:"LENGTH"},{name:"ANGLE"},{name:"TIME"},{name:"FREQ"},{name:"DIMENSION"},{name:"PERCENTAGE"},{name:"NUMBER"},{name:"URI"},{name:"FUNCTION"},{name:"UNICODE_RANGE"},{name:"INVALID"},{name:"PLUS",text:"+"},{name:"GREATER",text:">"},{name:"COMMA",text:","},{name:"TILDE",text:"~"},{name:"NOT"},{name:"TOPLEFTCORNER_SYM",text:"@top-left-corner"},{name:"TOPLEFT_SYM",text:"@top-left"},{name:"TOPCENTER_SYM",text:"@top-center"},{name:"TOPRIGHT_SYM",text:"@top-right"},{name:"TOPRIGHTCORNER_SYM",text:"@top-right-corner"},{name:"BOTTOMLEFTCORNER_SYM",text:"@bottom-left-corner"},{name:"BOTTOMLEFT_SYM",text:"@bottom-left"},{name:"BOTTOMCENTER_SYM",text:"@bottom-center"},{name:"BOTTOMRIGHT_SYM",text:"@bottom-right"},{name:"BOTTOMRIGHTCORNER_SYM",text:"@bottom-right-corner"},{name:"LEFTTOP_SYM",text:"@left-top"},{name:"LEFTMIDDLE_SYM",text:"@left-middle"},{name:"LEFTBOTTOM_SYM",text:"@left-bottom"},{name:"RIGHTTOP_SYM",text:"@right-top"},{name:"RIGHTMIDDLE_SYM",text:"@right-middle"},{name:"RIGHTBOTTOM_SYM",text:"@right-bottom"},{name:"RESOLUTION",state:"media"},{name:"IE_FUNCTION"},{name:"CHAR"},{name:"PIPE",text:"|"},{name:"SLASH",text:"/"},{name:"MINUS",text:"-"},{name:"STAR",text:"*"},{name:"LBRACE",endChar:"}",text:"{"},{name:"RBRACE",text:"}"},{name:"LBRACKET",endChar:"]",text:"["},{name:"RBRACKET",text:"]"},{name:"EQUALS",text:"="},{name:"COLON",text:":"},{name:"SEMICOLON",text:";"},{name:"LPAREN",endChar:")",text:"("},{name:"RPAREN",text:")"},{name:"DOT",text:"."}];!function(){var nameMap=[],typeMap=Object.create(null);Tokens.UNKNOWN=-1,Tokens.unshift({name:"EOF"});for(var i=0,len=Tokens.length;i<len;i++)if(nameMap.push(Tokens[i].name),Tokens[Tokens[i].name]=i,Tokens[i].text)if(Tokens[i].text instanceof Array)for(var j=0;j<Tokens[i].text.length;j++)typeMap[Tokens[i].text[j]]=i;else typeMap[Tokens[i].text]=i;Tokens.name=function(tt){return nameMap[tt]},Tokens.type=function(c){return typeMap[c]||-1}}();var Validation={validate:function(property,value){var name=property.toString().toLowerCase(),expression=new PropertyValueIterator(value),spec=Properties[name];if(spec)"number"!=typeof spec&&("string"==typeof spec?spec.indexOf("||")>-1?this.groupProperty(spec,expression):this.singleProperty(spec,expression,1):spec.multi?this.multiProperty(spec.multi,expression,spec.comma,spec.max||1/0):"function"==typeof spec&&spec(expression));else if(0!==name.indexOf("-"))throw new ValidationError("Unknown property '"+property+"'.",property.line,property.col)},singleProperty:function(types,expression,max,partial){for(var part,result=!1,value=expression.value,count=0;expression.hasNext()&&count<max&&(result=ValidationTypes.isAny(expression,types));)count++;if(!result)throw expression.hasNext()&&!expression.isFirst()?new ValidationError("Expected end of value but found '"+(part=expression.peek())+"'.",part.line,part.col):new ValidationError("Expected ("+types+") but found '"+value+"'.",value.line,value.col);if(expression.hasNext())throw new ValidationError("Expected end of value but found '"+(part=expression.next())+"'.",part.line,part.col)},multiProperty:function(types,expression,comma,max){for(var part,result=!1,value=expression.value,count=0;expression.hasNext()&&!result&&count<max&&ValidationTypes.isAny(expression,types);)if(count++,expression.hasNext()){if(comma){if(","!==String(expression.peek()))break;part=expression.next()}}else result=!0;if(!result)throw expression.hasNext()&&!expression.isFirst()?new ValidationError("Expected end of value but found '"+(part=expression.peek())+"'.",part.line,part.col):(part=expression.previous(),comma&&","===String(part)?new ValidationError("Expected end of value but found '"+part+"'.",part.line,part.col):new ValidationError("Expected ("+types+") but found '"+value+"'.",value.line,value.col));if(expression.hasNext())throw new ValidationError("Expected end of value but found '"+(part=expression.next())+"'.",part.line,part.col)},groupProperty:function(types,expression,comma){for(var name,part,result=!1,value=expression.value,typeCount=types.split("||").length,groups={count:0},partial=!1;expression.hasNext()&&!result&&(name=ValidationTypes.isAnyOfGroup(expression,types))&&!groups[name];)groups[name]=1,groups.count++,partial=!0,groups.count!==typeCount&&expression.hasNext()||(result=!0);if(!result)throw partial&&expression.hasNext()?new ValidationError("Expected end of value but found '"+(part=expression.peek())+"'.",part.line,part.col):new ValidationError("Expected ("+types+") but found '"+value+"'.",value.line,value.col);if(expression.hasNext())throw new ValidationError("Expected end of value but found '"+(part=expression.next())+"'.",part.line,part.col)}};function ValidationError(message,line,col){this.col=col,this.line=line,this.message=message}ValidationError.prototype=new Error;var ValidationTypes={isLiteral:function(part,literals){var i,len,text=part.text.toString().toLowerCase(),args=literals.split(" | "),found=!1;for(i=0,len=args.length;i<len&&!found;i++)text===args[i].toLowerCase()&&(found=!0);return found},isSimple:function(type){return!!this.simple[type]},isComplex:function(type){return!!this.complex[type]},isAny:function(expression,types){var i,len,args=types.split(" | "),found=!1;for(i=0,len=args.length;i<len&&!found&&expression.hasNext();i++)found=this.isType(expression,args[i]);return found},isAnyOfGroup:function(expression,types){var i,len,args=types.split(" || "),found=!1;for(i=0,len=args.length;i<len&&!found;i++)found=this.isType(expression,args[i]);return!!found&&args[i-1]},isType:function(expression,type){var part=expression.peek(),result=!1;return"<"!==type.charAt(0)?(result=this.isLiteral(part,type))&&expression.next():this.simple[type]?(result=this.simple[type](part))&&expression.next():result=this.complex[type](expression),result},simple:{__proto__:null,"<absolute-size>":function(part){return ValidationTypes.isLiteral(part,"xx-small | x-small | small | medium | large | x-large | xx-large")},"<attachment>":function(part){return ValidationTypes.isLiteral(part,"scroll | fixed | local")},"<attr>":function(part){return"function"===part.type&&"attr"===part.name},"<bg-image>":function(part){return this["<image>"](part)||this["<gradient>"](part)||"none"===String(part)},"<gradient>":function(part){return"function"===part.type&&/^(?:\-(?:ms|moz|o|webkit)\-)?(?:repeating\-)?(?:radial\-|linear\-)?gradient/i.test(part)},"<box>":function(part){return ValidationTypes.isLiteral(part,"padding-box | border-box | content-box")},"<content>":function(part){return"function"===part.type&&"content"===part.name},"<relative-size>":function(part){return ValidationTypes.isLiteral(part,"smaller | larger")},"<ident>":function(part){return"identifier"===part.type},"<length>":function(part){return!("function"!==part.type||!/^(?:\-(?:ms|moz|o|webkit)\-)?calc/i.test(part))||("length"===part.type||"number"===part.type||"integer"===part.type||"0"===String(part))},"<color>":function(part){return"color"===part.type||"transparent"===String(part)||"currentColor"===String(part)},"<number>":function(part){return"number"===part.type||this["<integer>"](part)},"<integer>":function(part){return"integer"===part.type},"<line>":function(part){return"integer"===part.type},"<angle>":function(part){return"angle"===part.type},"<uri>":function(part){return"uri"===part.type},"<image>":function(part){return this["<uri>"](part)},"<percentage>":function(part){return"percentage"===part.type||"0"===String(part)},"<border-width>":function(part){return this["<length>"](part)||ValidationTypes.isLiteral(part,"thin | medium | thick")},"<border-style>":function(part){return ValidationTypes.isLiteral(part,"none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset")},"<content-sizing>":function(part){return ValidationTypes.isLiteral(part,"fill-available | -moz-available | -webkit-fill-available | max-content | -moz-max-content | -webkit-max-content | min-content | -moz-min-content | -webkit-min-content | fit-content | -moz-fit-content | -webkit-fit-content")},"<margin-width>":function(part){return this["<length>"](part)||this["<percentage>"](part)||ValidationTypes.isLiteral(part,"auto")},"<padding-width>":function(part){return this["<length>"](part)||this["<percentage>"](part)},"<shape>":function(part){return"function"===part.type&&("rect"===part.name||"inset-rect"===part.name)},"<time>":function(part){return"time"===part.type},"<flex-grow>":function(part){return this["<number>"](part)},"<flex-shrink>":function(part){return this["<number>"](part)},"<width>":function(part){return this["<margin-width>"](part)},"<flex-basis>":function(part){return this["<width>"](part)},"<flex-direction>":function(part){return ValidationTypes.isLiteral(part,"row | row-reverse | column | column-reverse")},"<flex-wrap>":function(part){return ValidationTypes.isLiteral(part,"nowrap | wrap | wrap-reverse")},"<feature-tag-value>":function(part){return"function"===part.type&&/^[A-Z0-9]{4}$/i.test(part)}},complex:{__proto__:null,"<bg-position>":function(expression){for(var result=!1,numeric="<percentage> | <length>",xDir="left | right",yDir="top | bottom",count=0;expression.peek(count)&&","!==expression.peek(count).text;)count++;return count<3?ValidationTypes.isAny(expression,xDir+" | center | "+numeric)?(result=!0,ValidationTypes.isAny(expression,yDir+" | center | "+numeric)):ValidationTypes.isAny(expression,yDir)&&(result=!0,ValidationTypes.isAny(expression,xDir+" | center")):ValidationTypes.isAny(expression,xDir)?ValidationTypes.isAny(expression,yDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,numeric)&&(ValidationTypes.isAny(expression,yDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,"center")&&(result=!0)):ValidationTypes.isAny(expression,yDir)?ValidationTypes.isAny(expression,xDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,numeric)&&(ValidationTypes.isAny(expression,xDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,"center")&&(result=!0)):ValidationTypes.isAny(expression,"center")&&ValidationTypes.isAny(expression,xDir+" | "+yDir)&&(result=!0,ValidationTypes.isAny(expression,numeric)),result},"<bg-size>":function(expression){var result=!1,numeric="<percentage> | <length> | auto";return ValidationTypes.isAny(expression,"cover | contain")?result=!0:ValidationTypes.isAny(expression,numeric)&&(result=!0,ValidationTypes.isAny(expression,numeric)),result},"<repeat-style>":function(expression){var part,result=!1,values="repeat | space | round | no-repeat";return expression.hasNext()&&(part=expression.next(),ValidationTypes.isLiteral(part,"repeat-x | repeat-y")?result=!0:ValidationTypes.isLiteral(part,values)&&(result=!0,expression.hasNext()&&ValidationTypes.isLiteral(expression.peek(),values)&&expression.next())),result},"<shadow>":function(expression){var result=!1,count=0,inset=!1,color=!1;if(expression.hasNext()){for(ValidationTypes.isAny(expression,"inset")&&(inset=!0),ValidationTypes.isAny(expression,"<color>")&&(color=!0);ValidationTypes.isAny(expression,"<length>")&&count<4;)count++;expression.hasNext()&&(color||ValidationTypes.isAny(expression,"<color>"),inset||ValidationTypes.isAny(expression,"inset")),result=count>=2&&count<=4}return result},"<x-one-radius>":function(expression){var result=!1,simple="<length> | <percentage> | inherit";return ValidationTypes.isAny(expression,simple)&&(result=!0,ValidationTypes.isAny(expression,simple)),result},"<flex>":function(expression){var part,result=!1;if(ValidationTypes.isAny(expression,"none | inherit")?result=!0:ValidationTypes.isType(expression,"<flex-grow>")?expression.peek()?ValidationTypes.isType(expression,"<flex-shrink>")?result=!expression.peek()||ValidationTypes.isType(expression,"<flex-basis>"):ValidationTypes.isType(expression,"<flex-basis>")&&(result=null===expression.peek()):result=!0:ValidationTypes.isType(expression,"<flex-basis>")&&(result=!0),!result)throw part=expression.peek(),new ValidationError("Expected (none | [ <flex-grow> <flex-shrink>? || <flex-basis> ]) but found '"+expression.value.text+"'.",part.line,part.col);return result}}};parserlib.css={__proto__:null,Colors:Colors,Combinator:Combinator,Parser:Parser,PropertyName:PropertyName,PropertyValue:PropertyValue,PropertyValuePart:PropertyValuePart,MediaFeature:MediaFeature,MediaQuery:MediaQuery,Selector:Selector,SelectorPart:SelectorPart,SelectorSubPart:SelectorSubPart,Specificity:Specificity,TokenStream:TokenStream,Tokens:Tokens,ValidationError:ValidationError}}(),function(){for(var prop in parserlib)exports[prop]=parserlib[prop]}()},"0Zqx":function(module,exports,__webpack_require__){"use strict";module.exports=class extends Array{constructor(a){if(super(a&&a.length||0),a)for(var idx in a)this[idx]=a[idx]}item(i){return this[i]||null}}},"243a":function(module,exports,__webpack_require__){"use strict";var NodeFilter={FILTER_ACCEPT:1,FILTER_REJECT:2,FILTER_SKIP:3,SHOW_ALL:4294967295,SHOW_ELEMENT:1,SHOW_ATTRIBUTE:2,SHOW_TEXT:4,SHOW_CDATA_SECTION:8,SHOW_ENTITY_REFERENCE:16,SHOW_ENTITY:32,SHOW_PROCESSING_INSTRUCTION:64,SHOW_COMMENT:128,SHOW_DOCUMENT:256,SHOW_DOCUMENT_TYPE:512,SHOW_DOCUMENT_FRAGMENT:1024,SHOW_NOTATION:2048};module.exports=NodeFilter.constructor=NodeFilter.prototype=NodeFilter},"24aS":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const platform_server_1=__webpack_require__("BHFI"),app_module_1=__webpack_require__("ZAI4"),app_component_1=__webpack_require__("Sy1n"),router_1=__webpack_require__("tyNb"),app_shell_component_1=__webpack_require__("JPTf"),i0=__webpack_require__("fXoL"),i1=__webpack_require__("tyNb"),routes=[{path:"shell",component:app_shell_component_1.AppShellComponent}];class AppServerModule{constructor(router){this.router=router,this.router.resetConfig(routes)}}exports.AppServerModule=AppServerModule,AppServerModule.\u0275mod=i0.\u0275\u0275defineNgModule({type:AppServerModule,bootstrap:[app_component_1.AppComponent]}),AppServerModule.\u0275inj=i0.\u0275\u0275defineInjector({factory:function AppServerModule_Factory(t){return new(t||AppServerModule)(i0.\u0275\u0275inject(i1.Router))},imports:[[app_module_1.AppModule,platform_server_1.ServerModule,router_1.RouterModule.forRoot(routes)]]})},"28gj":function(module,exports,__webpack_require__){"use strict";module.exports=DOMException;var names=[null,"INDEX_SIZE_ERR",null,"HIERARCHY_REQUEST_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR",null,"NO_MODIFICATION_ALLOWED_ERR","NOT_FOUND_ERR","NOT_SUPPORTED_ERR","INUSE_ATTRIBUTE_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR",null,"TYPE_MISMATCH_ERR","SECURITY_ERR","NETWORK_ERR","ABORT_ERR","URL_MISMATCH_ERR","QUOTA_EXCEEDED_ERR","TIMEOUT_ERR","INVALID_NODE_TYPE_ERR","DATA_CLONE_ERR"],messages=[null,"INDEX_SIZE_ERR (1): the index is not in the allowed range",null,"HIERARCHY_REQUEST_ERR (3): the operation would yield an incorrect nodes model","WRONG_DOCUMENT_ERR (4): the object is in the wrong Document, a call to importNode is required","INVALID_CHARACTER_ERR (5): the string contains invalid characters",null,"NO_MODIFICATION_ALLOWED_ERR (7): the object can not be modified","NOT_FOUND_ERR (8): the object can not be found here","NOT_SUPPORTED_ERR (9): this operation is not supported","INUSE_ATTRIBUTE_ERR (10): setAttributeNode called on owned Attribute","INVALID_STATE_ERR (11): the object is in an invalid state","SYNTAX_ERR (12): the string did not match the expected pattern","INVALID_MODIFICATION_ERR (13): the object can not be modified in this way","NAMESPACE_ERR (14): the operation is not allowed by Namespaces in XML","INVALID_ACCESS_ERR (15): the object does not support the operation or argument",null,"TYPE_MISMATCH_ERR (17): the type of the object does not match the expected type","SECURITY_ERR (18): the operation is insecure","NETWORK_ERR (19): a network error occurred","ABORT_ERR (20): the user aborted an operation","URL_MISMATCH_ERR (21): the given URL does not match another URL","QUOTA_EXCEEDED_ERR (22): the quota has been exceeded","TIMEOUT_ERR (23): a timeout occurred","INVALID_NODE_TYPE_ERR (24): the supplied node is invalid or has an invalid ancestor for this operation","DATA_CLONE_ERR (25): the object can not be cloned."],constants={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};function DOMException(code){Error.call(this),Error.captureStackTrace(this,this.constructor),this.code=code,this.message=messages[code],this.name=names[code]}for(var c in DOMException.prototype.__proto__=Error.prototype,constants){var v={value:constants[c]};Object.defineProperty(DOMException,c,v),Object.defineProperty(DOMException.prototype,c,v)}},"2QA8":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return rxSubscriber}));const rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2cVh":function(module,exports,__webpack_require__){"use strict";module.exports=Document;var Node=__webpack_require__("P6n3"),NodeList=__webpack_require__("Igrf"),ContainerNode=__webpack_require__("UQIz"),Element=__webpack_require__("ryL4"),Text=__webpack_require__("kqfC"),Comment=__webpack_require__("5bTs"),Event=__webpack_require__("KUlC"),DocumentFragment=__webpack_require__("rbP0"),ProcessingInstruction=__webpack_require__("jMmm"),DOMImplementation=__webpack_require__("Cj8W"),TreeWalker=__webpack_require__("QA3H"),NodeIterator=__webpack_require__("PK97"),NodeFilter=__webpack_require__("243a"),URL=__webpack_require__("dPIN"),select=__webpack_require__("ddNv"),events=__webpack_require__("5rAD"),xml=__webpack_require__("CCM7"),html=__webpack_require__("fcJ+"),svg=__webpack_require__("2nQd"),utils=__webpack_require__("Wo4J"),MUTATE=__webpack_require__("8gc0"),NAMESPACE=utils.NAMESPACE,isApiWritable=__webpack_require__("Pd6R").isApiWritable;function Document(isHTML,address){ContainerNode.call(this),this.nodeType=Node.DOCUMENT_NODE,this.isHTML=isHTML,this._address=address||"about:blank",this.readyState="loading",this.implementation=new DOMImplementation(this),this.ownerDocument=null,this._contentType=isHTML?"text/html":"application/xml",this.doctype=null,this.documentElement=null,this._templateDocCache=null,this._nodeIterators=null,this._nid=1,this._nextnid=2,this._nodes=[null,this],this.byId=Object.create(null),this.modclock=0}var supportedEvents={event:"Event",customevent:"CustomEvent",uievent:"UIEvent",mouseevent:"MouseEvent"},replacementEvent={events:"event",htmlevents:"event",mouseevents:"mouseevent",mutationevents:"mutationevent",uievents:"uievent"},mirrorAttr=function(f,name,defaultValue){return{get:function(){var o=f.call(this);return o?o[name]:defaultValue},set:function(value){var o=f.call(this);o&&(o[name]=value)}}};function validateAndExtract(namespace,qualifiedName){var prefix,localName,pos;return""===namespace&&(namespace=null),xml.isValidQName(qualifiedName)||utils.InvalidCharacterError(),prefix=null,localName=qualifiedName,(pos=qualifiedName.indexOf(":"))>=0&&(prefix=qualifiedName.substring(0,pos),localName=qualifiedName.substring(pos+1)),null!==prefix&&null===namespace&&utils.NamespaceError(),"xml"===prefix&&namespace!==NAMESPACE.XML&&utils.NamespaceError(),"xmlns"!==prefix&&"xmlns"!==qualifiedName||namespace===NAMESPACE.XMLNS||utils.NamespaceError(),namespace===NAMESPACE.XMLNS&&"xmlns"!==prefix&&"xmlns"!==qualifiedName&&utils.NamespaceError(),{namespace:namespace,prefix:prefix,localName:localName}}Document.prototype=Object.create(ContainerNode.prototype,{_setMutationHandler:{value:function(handler){this.mutationHandler=handler}},_dispatchRendererEvent:{value:function(targetNid,type,details){var target=this._nodes[targetNid];target&&target._dispatchEvent(new Event(type,details),!0)}},nodeName:{value:"#document"},nodeValue:{get:function(){return null},set:function(){}},documentURI:{get:function(){return this._address},set:utils.nyi},compatMode:{get:function(){return this._quirks?"BackCompat":"CSS1Compat"}},createTextNode:{value:function(data){return new Text(this,String(data))}},createComment:{value:function(data){return new Comment(this,data)}},createDocumentFragment:{value:function(){return new DocumentFragment(this)}},createProcessingInstruction:{value:function(target,data){return xml.isValidName(target)&&-1===data.indexOf("?>")||utils.InvalidCharacterError(),new ProcessingInstruction(this,target,data)}},createAttribute:{value:function(localName){return localName=String(localName),xml.isValidName(localName)||utils.InvalidCharacterError(),this.isHTML&&(localName=utils.toASCIILowerCase(localName)),new Element._Attr(null,localName,null,null,"")}},createAttributeNS:{value:function(namespace,qualifiedName){var ve=validateAndExtract(namespace=null==namespace||""===namespace?null:String(namespace),qualifiedName=String(qualifiedName));return new Element._Attr(null,ve.localName,ve.prefix,ve.namespace,"")}},createElement:{value:function(localName){return localName=String(localName),xml.isValidName(localName)||utils.InvalidCharacterError(),this.isHTML?(/[A-Z]/.test(localName)&&(localName=utils.toASCIILowerCase(localName)),html.createElement(this,localName,null)):"application/xhtml+xml"===this.contentType?html.createElement(this,localName,null):new Element(this,localName,null,null)},writable:isApiWritable},createElementNS:{value:function(namespace,qualifiedName){var ve=validateAndExtract(namespace=null==namespace||""===namespace?null:String(namespace),qualifiedName=String(qualifiedName));return this._createElementNS(ve.localName,ve.namespace,ve.prefix)},writable:isApiWritable},_createElementNS:{value:function(localName,namespace,prefix){return namespace===NAMESPACE.HTML?html.createElement(this,localName,prefix):namespace===NAMESPACE.SVG?svg.createElement(this,localName,prefix):new Element(this,localName,namespace,prefix)}},createEvent:{value:function createEvent(interfaceName){interfaceName=interfaceName.toLowerCase();var constructor=events[supportedEvents[replacementEvent[interfaceName]||interfaceName]];if(constructor){var e=new constructor;return e._initialized=!1,e}utils.NotSupportedError()}},createTreeWalker:{value:function(root,whatToShow,filter){if(!root)throw new TypeError("root argument is required");if(!(root instanceof Node))throw new TypeError("root not a node");return whatToShow=void 0===whatToShow?NodeFilter.SHOW_ALL:+whatToShow,new TreeWalker(root,whatToShow,filter=void 0===filter?null:filter)}},createNodeIterator:{value:function(root,whatToShow,filter){if(!root)throw new TypeError("root argument is required");if(!(root instanceof Node))throw new TypeError("root not a node");return whatToShow=void 0===whatToShow?NodeFilter.SHOW_ALL:+whatToShow,new NodeIterator(root,whatToShow,filter=void 0===filter?null:filter)}},_attachNodeIterator:{value:function(ni){this._nodeIterators||(this._nodeIterators=[]),this._nodeIterators.push(ni)}},_detachNodeIterator:{value:function(ni){var idx=this._nodeIterators.indexOf(ni);this._nodeIterators.splice(idx,1)}},_preremoveNodeIterators:{value:function(toBeRemoved){this._nodeIterators&&this._nodeIterators.forEach((function(ni){ni._preremove(toBeRemoved)}))}},_updateDocTypeElement:{value:function _updateDocTypeElement(){this.doctype=this.documentElement=null;for(var kid=this.firstChild;null!==kid;kid=kid.nextSibling)kid.nodeType===Node.DOCUMENT_TYPE_NODE?this.doctype=kid:kid.nodeType===Node.ELEMENT_NODE&&(this.documentElement=kid)}},insertBefore:{value:function insertBefore(child,refChild){return Node.prototype.insertBefore.call(this,child,refChild),this._updateDocTypeElement(),child}},replaceChild:{value:function replaceChild(node,child){return Node.prototype.replaceChild.call(this,node,child),this._updateDocTypeElement(),child}},removeChild:{value:function removeChild(child){return Node.prototype.removeChild.call(this,child),this._updateDocTypeElement(),child}},getElementById:{value:function(id){var n=this.byId[id];return n?n instanceof MultiId?n.getFirst():n:null}},_hasMultipleElementsWithId:{value:function(id){return this.byId[id]instanceof MultiId}},getElementsByName:{value:Element.prototype.getElementsByName},getElementsByTagName:{value:Element.prototype.getElementsByTagName},getElementsByTagNameNS:{value:Element.prototype.getElementsByTagNameNS},getElementsByClassName:{value:Element.prototype.getElementsByClassName},adoptNode:{value:function adoptNode(node){return node.nodeType===Node.DOCUMENT_NODE&&utils.NotSupportedError(),node.nodeType===Node.ATTRIBUTE_NODE?node:(node.parentNode&&node.parentNode.removeChild(node),node.ownerDocument!==this&&function recursivelySetOwner(node,owner){node.ownerDocument=owner,node._lastModTime=void 0,Object.prototype.hasOwnProperty.call(node,"_tagName")&&(node._tagName=void 0);for(var kid=node.firstChild;null!==kid;kid=kid.nextSibling)recursivelySetOwner(kid,owner)}(node,this),node)}},importNode:{value:function importNode(node,deep){return this.adoptNode(node.cloneNode(deep))},writable:isApiWritable},origin:{get:function origin(){return null}},characterSet:{get:function characterSet(){return"UTF-8"}},contentType:{get:function contentType(){return this._contentType}},URL:{get:function URL(){return this._address}},domain:{get:utils.nyi,set:utils.nyi},referrer:{get:utils.nyi},cookie:{get:utils.nyi,set:utils.nyi},lastModified:{get:utils.nyi},location:{get:function(){return this.defaultView?this.defaultView.location:null},set:utils.nyi},_titleElement:{get:function(){return this.getElementsByTagName("title").item(0)||null}},title:{get:function(){var elt=this._titleElement;return(elt?elt.textContent:"").replace(/[ \t\n\r\f]+/g," ").replace(/(^ )|( $)/g,"")},set:function(value){var elt=this._titleElement,head=this.head;(elt||head)&&(elt||(elt=this.createElement("title"),head.appendChild(elt)),elt.textContent=value)}},dir:mirrorAttr((function(){var htmlElement=this.documentElement;if(htmlElement&&"HTML"===htmlElement.tagName)return htmlElement}),"dir",""),fgColor:mirrorAttr((function(){return this.body}),"text",""),linkColor:mirrorAttr((function(){return this.body}),"link",""),vlinkColor:mirrorAttr((function(){return this.body}),"vLink",""),alinkColor:mirrorAttr((function(){return this.body}),"aLink",""),bgColor:mirrorAttr((function(){return this.body}),"bgColor",""),charset:{get:function(){return this.characterSet}},inputEncoding:{get:function(){return this.characterSet}},scrollingElement:{get:function(){return this._quirks?this.body:this.documentElement}},body:{get:function(){return namedHTMLChild(this.documentElement,"body")},set:utils.nyi},head:{get:function(){return namedHTMLChild(this.documentElement,"head")}},images:{get:utils.nyi},embeds:{get:utils.nyi},plugins:{get:utils.nyi},links:{get:utils.nyi},forms:{get:utils.nyi},scripts:{get:utils.nyi},applets:{get:function(){return[]}},activeElement:{get:function(){return null}},innerHTML:{get:function(){return this.serialize()},set:utils.nyi},outerHTML:{get:function(){return this.serialize()},set:utils.nyi},write:{value:function(args){if(this.isHTML||utils.InvalidStateError(),this._parser){this._parser;var s=arguments.join("");this._parser.parse(s)}}},writeln:{value:function writeln(args){this.write(Array.prototype.join.call(arguments,"")+"\n")}},open:{value:function(){this.documentElement=null}},close:{value:function(){this.readyState="interactive",this._dispatchEvent(new Event("readystatechange"),!0),this._dispatchEvent(new Event("DOMContentLoaded"),!0),this.readyState="complete",this._dispatchEvent(new Event("readystatechange"),!0),this.defaultView&&this.defaultView._dispatchEvent(new Event("load"),!0)}},clone:{value:function clone(){var d=new Document(this.isHTML,this._address);return d._quirks=this._quirks,d._contentType=this._contentType,d}},cloneNode:{value:function cloneNode(deep){var clone=Node.prototype.cloneNode.call(this,!1);if(deep)for(var kid=this.firstChild;null!==kid;kid=kid.nextSibling)clone._appendChild(clone.importNode(kid,!0));return clone._updateDocTypeElement(),clone}},isEqual:{value:function isEqual(n){return!0}},mutateValue:{value:function(node){this.mutationHandler&&this.mutationHandler({type:MUTATE.VALUE,target:node,data:node.data})}},mutateAttr:{value:function(attr,oldval){this.mutationHandler&&this.mutationHandler({type:MUTATE.ATTR,target:attr.ownerElement,attr:attr})}},mutateRemoveAttr:{value:function(attr){this.mutationHandler&&this.mutationHandler({type:MUTATE.REMOVE_ATTR,target:attr.ownerElement,attr:attr})}},mutateRemove:{value:function(node){this.mutationHandler&&this.mutationHandler({type:MUTATE.REMOVE,target:node.parentNode,node:node}),function recursivelyUproot(node){!function uproot(n){if(n.nodeType===Node.ELEMENT_NODE){var id=n.getAttribute("id");id&&n.ownerDocument.delId(id,n)}n.ownerDocument._nodes[n._nid]=void 0,n._nid=void 0}(node);for(var kid=node.firstChild;null!==kid;kid=kid.nextSibling)recursivelyUproot(kid)}(node)}},mutateInsert:{value:function(node){!function recursivelyRoot(node){if(function root(n){if(n._nid=n.ownerDocument._nextnid++,n.ownerDocument._nodes[n._nid]=n,n.nodeType===Node.ELEMENT_NODE){var id=n.getAttribute("id");id&&n.ownerDocument.addId(id,n),n._roothook&&n._roothook()}}(node),node.nodeType===Node.ELEMENT_NODE)for(var kid=node.firstChild;null!==kid;kid=kid.nextSibling)recursivelyRoot(kid)}(node),this.mutationHandler&&this.mutationHandler({type:MUTATE.INSERT,target:node.parentNode,node:node})}},mutateMove:{value:function(node){this.mutationHandler&&this.mutationHandler({type:MUTATE.MOVE,target:node})}},addId:{value:function addId(id,n){var val=this.byId[id];val?(val instanceof MultiId||(val=new MultiId(val),this.byId[id]=val),val.add(n)):this.byId[id]=n}},delId:{value:function delId(id,n){var val=this.byId[id];utils.assert(val),val instanceof MultiId?(val.del(n),1===val.length&&(this.byId[id]=val.downgrade())):this.byId[id]=void 0}},_resolve:{value:function(href){return new URL(this._documentBaseURL).resolve(href)}},_documentBaseURL:{get:function(){var url=this._address;"about:blank"===url&&(url="/");var base=this.querySelector("base[href]");return base?new URL(url).resolve(base.getAttribute("href")):url}},_templateDoc:{get:function(){if(!this._templateDocCache){var newDoc=new Document(this.isHTML,this._address);this._templateDocCache=newDoc._templateDocCache=newDoc}return this._templateDocCache}},querySelector:{value:function(selector){return select(selector,this)[0]}},querySelectorAll:{value:function(selector){var nodes=select(selector,this);return nodes.item?nodes:new NodeList(nodes)}}});function namedHTMLChild(parent,name){if(parent&&parent.isHTML)for(var kid=parent.firstChild;null!==kid;kid=kid.nextSibling)if(kid.nodeType===Node.ELEMENT_NODE&&kid.localName===name&&kid.namespaceURI===NAMESPACE.HTML)return kid;return null}function MultiId(node){this.nodes=Object.create(null),this.nodes[node._nid]=node,this.length=1,this.firstNode=void 0}["abort","canplay","canplaythrough","change","click","contextmenu","cuechange","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","input","invalid","keydown","keypress","keyup","loadeddata","loadedmetadata","loadstart","mousedown","mousemove","mouseout","mouseover","mouseup","mousewheel","pause","play","playing","progress","ratechange","readystatechange","reset","seeked","seeking","select","show","stalled","submit","suspend","timeupdate","volumechange","waiting","blur","error","focus","load","scroll"].forEach((function(type){Object.defineProperty(Document.prototype,"on"+type,{get:function(){return this._getEventHandler(type)},set:function(v){this._setEventHandler(type,v)}})})),MultiId.prototype.add=function(node){this.nodes[node._nid]||(this.nodes[node._nid]=node,this.length++,this.firstNode=void 0)},MultiId.prototype.del=function(node){this.nodes[node._nid]&&(delete this.nodes[node._nid],this.length--,this.firstNode=void 0)},MultiId.prototype.getFirst=function(){var nid;if(!this.firstNode)for(nid in this.nodes)(void 0===this.firstNode||this.firstNode.compareDocumentPosition(this.nodes[nid])&Node.DOCUMENT_POSITION_PRECEDING)&&(this.firstNode=this.nodes[nid]);return this.firstNode},MultiId.prototype.downgrade=function(){var nid;if(1===this.length)for(nid in this.nodes)return this.nodes[nid];return this}},"2fFW":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return config}));let _enable_super_gross_mode_that_will_cause_bad_things=!1;const config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(value){if(value){const error=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+error.stack)}else _enable_super_gross_mode_that_will_cause_bad_things&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_enable_super_gross_mode_that_will_cause_bad_things=value},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}}},"2nQd":function(module,exports,__webpack_require__){"use strict";var Element=__webpack_require__("ryL4"),defineElement=__webpack_require__("tgGq"),utils=__webpack_require__("Wo4J"),CSSStyleDeclaration=__webpack_require__("4CHZ"),svgElements=exports.elements={},svgNameToImpl=Object.create(null);function define(spec){return defineElement(spec,SVGElement,svgElements,svgNameToImpl)}exports.createElement=function(doc,localName,prefix){return new(svgNameToImpl[localName]||SVGElement)(doc,localName,prefix)};var SVGElement=define({superclass:Element,ctor:function SVGElement(doc,localName,prefix){Element.call(this,doc,localName,utils.NAMESPACE.SVG,prefix)},props:{style:{get:function(){return this._style||(this._style=new CSSStyleDeclaration(this)),this._style}}}});define({ctor:function SVGSVGElement(doc,localName,prefix){SVGElement.call(this,doc,localName,prefix)},tag:"svg",props:{createSVGRect:{value:function(){return exports.createElement(this.ownerDocument,"rect",null)}}}}),define({tags:["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"]})},"4CHZ":function(module,exports,__webpack_require__){"use strict";var parserlib=__webpack_require__("0Ovr");function CSSStyleDeclaration(elt){this._element=elt}function parseStyles(s){var parser=new parserlib.css.Parser,result={property:Object.create(null),priority:Object.create(null)};return parser.addListener("property",(function(e){e.invalid||(result.property[e.property.text]=e.value.text,e.important&&(result.priority[e.property.text]="important"))})),s=(""+s).replace(/^;/,""),parser.parseStyleAttribute(s),result}module.exports=CSSStyleDeclaration;var NO_CHANGE={};CSSStyleDeclaration.prototype=Object.create(Object.prototype,{_parsed:{get:function(){if(!this._parsedStyles||this.cssText!==this._lastParsedText){var text=this.cssText;this._parsedStyles=parseStyles(text),this._lastParsedText=text,delete this._names}return this._parsedStyles}},_serialize:{value:function(){var styles=this._parsed,s="";for(var name in styles.property)s&&(s+=" "),s+=name+": "+styles.property[name],styles.priority[name]&&(s+=" !"+styles.priority[name]),s+=";";this.cssText=s,this._lastParsedText=s,delete this._names}},cssText:{get:function(){return this._element.getAttribute("style")},set:function(value){this._element.setAttribute("style",value)}},length:{get:function(){return this._names||(this._names=Object.getOwnPropertyNames(this._parsed.property)),this._names.length}},item:{value:function(n){return this._names||(this._names=Object.getOwnPropertyNames(this._parsed.property)),this._names[n]}},getPropertyValue:{value:function(property){return property=property.toLowerCase(),this._parsed.property[property]||""}},getPropertyPriority:{value:function(property){return property=property.toLowerCase(),this._parsed.priority[property]||""}},setProperty:{value:function(property,value,priority){if(property=property.toLowerCase(),null==value&&(value=""),null==priority&&(priority=""),value!==NO_CHANGE&&(value=""+value),""!==value){if(""===priority||priority===NO_CHANGE||/^important$/i.test(priority)){var styles=this._parsed;if(value===NO_CHANGE){if(!styles.property[property])return;""!==priority?styles.priority[property]="important":delete styles.priority[property]}else{if(-1!==value.indexOf(";"))return;var newprops=parseStyles(property+":"+value);if(0===Object.getOwnPropertyNames(newprops.property).length)return;if(0!==Object.getOwnPropertyNames(newprops.priority).length)return;for(var p in newprops.property)styles.property[p]=newprops.property[p],priority!==NO_CHANGE&&(""!==priority?styles.priority[p]="important":styles.priority[p]&&delete styles.priority[p])}this._serialize()}}else this.removeProperty(property)}},setPropertyValue:{value:function(property,value){return this.setProperty(property,value,NO_CHANGE)}},setPropertyPriority:{value:function(property,priority){return this.setProperty(property,NO_CHANGE,priority)}},removeProperty:{value:function(property){property=property.toLowerCase();var styles=this._parsed;property in styles.property&&(delete styles.property[property],delete styles.priority[property],this._serialize())}}});var cssProperties={alignContent:"align-content",alignItems:"align-items",alignmentBaseline:"alignment-baseline",alignSelf:"align-self",animation:"animation",animationDelay:"animation-delay",animationDirection:"animation-direction",animationDuration:"animation-duration",animationFillMode:"animation-fill-mode",animationIterationCount:"animation-iteration-count",animationName:"animation-name",animationPlayState:"animation-play-state",animationTimingFunction:"animation-timing-function",backfaceVisibility:"backface-visibility",background:"background",backgroundAttachment:"background-attachment",backgroundClip:"background-clip",backgroundColor:"background-color",backgroundImage:"background-image",backgroundOrigin:"background-origin",backgroundPosition:"background-position",backgroundPositionX:"background-position-x",backgroundPositionY:"background-position-y",backgroundRepeat:"background-repeat",backgroundSize:"background-size",baselineShift:"baseline-shift",border:"border",borderBottom:"border-bottom",borderBottomColor:"border-bottom-color",borderBottomLeftRadius:"border-bottom-left-radius",borderBottomRightRadius:"border-bottom-right-radius",borderBottomStyle:"border-bottom-style",borderBottomWidth:"border-bottom-width",borderCollapse:"border-collapse",borderColor:"border-color",borderImage:"border-image",borderImageOutset:"border-image-outset",borderImageRepeat:"border-image-repeat",borderImageSlice:"border-image-slice",borderImageSource:"border-image-source",borderImageWidth:"border-image-width",borderLeft:"border-left",borderLeftColor:"border-left-color",borderLeftStyle:"border-left-style",borderLeftWidth:"border-left-width",borderRadius:"border-radius",borderRight:"border-right",borderRightColor:"border-right-color",borderRightStyle:"border-right-style",borderRightWidth:"border-right-width",borderSpacing:"border-spacing",borderStyle:"border-style",borderTop:"border-top",borderTopColor:"border-top-color",borderTopLeftRadius:"border-top-left-radius",borderTopRightRadius:"border-top-right-radius",borderTopStyle:"border-top-style",borderTopWidth:"border-top-width",borderWidth:"border-width",bottom:"bottom",boxShadow:"box-shadow",boxSizing:"box-sizing",breakAfter:"break-after",breakBefore:"break-before",breakInside:"break-inside",captionSide:"caption-side",clear:"clear",clip:"clip",clipPath:"clip-path",clipRule:"clip-rule",color:"color",colorInterpolationFilters:"color-interpolation-filters",columnCount:"column-count",columnFill:"column-fill",columnGap:"column-gap",columnRule:"column-rule",columnRuleColor:"column-rule-color",columnRuleStyle:"column-rule-style",columnRuleWidth:"column-rule-width",columns:"columns",columnSpan:"column-span",columnWidth:"column-width",content:"content",counterIncrement:"counter-increment",counterReset:"counter-reset",cssFloat:"float",cursor:"cursor",direction:"direction",display:"display",dominantBaseline:"dominant-baseline",emptyCells:"empty-cells",enableBackground:"enable-background",fill:"fill",fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:"filter",flex:"flex",flexBasis:"flex-basis",flexDirection:"flex-direction",flexFlow:"flex-flow",flexGrow:"flex-grow",flexShrink:"flex-shrink",flexWrap:"flex-wrap",floodColor:"flood-color",floodOpacity:"flood-opacity",font:"font",fontFamily:"font-family",fontFeatureSettings:"font-feature-settings",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",grid:"grid",gridArea:"grid-area",gridAutoColumns:"grid-auto-columns",gridAutoFlow:"grid-auto-flow",gridAutoRows:"grid-auto-rows",gridColumn:"grid-column",gridColumnEnd:"grid-column-end",gridColumnGap:"grid-column-gap",gridColumnStart:"grid-column-start",gridGap:"grid-gap",gridRow:"grid-row",gridRowEnd:"grid-row-end",gridRowGap:"grid-row-gap",gridRowStart:"grid-row-start",gridTemplate:"grid-template",gridTemplateAreas:"grid-template-areas",gridTemplateColumns:"grid-template-columns",gridTemplateRows:"grid-template-rows",height:"height",imeMode:"ime-mode",justifyContent:"justify-content",kerning:"kerning",layoutGrid:"layout-grid",layoutGridChar:"layout-grid-char",layoutGridLine:"layout-grid-line",layoutGridMode:"layout-grid-mode",layoutGridType:"layout-grid-type",left:"left",letterSpacing:"letter-spacing",lightingColor:"lighting-color",lineBreak:"line-break",lineHeight:"line-height",listStyle:"list-style",listStyleImage:"list-style-image",listStylePosition:"list-style-position",listStyleType:"list-style-type",margin:"margin",marginBottom:"margin-bottom",marginLeft:"margin-left",marginRight:"margin-right",marginTop:"margin-top",marker:"marker",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",mask:"mask",maxHeight:"max-height",maxWidth:"max-width",minHeight:"min-height",minWidth:"min-width",msContentZoomChaining:"-ms-content-zoom-chaining",msContentZooming:"-ms-content-zooming",msContentZoomLimit:"-ms-content-zoom-limit",msContentZoomLimitMax:"-ms-content-zoom-limit-max",msContentZoomLimitMin:"-ms-content-zoom-limit-min",msContentZoomSnap:"-ms-content-zoom-snap",msContentZoomSnapPoints:"-ms-content-zoom-snap-points",msContentZoomSnapType:"-ms-content-zoom-snap-type",msFlowFrom:"-ms-flow-from",msFlowInto:"-ms-flow-into",msFontFeatureSettings:"-ms-font-feature-settings",msGridColumn:"-ms-grid-column",msGridColumnAlign:"-ms-grid-column-align",msGridColumns:"-ms-grid-columns",msGridColumnSpan:"-ms-grid-column-span",msGridRow:"-ms-grid-row",msGridRowAlign:"-ms-grid-row-align",msGridRows:"-ms-grid-rows",msGridRowSpan:"-ms-grid-row-span",msHighContrastAdjust:"-ms-high-contrast-adjust",msHyphenateLimitChars:"-ms-hyphenate-limit-chars",msHyphenateLimitLines:"-ms-hyphenate-limit-lines",msHyphenateLimitZone:"-ms-hyphenate-limit-zone",msHyphens:"-ms-hyphens",msImeAlign:"-ms-ime-align",msOverflowStyle:"-ms-overflow-style",msScrollChaining:"-ms-scroll-chaining",msScrollLimit:"-ms-scroll-limit",msScrollLimitXMax:"-ms-scroll-limit-x-max",msScrollLimitXMin:"-ms-scroll-limit-x-min",msScrollLimitYMax:"-ms-scroll-limit-y-max",msScrollLimitYMin:"-ms-scroll-limit-y-min",msScrollRails:"-ms-scroll-rails",msScrollSnapPointsX:"-ms-scroll-snap-points-x",msScrollSnapPointsY:"-ms-scroll-snap-points-y",msScrollSnapType:"-ms-scroll-snap-type",msScrollSnapX:"-ms-scroll-snap-x",msScrollSnapY:"-ms-scroll-snap-y",msScrollTranslation:"-ms-scroll-translation",msTextCombineHorizontal:"-ms-text-combine-horizontal",msTextSizeAdjust:"-ms-text-size-adjust",msTouchAction:"-ms-touch-action",msTouchSelect:"-ms-touch-select",msUserSelect:"-ms-user-select",msWrapFlow:"-ms-wrap-flow",msWrapMargin:"-ms-wrap-margin",msWrapThrough:"-ms-wrap-through",opacity:"opacity",order:"order",orphans:"orphans",outline:"outline",outlineColor:"outline-color",outlineOffset:"outline-offset",outlineStyle:"outline-style",outlineWidth:"outline-width",overflow:"overflow",overflowX:"overflow-x",overflowY:"overflow-y",padding:"padding",paddingBottom:"padding-bottom",paddingLeft:"padding-left",paddingRight:"padding-right",paddingTop:"padding-top",page:"page",pageBreakAfter:"page-break-after",pageBreakBefore:"page-break-before",pageBreakInside:"page-break-inside",perspective:"perspective",perspectiveOrigin:"perspective-origin",pointerEvents:"pointer-events",position:"position",quotes:"quotes",right:"right",rotate:"rotate",rubyAlign:"ruby-align",rubyOverhang:"ruby-overhang",rubyPosition:"ruby-position",scale:"scale",size:"size",stopColor:"stop-color",stopOpacity:"stop-opacity",stroke:"stroke",strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tableLayout:"table-layout",textAlign:"text-align",textAlignLast:"text-align-last",textAnchor:"text-anchor",textDecoration:"text-decoration",textIndent:"text-indent",textJustify:"text-justify",textKashida:"text-kashida",textKashidaSpace:"text-kashida-space",textOverflow:"text-overflow",textShadow:"text-shadow",textTransform:"text-transform",textUnderlinePosition:"text-underline-position",top:"top",touchAction:"touch-action",transform:"transform",transformOrigin:"transform-origin",transformStyle:"transform-style",transition:"transition",transitionDelay:"transition-delay",transitionDuration:"transition-duration",transitionProperty:"transition-property",transitionTimingFunction:"transition-timing-function",translate:"translate",unicodeBidi:"unicode-bidi",verticalAlign:"vertical-align",visibility:"visibility",webkitAlignContent:"-webkit-align-content",webkitAlignItems:"-webkit-align-items",webkitAlignSelf:"-webkit-align-self",webkitAnimation:"-webkit-animation",webkitAnimationDelay:"-webkit-animation-delay",webkitAnimationDirection:"-webkit-animation-direction",webkitAnimationDuration:"-webkit-animation-duration",webkitAnimationFillMode:"-webkit-animation-fill-mode",webkitAnimationIterationCount:"-webkit-animation-iteration-count",webkitAnimationName:"-webkit-animation-name",webkitAnimationPlayState:"-webkit-animation-play-state",webkitAnimationTimingFunction:"-webkit-animation-timing-funciton",webkitAppearance:"-webkit-appearance",webkitBackfaceVisibility:"-webkit-backface-visibility",webkitBackgroundClip:"-webkit-background-clip",webkitBackgroundOrigin:"-webkit-background-origin",webkitBackgroundSize:"-webkit-background-size",webkitBorderBottomLeftRadius:"-webkit-border-bottom-left-radius",webkitBorderBottomRightRadius:"-webkit-border-bottom-right-radius",webkitBorderImage:"-webkit-border-image",webkitBorderRadius:"-webkit-border-radius",webkitBorderTopLeftRadius:"-webkit-border-top-left-radius",webkitBorderTopRightRadius:"-webkit-border-top-right-radius",webkitBoxAlign:"-webkit-box-align",webkitBoxDirection:"-webkit-box-direction",webkitBoxFlex:"-webkit-box-flex",webkitBoxOrdinalGroup:"-webkit-box-ordinal-group",webkitBoxOrient:"-webkit-box-orient",webkitBoxPack:"-webkit-box-pack",webkitBoxSizing:"-webkit-box-sizing",webkitColumnBreakAfter:"-webkit-column-break-after",webkitColumnBreakBefore:"-webkit-column-break-before",webkitColumnBreakInside:"-webkit-column-break-inside",webkitColumnCount:"-webkit-column-count",webkitColumnGap:"-webkit-column-gap",webkitColumnRule:"-webkit-column-rule",webkitColumnRuleColor:"-webkit-column-rule-color",webkitColumnRuleStyle:"-webkit-column-rule-style",webkitColumnRuleWidth:"-webkit-column-rule-width",webkitColumns:"-webkit-columns",webkitColumnSpan:"-webkit-column-span",webkitColumnWidth:"-webkit-column-width",webkitFilter:"-webkit-filter",webkitFlex:"-webkit-flex",webkitFlexBasis:"-webkit-flex-basis",webkitFlexDirection:"-webkit-flex-direction",webkitFlexFlow:"-webkit-flex-flow",webkitFlexGrow:"-webkit-flex-grow",webkitFlexShrink:"-webkit-flex-shrink",webkitFlexWrap:"-webkit-flex-wrap",webkitJustifyContent:"-webkit-justify-content",webkitOrder:"-webkit-order",webkitPerspective:"-webkit-perspective-origin",webkitPerspectiveOrigin:"-webkit-perspective-origin",webkitTapHighlightColor:"-webkit-tap-highlight-color",webkitTextFillColor:"-webkit-text-fill-color",webkitTextSizeAdjust:"-webkit-text-size-adjust",webkitTextStroke:"-webkit-text-stroke",webkitTextStrokeColor:"-webkit-text-stroke-color",webkitTextStrokeWidth:"-webkit-text-stroke-width",webkitTransform:"-webkit-transform",webkitTransformOrigin:"-webkit-transform-origin",webkitTransformStyle:"-webkit-transform-style",webkitTransition:"-webkit-transition",webkitTransitionDelay:"-webkit-transition-delay",webkitTransitionDuration:"-webkit-transition-duration",webkitTransitionProperty:"-webkit-transition-property",webkitTransitionTimingFunction:"-webkit-transition-timing-function",webkitUserModify:"-webkit-user-modify",webkitUserSelect:"-webkit-user-select",webkitWritingMode:"-webkit-writing-mode",whiteSpace:"white-space",widows:"widows",width:"width",wordBreak:"word-break",wordSpacing:"word-spacing",wordWrap:"word-wrap",writingMode:"writing-mode",zIndex:"z-index",zoom:"zoom",resize:"resize",userSelect:"user-select"};for(var prop in cssProperties)defineStyleProperty(prop);function defineStyleProperty(jsname){var cssname=cssProperties[jsname];Object.defineProperty(CSSStyleDeclaration.prototype,jsname,{get:function(){return this.getPropertyValue(cssname)},set:function(value){this.setProperty(cssname,value)}}),CSSStyleDeclaration.prototype.hasOwnProperty(cssname)||Object.defineProperty(CSSStyleDeclaration.prototype,cssname,{get:function(){return this.getPropertyValue(cssname)},set:function(value){this.setProperty(cssname,value)}})}},"4I5i":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ArgumentOutOfRangeError}));const ArgumentOutOfRangeError=(()=>{function ArgumentOutOfRangeErrorImpl(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return ArgumentOutOfRangeErrorImpl.prototype=Object.create(Error.prototype),ArgumentOutOfRangeErrorImpl})()},"4YCK":function(module,exports,__webpack_require__){"use strict";module.exports=CustomEvent;var Event=__webpack_require__("KUlC");function CustomEvent(type,dictionary){Event.call(this,type,dictionary)}CustomEvent.prototype=Object.create(Event.prototype,{constructor:{value:CustomEvent}})},"5+tZ":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return mergeMap}));var _util_subscribeToResult__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("ZUHj"),_OuterSubscriber__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("l7GE"),_InnerSubscriber__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("51Dv"),_map__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("lJxs"),_observable_from__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("Cfvw");function mergeMap(project,resultSelector,concurrent=Number.POSITIVE_INFINITY){return"function"==typeof resultSelector?source=>source.pipe(mergeMap((a,i)=>Object(_observable_from__WEBPACK_IMPORTED_MODULE_4__.a)(project(a,i)).pipe(Object(_map__WEBPACK_IMPORTED_MODULE_3__.a)((b,ii)=>resultSelector(a,b,i,ii))),concurrent)):("number"==typeof resultSelector&&(concurrent=resultSelector),source=>source.lift(new MergeMapOperator(project,concurrent)))}class MergeMapOperator{constructor(project,concurrent=Number.POSITIVE_INFINITY){this.project=project,this.concurrent=concurrent}call(observer,source){return source.subscribe(new MergeMapSubscriber(observer,this.project,this.concurrent))}}class MergeMapSubscriber extends _OuterSubscriber__WEBPACK_IMPORTED_MODULE_1__.a{constructor(destination,project,concurrent=Number.POSITIVE_INFINITY){super(destination),this.project=project,this.concurrent=concurrent,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(value){this.active<this.concurrent?this._tryNext(value):this.buffer.push(value)}_tryNext(value){let result;const index=this.index++;try{result=this.project(value,index)}catch(err){return void this.destination.error(err)}this.active++,this._innerSub(result,value,index)}_innerSub(ish,value,index){const innerSubscriber=new _InnerSubscriber__WEBPACK_IMPORTED_MODULE_2__.a(this,value,index),destination=this.destination;destination.add(innerSubscriber);const innerSubscription=Object(_util_subscribeToResult__WEBPACK_IMPORTED_MODULE_0__.a)(this,ish,void 0,void 0,innerSubscriber);innerSubscription!==innerSubscriber&&destination.add(innerSubscription)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}notifyComplete(innerSub){const buffer=this.buffer;this.remove(innerSub),this.active--,buffer.length>0?this._next(buffer.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return InnerSubscriber}));var _Subscriber__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7o/Q");class InnerSubscriber extends _Subscriber__WEBPACK_IMPORTED_MODULE_0__.a{constructor(parent,outerValue,outerIndex){super(),this.parent=parent,this.outerValue=outerValue,this.outerIndex=outerIndex,this.index=0}_next(value){this.parent.notifyNext(this.outerValue,value,this.outerIndex,this.index++,this)}_error(error){this.parent.notifyError(error,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"5bTs":function(module,exports,__webpack_require__){"use strict";module.exports=Comment;var Node=__webpack_require__("P6n3"),CharacterData=__webpack_require__("KqMX");function Comment(doc,data){CharacterData.call(this),this.nodeType=Node.COMMENT_NODE,this.ownerDocument=doc,this._data=data}var nodeValue={get:function(){return this._data},set:function(v){v=null==v?"":String(v),this._data=v,this.rooted&&this.ownerDocument.mutateValue(this)}};Comment.prototype=Object.create(CharacterData.prototype,{nodeName:{value:"#comment"},nodeValue:nodeValue,textContent:nodeValue,data:{get:nodeValue.get,set:function(v){nodeValue.set.call(this,null===v?"":String(v))}},clone:{value:function clone(){return new Comment(this.ownerDocument,this._data)}}})},"5rAD":function(module,exports,__webpack_require__){"use strict";module.exports={Event:__webpack_require__("KUlC"),UIEvent:__webpack_require__("V+5d"),MouseEvent:__webpack_require__("C+Lp"),CustomEvent:__webpack_require__("4YCK")}},"7SXX":function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__("Wo4J");function DOMTokenList(getter,setter){this._getString=getter,this._setString=setter,this._length=0,this._update()}function fixIndex(clist,list){var i,oldLength=clist._length;for(clist._length=list.length,i=0;i<list.length;i++)clist[i]=list[i];for(;i<oldLength;i++)clist[i]=void 0}function handleErrors(token){return""===(token=String(token))&&utils.SyntaxError(),/[ \t\r\n\f]/.test(token)&&utils.InvalidCharacterError(),token}function getList(clist){var str=clist._getString().replace(/(^[ \t\r\n\f]+)|([ \t\r\n\f]+$)/g,"");if(""===str)return[];var seen=Object.create(null);return str.split(/[ \t\r\n\f]+/g).filter((function(n){var key="$"+n;return!seen[key]&&(seen[key]=!0,!0)}))}module.exports=DOMTokenList,Object.defineProperties(DOMTokenList.prototype,{length:{get:function(){return this._length}},item:{value:function(index){var list=getList(this);return index<0||index>=list.length?null:list[index]}},contains:{value:function(token){return token=String(token),getList(this).indexOf(token)>-1}},add:{value:function(){for(var list=getList(this),i=0,len=arguments.length;i<len;i++){var token=handleErrors(arguments[i]);list.indexOf(token)<0&&list.push(token)}this._update(list)}},remove:{value:function(){for(var list=getList(this),i=0,len=arguments.length;i<len;i++){var token=handleErrors(arguments[i]),index=list.indexOf(token);index>-1&&list.splice(index,1)}this._update(list)}},toggle:{value:function toggle(token,force){return token=handleErrors(token),this.contains(token)?void 0!==force&&!1!==force||(this.remove(token),!1):(void 0===force||!0===force)&&(this.add(token),!0)}},replace:{value:function replace(token,newToken){""===String(newToken)&&utils.SyntaxError(),token=handleErrors(token),newToken=handleErrors(newToken);var list=getList(this),idx=list.indexOf(token);if(idx<0)return!1;var idx2=list.indexOf(newToken);return idx2<0?list[idx]=newToken:idx<idx2?(list[idx]=newToken,list.splice(idx2,1)):list.splice(idx,1),this._update(list),!0}},toString:{value:function(){return this._getString()}},value:{get:function(){return this._getString()},set:function(v){this._setString(v),this._update()}},_update:{value:function(list){list?(fixIndex(this,list),this._setString(list.join(" ").trim())):fixIndex(this,getList(this))}}})},"7WL4":function(module,exports){module.exports=require("https")},"7o/Q":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Subscriber}));var _util_isFunction__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("n6bG"),_Observer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("gRHU"),_Subscription__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("quSY"),_internal_symbol_rxSubscriber__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("2QA8"),_config__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("2fFW"),_util_hostReportError__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("NJ4a");class Subscriber extends _Subscription__WEBPACK_IMPORTED_MODULE_2__.a{constructor(destinationOrNext,error,complete){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=_Observer__WEBPACK_IMPORTED_MODULE_1__.a;break;case 1:if(!destinationOrNext){this.destination=_Observer__WEBPACK_IMPORTED_MODULE_1__.a;break}if("object"==typeof destinationOrNext){destinationOrNext instanceof Subscriber?(this.syncErrorThrowable=destinationOrNext.syncErrorThrowable,this.destination=destinationOrNext,destinationOrNext.add(this)):(this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,destinationOrNext));break}default:this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,destinationOrNext,error,complete)}}[_internal_symbol_rxSubscriber__WEBPACK_IMPORTED_MODULE_3__.a](){return this}static create(next,error,complete){const subscriber=new Subscriber(next,error,complete);return subscriber.syncErrorThrowable=!1,subscriber}next(value){this.isStopped||this._next(value)}error(err){this.isStopped||(this.isStopped=!0,this._error(err))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(value){this.destination.next(value)}_error(err){this.destination.error(err),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:_parentOrParents}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=_parentOrParents,this}}class SafeSubscriber extends Subscriber{constructor(_parentSubscriber,observerOrNext,error,complete){let next;super(),this._parentSubscriber=_parentSubscriber;let context=this;Object(_util_isFunction__WEBPACK_IMPORTED_MODULE_0__.a)(observerOrNext)?next=observerOrNext:observerOrNext&&(next=observerOrNext.next,error=observerOrNext.error,complete=observerOrNext.complete,observerOrNext!==_Observer__WEBPACK_IMPORTED_MODULE_1__.a&&(context=Object.create(observerOrNext),Object(_util_isFunction__WEBPACK_IMPORTED_MODULE_0__.a)(context.unsubscribe)&&this.add(context.unsubscribe.bind(context)),context.unsubscribe=this.unsubscribe.bind(this))),this._context=context,this._next=next,this._error=error,this._complete=complete}next(value){if(!this.isStopped&&this._next){const{_parentSubscriber:_parentSubscriber}=this;_config__WEBPACK_IMPORTED_MODULE_4__.a.useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?this.__tryOrSetError(_parentSubscriber,this._next,value)&&this.unsubscribe():this.__tryOrUnsub(this._next,value)}}error(err){if(!this.isStopped){const{_parentSubscriber:_parentSubscriber}=this,{useDeprecatedSynchronousErrorHandling:useDeprecatedSynchronousErrorHandling}=_config__WEBPACK_IMPORTED_MODULE_4__.a;if(this._error)useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,this._error,err),this.unsubscribe()):(this.__tryOrUnsub(this._error,err),this.unsubscribe());else if(_parentSubscriber.syncErrorThrowable)useDeprecatedSynchronousErrorHandling?(_parentSubscriber.syncErrorValue=err,_parentSubscriber.syncErrorThrown=!0):Object(_util_hostReportError__WEBPACK_IMPORTED_MODULE_5__.a)(err),this.unsubscribe();else{if(this.unsubscribe(),useDeprecatedSynchronousErrorHandling)throw err;Object(_util_hostReportError__WEBPACK_IMPORTED_MODULE_5__.a)(err)}}}complete(){if(!this.isStopped){const{_parentSubscriber:_parentSubscriber}=this;if(this._complete){const wrappedComplete=()=>this._complete.call(this._context);_config__WEBPACK_IMPORTED_MODULE_4__.a.useDeprecatedSynchronousErrorHandling&&_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,wrappedComplete),this.unsubscribe()):(this.__tryOrUnsub(wrappedComplete),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(fn,value){try{fn.call(this._context,value)}catch(err){if(this.unsubscribe(),_config__WEBPACK_IMPORTED_MODULE_4__.a.useDeprecatedSynchronousErrorHandling)throw err;Object(_util_hostReportError__WEBPACK_IMPORTED_MODULE_5__.a)(err)}}__tryOrSetError(parent,fn,value){if(!_config__WEBPACK_IMPORTED_MODULE_4__.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{fn.call(this._context,value)}catch(err){return _config__WEBPACK_IMPORTED_MODULE_4__.a.useDeprecatedSynchronousErrorHandling?(parent.syncErrorValue=err,parent.syncErrorThrown=!0,!0):(Object(_util_hostReportError__WEBPACK_IMPORTED_MODULE_5__.a)(err),!0)}return!1}_unsubscribe(){const{_parentSubscriber:_parentSubscriber}=this;this._context=null,this._parentSubscriber=null,_parentSubscriber.unsubscribe()}}},"8gc0":function(module,exports,__webpack_require__){"use strict";module.exports={VALUE:1,ATTR:2,REMOVE_ATTR:3,REMOVE:4,MOVE:5,INSERT:6}},"9TRp":function(module,exports,__webpack_require__){"use strict";var WindowTimers={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval};module.exports=WindowTimers},"9ppp":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ObjectUnsubscribedError}));const ObjectUnsubscribedError=(()=>{function ObjectUnsubscribedErrorImpl(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ObjectUnsubscribedErrorImpl.prototype=Object.create(Error.prototype),ObjectUnsubscribedErrorImpl})()},"9vUh":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const i0=__webpack_require__("fXoL");class HomeComponent{constructor(){}ngOnInit(){}}exports.HomeComponent=HomeComponent,HomeComponent.\u0275fac=function HomeComponent_Factory(t){return new(t||HomeComponent)},HomeComponent.\u0275cmp=i0.\u0275\u0275defineComponent({type:HomeComponent,selectors:[["app-home"]],decls:10,vars:0,consts:[["role","main"],[1,"jumbotron","text-center"],[1,"container"],[1,"jumbotron-heading"],[1,"lead","text-muted"],["href","https://www.universal-tutorial.com/angular-tutorials/angular-web-application-performance-improvements-using-app-shell",1,"btn","btn-primary","my-2","m-2"]],template:function HomeComponent_Template(rf,ctx){1&rf&&(i0.\u0275\u0275elementStart(0,"main",0),i0.\u0275\u0275elementStart(1,"section",1),i0.\u0275\u0275elementStart(2,"div",2),i0.\u0275\u0275elementStart(3,"h1",3),i0.\u0275\u0275text(4,"Universal Tutorial"),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementStart(5,"p",4),i0.\u0275\u0275text(6," This is the demo page to demostrate the Angular App Shell and currently it's with App Shell "),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementStart(7,"p"),i0.\u0275\u0275elementStart(8,"a",5),i0.\u0275\u0275text(9,"Go back to Original Article"),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd())},styles:[""]})},AF4J:function(module,exports,__webpack_require__){"use strict";var DOMImplementation=__webpack_require__("Cj8W"),EventTarget=__webpack_require__("zOVX"),Location=__webpack_require__("CbxZ"),sloppy=__webpack_require__("wPkN"),utils=__webpack_require__("Wo4J");function Window(document){this.document=document||new DOMImplementation(null).createHTMLDocument(""),this.document._scripting_enabled=!0,this.document.defaultView=this,this.location=new Location(this,this.document._address||"about:blank")}module.exports=Window,Window.prototype=Object.create(EventTarget.prototype,{_run:{value:sloppy.Window_run},console:{value:console},history:{value:{back:utils.nyi,forward:utils.nyi,go:utils.nyi}},navigator:{value:__webpack_require__("mO4B")},window:{get:function(){return this}},self:{get:function(){return this}},frames:{get:function(){return this}},parent:{get:function(){return this}},top:{get:function(){return this}},length:{value:0},frameElement:{value:null},opener:{value:null},onload:{get:function(){return this._getEventHandler("load")},set:function(v){this._setEventHandler("load",v)}},getComputedStyle:{value:function getComputedStyle(elt){return elt.style}}}),utils.expose(__webpack_require__("9TRp"),Window),utils.expose(__webpack_require__("eHbt"),Window)},AytR:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.environment={production:!0}},BHFI:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var common=__webpack_require__("ofXK"),core=__webpack_require__("fXoL"),platform_browser=__webpack_require__("jhN1");class AnimationBuilder{}function sequence(steps,options=null){return{type:2,steps:steps,options:options}}function animations_style(tokens){return{type:6,styles:tokens,offset:null}}function scheduleMicroTask(cb){Promise.resolve(null).then(cb)}class NoopAnimationPlayer{constructor(duration=0,delay=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=duration+delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fn=>fn()),this._onDoneFns=[])}onStart(fn){this._onStartFns.push(fn)}onDone(fn){this._onDoneFns.push(fn)}onDestroy(fn){this._onDestroyFns.push(fn)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){scheduleMicroTask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(fn=>fn()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(fn=>fn()),this._onDestroyFns=[])}reset(){}setPosition(position){}getPosition(){return 0}triggerCallback(phaseName){const methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(fn=>fn()),methods.length=0}}class AnimationGroupPlayer{constructor(_players){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_players;let doneCount=0,destroyCount=0,startCount=0;const total=this.players.length;0==total?scheduleMicroTask(()=>this._onFinish()):this.players.forEach(player=>{player.onDone(()=>{++doneCount==total&&this._onFinish()}),player.onDestroy(()=>{++destroyCount==total&&this._onDestroy()}),player.onStart(()=>{++startCount==total&&this._onStart()})}),this.totalTime=this.players.reduce((time,player)=>Math.max(time,player.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fn=>fn()),this._onDoneFns=[])}init(){this.players.forEach(player=>player.init())}onStart(fn){this._onStartFns.push(fn)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(fn=>fn()),this._onStartFns=[])}onDone(fn){this._onDoneFns.push(fn)}onDestroy(fn){this._onDestroyFns.push(fn)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(player=>player.play())}pause(){this.players.forEach(player=>player.pause())}restart(){this.players.forEach(player=>player.restart())}finish(){this._onFinish(),this.players.forEach(player=>player.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(player=>player.destroy()),this._onDestroyFns.forEach(fn=>fn()),this._onDestroyFns=[])}reset(){this.players.forEach(player=>player.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(p){const timeAtPosition=p*this.totalTime;this.players.forEach(player=>{const position=player.totalTime?Math.min(1,timeAtPosition/player.totalTime):1;player.setPosition(position)})}getPosition(){let min=0;return this.players.forEach(player=>{const p=player.getPosition();min=Math.min(p,min)}),min}beforeDestroy(){this.players.forEach(player=>{player.beforeDestroy&&player.beforeDestroy()})}triggerCallback(phaseName){const methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(fn=>fn()),methods.length=0}}function isNode(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function optimizeGroupPlayer(players){switch(players.length){case 0:return new NoopAnimationPlayer;case 1:return players[0];default:return new AnimationGroupPlayer(players)}}function normalizeKeyframes(driver,normalizer,element,keyframes,preStyles={},postStyles={}){const errors=[],normalizedKeyframes=[];let previousOffset=-1,previousKeyframe=null;if(keyframes.forEach(kf=>{const offset=kf.offset,isSameOffset=offset==previousOffset,normalizedKeyframe=isSameOffset&&previousKeyframe||{};Object.keys(kf).forEach(prop=>{let normalizedProp=prop,normalizedValue=kf[prop];if("offset"!==prop)switch(normalizedProp=normalizer.normalizePropertyName(normalizedProp,errors),normalizedValue){case"!":normalizedValue=preStyles[prop];break;case"*":normalizedValue=postStyles[prop];break;default:normalizedValue=normalizer.normalizeStyleValue(prop,normalizedProp,normalizedValue,errors)}normalizedKeyframe[normalizedProp]=normalizedValue}),isSameOffset||normalizedKeyframes.push(normalizedKeyframe),previousKeyframe=normalizedKeyframe,previousOffset=offset}),errors.length){const LINE_START="\n - ";throw new Error(`Unable to animate due to the following errors:${LINE_START}${errors.join(LINE_START)}`)}return normalizedKeyframes}function listenOnPlayer(player,eventName,event,callback){switch(eventName){case"start":player.onStart(()=>callback(event&&copyAnimationEvent(event,"start",player)));break;case"done":player.onDone(()=>callback(event&&copyAnimationEvent(event,"done",player)));break;case"destroy":player.onDestroy(()=>callback(event&&copyAnimationEvent(event,"destroy",player)))}}function copyAnimationEvent(e,phaseName,player){const totalTime=player.totalTime,disabled=!!player.disabled,event=makeAnimationEvent(e.element,e.triggerName,e.fromState,e.toState,phaseName||e.phaseName,null==totalTime?e.totalTime:totalTime,disabled),data=e._data;return null!=data&&(event._data=data),event}function makeAnimationEvent(element,triggerName,fromState,toState,phaseName="",totalTime=0,disabled){return{element:element,triggerName:triggerName,fromState:fromState,toState:toState,phaseName:phaseName,totalTime:totalTime,disabled:!!disabled}}function getOrSetAsInMap(map,key,defaultValue){let value;return map instanceof Map?(value=map.get(key),value||map.set(key,value=defaultValue)):(value=map[key],value||(value=map[key]=defaultValue)),value}function parseTimelineCommand(command){const separatorPos=command.indexOf(":");return[command.substring(1,separatorPos),command.substr(separatorPos+1)]}let _contains=(elm1,elm2)=>!1;let _matches=(element,selector)=>!1;let _query=(element,selector,multi)=>[];const _isNode=isNode();(_isNode||"undefined"!=typeof Element)&&(_contains=(elm1,elm2)=>elm1.contains(elm2),_matches=(()=>{if(_isNode||Element.prototype.matches)return(element,selector)=>element.matches(selector);{const proto=Element.prototype,fn=proto.matchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector||proto.webkitMatchesSelector;return fn?(element,selector)=>fn.apply(element,[selector]):_matches}})(),_query=(element,selector,multi)=>{let results=[];if(multi)results.push(...element.querySelectorAll(selector));else{const elm=element.querySelector(selector);elm&&results.push(elm)}return results});let _CACHED_BODY=null,_IS_WEBKIT=!1;function validateStyleProperty(prop){_CACHED_BODY||(_CACHED_BODY=function getBodyNode(){if("undefined"!=typeof document)return document.body;return null}()||{},_IS_WEBKIT=!!_CACHED_BODY.style&&"WebkitAppearance"in _CACHED_BODY.style);let result=!0;if(_CACHED_BODY.style&&!function containsVendorPrefix(prop){return"ebkit"==prop.substring(1,6)}(prop)&&(result=prop in _CACHED_BODY.style,!result&&_IS_WEBKIT)){result="Webkit"+prop.charAt(0).toUpperCase()+prop.substr(1)in _CACHED_BODY.style}return result}const matchesElement=_matches,containsElement=_contains,invokeQuery=_query;function hypenatePropsObject(object){const newObj={};return Object.keys(object).forEach(prop=>{const newProp=prop.replace(/([a-z])([A-Z])/g,"$1-$2");newObj[newProp]=object[prop]}),newObj}class browser_NoopAnimationDriver{validateStyleProperty(prop){return validateStyleProperty(prop)}matchesElement(element,selector){return matchesElement(element,selector)}containsElement(elm1,elm2){return containsElement(elm1,elm2)}query(element,selector,multi){return invokeQuery(element,selector,multi)}computeStyle(element,prop,defaultValue){return defaultValue||""}animate(element,keyframes,duration,delay,easing,previousPlayers=[],scrubberAccessRequested){return new NoopAnimationPlayer(duration,delay)}}browser_NoopAnimationDriver.\u0275fac=function NoopAnimationDriver_Factory(t){return new(t||browser_NoopAnimationDriver)},browser_NoopAnimationDriver.\u0275prov=core["\u0275\u0275defineInjectable"]({token:browser_NoopAnimationDriver,factory:browser_NoopAnimationDriver.\u0275fac});class AnimationDriver{}AnimationDriver.NOOP=new browser_NoopAnimationDriver;function resolveTimingValue(value){if("number"==typeof value)return value;const matches=value.match(/^(-?[\.\d]+)(m?s)/);return!matches||matches.length<2?0:_convertTimeValueToMS(parseFloat(matches[1]),matches[2])}function _convertTimeValueToMS(value,unit){switch(unit){case"s":return 1e3*value;default:return value}}function resolveTiming(timings,errors,allowNegativeValues){return timings.hasOwnProperty("duration")?timings:function parseTimeExpression(exp,errors,allowNegativeValues){const regex=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;let duration,delay=0,easing="";if("string"==typeof exp){const matches=exp.match(regex);if(null===matches)return errors.push(`The provided timing value "${exp}" is invalid.`),{duration:0,delay:0,easing:""};duration=_convertTimeValueToMS(parseFloat(matches[1]),matches[2]);const delayMatch=matches[3];null!=delayMatch&&(delay=_convertTimeValueToMS(parseFloat(delayMatch),matches[4]));const easingVal=matches[5];easingVal&&(easing=easingVal)}else duration=exp;if(!allowNegativeValues){let containsErrors=!1,startIndex=errors.length;duration<0&&(errors.push("Duration values below 0 are not allowed for this animation step."),containsErrors=!0),delay<0&&(errors.push("Delay values below 0 are not allowed for this animation step."),containsErrors=!0),containsErrors&&errors.splice(startIndex,0,`The provided timing value "${exp}" is invalid.`)}return{duration:duration,delay:delay,easing:easing}}(timings,errors,allowNegativeValues)}function copyObj(obj,destination={}){return Object.keys(obj).forEach(prop=>{destination[prop]=obj[prop]}),destination}function copyStyles(styles,readPrototype,destination={}){if(readPrototype)for(let prop in styles)destination[prop]=styles[prop];else copyObj(styles,destination);return destination}function getStyleAttributeString(element,key,value){return value?key+":"+value+";":""}function writeStyleAttribute(element){let styleAttrValue="";for(let i=0;i<element.style.length;i++){const key=element.style.item(i);styleAttrValue+=getStyleAttributeString(0,key,element.style.getPropertyValue(key))}for(const key in element.style){if(!element.style.hasOwnProperty(key)||key.startsWith("_"))continue;styleAttrValue+=getStyleAttributeString(0,key.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),element.style[key])}element.setAttribute("style",styleAttrValue)}function setStyles(element,styles,formerStyles){element.style&&(Object.keys(styles).forEach(prop=>{const camelProp=dashCaseToCamelCase(prop);formerStyles&&!formerStyles.hasOwnProperty(prop)&&(formerStyles[prop]=element.style[camelProp]),element.style[camelProp]=styles[prop]}),isNode()&&writeStyleAttribute(element))}function eraseStyles(element,styles){element.style&&(Object.keys(styles).forEach(prop=>{const camelProp=dashCaseToCamelCase(prop);element.style[camelProp]=""}),isNode()&&writeStyleAttribute(element))}function normalizeAnimationEntry(steps){return Array.isArray(steps)?1==steps.length?steps[0]:sequence(steps):steps}const PARAM_REGEX=new RegExp("{{\\s*(.+?)\\s*}}","g");function extractStyleParams(value){let params=[];if("string"==typeof value){let match;for(;match=PARAM_REGEX.exec(value);)params.push(match[1]);PARAM_REGEX.lastIndex=0}return params}function interpolateParams(value,params,errors){const original=value.toString(),str=original.replace(PARAM_REGEX,(_,varName)=>{let localVal=params[varName];return params.hasOwnProperty(varName)||(errors.push(`Please provide a value for the animation param ${varName}`),localVal=""),localVal.toString()});return str==original?value:str}function iteratorToArray(iterator){const arr=[];let item=iterator.next();for(;!item.done;)arr.push(item.value),item=iterator.next();return arr}const DASH_CASE_REGEXP=/-+([a-z0-9])/g;function dashCaseToCamelCase(input){return input.replace(DASH_CASE_REGEXP,(...m)=>m[1].toUpperCase())}function allowPreviousPlayerStylesMerge(duration,delay){return 0===duration||0===delay}function balancePreviousStylesIntoKeyframes(element,keyframes,previousStyles){const previousStyleProps=Object.keys(previousStyles);if(previousStyleProps.length&&keyframes.length){let startingKeyframe=keyframes[0],missingStyleProps=[];if(previousStyleProps.forEach(prop=>{startingKeyframe.hasOwnProperty(prop)||missingStyleProps.push(prop),startingKeyframe[prop]=previousStyles[prop]}),missingStyleProps.length)for(var i=1;i<keyframes.length;i++){let kf=keyframes[i];missingStyleProps.forEach((function(prop){kf[prop]=computeStyle(element,prop)}))}}return keyframes}function visitDslNode(visitor,node,context){switch(node.type){case 7:return visitor.visitTrigger(node,context);case 0:return visitor.visitState(node,context);case 1:return visitor.visitTransition(node,context);case 2:return visitor.visitSequence(node,context);case 3:return visitor.visitGroup(node,context);case 4:return visitor.visitAnimate(node,context);case 5:return visitor.visitKeyframes(node,context);case 6:return visitor.visitStyle(node,context);case 8:return visitor.visitReference(node,context);case 9:return visitor.visitAnimateChild(node,context);case 10:return visitor.visitAnimateRef(node,context);case 11:return visitor.visitQuery(node,context);case 12:return visitor.visitStagger(node,context);default:throw new Error(`Unable to resolve animation metadata node #${node.type}`)}}function computeStyle(element,prop){return window.getComputedStyle(element)[prop]}function parseTransitionExpr(transitionValue,errors){const expressions=[];return"string"==typeof transitionValue?transitionValue.split(/\s*,\s*/).forEach(str=>function parseInnerTransitionStr(eventStr,expressions,errors){if(":"==eventStr[0]){const result=function parseAnimationAlias(alias,errors){switch(alias){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(fromState,toState)=>parseFloat(toState)>parseFloat(fromState);case":decrement":return(fromState,toState)=>parseFloat(toState)<parseFloat(fromState);default:return errors.push(`The transition alias value "${alias}" is not supported`),"* => *"}}(eventStr,errors);if("function"==typeof result)return void expressions.push(result);eventStr=result}const match=eventStr.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==match||match.length<4)return errors.push(`The provided transition expression "${eventStr}" is not supported`),expressions;const fromState=match[1],separator=match[2],toState=match[3];expressions.push(makeLambdaFromStates(fromState,toState));const isFullAnyStateExpr="*"==fromState&&"*"==toState;"<"!=separator[0]||isFullAnyStateExpr||expressions.push(makeLambdaFromStates(toState,fromState))}(str,expressions,errors)):expressions.push(transitionValue),expressions}const TRUE_BOOLEAN_VALUES=new Set(["true","1"]),FALSE_BOOLEAN_VALUES=new Set(["false","0"]);function makeLambdaFromStates(lhs,rhs){const LHS_MATCH_BOOLEAN=TRUE_BOOLEAN_VALUES.has(lhs)||FALSE_BOOLEAN_VALUES.has(lhs),RHS_MATCH_BOOLEAN=TRUE_BOOLEAN_VALUES.has(rhs)||FALSE_BOOLEAN_VALUES.has(rhs);return(fromState,toState)=>{let lhsMatch="*"==lhs||lhs==fromState,rhsMatch="*"==rhs||rhs==toState;return!lhsMatch&&LHS_MATCH_BOOLEAN&&"boolean"==typeof fromState&&(lhsMatch=fromState?TRUE_BOOLEAN_VALUES.has(lhs):FALSE_BOOLEAN_VALUES.has(lhs)),!rhsMatch&&RHS_MATCH_BOOLEAN&&"boolean"==typeof toState&&(rhsMatch=toState?TRUE_BOOLEAN_VALUES.has(rhs):FALSE_BOOLEAN_VALUES.has(rhs)),lhsMatch&&rhsMatch}}const SELF_TOKEN_REGEX=new RegExp("s*:selfs*,?","g");function buildAnimationAst(driver,metadata,errors){return new browser_AnimationAstBuilderVisitor(driver).build(metadata,errors)}class browser_AnimationAstBuilderVisitor{constructor(_driver){this._driver=_driver}build(metadata,errors){const context=new AnimationAstBuilderContext(errors);return this._resetContextStyleTimingState(context),visitDslNode(this,normalizeAnimationEntry(metadata),context)}_resetContextStyleTimingState(context){context.currentQuerySelector="",context.collectedStyles={},context.collectedStyles[""]={},context.currentTime=0}visitTrigger(metadata,context){let queryCount=context.queryCount=0,depCount=context.depCount=0;const states=[],transitions=[];return"@"==metadata.name.charAt(0)&&context.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),metadata.definitions.forEach(def=>{if(this._resetContextStyleTimingState(context),0==def.type){const stateDef=def,name=stateDef.name;name.toString().split(/\s*,\s*/).forEach(n=>{stateDef.name=n,states.push(this.visitState(stateDef,context))}),stateDef.name=name}else if(1==def.type){const transition=this.visitTransition(def,context);queryCount+=transition.queryCount,depCount+=transition.depCount,transitions.push(transition)}else context.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:metadata.name,states:states,transitions:transitions,queryCount:queryCount,depCount:depCount,options:null}}visitState(metadata,context){const styleAst=this.visitStyle(metadata.styles,context),astParams=metadata.options&&metadata.options.params||null;if(styleAst.containsDynamicStyles){const missingSubs=new Set,params=astParams||{};if(styleAst.styles.forEach(value=>{if(isObject(value)){const stylesObj=value;Object.keys(stylesObj).forEach(prop=>{extractStyleParams(stylesObj[prop]).forEach(sub=>{params.hasOwnProperty(sub)||missingSubs.add(sub)})})}}),missingSubs.size){const missingSubsArr=iteratorToArray(missingSubs.values());context.errors.push(`state("${metadata.name}", ...) must define default values for all the following style substitutions: ${missingSubsArr.join(", ")}`)}}return{type:0,name:metadata.name,style:styleAst,options:astParams?{params:astParams}:null}}visitTransition(metadata,context){context.queryCount=0,context.depCount=0;const animation=visitDslNode(this,normalizeAnimationEntry(metadata.animation),context);return{type:1,matchers:parseTransitionExpr(metadata.expr,context.errors),animation:animation,queryCount:context.queryCount,depCount:context.depCount,options:normalizeAnimationOptions(metadata.options)}}visitSequence(metadata,context){return{type:2,steps:metadata.steps.map(s=>visitDslNode(this,s,context)),options:normalizeAnimationOptions(metadata.options)}}visitGroup(metadata,context){const currentTime=context.currentTime;let furthestTime=0;const steps=metadata.steps.map(step=>{context.currentTime=currentTime;const innerAst=visitDslNode(this,step,context);return furthestTime=Math.max(furthestTime,context.currentTime),innerAst});return context.currentTime=furthestTime,{type:3,steps:steps,options:normalizeAnimationOptions(metadata.options)}}visitAnimate(metadata,context){const timingAst=function constructTimingAst(value,errors){let timings=null;if(value.hasOwnProperty("duration"))timings=value;else if("number"==typeof value){return makeTimingAst(resolveTiming(value,errors).duration,0,"")}const strValue=value;if(strValue.split(/\s+/).some(v=>"{"==v.charAt(0)&&"{"==v.charAt(1))){const ast=makeTimingAst(0,0,"");return ast.dynamic=!0,ast.strValue=strValue,ast}return timings=timings||resolveTiming(strValue,errors),makeTimingAst(timings.duration,timings.delay,timings.easing)}(metadata.timings,context.errors);let styleAst;context.currentAnimateTimings=timingAst;let styleMetadata=metadata.styles?metadata.styles:animations_style({});if(5==styleMetadata.type)styleAst=this.visitKeyframes(styleMetadata,context);else{let styleMetadata=metadata.styles,isEmpty=!1;if(!styleMetadata){isEmpty=!0;const newStyleData={};timingAst.easing&&(newStyleData.easing=timingAst.easing),styleMetadata=animations_style(newStyleData)}context.currentTime+=timingAst.duration+timingAst.delay;const _styleAst=this.visitStyle(styleMetadata,context);_styleAst.isEmptyStep=isEmpty,styleAst=_styleAst}return context.currentAnimateTimings=null,{type:4,timings:timingAst,style:styleAst,options:null}}visitStyle(metadata,context){const ast=this._makeStyleAst(metadata,context);return this._validateStyleAst(ast,context),ast}_makeStyleAst(metadata,context){const styles=[];Array.isArray(metadata.styles)?metadata.styles.forEach(styleTuple=>{"string"==typeof styleTuple?"*"==styleTuple?styles.push(styleTuple):context.errors.push(`The provided style string value ${styleTuple} is not allowed.`):styles.push(styleTuple)}):styles.push(metadata.styles);let containsDynamicStyles=!1,collectedEasing=null;return styles.forEach(styleData=>{if(isObject(styleData)){const styleMap=styleData,easing=styleMap.easing;if(easing&&(collectedEasing=easing,delete styleMap.easing),!containsDynamicStyles)for(let prop in styleMap){if(styleMap[prop].toString().indexOf("{{")>=0){containsDynamicStyles=!0;break}}}}),{type:6,styles:styles,easing:collectedEasing,offset:metadata.offset,containsDynamicStyles:containsDynamicStyles,options:null}}_validateStyleAst(ast,context){const timings=context.currentAnimateTimings;let endTime=context.currentTime,startTime=context.currentTime;timings&&startTime>0&&(startTime-=timings.duration+timings.delay),ast.styles.forEach(tuple=>{"string"!=typeof tuple&&Object.keys(tuple).forEach(prop=>{if(!this._driver.validateStyleProperty(prop))return void context.errors.push(`The provided animation property "${prop}" is not a supported CSS property for animations`);const collectedStyles=context.collectedStyles[context.currentQuerySelector],collectedEntry=collectedStyles[prop];let updateCollectedStyle=!0;collectedEntry&&(startTime!=endTime&&startTime>=collectedEntry.startTime&&endTime<=collectedEntry.endTime&&(context.errors.push(`The CSS property "${prop}" that exists between the times of "${collectedEntry.startTime}ms" and "${collectedEntry.endTime}ms" is also being animated in a parallel animation between the times of "${startTime}ms" and "${endTime}ms"`),updateCollectedStyle=!1),startTime=collectedEntry.startTime),updateCollectedStyle&&(collectedStyles[prop]={startTime:startTime,endTime:endTime}),context.options&&function validateStyleParams(value,options,errors){const params=options.params||{},matches=extractStyleParams(value);matches.length&&matches.forEach(varName=>{params.hasOwnProperty(varName)||errors.push(`Unable to resolve the local animation param ${varName} in the given list of values`)})}(tuple[prop],context.options,context.errors)})})}visitKeyframes(metadata,context){const ast={type:5,styles:[],options:null};if(!context.currentAnimateTimings)return context.errors.push("keyframes() must be placed inside of a call to animate()"),ast;let totalKeyframesWithOffsets=0;const offsets=[];let offsetsOutOfOrder=!1,keyframesOutOfRange=!1,previousOffset=0;const keyframes=metadata.steps.map(styles=>{const style=this._makeStyleAst(styles,context);let offsetVal=null!=style.offset?style.offset:function consumeOffset(styles){if("string"==typeof styles)return null;let offset=null;if(Array.isArray(styles))styles.forEach(styleTuple=>{if(isObject(styleTuple)&&styleTuple.hasOwnProperty("offset")){const obj=styleTuple;offset=parseFloat(obj.offset),delete obj.offset}});else if(isObject(styles)&&styles.hasOwnProperty("offset")){const obj=styles;offset=parseFloat(obj.offset),delete obj.offset}return offset}(style.styles),offset=0;return null!=offsetVal&&(totalKeyframesWithOffsets++,offset=style.offset=offsetVal),keyframesOutOfRange=keyframesOutOfRange||offset<0||offset>1,offsetsOutOfOrder=offsetsOutOfOrder||offset<previousOffset,previousOffset=offset,offsets.push(offset),style});keyframesOutOfRange&&context.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),offsetsOutOfOrder&&context.errors.push("Please ensure that all keyframe offsets are in order");const length=metadata.steps.length;let generatedOffset=0;totalKeyframesWithOffsets>0&&totalKeyframesWithOffsets<length?context.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==totalKeyframesWithOffsets&&(generatedOffset=1/(length-1));const limit=length-1,currentTime=context.currentTime,currentAnimateTimings=context.currentAnimateTimings,animateDuration=currentAnimateTimings.duration;return keyframes.forEach((kf,i)=>{const offset=generatedOffset>0?i==limit?1:generatedOffset*i:offsets[i],durationUpToThisFrame=offset*animateDuration;context.currentTime=currentTime+currentAnimateTimings.delay+durationUpToThisFrame,currentAnimateTimings.duration=durationUpToThisFrame,this._validateStyleAst(kf,context),kf.offset=offset,ast.styles.push(kf)}),ast}visitReference(metadata,context){return{type:8,animation:visitDslNode(this,normalizeAnimationEntry(metadata.animation),context),options:normalizeAnimationOptions(metadata.options)}}visitAnimateChild(metadata,context){return context.depCount++,{type:9,options:normalizeAnimationOptions(metadata.options)}}visitAnimateRef(metadata,context){return{type:10,animation:this.visitReference(metadata.animation,context),options:normalizeAnimationOptions(metadata.options)}}visitQuery(metadata,context){const parentSelector=context.currentQuerySelector,options=metadata.options||{};context.queryCount++,context.currentQuery=metadata;const[selector,includeSelf]=function normalizeSelector(selector){const hasAmpersand=!!selector.split(/\s*,\s*/).find(token=>":self"==token);hasAmpersand&&(selector=selector.replace(SELF_TOKEN_REGEX,""));return[selector=selector.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,match=>".ng-trigger-"+match.substr(1)).replace(/:animating/g,".ng-animating"),hasAmpersand]}(metadata.selector);context.currentQuerySelector=parentSelector.length?parentSelector+" "+selector:selector,getOrSetAsInMap(context.collectedStyles,context.currentQuerySelector,{});const animation=visitDslNode(this,normalizeAnimationEntry(metadata.animation),context);return context.currentQuery=null,context.currentQuerySelector=parentSelector,{type:11,selector:selector,limit:options.limit||0,optional:!!options.optional,includeSelf:includeSelf,animation:animation,originalSelector:metadata.selector,options:normalizeAnimationOptions(metadata.options)}}visitStagger(metadata,context){context.currentQuery||context.errors.push("stagger() can only be used inside of query()");const timings="full"===metadata.timings?{duration:0,delay:0,easing:"full"}:resolveTiming(metadata.timings,context.errors,!0);return{type:12,animation:visitDslNode(this,normalizeAnimationEntry(metadata.animation),context),timings:timings,options:null}}}class AnimationAstBuilderContext{constructor(errors){this.errors=errors,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function isObject(value){return!Array.isArray(value)&&"object"==typeof value}function normalizeAnimationOptions(options){return options?(options=copyObj(options)).params&&(options.params=function normalizeParams(obj){return obj?copyObj(obj):null}(options.params)):options={},options}function makeTimingAst(duration,delay,easing){return{duration:duration,delay:delay,easing:easing}}function createTimelineInstruction(element,keyframes,preStyleProps,postStyleProps,duration,delay,easing=null,subTimeline=!1){return{type:1,element:element,keyframes:keyframes,preStyleProps:preStyleProps,postStyleProps:postStyleProps,duration:duration,delay:delay,totalTime:duration+delay,easing:easing,subTimeline:subTimeline}}class ElementInstructionMap{constructor(){this._map=new Map}consume(element){let instructions=this._map.get(element);return instructions?this._map.delete(element):instructions=[],instructions}append(element,instructions){let existingInstructions=this._map.get(element);existingInstructions||this._map.set(element,existingInstructions=[]),existingInstructions.push(...instructions)}has(element){return this._map.has(element)}clear(){this._map.clear()}}const ENTER_TOKEN_REGEX=new RegExp(":enter","g"),LEAVE_TOKEN_REGEX=new RegExp(":leave","g");function buildAnimationTimelines(driver,rootElement,ast,enterClassName,leaveClassName,startingStyles={},finalStyles={},options,subInstructions,errors=[]){return(new AnimationTimelineBuilderVisitor).buildKeyframes(driver,rootElement,ast,enterClassName,leaveClassName,startingStyles,finalStyles,options,subInstructions,errors)}class AnimationTimelineBuilderVisitor{buildKeyframes(driver,rootElement,ast,enterClassName,leaveClassName,startingStyles,finalStyles,options,subInstructions,errors=[]){subInstructions=subInstructions||new ElementInstructionMap;const context=new AnimationTimelineContext(driver,rootElement,subInstructions,enterClassName,leaveClassName,errors,[]);context.options=options,context.currentTimeline.setStyles([startingStyles],null,context.errors,options),visitDslNode(this,ast,context);const timelines=context.timelines.filter(timeline=>timeline.containsAnimation());if(timelines.length&&Object.keys(finalStyles).length){const tl=timelines[timelines.length-1];tl.allowOnlyTimelineStyles()||tl.setStyles([finalStyles],null,context.errors,options)}return timelines.length?timelines.map(timeline=>timeline.buildKeyframes()):[createTimelineInstruction(rootElement,[],[],[],0,0,"",!1)]}visitTrigger(ast,context){}visitState(ast,context){}visitTransition(ast,context){}visitAnimateChild(ast,context){const elementInstructions=context.subInstructions.consume(context.element);if(elementInstructions){const innerContext=context.createSubContext(ast.options),startTime=context.currentTimeline.currentTime,endTime=this._visitSubInstructions(elementInstructions,innerContext,innerContext.options);startTime!=endTime&&context.transformIntoNewTimeline(endTime)}context.previousNode=ast}visitAnimateRef(ast,context){const innerContext=context.createSubContext(ast.options);innerContext.transformIntoNewTimeline(),this.visitReference(ast.animation,innerContext),context.transformIntoNewTimeline(innerContext.currentTimeline.currentTime),context.previousNode=ast}_visitSubInstructions(instructions,context,options){let furthestTime=context.currentTimeline.currentTime;const duration=null!=options.duration?resolveTimingValue(options.duration):null,delay=null!=options.delay?resolveTimingValue(options.delay):null;return 0!==duration&&instructions.forEach(instruction=>{const instructionTimings=context.appendInstructionToTimeline(instruction,duration,delay);furthestTime=Math.max(furthestTime,instructionTimings.duration+instructionTimings.delay)}),furthestTime}visitReference(ast,context){context.updateOptions(ast.options,!0),visitDslNode(this,ast.animation,context),context.previousNode=ast}visitSequence(ast,context){const subContextCount=context.subContextCount;let ctx=context;const options=ast.options;if(options&&(options.params||options.delay)&&(ctx=context.createSubContext(options),ctx.transformIntoNewTimeline(),null!=options.delay)){6==ctx.previousNode.type&&(ctx.currentTimeline.snapshotCurrentStyles(),ctx.previousNode=DEFAULT_NOOP_PREVIOUS_NODE);const delay=resolveTimingValue(options.delay);ctx.delayNextStep(delay)}ast.steps.length&&(ast.steps.forEach(s=>visitDslNode(this,s,ctx)),ctx.currentTimeline.applyStylesToKeyframe(),ctx.subContextCount>subContextCount&&ctx.transformIntoNewTimeline()),context.previousNode=ast}visitGroup(ast,context){const innerTimelines=[];let furthestTime=context.currentTimeline.currentTime;const delay=ast.options&&ast.options.delay?resolveTimingValue(ast.options.delay):0;ast.steps.forEach(s=>{const innerContext=context.createSubContext(ast.options);delay&&innerContext.delayNextStep(delay),visitDslNode(this,s,innerContext),furthestTime=Math.max(furthestTime,innerContext.currentTimeline.currentTime),innerTimelines.push(innerContext.currentTimeline)}),innerTimelines.forEach(timeline=>context.currentTimeline.mergeTimelineCollectedStyles(timeline)),context.transformIntoNewTimeline(furthestTime),context.previousNode=ast}_visitTiming(ast,context){if(ast.dynamic){const strValue=ast.strValue;return resolveTiming(context.params?interpolateParams(strValue,context.params,context.errors):strValue,context.errors)}return{duration:ast.duration,delay:ast.delay,easing:ast.easing}}visitAnimate(ast,context){const timings=context.currentAnimateTimings=this._visitTiming(ast.timings,context),timeline=context.currentTimeline;timings.delay&&(context.incrementTime(timings.delay),timeline.snapshotCurrentStyles());const style=ast.style;5==style.type?this.visitKeyframes(style,context):(context.incrementTime(timings.duration),this.visitStyle(style,context),timeline.applyStylesToKeyframe()),context.currentAnimateTimings=null,context.previousNode=ast}visitStyle(ast,context){const timeline=context.currentTimeline,timings=context.currentAnimateTimings;!timings&&timeline.getCurrentStyleProperties().length&&timeline.forwardFrame();const easing=timings&&timings.easing||ast.easing;ast.isEmptyStep?timeline.applyEmptyStep(easing):timeline.setStyles(ast.styles,easing,context.errors,context.options),context.previousNode=ast}visitKeyframes(ast,context){const currentAnimateTimings=context.currentAnimateTimings,startTime=context.currentTimeline.duration,duration=currentAnimateTimings.duration,innerTimeline=context.createSubContext().currentTimeline;innerTimeline.easing=currentAnimateTimings.easing,ast.styles.forEach(step=>{const offset=step.offset||0;innerTimeline.forwardTime(offset*duration),innerTimeline.setStyles(step.styles,step.easing,context.errors,context.options),innerTimeline.applyStylesToKeyframe()}),context.currentTimeline.mergeTimelineCollectedStyles(innerTimeline),context.transformIntoNewTimeline(startTime+duration),context.previousNode=ast}visitQuery(ast,context){const startTime=context.currentTimeline.currentTime,options=ast.options||{},delay=options.delay?resolveTimingValue(options.delay):0;delay&&(6===context.previousNode.type||0==startTime&&context.currentTimeline.getCurrentStyleProperties().length)&&(context.currentTimeline.snapshotCurrentStyles(),context.previousNode=DEFAULT_NOOP_PREVIOUS_NODE);let furthestTime=startTime;const elms=context.invokeQuery(ast.selector,ast.originalSelector,ast.limit,ast.includeSelf,!!options.optional,context.errors);context.currentQueryTotal=elms.length;let sameElementTimeline=null;elms.forEach((element,i)=>{context.currentQueryIndex=i;const innerContext=context.createSubContext(ast.options,element);delay&&innerContext.delayNextStep(delay),element===context.element&&(sameElementTimeline=innerContext.currentTimeline),visitDslNode(this,ast.animation,innerContext),innerContext.currentTimeline.applyStylesToKeyframe();const endTime=innerContext.currentTimeline.currentTime;furthestTime=Math.max(furthestTime,endTime)}),context.currentQueryIndex=0,context.currentQueryTotal=0,context.transformIntoNewTimeline(furthestTime),sameElementTimeline&&(context.currentTimeline.mergeTimelineCollectedStyles(sameElementTimeline),context.currentTimeline.snapshotCurrentStyles()),context.previousNode=ast}visitStagger(ast,context){const parentContext=context.parentContext,tl=context.currentTimeline,timings=ast.timings,duration=Math.abs(timings.duration),maxTime=duration*(context.currentQueryTotal-1);let delay=duration*context.currentQueryIndex;switch(timings.duration<0?"reverse":timings.easing){case"reverse":delay=maxTime-delay;break;case"full":delay=parentContext.currentStaggerTime}const timeline=context.currentTimeline;delay&&timeline.delayNextStep(delay);const startingTime=timeline.currentTime;visitDslNode(this,ast.animation,context),context.previousNode=ast,parentContext.currentStaggerTime=tl.currentTime-startingTime+(tl.startTime-parentContext.currentTimeline.startTime)}}const DEFAULT_NOOP_PREVIOUS_NODE={};class AnimationTimelineContext{constructor(_driver,element,subInstructions,_enterClassName,_leaveClassName,errors,timelines,initialTimeline){this._driver=_driver,this.element=element,this.subInstructions=subInstructions,this._enterClassName=_enterClassName,this._leaveClassName=_leaveClassName,this.errors=errors,this.timelines=timelines,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=DEFAULT_NOOP_PREVIOUS_NODE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=initialTimeline||new browser_TimelineBuilder(this._driver,element,0),timelines.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(options,skipIfExists){if(!options)return;const newOptions=options;let optionsToUpdate=this.options;null!=newOptions.duration&&(optionsToUpdate.duration=resolveTimingValue(newOptions.duration)),null!=newOptions.delay&&(optionsToUpdate.delay=resolveTimingValue(newOptions.delay));const newParams=newOptions.params;if(newParams){let paramsToUpdate=optionsToUpdate.params;paramsToUpdate||(paramsToUpdate=this.options.params={}),Object.keys(newParams).forEach(name=>{skipIfExists&&paramsToUpdate.hasOwnProperty(name)||(paramsToUpdate[name]=interpolateParams(newParams[name],paramsToUpdate,this.errors))})}}_copyOptions(){const options={};if(this.options){const oldParams=this.options.params;if(oldParams){const params=options.params={};Object.keys(oldParams).forEach(name=>{params[name]=oldParams[name]})}}return options}createSubContext(options=null,element,newTime){const target=element||this.element,context=new AnimationTimelineContext(this._driver,target,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(target,newTime||0));return context.previousNode=this.previousNode,context.currentAnimateTimings=this.currentAnimateTimings,context.options=this._copyOptions(),context.updateOptions(options),context.currentQueryIndex=this.currentQueryIndex,context.currentQueryTotal=this.currentQueryTotal,context.parentContext=this,this.subContextCount++,context}transformIntoNewTimeline(newTime){return this.previousNode=DEFAULT_NOOP_PREVIOUS_NODE,this.currentTimeline=this.currentTimeline.fork(this.element,newTime),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(instruction,duration,delay){const updatedTimings={duration:null!=duration?duration:instruction.duration,delay:this.currentTimeline.currentTime+(null!=delay?delay:0)+instruction.delay,easing:""},builder=new SubTimelineBuilder(this._driver,instruction.element,instruction.keyframes,instruction.preStyleProps,instruction.postStyleProps,updatedTimings,instruction.stretchStartingKeyframe);return this.timelines.push(builder),updatedTimings}incrementTime(time){this.currentTimeline.forwardTime(this.currentTimeline.duration+time)}delayNextStep(delay){delay>0&&this.currentTimeline.delayNextStep(delay)}invokeQuery(selector,originalSelector,limit,includeSelf,optional,errors){let results=[];if(includeSelf&&results.push(this.element),selector.length>0){selector=(selector=selector.replace(ENTER_TOKEN_REGEX,"."+this._enterClassName)).replace(LEAVE_TOKEN_REGEX,"."+this._leaveClassName);const multi=1!=limit;let elements=this._driver.query(this.element,selector,multi);0!==limit&&(elements=limit<0?elements.slice(elements.length+limit,elements.length):elements.slice(0,limit)),results.push(...elements)}return optional||0!=results.length||errors.push(`\`query("${originalSelector}")\` returned zero elements. (Use \`query("${originalSelector}", { optional: true })\` if you wish to allow this.)`),results}}class browser_TimelineBuilder{constructor(_driver,element,startTime,_elementTimelineStylesLookup){this._driver=_driver,this.element=element,this.startTime=startTime,this._elementTimelineStylesLookup=_elementTimelineStylesLookup,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(element),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(element,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(delay){const hasPreStyleStep=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||hasPreStyleStep?(this.forwardTime(this.currentTime+delay),hasPreStyleStep&&this.snapshotCurrentStyles()):this.startTime+=delay}fork(element,currentTime){return this.applyStylesToKeyframe(),new browser_TimelineBuilder(this._driver,element,currentTime||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(time){this.applyStylesToKeyframe(),this.duration=time,this._loadKeyframe()}_updateStyle(prop,value){this._localTimelineStyles[prop]=value,this._globalTimelineStyles[prop]=value,this._styleSummary[prop]={time:this.currentTime,value:value}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(easing){easing&&(this._previousKeyframe.easing=easing),Object.keys(this._globalTimelineStyles).forEach(prop=>{this._backFill[prop]=this._globalTimelineStyles[prop]||"*",this._currentKeyframe[prop]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(input,easing,errors,options){easing&&(this._previousKeyframe.easing=easing);const params=options&&options.params||{},styles=function flattenStyles(input,allStyles){const styles={};let allProperties;return input.forEach(token=>{"*"===token?(allProperties=allProperties||Object.keys(allStyles),allProperties.forEach(prop=>{styles[prop]="*"})):copyStyles(token,!1,styles)}),styles}(input,this._globalTimelineStyles);Object.keys(styles).forEach(prop=>{const val=interpolateParams(styles[prop],params,errors);this._pendingStyles[prop]=val,this._localTimelineStyles.hasOwnProperty(prop)||(this._backFill[prop]=this._globalTimelineStyles.hasOwnProperty(prop)?this._globalTimelineStyles[prop]:"*"),this._updateStyle(prop,val)})}applyStylesToKeyframe(){const styles=this._pendingStyles,props=Object.keys(styles);0!=props.length&&(this._pendingStyles={},props.forEach(prop=>{const val=styles[prop];this._currentKeyframe[prop]=val}),Object.keys(this._localTimelineStyles).forEach(prop=>{this._currentKeyframe.hasOwnProperty(prop)||(this._currentKeyframe[prop]=this._localTimelineStyles[prop])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(prop=>{const val=this._localTimelineStyles[prop];this._pendingStyles[prop]=val,this._updateStyle(prop,val)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const properties=[];for(let prop in this._currentKeyframe)properties.push(prop);return properties}mergeTimelineCollectedStyles(timeline){Object.keys(timeline._styleSummary).forEach(prop=>{const details0=this._styleSummary[prop],details1=timeline._styleSummary[prop];(!details0||details1.time>details0.time)&&this._updateStyle(prop,details1.value)})}buildKeyframes(){this.applyStylesToKeyframe();const preStyleProps=new Set,postStyleProps=new Set,isEmpty=1===this._keyframes.size&&0===this.duration;let finalKeyframes=[];this._keyframes.forEach((keyframe,time)=>{const finalKeyframe=copyStyles(keyframe,!0);Object.keys(finalKeyframe).forEach(prop=>{const value=finalKeyframe[prop];"!"==value?preStyleProps.add(prop):"*"==value&&postStyleProps.add(prop)}),isEmpty||(finalKeyframe.offset=time/this.duration),finalKeyframes.push(finalKeyframe)});const preProps=preStyleProps.size?iteratorToArray(preStyleProps.values()):[],postProps=postStyleProps.size?iteratorToArray(postStyleProps.values()):[];if(isEmpty){const kf0=finalKeyframes[0],kf1=copyObj(kf0);kf0.offset=0,kf1.offset=1,finalKeyframes=[kf0,kf1]}return createTimelineInstruction(this.element,finalKeyframes,preProps,postProps,this.duration,this.startTime,this.easing,!1)}}class SubTimelineBuilder extends browser_TimelineBuilder{constructor(driver,element,keyframes,preStyleProps,postStyleProps,timings,_stretchStartingKeyframe=!1){super(driver,element,timings.delay),this.element=element,this.keyframes=keyframes,this.preStyleProps=preStyleProps,this.postStyleProps=postStyleProps,this._stretchStartingKeyframe=_stretchStartingKeyframe,this.timings={duration:timings.duration,delay:timings.delay,easing:timings.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let keyframes=this.keyframes,{delay:delay,duration:duration,easing:easing}=this.timings;if(this._stretchStartingKeyframe&&delay){const newKeyframes=[],totalTime=duration+delay,startingGap=delay/totalTime,newFirstKeyframe=copyStyles(keyframes[0],!1);newFirstKeyframe.offset=0,newKeyframes.push(newFirstKeyframe);const oldFirstKeyframe=copyStyles(keyframes[0],!1);oldFirstKeyframe.offset=roundOffset(startingGap),newKeyframes.push(oldFirstKeyframe);const limit=keyframes.length-1;for(let i=1;i<=limit;i++){let kf=copyStyles(keyframes[i],!1);const timeAtKeyframe=delay+kf.offset*duration;kf.offset=roundOffset(timeAtKeyframe/totalTime),newKeyframes.push(kf)}duration=totalTime,delay=0,easing="",keyframes=newKeyframes}return createTimelineInstruction(this.element,keyframes,this.preStyleProps,this.postStyleProps,duration,delay,easing,!0)}}function roundOffset(offset,decimalPoints=3){const mult=Math.pow(10,decimalPoints-1);return Math.round(offset*mult)/mult}class AnimationStyleNormalizer{}class WebAnimationsStyleNormalizer extends AnimationStyleNormalizer{normalizePropertyName(propertyName,errors){return dashCaseToCamelCase(propertyName)}normalizeStyleValue(userProvidedProperty,normalizedProperty,value,errors){let unit="";const strVal=value.toString().trim();if(DIMENSIONAL_PROP_MAP[normalizedProperty]&&0!==value&&"0"!==value)if("number"==typeof value)unit="px";else{const valAndSuffixMatch=value.match(/^[+-]?[\d\.]+([a-z]*)$/);valAndSuffixMatch&&0==valAndSuffixMatch[1].length&&errors.push(`Please provide a CSS unit value for ${userProvidedProperty}:${value}`)}return strVal+unit}}const DIMENSIONAL_PROP_MAP=function makeBooleanMap(keys){const map={};return keys.forEach(key=>map[key]=!0),map}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function createTransitionInstruction(element,triggerName,fromState,toState,isRemovalTransition,fromStyles,toStyles,timelines,queriedElements,preStyleProps,postStyleProps,totalTime,errors){return{type:0,element:element,triggerName:triggerName,isRemovalTransition:isRemovalTransition,fromState:fromState,fromStyles:fromStyles,toState:toState,toStyles:toStyles,timelines:timelines,queriedElements:queriedElements,preStyleProps:preStyleProps,postStyleProps:postStyleProps,totalTime:totalTime,errors:errors}}const EMPTY_OBJECT={};class AnimationTransitionFactory{constructor(_triggerName,ast,_stateStyles){this._triggerName=_triggerName,this.ast=ast,this._stateStyles=_stateStyles}match(currentState,nextState,element,params){return function oneOrMoreTransitionsMatch(matchFns,currentState,nextState,element,params){return matchFns.some(fn=>fn(currentState,nextState,element,params))}(this.ast.matchers,currentState,nextState,element,params)}buildStyles(stateName,params,errors){const backupStateStyler=this._stateStyles["*"],stateStyler=this._stateStyles[stateName],backupStyles=backupStateStyler?backupStateStyler.buildStyles(params,errors):{};return stateStyler?stateStyler.buildStyles(params,errors):backupStyles}build(driver,element,currentState,nextState,enterClassName,leaveClassName,currentOptions,nextOptions,subInstructions,skipAstBuild){const errors=[],transitionAnimationParams=this.ast.options&&this.ast.options.params||EMPTY_OBJECT,currentAnimationParams=currentOptions&&currentOptions.params||EMPTY_OBJECT,currentStateStyles=this.buildStyles(currentState,currentAnimationParams,errors),nextAnimationParams=nextOptions&&nextOptions.params||EMPTY_OBJECT,nextStateStyles=this.buildStyles(nextState,nextAnimationParams,errors),queriedElements=new Set,preStyleMap=new Map,postStyleMap=new Map,isRemoval="void"===nextState,animationOptions={params:Object.assign(Object.assign({},transitionAnimationParams),nextAnimationParams)},timelines=skipAstBuild?[]:buildAnimationTimelines(driver,element,this.ast.animation,enterClassName,leaveClassName,currentStateStyles,nextStateStyles,animationOptions,subInstructions,errors);let totalTime=0;if(timelines.forEach(tl=>{totalTime=Math.max(tl.duration+tl.delay,totalTime)}),errors.length)return createTransitionInstruction(element,this._triggerName,currentState,nextState,isRemoval,currentStateStyles,nextStateStyles,[],[],preStyleMap,postStyleMap,totalTime,errors);timelines.forEach(tl=>{const elm=tl.element,preProps=getOrSetAsInMap(preStyleMap,elm,{});tl.preStyleProps.forEach(prop=>preProps[prop]=!0);const postProps=getOrSetAsInMap(postStyleMap,elm,{});tl.postStyleProps.forEach(prop=>postProps[prop]=!0),elm!==element&&queriedElements.add(elm)});const queriedElementsList=iteratorToArray(queriedElements.values());return createTransitionInstruction(element,this._triggerName,currentState,nextState,isRemoval,currentStateStyles,nextStateStyles,timelines,queriedElementsList,preStyleMap,postStyleMap,totalTime)}}class AnimationStateStyles{constructor(styles,defaultParams){this.styles=styles,this.defaultParams=defaultParams}buildStyles(params,errors){const finalStyles={},combinedParams=copyObj(this.defaultParams);return Object.keys(params).forEach(key=>{const value=params[key];null!=value&&(combinedParams[key]=value)}),this.styles.styles.forEach(value=>{if("string"!=typeof value){const styleObj=value;Object.keys(styleObj).forEach(prop=>{let val=styleObj[prop];val.length>1&&(val=interpolateParams(val,combinedParams,errors)),finalStyles[prop]=val})}}),finalStyles}}class AnimationTrigger{constructor(name,ast){this.name=name,this.ast=ast,this.transitionFactories=[],this.states={},ast.states.forEach(ast=>{const defaultParams=ast.options&&ast.options.params||{};this.states[ast.name]=new AnimationStateStyles(ast.style,defaultParams)}),balanceProperties(this.states,"true","1"),balanceProperties(this.states,"false","0"),ast.transitions.forEach(ast=>{this.transitionFactories.push(new AnimationTransitionFactory(name,ast,this.states))}),this.fallbackTransition=function createFallbackTransition(triggerName,states){return new AnimationTransitionFactory(triggerName,{type:1,animation:{type:2,steps:[],options:null},matchers:[(fromState,toState)=>!0],options:null,queryCount:0,depCount:0},states)}(name,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(currentState,nextState,element,params){return this.transitionFactories.find(f=>f.match(currentState,nextState,element,params))||null}matchStyles(currentState,params,errors){return this.fallbackTransition.buildStyles(currentState,params,errors)}}function balanceProperties(obj,key1,key2){obj.hasOwnProperty(key1)?obj.hasOwnProperty(key2)||(obj[key2]=obj[key1]):obj.hasOwnProperty(key2)&&(obj[key1]=obj[key2])}const EMPTY_INSTRUCTION_MAP=new ElementInstructionMap;class browser_TimelineAnimationEngine{constructor(bodyNode,_driver,_normalizer){this.bodyNode=bodyNode,this._driver=_driver,this._normalizer=_normalizer,this._animations={},this._playersById={},this.players=[]}register(id,metadata){const errors=[],ast=buildAnimationAst(this._driver,metadata,errors);if(errors.length)throw new Error(`Unable to build the animation due to the following errors: ${errors.join("\n")}`);this._animations[id]=ast}_buildPlayer(i,preStyles,postStyles){const element=i.element,keyframes=normalizeKeyframes(this._driver,this._normalizer,0,i.keyframes,preStyles,postStyles);return this._driver.animate(element,keyframes,i.duration,i.delay,i.easing,[],!0)}create(id,element,options={}){const errors=[],ast=this._animations[id];let instructions;const autoStylesMap=new Map;if(ast?(instructions=buildAnimationTimelines(this._driver,element,ast,"ng-enter","ng-leave",{},{},options,EMPTY_INSTRUCTION_MAP,errors),instructions.forEach(inst=>{const styles=getOrSetAsInMap(autoStylesMap,inst.element,{});inst.postStyleProps.forEach(prop=>styles[prop]=null)})):(errors.push("The requested animation doesn't exist or has already been destroyed"),instructions=[]),errors.length)throw new Error(`Unable to create the animation due to the following errors: ${errors.join("\n")}`);autoStylesMap.forEach((styles,element)=>{Object.keys(styles).forEach(prop=>{styles[prop]=this._driver.computeStyle(element,prop,"*")})});const player=optimizeGroupPlayer(instructions.map(i=>{const styles=autoStylesMap.get(i.element);return this._buildPlayer(i,{},styles)}));return this._playersById[id]=player,player.onDestroy(()=>this.destroy(id)),this.players.push(player),player}destroy(id){const player=this._getPlayer(id);player.destroy(),delete this._playersById[id];const index=this.players.indexOf(player);index>=0&&this.players.splice(index,1)}_getPlayer(id){const player=this._playersById[id];if(!player)throw new Error(`Unable to find the timeline player referenced by ${id}`);return player}listen(id,element,eventName,callback){const baseEvent=makeAnimationEvent(element,"","","");return listenOnPlayer(this._getPlayer(id),eventName,baseEvent,callback),()=>{}}command(id,element,command,args){if("register"==command)return void this.register(id,args[0]);if("create"==command){const options=args[0]||{};return void this.create(id,element,options)}const player=this._getPlayer(id);switch(command){case"play":player.play();break;case"pause":player.pause();break;case"reset":player.reset();break;case"restart":player.restart();break;case"finish":player.finish();break;case"init":player.init();break;case"setPosition":player.setPosition(parseFloat(args[0]));break;case"destroy":this.destroy(id)}}}const EMPTY_PLAYER_ARRAY=[],NULL_REMOVAL_STATE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},NULL_REMOVED_QUERIED_STATE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class StateValue{constructor(input,namespaceId=""){this.namespaceId=namespaceId;const isObj=input&&input.hasOwnProperty("value"),value=isObj?input.value:input;if(this.value=function normalizeTriggerValue(value){return null!=value?value:null}(value),isObj){const options=copyObj(input);delete options.value,this.options=options}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(options){const newParams=options.params;if(newParams){const oldParams=this.options.params;Object.keys(newParams).forEach(prop=>{null==oldParams[prop]&&(oldParams[prop]=newParams[prop])})}}}const DEFAULT_STATE_VALUE=new StateValue("void");class AnimationTransitionNamespace{constructor(id,hostElement,_engine){this.id=id,this.hostElement=hostElement,this._engine=_engine,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+id,addClass(hostElement,this._hostClassName)}listen(element,name,phase,callback){if(!this._triggers.hasOwnProperty(name))throw new Error(`Unable to listen on the animation trigger event "${phase}" because the animation trigger "${name}" doesn't exist!`);if(null==phase||0==phase.length)throw new Error(`Unable to listen on the animation trigger "${name}" because the provided event is undefined!`);if(!function isTriggerEventValid(eventName){return"start"==eventName||"done"==eventName}(phase))throw new Error(`The provided animation trigger event "${phase}" for the animation trigger "${name}" is not supported!`);const listeners=getOrSetAsInMap(this._elementListeners,element,[]),data={name:name,phase:phase,callback:callback};listeners.push(data);const triggersWithStates=getOrSetAsInMap(this._engine.statesByElement,element,{});return triggersWithStates.hasOwnProperty(name)||(addClass(element,"ng-trigger"),addClass(element,"ng-trigger-"+name),triggersWithStates[name]=DEFAULT_STATE_VALUE),()=>{this._engine.afterFlush(()=>{const index=listeners.indexOf(data);index>=0&&listeners.splice(index,1),this._triggers[name]||delete triggersWithStates[name]})}}register(name,ast){return!this._triggers[name]&&(this._triggers[name]=ast,!0)}_getTrigger(name){const trigger=this._triggers[name];if(!trigger)throw new Error(`The provided animation trigger "${name}" has not been registered!`);return trigger}trigger(element,triggerName,value,defaultToFallback=!0){const trigger=this._getTrigger(triggerName),player=new browser_TransitionAnimationPlayer(this.id,triggerName,element);let triggersWithStates=this._engine.statesByElement.get(element);triggersWithStates||(addClass(element,"ng-trigger"),addClass(element,"ng-trigger-"+triggerName),this._engine.statesByElement.set(element,triggersWithStates={}));let fromState=triggersWithStates[triggerName];const toState=new StateValue(value,this.id);if(!(value&&value.hasOwnProperty("value"))&&fromState&&toState.absorbOptions(fromState.options),triggersWithStates[triggerName]=toState,fromState||(fromState=DEFAULT_STATE_VALUE),!("void"===toState.value)&&fromState.value===toState.value){if(!function objEquals(a,b){const k1=Object.keys(a),k2=Object.keys(b);if(k1.length!=k2.length)return!1;for(let i=0;i<k1.length;i++){const prop=k1[i];if(!b.hasOwnProperty(prop)||a[prop]!==b[prop])return!1}return!0}(fromState.params,toState.params)){const errors=[],fromStyles=trigger.matchStyles(fromState.value,fromState.params,errors),toStyles=trigger.matchStyles(toState.value,toState.params,errors);errors.length?this._engine.reportError(errors):this._engine.afterFlush(()=>{eraseStyles(element,fromStyles),setStyles(element,toStyles)})}return}const playersOnElement=getOrSetAsInMap(this._engine.playersByElement,element,[]);playersOnElement.forEach(player=>{player.namespaceId==this.id&&player.triggerName==triggerName&&player.queued&&player.destroy()});let transition=trigger.matchTransition(fromState.value,toState.value,element,toState.params),isFallbackTransition=!1;if(!transition){if(!defaultToFallback)return;transition=trigger.fallbackTransition,isFallbackTransition=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:element,triggerName:triggerName,transition:transition,fromState:fromState,toState:toState,player:player,isFallbackTransition:isFallbackTransition}),isFallbackTransition||(addClass(element,"ng-animate-queued"),player.onStart(()=>{removeClass(element,"ng-animate-queued")})),player.onDone(()=>{let index=this.players.indexOf(player);index>=0&&this.players.splice(index,1);const players=this._engine.playersByElement.get(element);if(players){let index=players.indexOf(player);index>=0&&players.splice(index,1)}}),this.players.push(player),playersOnElement.push(player),player}deregister(name){delete this._triggers[name],this._engine.statesByElement.forEach((stateMap,element)=>{delete stateMap[name]}),this._elementListeners.forEach((listeners,element)=>{this._elementListeners.set(element,listeners.filter(entry=>entry.name!=name))})}clearElementCache(element){this._engine.statesByElement.delete(element),this._elementListeners.delete(element);const elementPlayers=this._engine.playersByElement.get(element);elementPlayers&&(elementPlayers.forEach(player=>player.destroy()),this._engine.playersByElement.delete(element))}_signalRemovalForInnerTriggers(rootElement,context){const elements=this._engine.driver.query(rootElement,".ng-trigger",!0);elements.forEach(elm=>{if(elm.__ng_removed)return;const namespaces=this._engine.fetchNamespacesByElement(elm);namespaces.size?namespaces.forEach(ns=>ns.triggerLeaveAnimation(elm,context,!1,!0)):this.clearElementCache(elm)}),this._engine.afterFlushAnimationsDone(()=>elements.forEach(elm=>this.clearElementCache(elm)))}triggerLeaveAnimation(element,context,destroyAfterComplete,defaultToFallback){const triggerStates=this._engine.statesByElement.get(element);if(triggerStates){const players=[];if(Object.keys(triggerStates).forEach(triggerName=>{if(this._triggers[triggerName]){const player=this.trigger(element,triggerName,"void",defaultToFallback);player&&players.push(player)}}),players.length)return this._engine.markElementAsRemoved(this.id,element,!0,context),destroyAfterComplete&&optimizeGroupPlayer(players).onDone(()=>this._engine.processLeaveNode(element)),!0}return!1}prepareLeaveAnimationListeners(element){const listeners=this._elementListeners.get(element);if(listeners){const visitedTriggers=new Set;listeners.forEach(listener=>{const triggerName=listener.name;if(visitedTriggers.has(triggerName))return;visitedTriggers.add(triggerName);const transition=this._triggers[triggerName].fallbackTransition,fromState=this._engine.statesByElement.get(element)[triggerName]||DEFAULT_STATE_VALUE,toState=new StateValue("void"),player=new browser_TransitionAnimationPlayer(this.id,triggerName,element);this._engine.totalQueuedPlayers++,this._queue.push({element:element,triggerName:triggerName,transition:transition,fromState:fromState,toState:toState,player:player,isFallbackTransition:!0})})}}removeNode(element,context){const engine=this._engine;if(element.childElementCount&&this._signalRemovalForInnerTriggers(element,context),this.triggerLeaveAnimation(element,context,!0))return;let containsPotentialParentTransition=!1;if(engine.totalAnimations){const currentPlayers=engine.players.length?engine.playersByQueriedElement.get(element):[];if(currentPlayers&&currentPlayers.length)containsPotentialParentTransition=!0;else{let parent=element;for(;parent=parent.parentNode;){if(engine.statesByElement.get(parent)){containsPotentialParentTransition=!0;break}}}}if(this.prepareLeaveAnimationListeners(element),containsPotentialParentTransition)engine.markElementAsRemoved(this.id,element,!1,context);else{const removalFlag=element.__ng_removed;removalFlag&&removalFlag!==NULL_REMOVAL_STATE||(engine.afterFlush(()=>this.clearElementCache(element)),engine.destroyInnerAnimations(element),engine._onRemovalComplete(element,context))}}insertNode(element,parent){addClass(element,this._hostClassName)}drainQueuedTransitions(microtaskId){const instructions=[];return this._queue.forEach(entry=>{const player=entry.player;if(player.destroyed)return;const element=entry.element,listeners=this._elementListeners.get(element);listeners&&listeners.forEach(listener=>{if(listener.name==entry.triggerName){const baseEvent=makeAnimationEvent(element,entry.triggerName,entry.fromState.value,entry.toState.value);baseEvent._data=microtaskId,listenOnPlayer(entry.player,listener.phase,baseEvent,listener.callback)}}),player.markedForDestroy?this._engine.afterFlush(()=>{player.destroy()}):instructions.push(entry)}),this._queue=[],instructions.sort((a,b)=>{const d0=a.transition.ast.depCount,d1=b.transition.ast.depCount;return 0==d0||0==d1?d0-d1:this._engine.driver.containsElement(a.element,b.element)?1:-1})}destroy(context){this.players.forEach(p=>p.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,context)}elementContainsData(element){let containsData=!1;return this._elementListeners.has(element)&&(containsData=!0),containsData=!!this._queue.find(entry=>entry.element===element)||containsData,containsData}}class browser_TransitionAnimationEngine{constructor(bodyNode,driver,_normalizer){this.bodyNode=bodyNode,this.driver=driver,this._normalizer=_normalizer,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(element,context)=>{}}_onRemovalComplete(element,context){this.onRemovalComplete(element,context)}get queuedPlayers(){const players=[];return this._namespaceList.forEach(ns=>{ns.players.forEach(player=>{player.queued&&players.push(player)})}),players}createNamespace(namespaceId,hostElement){const ns=new AnimationTransitionNamespace(namespaceId,hostElement,this);return hostElement.parentNode?this._balanceNamespaceList(ns,hostElement):(this.newHostElements.set(hostElement,ns),this.collectEnterElement(hostElement)),this._namespaceLookup[namespaceId]=ns}_balanceNamespaceList(ns,hostElement){const limit=this._namespaceList.length-1;if(limit>=0){let found=!1;for(let i=limit;i>=0;i--){const nextNamespace=this._namespaceList[i];if(this.driver.containsElement(nextNamespace.hostElement,hostElement)){this._namespaceList.splice(i+1,0,ns),found=!0;break}}found||this._namespaceList.splice(0,0,ns)}else this._namespaceList.push(ns);return this.namespacesByHostElement.set(hostElement,ns),ns}register(namespaceId,hostElement){let ns=this._namespaceLookup[namespaceId];return ns||(ns=this.createNamespace(namespaceId,hostElement)),ns}registerTrigger(namespaceId,name,trigger){let ns=this._namespaceLookup[namespaceId];ns&&ns.register(name,trigger)&&this.totalAnimations++}destroy(namespaceId,context){if(!namespaceId)return;const ns=this._fetchNamespace(namespaceId);this.afterFlush(()=>{this.namespacesByHostElement.delete(ns.hostElement),delete this._namespaceLookup[namespaceId];const index=this._namespaceList.indexOf(ns);index>=0&&this._namespaceList.splice(index,1)}),this.afterFlushAnimationsDone(()=>ns.destroy(context))}_fetchNamespace(id){return this._namespaceLookup[id]}fetchNamespacesByElement(element){const namespaces=new Set,elementStates=this.statesByElement.get(element);if(elementStates){const keys=Object.keys(elementStates);for(let i=0;i<keys.length;i++){const nsId=elementStates[keys[i]].namespaceId;if(nsId){const ns=this._fetchNamespace(nsId);ns&&namespaces.add(ns)}}}return namespaces}trigger(namespaceId,element,name,value){if(isElementNode(element)){const ns=this._fetchNamespace(namespaceId);if(ns)return ns.trigger(element,name,value),!0}return!1}insertNode(namespaceId,element,parent,insertBefore){if(!isElementNode(element))return;const details=element.__ng_removed;if(details&&details.setForRemoval){details.setForRemoval=!1,details.setForMove=!0;const index=this.collectedLeaveElements.indexOf(element);index>=0&&this.collectedLeaveElements.splice(index,1)}if(namespaceId){const ns=this._fetchNamespace(namespaceId);ns&&ns.insertNode(element,parent)}insertBefore&&this.collectEnterElement(element)}collectEnterElement(element){this.collectedEnterElements.push(element)}markElementAsDisabled(element,value){value?this.disabledNodes.has(element)||(this.disabledNodes.add(element),addClass(element,"ng-animate-disabled")):this.disabledNodes.has(element)&&(this.disabledNodes.delete(element),removeClass(element,"ng-animate-disabled"))}removeNode(namespaceId,element,isHostElement,context){if(isElementNode(element)){const ns=namespaceId?this._fetchNamespace(namespaceId):null;if(ns?ns.removeNode(element,context):this.markElementAsRemoved(namespaceId,element,!1,context),isHostElement){const hostNS=this.namespacesByHostElement.get(element);hostNS&&hostNS.id!==namespaceId&&hostNS.removeNode(element,context)}}else this._onRemovalComplete(element,context)}markElementAsRemoved(namespaceId,element,hasAnimation,context){this.collectedLeaveElements.push(element),element.__ng_removed={namespaceId:namespaceId,setForRemoval:context,hasAnimation:hasAnimation,removedBeforeQueried:!1}}listen(namespaceId,element,name,phase,callback){return isElementNode(element)?this._fetchNamespace(namespaceId).listen(element,name,phase,callback):()=>{}}_buildInstruction(entry,subTimelines,enterClassName,leaveClassName,skipBuildAst){return entry.transition.build(this.driver,entry.element,entry.fromState.value,entry.toState.value,enterClassName,leaveClassName,entry.fromState.options,entry.toState.options,subTimelines,skipBuildAst)}destroyInnerAnimations(containerElement){let elements=this.driver.query(containerElement,".ng-trigger",!0);elements.forEach(element=>this.destroyActiveAnimationsForElement(element)),0!=this.playersByQueriedElement.size&&(elements=this.driver.query(containerElement,".ng-animating",!0),elements.forEach(element=>this.finishActiveQueriedAnimationOnElement(element)))}destroyActiveAnimationsForElement(element){const players=this.playersByElement.get(element);players&&players.forEach(player=>{player.queued?player.markedForDestroy=!0:player.destroy()})}finishActiveQueriedAnimationOnElement(element){const players=this.playersByQueriedElement.get(element);players&&players.forEach(player=>player.finish())}whenRenderingDone(){return new Promise(resolve=>{if(this.players.length)return optimizeGroupPlayer(this.players).onDone(()=>resolve());resolve()})}processLeaveNode(element){const details=element.__ng_removed;if(details&&details.setForRemoval){if(element.__ng_removed=NULL_REMOVAL_STATE,details.namespaceId){this.destroyInnerAnimations(element);const ns=this._fetchNamespace(details.namespaceId);ns&&ns.clearElementCache(element)}this._onRemovalComplete(element,details.setForRemoval)}this.driver.matchesElement(element,".ng-animate-disabled")&&this.markElementAsDisabled(element,!1),this.driver.query(element,".ng-animate-disabled",!0).forEach(node=>{this.markElementAsDisabled(node,!1)})}flush(microtaskId=-1){let players=[];if(this.newHostElements.size&&(this.newHostElements.forEach((ns,element)=>this._balanceNamespaceList(ns,element)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){addClass(this.collectedEnterElements[i],"ng-star-inserted")}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const cleanupFns=[];try{players=this._flushAnimations(cleanupFns,microtaskId)}finally{for(let i=0;i<cleanupFns.length;i++)cleanupFns[i]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){const element=this.collectedLeaveElements[i];this.processLeaveNode(element)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(fn=>fn()),this._flushFns=[],this._whenQuietFns.length){const quietFns=this._whenQuietFns;this._whenQuietFns=[],players.length?optimizeGroupPlayer(players).onDone(()=>{quietFns.forEach(fn=>fn())}):quietFns.forEach(fn=>fn())}}reportError(errors){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${errors.join("\n")}`)}_flushAnimations(cleanupFns,microtaskId){const subTimelines=new ElementInstructionMap,skippedPlayers=[],skippedPlayersMap=new Map,queuedInstructions=[],queriedElements=new Map,allPreStyleElements=new Map,allPostStyleElements=new Map,disabledElementsSet=new Set;this.disabledNodes.forEach(node=>{disabledElementsSet.add(node);const nodesThatAreDisabled=this.driver.query(node,".ng-animate-queued",!0);for(let i=0;i<nodesThatAreDisabled.length;i++)disabledElementsSet.add(nodesThatAreDisabled[i])});const bodyNode=this.bodyNode,allTriggerElements=Array.from(this.statesByElement.keys()),enterNodeMap=buildRootMap(allTriggerElements,this.collectedEnterElements),enterNodeMapIds=new Map;let i=0;enterNodeMap.forEach((nodes,root)=>{const className="ng-enter"+i++;enterNodeMapIds.set(root,className),nodes.forEach(node=>addClass(node,className))});const allLeaveNodes=[],mergedLeaveNodes=new Set,leaveNodesWithoutAnimations=new Set;for(let i=0;i<this.collectedLeaveElements.length;i++){const element=this.collectedLeaveElements[i],details=element.__ng_removed;details&&details.setForRemoval&&(allLeaveNodes.push(element),mergedLeaveNodes.add(element),details.hasAnimation?this.driver.query(element,".ng-star-inserted",!0).forEach(elm=>mergedLeaveNodes.add(elm)):leaveNodesWithoutAnimations.add(element))}const leaveNodeMapIds=new Map,leaveNodeMap=buildRootMap(allTriggerElements,Array.from(mergedLeaveNodes));leaveNodeMap.forEach((nodes,root)=>{const className="ng-leave"+i++;leaveNodeMapIds.set(root,className),nodes.forEach(node=>addClass(node,className))}),cleanupFns.push(()=>{enterNodeMap.forEach((nodes,root)=>{const className=enterNodeMapIds.get(root);nodes.forEach(node=>removeClass(node,className))}),leaveNodeMap.forEach((nodes,root)=>{const className=leaveNodeMapIds.get(root);nodes.forEach(node=>removeClass(node,className))}),allLeaveNodes.forEach(element=>{this.processLeaveNode(element)})});const allPlayers=[],erroneousTransitions=[];for(let i=this._namespaceList.length-1;i>=0;i--){this._namespaceList[i].drainQueuedTransitions(microtaskId).forEach(entry=>{const player=entry.player,element=entry.element;if(allPlayers.push(player),this.collectedEnterElements.length){const details=element.__ng_removed;if(details&&details.setForMove)return void player.destroy()}const nodeIsOrphaned=!bodyNode||!this.driver.containsElement(bodyNode,element),leaveClassName=leaveNodeMapIds.get(element),enterClassName=enterNodeMapIds.get(element),instruction=this._buildInstruction(entry,subTimelines,enterClassName,leaveClassName,nodeIsOrphaned);if(instruction.errors&&instruction.errors.length)return void erroneousTransitions.push(instruction);if(nodeIsOrphaned)return player.onStart(()=>eraseStyles(element,instruction.fromStyles)),player.onDestroy(()=>setStyles(element,instruction.toStyles)),void skippedPlayers.push(player);if(entry.isFallbackTransition)return player.onStart(()=>eraseStyles(element,instruction.fromStyles)),player.onDestroy(()=>setStyles(element,instruction.toStyles)),void skippedPlayers.push(player);instruction.timelines.forEach(tl=>tl.stretchStartingKeyframe=!0),subTimelines.append(element,instruction.timelines);const tuple={instruction:instruction,player:player,element:element};queuedInstructions.push(tuple),instruction.queriedElements.forEach(element=>getOrSetAsInMap(queriedElements,element,[]).push(player)),instruction.preStyleProps.forEach((stringMap,element)=>{const props=Object.keys(stringMap);if(props.length){let setVal=allPreStyleElements.get(element);setVal||allPreStyleElements.set(element,setVal=new Set),props.forEach(prop=>setVal.add(prop))}}),instruction.postStyleProps.forEach((stringMap,element)=>{const props=Object.keys(stringMap);let setVal=allPostStyleElements.get(element);setVal||allPostStyleElements.set(element,setVal=new Set),props.forEach(prop=>setVal.add(prop))})})}if(erroneousTransitions.length){const errors=[];erroneousTransitions.forEach(instruction=>{errors.push(`@${instruction.triggerName} has failed due to:\n`),instruction.errors.forEach(error=>errors.push(`- ${error}\n`))}),allPlayers.forEach(player=>player.destroy()),this.reportError(errors)}const allPreviousPlayersMap=new Map,animationElementMap=new Map;queuedInstructions.forEach(entry=>{const element=entry.element;subTimelines.has(element)&&(animationElementMap.set(element,element),this._beforeAnimationBuild(entry.player.namespaceId,entry.instruction,allPreviousPlayersMap))}),skippedPlayers.forEach(player=>{const element=player.element;this._getPreviousPlayers(element,!1,player.namespaceId,player.triggerName,null).forEach(prevPlayer=>{getOrSetAsInMap(allPreviousPlayersMap,element,[]).push(prevPlayer),prevPlayer.destroy()})});const replaceNodes=allLeaveNodes.filter(node=>replacePostStylesAsPre(node,allPreStyleElements,allPostStyleElements)),postStylesMap=new Map;cloakAndComputeStyles(postStylesMap,this.driver,leaveNodesWithoutAnimations,allPostStyleElements,"*").forEach(node=>{replacePostStylesAsPre(node,allPreStyleElements,allPostStyleElements)&&replaceNodes.push(node)});const preStylesMap=new Map;enterNodeMap.forEach((nodes,root)=>{cloakAndComputeStyles(preStylesMap,this.driver,new Set(nodes),allPreStyleElements,"!")}),replaceNodes.forEach(node=>{const post=postStylesMap.get(node),pre=preStylesMap.get(node);postStylesMap.set(node,Object.assign(Object.assign({},post),pre))});const rootPlayers=[],subPlayers=[],NO_PARENT_ANIMATION_ELEMENT_DETECTED={};queuedInstructions.forEach(entry=>{const{element:element,player:player,instruction:instruction}=entry;if(subTimelines.has(element)){if(disabledElementsSet.has(element))return player.onDestroy(()=>setStyles(element,instruction.toStyles)),player.disabled=!0,player.overrideTotalTime(instruction.totalTime),void skippedPlayers.push(player);let parentWithAnimation=NO_PARENT_ANIMATION_ELEMENT_DETECTED;if(animationElementMap.size>1){let elm=element;const parentsToAdd=[];for(;elm=elm.parentNode;){const detectedParent=animationElementMap.get(elm);if(detectedParent){parentWithAnimation=detectedParent;break}parentsToAdd.push(elm)}parentsToAdd.forEach(parent=>animationElementMap.set(parent,parentWithAnimation))}const innerPlayer=this._buildAnimation(player.namespaceId,instruction,allPreviousPlayersMap,skippedPlayersMap,preStylesMap,postStylesMap);if(player.setRealPlayer(innerPlayer),parentWithAnimation===NO_PARENT_ANIMATION_ELEMENT_DETECTED)rootPlayers.push(player);else{const parentPlayers=this.playersByElement.get(parentWithAnimation);parentPlayers&&parentPlayers.length&&(player.parentPlayer=optimizeGroupPlayer(parentPlayers)),skippedPlayers.push(player)}}else eraseStyles(element,instruction.fromStyles),player.onDestroy(()=>setStyles(element,instruction.toStyles)),subPlayers.push(player),disabledElementsSet.has(element)&&skippedPlayers.push(player)}),subPlayers.forEach(player=>{const playersForElement=skippedPlayersMap.get(player.element);if(playersForElement&&playersForElement.length){const innerPlayer=optimizeGroupPlayer(playersForElement);player.setRealPlayer(innerPlayer)}}),skippedPlayers.forEach(player=>{player.parentPlayer?player.syncPlayerEvents(player.parentPlayer):player.destroy()});for(let i=0;i<allLeaveNodes.length;i++){const element=allLeaveNodes[i],details=element.__ng_removed;if(removeClass(element,"ng-leave"),details&&details.hasAnimation)continue;let players=[];if(queriedElements.size){let queriedPlayerResults=queriedElements.get(element);queriedPlayerResults&&queriedPlayerResults.length&&players.push(...queriedPlayerResults);let queriedInnerElements=this.driver.query(element,".ng-animating",!0);for(let j=0;j<queriedInnerElements.length;j++){let queriedPlayers=queriedElements.get(queriedInnerElements[j]);queriedPlayers&&queriedPlayers.length&&players.push(...queriedPlayers)}}const activePlayers=players.filter(p=>!p.destroyed);activePlayers.length?removeNodesAfterAnimationDone(this,element,activePlayers):this.processLeaveNode(element)}return allLeaveNodes.length=0,rootPlayers.forEach(player=>{this.players.push(player),player.onDone(()=>{player.destroy();const index=this.players.indexOf(player);this.players.splice(index,1)}),player.play()}),rootPlayers}elementContainsData(namespaceId,element){let containsData=!1;const details=element.__ng_removed;return details&&details.setForRemoval&&(containsData=!0),this.playersByElement.has(element)&&(containsData=!0),this.playersByQueriedElement.has(element)&&(containsData=!0),this.statesByElement.has(element)&&(containsData=!0),this._fetchNamespace(namespaceId).elementContainsData(element)||containsData}afterFlush(callback){this._flushFns.push(callback)}afterFlushAnimationsDone(callback){this._whenQuietFns.push(callback)}_getPreviousPlayers(element,isQueriedElement,namespaceId,triggerName,toStateValue){let players=[];if(isQueriedElement){const queriedElementPlayers=this.playersByQueriedElement.get(element);queriedElementPlayers&&(players=queriedElementPlayers)}else{const elementPlayers=this.playersByElement.get(element);if(elementPlayers){const isRemovalAnimation=!toStateValue||"void"==toStateValue;elementPlayers.forEach(player=>{player.queued||(isRemovalAnimation||player.triggerName==triggerName)&&players.push(player)})}}return(namespaceId||triggerName)&&(players=players.filter(player=>(!namespaceId||namespaceId==player.namespaceId)&&(!triggerName||triggerName==player.triggerName))),players}_beforeAnimationBuild(namespaceId,instruction,allPreviousPlayersMap){const triggerName=instruction.triggerName,rootElement=instruction.element,targetNameSpaceId=instruction.isRemovalTransition?void 0:namespaceId,targetTriggerName=instruction.isRemovalTransition?void 0:triggerName;for(const timelineInstruction of instruction.timelines){const element=timelineInstruction.element,isQueriedElement=element!==rootElement,players=getOrSetAsInMap(allPreviousPlayersMap,element,[]);this._getPreviousPlayers(element,isQueriedElement,targetNameSpaceId,targetTriggerName,instruction.toState).forEach(player=>{const realPlayer=player.getRealPlayer();realPlayer.beforeDestroy&&realPlayer.beforeDestroy(),player.destroy(),players.push(player)})}eraseStyles(rootElement,instruction.fromStyles)}_buildAnimation(namespaceId,instruction,allPreviousPlayersMap,skippedPlayersMap,preStylesMap,postStylesMap){const triggerName=instruction.triggerName,rootElement=instruction.element,allQueriedPlayers=[],allConsumedElements=new Set,allSubElements=new Set,allNewPlayers=instruction.timelines.map(timelineInstruction=>{const element=timelineInstruction.element;allConsumedElements.add(element);const details=element.__ng_removed;if(details&&details.removedBeforeQueried)return new NoopAnimationPlayer(timelineInstruction.duration,timelineInstruction.delay);const isQueriedElement=element!==rootElement,previousPlayers=function flattenGroupPlayers(players){const finalPlayers=[];return function _flattenGroupPlayersRecur(players,finalPlayers){for(let i=0;i<players.length;i++){const player=players[i];player instanceof AnimationGroupPlayer?_flattenGroupPlayersRecur(player.players,finalPlayers):finalPlayers.push(player)}}(players,finalPlayers),finalPlayers}((allPreviousPlayersMap.get(element)||EMPTY_PLAYER_ARRAY).map(p=>p.getRealPlayer())).filter(p=>{const pp=p;return!!pp.element&&pp.element===element}),preStyles=preStylesMap.get(element),postStyles=postStylesMap.get(element),keyframes=normalizeKeyframes(this.driver,this._normalizer,0,timelineInstruction.keyframes,preStyles,postStyles),player=this._buildPlayer(timelineInstruction,keyframes,previousPlayers);if(timelineInstruction.subTimeline&&skippedPlayersMap&&allSubElements.add(element),isQueriedElement){const wrappedPlayer=new browser_TransitionAnimationPlayer(namespaceId,triggerName,element);wrappedPlayer.setRealPlayer(player),allQueriedPlayers.push(wrappedPlayer)}return player});allQueriedPlayers.forEach(player=>{getOrSetAsInMap(this.playersByQueriedElement,player.element,[]).push(player),player.onDone(()=>function deleteOrUnsetInMap(map,key,value){let currentValues;if(map instanceof Map){if(currentValues=map.get(key),currentValues){if(currentValues.length){const index=currentValues.indexOf(value);currentValues.splice(index,1)}0==currentValues.length&&map.delete(key)}}else if(currentValues=map[key],currentValues){if(currentValues.length){const index=currentValues.indexOf(value);currentValues.splice(index,1)}0==currentValues.length&&delete map[key]}return currentValues}(this.playersByQueriedElement,player.element,player))}),allConsumedElements.forEach(element=>addClass(element,"ng-animating"));const player=optimizeGroupPlayer(allNewPlayers);return player.onDestroy(()=>{allConsumedElements.forEach(element=>removeClass(element,"ng-animating")),setStyles(rootElement,instruction.toStyles)}),allSubElements.forEach(element=>{getOrSetAsInMap(skippedPlayersMap,element,[]).push(player)}),player}_buildPlayer(instruction,keyframes,previousPlayers){return keyframes.length>0?this.driver.animate(instruction.element,keyframes,instruction.duration,instruction.delay,instruction.easing,previousPlayers):new NoopAnimationPlayer(instruction.duration,instruction.delay)}}class browser_TransitionAnimationPlayer{constructor(namespaceId,triggerName,element){this.namespaceId=namespaceId,this.triggerName=triggerName,this.element=element,this._player=new NoopAnimationPlayer,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(player){this._containsRealPlayer||(this._player=player,Object.keys(this._queuedCallbacks).forEach(phase=>{this._queuedCallbacks[phase].forEach(callback=>listenOnPlayer(player,phase,void 0,callback))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(player.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(totalTime){this.totalTime=totalTime}syncPlayerEvents(player){const p=this._player;p.triggerCallback&&player.onStart(()=>p.triggerCallback("start")),player.onDone(()=>this.finish()),player.onDestroy(()=>this.destroy())}_queueEvent(name,callback){getOrSetAsInMap(this._queuedCallbacks,name,[]).push(callback)}onDone(fn){this.queued&&this._queueEvent("done",fn),this._player.onDone(fn)}onStart(fn){this.queued&&this._queueEvent("start",fn),this._player.onStart(fn)}onDestroy(fn){this.queued&&this._queueEvent("destroy",fn),this._player.onDestroy(fn)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(p){this.queued||this._player.setPosition(p)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(phaseName){const p=this._player;p.triggerCallback&&p.triggerCallback(phaseName)}}function isElementNode(node){return node&&1===node.nodeType}function cloakElement(element,value){const oldValue=element.style.display;return element.style.display=null!=value?value:"none",oldValue}function cloakAndComputeStyles(valuesMap,driver,elements,elementPropsMap,defaultStyle){const cloakVals=[];elements.forEach(element=>cloakVals.push(cloakElement(element)));const failedElements=[];elementPropsMap.forEach((props,element)=>{const styles={};props.forEach(prop=>{const value=styles[prop]=driver.computeStyle(element,prop,defaultStyle);value&&0!=value.length||(element.__ng_removed=NULL_REMOVED_QUERIED_STATE,failedElements.push(element))}),valuesMap.set(element,styles)});let i=0;return elements.forEach(element=>cloakElement(element,cloakVals[i++])),failedElements}function buildRootMap(roots,nodes){const rootMap=new Map;if(roots.forEach(root=>rootMap.set(root,[])),0==nodes.length)return rootMap;const nodeSet=new Set(nodes),localRootMap=new Map;return nodes.forEach(node=>{const root=function getRoot(node){if(!node)return 1;let root=localRootMap.get(node);if(root)return root;const parent=node.parentNode;return root=rootMap.has(parent)?parent:nodeSet.has(parent)?1:getRoot(parent),localRootMap.set(node,root),root}(node);1!==root&&rootMap.get(root).push(node)}),rootMap}function addClass(element,className){if(element.classList)element.classList.add(className);else{let classes=element.$$classes;classes||(classes=element.$$classes={}),classes[className]=!0}}function removeClass(element,className){if(element.classList)element.classList.remove(className);else{let classes=element.$$classes;classes&&delete classes[className]}}function removeNodesAfterAnimationDone(engine,element,players){optimizeGroupPlayer(players).onDone(()=>engine.processLeaveNode(element))}function replacePostStylesAsPre(element,allPreStyleElements,allPostStyleElements){const postEntry=allPostStyleElements.get(element);if(!postEntry)return!1;let preEntry=allPreStyleElements.get(element);return preEntry?postEntry.forEach(data=>preEntry.add(data)):allPreStyleElements.set(element,postEntry),allPostStyleElements.delete(element),!0}class AnimationEngine{constructor(bodyNode,_driver,normalizer){this.bodyNode=bodyNode,this._driver=_driver,this._triggerCache={},this.onRemovalComplete=(element,context)=>{},this._transitionEngine=new browser_TransitionAnimationEngine(bodyNode,_driver,normalizer),this._timelineEngine=new browser_TimelineAnimationEngine(bodyNode,_driver,normalizer),this._transitionEngine.onRemovalComplete=(element,context)=>this.onRemovalComplete(element,context)}registerTrigger(componentId,namespaceId,hostElement,name,metadata){const cacheKey=componentId+"-"+name;let trigger=this._triggerCache[cacheKey];if(!trigger){const errors=[],ast=buildAnimationAst(this._driver,metadata,errors);if(errors.length)throw new Error(`The animation trigger "${name}" has failed to build due to the following errors:\n - ${errors.join("\n - ")}`);trigger=function buildTrigger(name,ast){return new AnimationTrigger(name,ast)}(name,ast),this._triggerCache[cacheKey]=trigger}this._transitionEngine.registerTrigger(namespaceId,name,trigger)}register(namespaceId,hostElement){this._transitionEngine.register(namespaceId,hostElement)}destroy(namespaceId,context){this._transitionEngine.destroy(namespaceId,context)}onInsert(namespaceId,element,parent,insertBefore){this._transitionEngine.insertNode(namespaceId,element,parent,insertBefore)}onRemove(namespaceId,element,context,isHostElement){this._transitionEngine.removeNode(namespaceId,element,isHostElement||!1,context)}disableAnimations(element,disable){this._transitionEngine.markElementAsDisabled(element,disable)}process(namespaceId,element,property,value){if("@"==property.charAt(0)){const[id,action]=parseTimelineCommand(property),args=value;this._timelineEngine.command(id,element,action,args)}else this._transitionEngine.trigger(namespaceId,element,property,value)}listen(namespaceId,element,eventName,eventPhase,callback){if("@"==eventName.charAt(0)){const[id,action]=parseTimelineCommand(eventName);return this._timelineEngine.listen(id,element,action,callback)}return this._transitionEngine.listen(namespaceId,element,eventName,eventPhase,callback)}flush(microtaskId=-1){this._transitionEngine.flush(microtaskId)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function packageNonAnimatableStyles(element,styles){let startStyles=null,endStyles=null;return Array.isArray(styles)&&styles.length?(startStyles=filterNonAnimatableStyles(styles[0]),styles.length>1&&(endStyles=filterNonAnimatableStyles(styles[styles.length-1]))):styles&&(startStyles=filterNonAnimatableStyles(styles)),startStyles||endStyles?new SpecialCasedStyles(element,startStyles,endStyles):null}class SpecialCasedStyles{constructor(_element,_startStyles,_endStyles){this._element=_element,this._startStyles=_startStyles,this._endStyles=_endStyles,this._state=0;let initialStyles=SpecialCasedStyles.initialStylesByElement.get(_element);initialStyles||SpecialCasedStyles.initialStylesByElement.set(_element,initialStyles={}),this._initialStyles=initialStyles}start(){this._state<1&&(this._startStyles&&setStyles(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(setStyles(this._element,this._initialStyles),this._endStyles&&(setStyles(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(SpecialCasedStyles.initialStylesByElement.delete(this._element),this._startStyles&&(eraseStyles(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(eraseStyles(this._element,this._endStyles),this._endStyles=null),setStyles(this._element,this._initialStyles),this._state=3)}}SpecialCasedStyles.initialStylesByElement=new WeakMap;function filterNonAnimatableStyles(styles){let result=null;const props=Object.keys(styles);for(let i=0;i<props.length;i++){const prop=props[i];isNonAnimatableStyle(prop)&&(result=result||{},result[prop]=styles[prop])}return result}function isNonAnimatableStyle(prop){return"display"===prop||"position"===prop}class ElementAnimationStyleHandler{constructor(_element,_name,_duration,_delay,_easing,_fillMode,_onDoneFn){this._element=_element,this._name=_name,this._duration=_duration,this._delay=_delay,this._easing=_easing,this._fillMode=_fillMode,this._onDoneFn=_onDoneFn,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function applyKeyframeAnimation(element,value){const anim=getAnimationStyle(element,"").trim();let index=0;anim.length&&(index=function countChars(value,char){let count=0;for(let i=0;i<value.length;i++){value.charAt(i)===char&&count++}return count}(anim,",")+1,value=`${anim}, ${value}`);return setAnimationStyle(element,"",value),index}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),addRemoveAnimationEvent(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){playPauseAnimation(this._element,this._name,"paused")}resume(){playPauseAnimation(this._element,this._name,"running")}setPosition(position){const index=findIndexForAnimation(this._element,this._name);this._position=position*this._duration,setAnimationStyle(this._element,"Delay",`-${this._position}ms`,index)}getPosition(){return this._position}_handleCallback(event){const timestamp=event._ngTestManualTimestamp||Date.now(),elapsedTime=1e3*parseFloat(event.elapsedTime.toFixed(3));event.animationName==this._name&&Math.max(timestamp-this._startTime,0)>=this._delay&&elapsedTime>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),addRemoveAnimationEvent(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function removeKeyframeAnimation(element,name){const tokens=getAnimationStyle(element,"").split(","),index=findMatchingTokenIndex(tokens,name);if(index>=0){tokens.splice(index,1);const newValue=tokens.join(",");setAnimationStyle(element,"",newValue)}}(this._element,this._name))}}function playPauseAnimation(element,name,status){setAnimationStyle(element,"PlayState",status,findIndexForAnimation(element,name))}function findIndexForAnimation(element,value){const anim=getAnimationStyle(element,"");if(anim.indexOf(",")>0){return findMatchingTokenIndex(anim.split(","),value)}return findMatchingTokenIndex([anim],value)}function findMatchingTokenIndex(tokens,searchToken){for(let i=0;i<tokens.length;i++)if(tokens[i].indexOf(searchToken)>=0)return i;return-1}function addRemoveAnimationEvent(element,fn,doRemove){doRemove?element.removeEventListener("animationend",fn):element.addEventListener("animationend",fn)}function setAnimationStyle(element,name,value,index){const prop="animation"+name;if(null!=index){const oldValue=element.style[prop];if(oldValue.length){const tokens=oldValue.split(",");tokens[index]=value,value=tokens.join(",")}}element.style[prop]=value}function getAnimationStyle(element,name){return element.style["animation"+name]}class CssKeyframesPlayer{constructor(element,keyframes,animationName,_duration,_delay,easing,_finalStyles,_specialStyles){this.element=element,this.keyframes=keyframes,this.animationName=animationName,this._duration=_duration,this._delay=_delay,this._finalStyles=_finalStyles,this._specialStyles=_specialStyles,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=easing||"linear",this.totalTime=_duration+_delay,this._buildStyler()}onStart(fn){this._onStartFns.push(fn)}onDone(fn){this._onDoneFns.push(fn)}onDestroy(fn){this._onDestroyFns.push(fn)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(fn=>fn()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(fn=>fn()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(fn=>fn()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(value){this._styler.setPosition(value)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){if(this._state>=1)return;this._state=1;this.element;this._styler.apply(),this._delay&&this._styler.pause()}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ElementAnimationStyleHandler(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(phaseName){const methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(fn=>fn()),methods.length=0}beforeDestroy(){this.init();const styles={};if(this.hasStarted()){const finished=this._state>=3;Object.keys(this._finalStyles).forEach(prop=>{"offset"!=prop&&(styles[prop]=finished?this._finalStyles[prop]:computeStyle(this.element,prop))})}this.currentSnapshot=styles}}class browser_DirectStylePlayer extends NoopAnimationPlayer{constructor(element,styles){super(),this.element=element,this._startingStyles={},this.__initialized=!1,this._styles=hypenatePropsObject(styles)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(prop=>{this._startingStyles[prop]=this.element.style[prop]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(prop=>this.element.style.setProperty(prop,this._styles[prop])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(prop=>{const value=this._startingStyles[prop];value?this.element.style.setProperty(prop,value):this.element.style.removeProperty(prop)}),this._startingStyles=null,super.destroy())}}class CssKeyframesDriver{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(prop){return validateStyleProperty(prop)}matchesElement(element,selector){return matchesElement(element,selector)}containsElement(elm1,elm2){return containsElement(elm1,elm2)}query(element,selector,multi){return invokeQuery(element,selector,multi)}computeStyle(element,prop,defaultValue){return window.getComputedStyle(element)[prop]}buildKeyframeElement(element,name,keyframes){keyframes=keyframes.map(kf=>hypenatePropsObject(kf));let keyframeStr=`@keyframes ${name} {\n`,tab="";keyframes.forEach(kf=>{tab=" ";const offset=parseFloat(kf.offset);keyframeStr+=`${tab}${100*offset}% {\n`,tab+=" ",Object.keys(kf).forEach(prop=>{const value=kf[prop];switch(prop){case"offset":return;case"easing":return void(value&&(keyframeStr+=`${tab}animation-timing-function: ${value};\n`));default:return void(keyframeStr+=`${tab}${prop}: ${value};\n`)}}),keyframeStr+=`${tab}}\n`}),keyframeStr+="}\n";const kfElm=document.createElement("style");return kfElm.innerHTML=keyframeStr,kfElm}animate(element,keyframes,duration,delay,easing,previousPlayers=[],scrubberAccessRequested){scrubberAccessRequested&&this._notifyFaultyScrubber();const previousCssKeyframePlayers=previousPlayers.filter(player=>player instanceof CssKeyframesPlayer),previousStyles={};allowPreviousPlayerStylesMerge(duration,delay)&&previousCssKeyframePlayers.forEach(player=>{let styles=player.currentSnapshot;Object.keys(styles).forEach(prop=>previousStyles[prop]=styles[prop])});const finalStyles=function flattenKeyframesIntoStyles(keyframes){let flatKeyframes={};if(keyframes){(Array.isArray(keyframes)?keyframes:[keyframes]).forEach(kf=>{Object.keys(kf).forEach(prop=>{"offset"!=prop&&"easing"!=prop&&(flatKeyframes[prop]=kf[prop])})})}return flatKeyframes}(keyframes=balancePreviousStylesIntoKeyframes(element,keyframes,previousStyles));if(0==duration)return new browser_DirectStylePlayer(element,finalStyles);const animationName=`gen_css_kf_${this._count++}`,kfElm=this.buildKeyframeElement(element,animationName,keyframes);document.querySelector("head").appendChild(kfElm);const specialStyles=packageNonAnimatableStyles(element,keyframes),player=new CssKeyframesPlayer(element,keyframes,animationName,duration,delay,easing,finalStyles,specialStyles);return player.onDestroy(()=>function removeElement(node){node.parentNode.removeChild(node)}(kfElm)),player}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class WebAnimationsPlayer{constructor(element,keyframes,options,_specialStyles){this.element=element,this.keyframes=keyframes,this.options=options,this._specialStyles=_specialStyles,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=options.duration,this._delay=options.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fn=>fn()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const keyframes=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,keyframes,this.options),this._finalKeyframe=keyframes.length?keyframes[keyframes.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(element,keyframes,options){return element.animate(keyframes,options)}onStart(fn){this._onStartFns.push(fn)}onDone(fn){this._onDoneFns.push(fn)}onDestroy(fn){this._onDestroyFns.push(fn)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(fn=>fn()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(fn=>fn()),this._onDestroyFns=[])}setPosition(p){this.domPlayer.currentTime=p*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const styles={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(prop=>{"offset"!=prop&&(styles[prop]=this._finished?this._finalKeyframe[prop]:computeStyle(this.element,prop))}),this.currentSnapshot=styles}triggerCallback(phaseName){const methods="start"==phaseName?this._onStartFns:this._onDoneFns;methods.forEach(fn=>fn()),methods.length=0}}class WebAnimationsDriver{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(getElementAnimateFn().toString()),this._cssKeyframesDriver=new CssKeyframesDriver}validateStyleProperty(prop){return validateStyleProperty(prop)}matchesElement(element,selector){return matchesElement(element,selector)}containsElement(elm1,elm2){return containsElement(elm1,elm2)}query(element,selector,multi){return invokeQuery(element,selector,multi)}computeStyle(element,prop,defaultValue){return window.getComputedStyle(element)[prop]}overrideWebAnimationsSupport(supported){this._isNativeImpl=supported}animate(element,keyframes,duration,delay,easing,previousPlayers=[],scrubberAccessRequested){if(!scrubberAccessRequested&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(element,keyframes,duration,delay,easing,previousPlayers);const playerOptions={duration:duration,delay:delay,fill:0==delay?"both":"forwards"};easing&&(playerOptions.easing=easing);const previousStyles={},previousWebAnimationPlayers=previousPlayers.filter(player=>player instanceof WebAnimationsPlayer);allowPreviousPlayerStylesMerge(duration,delay)&&previousWebAnimationPlayers.forEach(player=>{let styles=player.currentSnapshot;Object.keys(styles).forEach(prop=>previousStyles[prop]=styles[prop])});const specialStyles=packageNonAnimatableStyles(element,keyframes=balancePreviousStylesIntoKeyframes(element,keyframes=keyframes.map(styles=>copyStyles(styles,!1)),previousStyles));return new WebAnimationsPlayer(element,keyframes,playerOptions,specialStyles)}}function getElementAnimateFn(){return function isBrowser(){return"undefined"!=typeof window&&void 0!==window.document}()&&Element.prototype.animate||{}}var of=__webpack_require__("LRne"),Observable=__webpack_require__("HDdC"),concatMap=__webpack_require__("bOdf"),filter=__webpack_require__("pLZG"),operators_map=__webpack_require__("lJxs");class HttpHandler{}class HttpBackend{}class HttpHeaders{constructor(headers){this.normalizedNames=new Map,this.lazyUpdate=null,headers?this.lazyInit="string"==typeof headers?()=>{this.headers=new Map,headers.split("\n").forEach(line=>{const index=line.indexOf(":");if(index>0){const name=line.slice(0,index),key=name.toLowerCase(),value=line.slice(index+1).trim();this.maybeSetNormalizedName(name,key),this.headers.has(key)?this.headers.get(key).push(value):this.headers.set(key,[value])}})}:()=>{this.headers=new Map,Object.keys(headers).forEach(name=>{let values=headers[name];const key=name.toLowerCase();"string"==typeof values&&(values=[values]),values.length>0&&(this.headers.set(key,values),this.maybeSetNormalizedName(name,key))})}:this.headers=new Map}has(name){return this.init(),this.headers.has(name.toLowerCase())}get(name){this.init();const values=this.headers.get(name.toLowerCase());return values&&values.length>0?values[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(name){return this.init(),this.headers.get(name.toLowerCase())||null}append(name,value){return this.clone({name:name,value:value,op:"a"})}set(name,value){return this.clone({name:name,value:value,op:"s"})}delete(name,value){return this.clone({name:name,value:value,op:"d"})}maybeSetNormalizedName(name,lcName){this.normalizedNames.has(lcName)||this.normalizedNames.set(lcName,name)}init(){this.lazyInit&&(this.lazyInit instanceof HttpHeaders?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(update=>this.applyUpdate(update)),this.lazyUpdate=null))}copyFrom(other){other.init(),Array.from(other.headers.keys()).forEach(key=>{this.headers.set(key,other.headers.get(key)),this.normalizedNames.set(key,other.normalizedNames.get(key))})}clone(update){const clone=new HttpHeaders;return clone.lazyInit=this.lazyInit&&this.lazyInit instanceof HttpHeaders?this.lazyInit:this,clone.lazyUpdate=(this.lazyUpdate||[]).concat([update]),clone}applyUpdate(update){const key=update.name.toLowerCase();switch(update.op){case"a":case"s":let value=update.value;if("string"==typeof value&&(value=[value]),0===value.length)return;this.maybeSetNormalizedName(update.name,key);const base=("a"===update.op?this.headers.get(key):void 0)||[];base.push(...value),this.headers.set(key,base);break;case"d":const toDelete=update.value;if(toDelete){let existing=this.headers.get(key);if(!existing)return;existing=existing.filter(value=>-1===toDelete.indexOf(value)),0===existing.length?(this.headers.delete(key),this.normalizedNames.delete(key)):this.headers.set(key,existing)}else this.headers.delete(key),this.normalizedNames.delete(key)}}forEach(fn){this.init(),Array.from(this.normalizedNames.keys()).forEach(key=>fn(this.normalizedNames.get(key),this.headers.get(key)))}}class HttpUrlEncodingCodec{encodeKey(key){return standardEncoding(key)}encodeValue(value){return standardEncoding(value)}decodeKey(key){return decodeURIComponent(key)}decodeValue(value){return decodeURIComponent(value)}}function standardEncoding(v){return encodeURIComponent(v).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class HttpParams{constructor(options={}){if(this.updates=null,this.cloneFrom=null,this.encoder=options.encoder||new HttpUrlEncodingCodec,options.fromString){if(options.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function paramParser(rawParams,codec){const map=new Map;if(rawParams.length>0){rawParams.split("&").forEach(param=>{const eqIdx=param.indexOf("="),[key,val]=-1==eqIdx?[codec.decodeKey(param),""]:[codec.decodeKey(param.slice(0,eqIdx)),codec.decodeValue(param.slice(eqIdx+1))],list=map.get(key)||[];list.push(val),map.set(key,list)})}return map}(options.fromString,this.encoder)}else options.fromObject?(this.map=new Map,Object.keys(options.fromObject).forEach(key=>{const value=options.fromObject[key];this.map.set(key,Array.isArray(value)?value:[value])})):this.map=null}has(param){return this.init(),this.map.has(param)}get(param){this.init();const res=this.map.get(param);return res?res[0]:null}getAll(param){return this.init(),this.map.get(param)||null}keys(){return this.init(),Array.from(this.map.keys())}append(param,value){return this.clone({param:param,value:value,op:"a"})}set(param,value){return this.clone({param:param,value:value,op:"s"})}delete(param,value){return this.clone({param:param,value:value,op:"d"})}toString(){return this.init(),this.keys().map(key=>{const eKey=this.encoder.encodeKey(key);return(this.map.get(key).map(value=>eKey+"="+this.encoder.encodeValue(value)).join("&"))}).filter(param=>""!==param).join("&")}clone(update){const clone=new HttpParams({encoder:this.encoder});return clone.cloneFrom=this.cloneFrom||this,clone.updates=(this.updates||[]).concat([update]),clone}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(key=>this.map.set(key,this.cloneFrom.map.get(key))),this.updates.forEach(update=>{switch(update.op){case"a":case"s":const base=("a"===update.op?this.map.get(update.param):void 0)||[];base.push(update.value),this.map.set(update.param,base);break;case"d":if(void 0===update.value){this.map.delete(update.param);break}{let base=this.map.get(update.param)||[];const idx=base.indexOf(update.value);-1!==idx&&base.splice(idx,1),base.length>0?this.map.set(update.param,base):this.map.delete(update.param)}}}),this.cloneFrom=this.updates=null)}}function isArrayBuffer(value){return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer}function isBlob(value){return"undefined"!=typeof Blob&&value instanceof Blob}function isFormData(value){return"undefined"!=typeof FormData&&value instanceof FormData}class HttpRequest{constructor(method,url,third,fourth){let options;if(this.url=url,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=method.toUpperCase(),function mightHaveBody(method){switch(method){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||fourth?(this.body=void 0!==third?third:null,options=fourth):options=third,options&&(this.reportProgress=!!options.reportProgress,this.withCredentials=!!options.withCredentials,options.responseType&&(this.responseType=options.responseType),options.headers&&(this.headers=options.headers),options.params&&(this.params=options.params)),this.headers||(this.headers=new HttpHeaders),this.params){const params=this.params.toString();if(0===params.length)this.urlWithParams=url;else{const qIdx=url.indexOf("?"),sep=-1===qIdx?"?":qIdx<url.length-1?"&":"";this.urlWithParams=url+sep+params}}else this.params=new HttpParams,this.urlWithParams=url}serializeBody(){return null===this.body?null:isArrayBuffer(this.body)||isBlob(this.body)||isFormData(this.body)||"string"==typeof this.body?this.body:this.body instanceof HttpParams?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:isFormData(this.body)?null:isBlob(this.body)?this.body.type||null:isArrayBuffer(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof HttpParams?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(update={}){const method=update.method||this.method,url=update.url||this.url,responseType=update.responseType||this.responseType,body=void 0!==update.body?update.body:this.body,withCredentials=void 0!==update.withCredentials?update.withCredentials:this.withCredentials,reportProgress=void 0!==update.reportProgress?update.reportProgress:this.reportProgress;let headers=update.headers||this.headers,params=update.params||this.params;return void 0!==update.setHeaders&&(headers=Object.keys(update.setHeaders).reduce((headers,name)=>headers.set(name,update.setHeaders[name]),headers)),update.setParams&&(params=Object.keys(update.setParams).reduce((params,param)=>params.set(param,update.setParams[param]),params)),new HttpRequest(method,url,body,{params:params,headers:headers,reportProgress:reportProgress,responseType:responseType,withCredentials:withCredentials})}}const HttpEventType={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};HttpEventType[HttpEventType.Sent]="Sent",HttpEventType[HttpEventType.UploadProgress]="UploadProgress",HttpEventType[HttpEventType.ResponseHeader]="ResponseHeader",HttpEventType[HttpEventType.DownloadProgress]="DownloadProgress",HttpEventType[HttpEventType.Response]="Response",HttpEventType[HttpEventType.User]="User";class HttpResponseBase{constructor(init,defaultStatus=200,defaultStatusText="OK"){this.headers=init.headers||new HttpHeaders,this.status=void 0!==init.status?init.status:defaultStatus,this.statusText=init.statusText||defaultStatusText,this.url=init.url||null,this.ok=this.status>=200&&this.status<300}}class HttpHeaderResponse extends HttpResponseBase{constructor(init={}){super(init),this.type=HttpEventType.ResponseHeader}clone(update={}){return new HttpHeaderResponse({headers:update.headers||this.headers,status:void 0!==update.status?update.status:this.status,statusText:update.statusText||this.statusText,url:update.url||this.url||void 0})}}class HttpResponse extends HttpResponseBase{constructor(init={}){super(init),this.type=HttpEventType.Response,this.body=void 0!==init.body?init.body:null}clone(update={}){return new HttpResponse({body:void 0!==update.body?update.body:this.body,headers:update.headers||this.headers,status:void 0!==update.status?update.status:this.status,statusText:update.statusText||this.statusText,url:update.url||this.url||void 0})}}class HttpErrorResponse extends HttpResponseBase{constructor(init){super(init,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${init.url||"(unknown url)"}`:this.message=`Http failure response for ${init.url||"(unknown url)"}: ${init.status} ${init.statusText}`,this.error=init.error||null}}function addBody(options,body){return{body:body,headers:options.headers,observe:options.observe,params:options.params,reportProgress:options.reportProgress,responseType:options.responseType,withCredentials:options.withCredentials}}class http_HttpClient{constructor(handler){this.handler=handler}request(first,url,options={}){let req;if(first instanceof HttpRequest)req=first;else{let headers=void 0;headers=options.headers instanceof HttpHeaders?options.headers:new HttpHeaders(options.headers);let params=void 0;options.params&&(params=options.params instanceof HttpParams?options.params:new HttpParams({fromObject:options.params})),req=new HttpRequest(first,url,void 0!==options.body?options.body:null,{headers:headers,params:params,reportProgress:options.reportProgress,responseType:options.responseType||"json",withCredentials:options.withCredentials})}const events$=Object(of.a)(req).pipe(Object(concatMap.a)(req=>this.handler.handle(req)));if(first instanceof HttpRequest||"events"===options.observe)return events$;const res$=events$.pipe(Object(filter.a)(event=>event instanceof HttpResponse));switch(options.observe||"body"){case"body":switch(req.responseType){case"arraybuffer":return res$.pipe(Object(operators_map.a)(res=>{if(null!==res.body&&!(res.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return res.body}));case"blob":return res$.pipe(Object(operators_map.a)(res=>{if(null!==res.body&&!(res.body instanceof Blob))throw new Error("Response is not a Blob.");return res.body}));case"text":return res$.pipe(Object(operators_map.a)(res=>{if(null!==res.body&&"string"!=typeof res.body)throw new Error("Response is not a string.");return res.body}));case"json":default:return res$.pipe(Object(operators_map.a)(res=>res.body))}case"response":return res$;default:throw new Error(`Unreachable: unhandled observe type ${options.observe}}`)}}delete(url,options={}){return this.request("DELETE",url,options)}get(url,options={}){return this.request("GET",url,options)}head(url,options={}){return this.request("HEAD",url,options)}jsonp(url,callbackParam){return this.request("JSONP",url,{params:(new HttpParams).append(callbackParam,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(url,options={}){return this.request("OPTIONS",url,options)}patch(url,body,options={}){return this.request("PATCH",url,addBody(options,body))}post(url,body,options={}){return this.request("POST",url,addBody(options,body))}put(url,body,options={}){return this.request("PUT",url,addBody(options,body))}}http_HttpClient.\u0275fac=function HttpClient_Factory(t){return new(t||http_HttpClient)(core["\u0275\u0275inject"](HttpHandler))},http_HttpClient.\u0275prov=core["\u0275\u0275defineInjectable"]({token:http_HttpClient,factory:http_HttpClient.\u0275fac}),http_HttpClient.ctorParameters=()=>[{type:HttpHandler}];class HttpInterceptorHandler{constructor(next,interceptor){this.next=next,this.interceptor=interceptor}handle(req){return this.interceptor.intercept(req,this.next)}}const HTTP_INTERCEPTORS=new core.InjectionToken("HTTP_INTERCEPTORS");class NoopInterceptor{intercept(req,next){return next.handle(req)}}NoopInterceptor.\u0275fac=function NoopInterceptor_Factory(t){return new(t||NoopInterceptor)},NoopInterceptor.\u0275prov=core["\u0275\u0275defineInjectable"]({token:NoopInterceptor,factory:NoopInterceptor.\u0275fac});let nextRequestId=0;class JsonpCallbackContext{}class http_JsonpClientBackend{constructor(callbackMap,document){this.callbackMap=callbackMap,this.document=document}nextCallback(){return`ng_jsonp_callback_${nextRequestId++}`}handle(req){if("JSONP"!==req.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==req.responseType)throw new Error("JSONP requests must use Json response type.");return new Observable.a(observer=>{const callback=this.nextCallback(),url=req.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${callback}$1`),node=this.document.createElement("script");node.src=url;let body=null,finished=!1,cancelled=!1;this.callbackMap[callback]=data=>{delete this.callbackMap[callback],cancelled||(body=data,finished=!0)};const cleanup=()=>{node.parentNode&&node.parentNode.removeChild(node),delete this.callbackMap[callback]},onLoad=event=>{cancelled||(cleanup(),finished?(observer.next(new HttpResponse({body:body,status:200,statusText:"OK",url:url})),observer.complete()):observer.error(new HttpErrorResponse({url:url,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")})))},onError=error=>{cancelled||(cleanup(),observer.error(new HttpErrorResponse({error:error,status:0,statusText:"JSONP Error",url:url})))};return node.addEventListener("load",onLoad),node.addEventListener("error",onError),this.document.body.appendChild(node),observer.next({type:HttpEventType.Sent}),()=>{cancelled=!0,node.removeEventListener("load",onLoad),node.removeEventListener("error",onError),cleanup()}})}}http_JsonpClientBackend.\u0275fac=function JsonpClientBackend_Factory(t){return new(t||http_JsonpClientBackend)(core["\u0275\u0275inject"](JsonpCallbackContext),core["\u0275\u0275inject"](common.DOCUMENT))},http_JsonpClientBackend.\u0275prov=core["\u0275\u0275defineInjectable"]({token:http_JsonpClientBackend,factory:http_JsonpClientBackend.\u0275fac}),http_JsonpClientBackend.ctorParameters=()=>[{type:JsonpCallbackContext},{type:void 0,decorators:[{type:core.Inject,args:[common.DOCUMENT]}]}];class JsonpInterceptor{constructor(jsonp){this.jsonp=jsonp}intercept(req,next){return"JSONP"===req.method?this.jsonp.handle(req):next.handle(req)}}JsonpInterceptor.\u0275fac=function JsonpInterceptor_Factory(t){return new(t||JsonpInterceptor)(core["\u0275\u0275inject"](http_JsonpClientBackend))},JsonpInterceptor.\u0275prov=core["\u0275\u0275defineInjectable"]({token:JsonpInterceptor,factory:JsonpInterceptor.\u0275fac}),JsonpInterceptor.ctorParameters=()=>[{type:http_JsonpClientBackend}];const XSSI_PREFIX=/^\)\]\}',?\n/;class XhrFactory{}class BrowserXhr{constructor(){}build(){return new XMLHttpRequest}}BrowserXhr.\u0275fac=function BrowserXhr_Factory(t){return new(t||BrowserXhr)},BrowserXhr.\u0275prov=core["\u0275\u0275defineInjectable"]({token:BrowserXhr,factory:BrowserXhr.\u0275fac}),BrowserXhr.ctorParameters=()=>[];class http_HttpXhrBackend{constructor(xhrFactory){this.xhrFactory=xhrFactory}handle(req){if("JSONP"===req.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new Observable.a(observer=>{const xhr=this.xhrFactory.build();if(xhr.open(req.method,req.urlWithParams),req.withCredentials&&(xhr.withCredentials=!0),req.headers.forEach((name,values)=>xhr.setRequestHeader(name,values.join(","))),req.headers.has("Accept")||xhr.setRequestHeader("Accept","application/json, text/plain, */*"),!req.headers.has("Content-Type")){const detectedType=req.detectContentTypeHeader();null!==detectedType&&xhr.setRequestHeader("Content-Type",detectedType)}if(req.responseType){const responseType=req.responseType.toLowerCase();xhr.responseType="json"!==responseType?responseType:"text"}const reqBody=req.serializeBody();let headerResponse=null;const partialFromXhr=()=>{if(null!==headerResponse)return headerResponse;const status=1223===xhr.status?204:xhr.status,statusText=xhr.statusText||"OK",headers=new HttpHeaders(xhr.getAllResponseHeaders()),url=function getResponseUrl(xhr){return"responseURL"in xhr&&xhr.responseURL?xhr.responseURL:/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())?xhr.getResponseHeader("X-Request-URL"):null}(xhr)||req.url;return headerResponse=new HttpHeaderResponse({headers:headers,status:status,statusText:statusText,url:url}),headerResponse},onLoad=()=>{let{headers:headers,status:status,statusText:statusText,url:url}=partialFromXhr(),body=null;204!==status&&(body=void 0===xhr.response?xhr.responseText:xhr.response),0===status&&(status=body?200:0);let ok=status>=200&&status<300;if("json"===req.responseType&&"string"==typeof body){const originalBody=body;body=body.replace(XSSI_PREFIX,"");try{body=""!==body?JSON.parse(body):null}catch(error){body=originalBody,ok&&(ok=!1,body={error:error,text:body})}}ok?(observer.next(new HttpResponse({body:body,headers:headers,status:status,statusText:statusText,url:url||void 0})),observer.complete()):observer.error(new HttpErrorResponse({error:body,headers:headers,status:status,statusText:statusText,url:url||void 0}))},onError=error=>{const{url:url}=partialFromXhr(),res=new HttpErrorResponse({error:error,status:xhr.status||0,statusText:xhr.statusText||"Unknown Error",url:url||void 0});observer.error(res)};let sentHeaders=!1;const onDownProgress=event=>{sentHeaders||(observer.next(partialFromXhr()),sentHeaders=!0);let progressEvent={type:HttpEventType.DownloadProgress,loaded:event.loaded};event.lengthComputable&&(progressEvent.total=event.total),"text"===req.responseType&&xhr.responseText&&(progressEvent.partialText=xhr.responseText),observer.next(progressEvent)},onUpProgress=event=>{let progress={type:HttpEventType.UploadProgress,loaded:event.loaded};event.lengthComputable&&(progress.total=event.total),observer.next(progress)};return xhr.addEventListener("load",onLoad),xhr.addEventListener("error",onError),req.reportProgress&&(xhr.addEventListener("progress",onDownProgress),null!==reqBody&&xhr.upload&&xhr.upload.addEventListener("progress",onUpProgress)),xhr.send(reqBody),observer.next({type:HttpEventType.Sent}),()=>{xhr.removeEventListener("error",onError),xhr.removeEventListener("load",onLoad),req.reportProgress&&(xhr.removeEventListener("progress",onDownProgress),null!==reqBody&&xhr.upload&&xhr.upload.removeEventListener("progress",onUpProgress)),xhr.abort()}})}}http_HttpXhrBackend.\u0275fac=function HttpXhrBackend_Factory(t){return new(t||http_HttpXhrBackend)(core["\u0275\u0275inject"](XhrFactory))},http_HttpXhrBackend.\u0275prov=core["\u0275\u0275defineInjectable"]({token:http_HttpXhrBackend,factory:http_HttpXhrBackend.\u0275fac}),http_HttpXhrBackend.ctorParameters=()=>[{type:XhrFactory}];const XSRF_COOKIE_NAME=new core.InjectionToken("XSRF_COOKIE_NAME"),XSRF_HEADER_NAME=new core.InjectionToken("XSRF_HEADER_NAME");class HttpXsrfTokenExtractor{}class http_HttpXsrfCookieExtractor{constructor(doc,platform,cookieName){this.doc=doc,this.platform=platform,this.cookieName=cookieName,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const cookieString=this.doc.cookie||"";return cookieString!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(common["\u0275parseCookieValue"])(cookieString,this.cookieName),this.lastCookieString=cookieString),this.lastToken}}http_HttpXsrfCookieExtractor.\u0275fac=function HttpXsrfCookieExtractor_Factory(t){return new(t||http_HttpXsrfCookieExtractor)(core["\u0275\u0275inject"](common.DOCUMENT),core["\u0275\u0275inject"](core.PLATFORM_ID),core["\u0275\u0275inject"](XSRF_COOKIE_NAME))},http_HttpXsrfCookieExtractor.\u0275prov=core["\u0275\u0275defineInjectable"]({token:http_HttpXsrfCookieExtractor,factory:http_HttpXsrfCookieExtractor.\u0275fac}),http_HttpXsrfCookieExtractor.ctorParameters=()=>[{type:void 0,decorators:[{type:core.Inject,args:[common.DOCUMENT]}]},{type:String,decorators:[{type:core.Inject,args:[core.PLATFORM_ID]}]},{type:String,decorators:[{type:core.Inject,args:[XSRF_COOKIE_NAME]}]}];class HttpXsrfInterceptor{constructor(tokenService,headerName){this.tokenService=tokenService,this.headerName=headerName}intercept(req,next){const lcUrl=req.url.toLowerCase();if("GET"===req.method||"HEAD"===req.method||lcUrl.startsWith("http://")||lcUrl.startsWith("https://"))return next.handle(req);const token=this.tokenService.getToken();return null===token||req.headers.has(this.headerName)||(req=req.clone({headers:req.headers.set(this.headerName,token)})),next.handle(req)}}HttpXsrfInterceptor.\u0275fac=function HttpXsrfInterceptor_Factory(t){return new(t||HttpXsrfInterceptor)(core["\u0275\u0275inject"](HttpXsrfTokenExtractor),core["\u0275\u0275inject"](XSRF_HEADER_NAME))},HttpXsrfInterceptor.\u0275prov=core["\u0275\u0275defineInjectable"]({token:HttpXsrfInterceptor,factory:HttpXsrfInterceptor.\u0275fac}),HttpXsrfInterceptor.ctorParameters=()=>[{type:HttpXsrfTokenExtractor},{type:String,decorators:[{type:core.Inject,args:[XSRF_HEADER_NAME]}]}];class HttpInterceptingHandler{constructor(backend,injector){this.backend=backend,this.injector=injector,this.chain=null}handle(req){if(null===this.chain){const interceptors=this.injector.get(HTTP_INTERCEPTORS,[]);this.chain=interceptors.reduceRight((next,interceptor)=>new HttpInterceptorHandler(next,interceptor),this.backend)}return this.chain.handle(req)}}function jsonpCallbackContext(){return"object"==typeof window?window:{}}HttpInterceptingHandler.\u0275fac=function HttpInterceptingHandler_Factory(t){return new(t||HttpInterceptingHandler)(core["\u0275\u0275inject"](HttpBackend),core["\u0275\u0275inject"](core.Injector))},HttpInterceptingHandler.\u0275prov=core["\u0275\u0275defineInjectable"]({token:HttpInterceptingHandler,factory:HttpInterceptingHandler.\u0275fac}),HttpInterceptingHandler.ctorParameters=()=>[{type:HttpBackend},{type:core.Injector}];class HttpClientXsrfModule{static disable(){return{ngModule:HttpClientXsrfModule,providers:[{provide:HttpXsrfInterceptor,useClass:NoopInterceptor}]}}static withOptions(options={}){return{ngModule:HttpClientXsrfModule,providers:[options.cookieName?{provide:XSRF_COOKIE_NAME,useValue:options.cookieName}:[],options.headerName?{provide:XSRF_HEADER_NAME,useValue:options.headerName}:[]]}}}HttpClientXsrfModule.\u0275mod=core["\u0275\u0275defineNgModule"]({type:HttpClientXsrfModule}),HttpClientXsrfModule.\u0275inj=core["\u0275\u0275defineInjector"]({factory:function HttpClientXsrfModule_Factory(t){return new(t||HttpClientXsrfModule)},providers:[HttpXsrfInterceptor,{provide:HTTP_INTERCEPTORS,useExisting:HttpXsrfInterceptor,multi:!0},{provide:HttpXsrfTokenExtractor,useClass:http_HttpXsrfCookieExtractor},{provide:XSRF_COOKIE_NAME,useValue:"XSRF-TOKEN"},{provide:XSRF_HEADER_NAME,useValue:"X-XSRF-TOKEN"}]});class HttpClientModule{}HttpClientModule.\u0275mod=core["\u0275\u0275defineNgModule"]({type:HttpClientModule}),HttpClientModule.\u0275inj=core["\u0275\u0275defineInjector"]({factory:function HttpClientModule_Factory(t){return new(t||HttpClientModule)},providers:[http_HttpClient,{provide:HttpHandler,useClass:HttpInterceptingHandler},http_HttpXhrBackend,{provide:HttpBackend,useExisting:http_HttpXhrBackend},BrowserXhr,{provide:XhrFactory,useExisting:BrowserXhr}],imports:[[HttpClientXsrfModule.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]});class HttpClientJsonpModule{}var TagContentType;function splitNsName(elementName){if(":"!=elementName[0])return[null,elementName];const colonIndex=elementName.indexOf(":",1);if(-1==colonIndex)throw new Error(`Unsupported format "${elementName}" expecting ":namespace:name"`);return[elementName.slice(1,colonIndex),elementName.slice(colonIndex+1)]}function isNgContainer(tagName){return"ng-container"===splitNsName(tagName)[1]}function isNgContent(tagName){return"ng-content"===splitNsName(tagName)[1]}function isNgTemplate(tagName){return"ng-template"===splitNsName(tagName)[1]}function getNsPrefix(fullName){return null===fullName?null:splitNsName(fullName)[0]}function mergeNsAndName(prefix,localName){return prefix?`:${prefix}:${localName}`:localName}HttpClientJsonpModule.\u0275mod=core["\u0275\u0275defineNgModule"]({type:HttpClientJsonpModule}),HttpClientJsonpModule.\u0275inj=core["\u0275\u0275defineInjector"]({factory:function HttpClientJsonpModule_Factory(t){return new(t||HttpClientJsonpModule)},providers:[http_JsonpClientBackend,{provide:JsonpCallbackContext,useFactory:jsonpCallbackContext},{provide:HTTP_INTERCEPTORS,useClass:JsonpInterceptor,multi:!0}]}),function(TagContentType){TagContentType[TagContentType.RAW_TEXT=0]="RAW_TEXT",TagContentType[TagContentType.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",TagContentType[TagContentType.PARSABLE_DATA=2]="PARSABLE_DATA"}(TagContentType||(TagContentType={}));const NAMED_ENTITIES={Aacute:"\xc1",aacute:"\xe1",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",AElig:"\xc6",aelig:"\xe6",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",Alpha:"\u0391",alpha:"\u03b1",amp:"&",and:"\u2227",ang:"\u2220",apos:"'",Aring:"\xc5",aring:"\xe5",asymp:"\u2248",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",bdquo:"\u201e",Beta:"\u0392",beta:"\u03b2",brvbar:"\xa6",bull:"\u2022",cap:"\u2229",Ccedil:"\xc7",ccedil:"\xe7",cedil:"\xb8",cent:"\xa2",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",clubs:"\u2663",cong:"\u2245",copy:"\xa9",crarr:"\u21b5",cup:"\u222a",curren:"\xa4",dagger:"\u2020",Dagger:"\u2021",darr:"\u2193",dArr:"\u21d3",deg:"\xb0",Delta:"\u0394",delta:"\u03b4",diams:"\u2666",divide:"\xf7",Eacute:"\xc9",eacute:"\xe9",Ecirc:"\xca",ecirc:"\xea",Egrave:"\xc8",egrave:"\xe8",empty:"\u2205",emsp:"\u2003",ensp:"\u2002",Epsilon:"\u0395",epsilon:"\u03b5",equiv:"\u2261",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",exist:"\u2203",fnof:"\u0192",forall:"\u2200",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",frasl:"\u2044",Gamma:"\u0393",gamma:"\u03b3",ge:"\u2265",gt:">",harr:"\u2194",hArr:"\u21d4",hearts:"\u2665",hellip:"\u2026",Iacute:"\xcd",iacute:"\xed",Icirc:"\xce",icirc:"\xee",iexcl:"\xa1",Igrave:"\xcc",igrave:"\xec",image:"\u2111",infin:"\u221e",int:"\u222b",Iota:"\u0399",iota:"\u03b9",iquest:"\xbf",isin:"\u2208",Iuml:"\xcf",iuml:"\xef",Kappa:"\u039a",kappa:"\u03ba",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",laquo:"\xab",larr:"\u2190",lArr:"\u21d0",lceil:"\u2308",ldquo:"\u201c",le:"\u2264",lfloor:"\u230a",lowast:"\u2217",loz:"\u25ca",lrm:"\u200e",lsaquo:"\u2039",lsquo:"\u2018",lt:"<",macr:"\xaf",mdash:"\u2014",micro:"\xb5",middot:"\xb7",minus:"\u2212",Mu:"\u039c",mu:"\u03bc",nabla:"\u2207",nbsp:"\xa0",ndash:"\u2013",ne:"\u2260",ni:"\u220b",not:"\xac",notin:"\u2209",nsub:"\u2284",Ntilde:"\xd1",ntilde:"\xf1",Nu:"\u039d",nu:"\u03bd",Oacute:"\xd3",oacute:"\xf3",Ocirc:"\xd4",ocirc:"\xf4",OElig:"\u0152",oelig:"\u0153",Ograve:"\xd2",ograve:"\xf2",oline:"\u203e",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",oplus:"\u2295",or:"\u2228",ordf:"\xaa",ordm:"\xba",Oslash:"\xd8",oslash:"\xf8",Otilde:"\xd5",otilde:"\xf5",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",para:"\xb6",permil:"\u2030",perp:"\u22a5",Phi:"\u03a6",phi:"\u03c6",Pi:"\u03a0",pi:"\u03c0",piv:"\u03d6",plusmn:"\xb1",pound:"\xa3",prime:"\u2032",Prime:"\u2033",prod:"\u220f",prop:"\u221d",Psi:"\u03a8",psi:"\u03c8",quot:'"',radic:"\u221a",rang:"\u27e9",raquo:"\xbb",rarr:"\u2192",rArr:"\u21d2",rceil:"\u2309",rdquo:"\u201d",real:"\u211c",reg:"\xae",rfloor:"\u230b",Rho:"\u03a1",rho:"\u03c1",rlm:"\u200f",rsaquo:"\u203a",rsquo:"\u2019",sbquo:"\u201a",Scaron:"\u0160",scaron:"\u0161",sdot:"\u22c5",sect:"\xa7",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sim:"\u223c",spades:"\u2660",sub:"\u2282",sube:"\u2286",sum:"\u2211",sup:"\u2283",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supe:"\u2287",szlig:"\xdf",Tau:"\u03a4",tau:"\u03c4",there4:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thinsp:"\u2009",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",times:"\xd7",trade:"\u2122",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",uArr:"\u21d1",Ucirc:"\xdb",ucirc:"\xfb",Ugrave:"\xd9",ugrave:"\xf9",uml:"\xa8",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",Uuml:"\xdc",uuml:"\xfc",weierp:"\u2118",Xi:"\u039e",xi:"\u03be",Yacute:"\xdd",yacute:"\xfd",yen:"\xa5",yuml:"\xff",Yuml:"\u0178",Zeta:"\u0396",zeta:"\u03b6",zwj:"\u200d",zwnj:"\u200c"};NAMED_ENTITIES.ngsp="\ue500";class HtmlTagDefinition{constructor({closedByChildren:closedByChildren,implicitNamespacePrefix:implicitNamespacePrefix,contentType:contentType=TagContentType.PARSABLE_DATA,closedByParent:closedByParent=!1,isVoid:isVoid=!1,ignoreFirstLf:ignoreFirstLf=!1}={}){this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,closedByChildren&&closedByChildren.length>0&&closedByChildren.forEach(tagName=>this.closedByChildren[tagName]=!0),this.isVoid=isVoid,this.closedByParent=closedByParent||isVoid,this.implicitNamespacePrefix=implicitNamespacePrefix||null,this.contentType=contentType,this.ignoreFirstLf=ignoreFirstLf}isClosedByChild(name){return this.isVoid||name.toLowerCase()in this.closedByChildren}}let _DEFAULT_TAG_DEFINITION,TAG_DEFINITIONS;function getHtmlTagDefinition(tagName){return TAG_DEFINITIONS||(_DEFAULT_TAG_DEFINITION=new HtmlTagDefinition,TAG_DEFINITIONS={base:new HtmlTagDefinition({isVoid:!0}),meta:new HtmlTagDefinition({isVoid:!0}),area:new HtmlTagDefinition({isVoid:!0}),embed:new HtmlTagDefinition({isVoid:!0}),link:new HtmlTagDefinition({isVoid:!0}),img:new HtmlTagDefinition({isVoid:!0}),input:new HtmlTagDefinition({isVoid:!0}),param:new HtmlTagDefinition({isVoid:!0}),hr:new HtmlTagDefinition({isVoid:!0}),br:new HtmlTagDefinition({isVoid:!0}),source:new HtmlTagDefinition({isVoid:!0}),track:new HtmlTagDefinition({isVoid:!0}),wbr:new HtmlTagDefinition({isVoid:!0}),p:new HtmlTagDefinition({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"]}),tbody:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new HtmlTagDefinition({closedByChildren:["tbody"],closedByParent:!0}),tr:new HtmlTagDefinition({closedByChildren:["tr"],closedByParent:!0}),td:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),th:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),col:new HtmlTagDefinition({isVoid:!0}),svg:new HtmlTagDefinition({implicitNamespacePrefix:"svg"}),math:new HtmlTagDefinition({implicitNamespacePrefix:"math"}),li:new HtmlTagDefinition({closedByChildren:["li"],closedByParent:!0}),dt:new HtmlTagDefinition({closedByChildren:["dt","dd"]}),dd:new HtmlTagDefinition({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new HtmlTagDefinition({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new HtmlTagDefinition({closedByChildren:["optgroup"],closedByParent:!0}),option:new HtmlTagDefinition({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new HtmlTagDefinition({ignoreFirstLf:!0}),listing:new HtmlTagDefinition({ignoreFirstLf:!0}),style:new HtmlTagDefinition({contentType:TagContentType.RAW_TEXT}),script:new HtmlTagDefinition({contentType:TagContentType.RAW_TEXT}),title:new HtmlTagDefinition({contentType:TagContentType.ESCAPABLE_RAW_TEXT}),textarea:new HtmlTagDefinition({contentType:TagContentType.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),TAG_DEFINITIONS[tagName.toLowerCase()]||_DEFAULT_TAG_DEFINITION}const _SELECTOR_REGEXP=new RegExp("(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g");class CssSelector{constructor(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}static parse(selector){const results=[],_addResult=(res,cssSel)=>{cssSel.notSelectors.length>0&&!cssSel.element&&0==cssSel.classNames.length&&0==cssSel.attrs.length&&(cssSel.element="*"),res.push(cssSel)};let match,cssSelector=new CssSelector,current=cssSelector,inNot=!1;for(_SELECTOR_REGEXP.lastIndex=0;match=_SELECTOR_REGEXP.exec(selector);){if(match[1]){if(inNot)throw new Error("Nesting :not in a selector is not allowed");inNot=!0,current=new CssSelector,cssSelector.notSelectors.push(current)}const tag=match[2];if(tag){const prefix=match[3];"#"===prefix?current.addAttribute("id",tag.substr(1)):"."===prefix?current.addClassName(tag.substr(1)):current.setElement(tag)}const attribute=match[4];if(attribute&&current.addAttribute(attribute,match[6]),match[7]&&(inNot=!1,current=cssSelector),match[8]){if(inNot)throw new Error("Multiple selectors in :not are not supported");_addResult(results,cssSelector),cssSelector=current=new CssSelector}}return _addResult(results,cssSelector),results}isElementSelector(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length}hasElementSelector(){return!!this.element}setElement(element=null){this.element=element}getMatchingElementTemplate(){const tagName=this.element||"div",classAttr=this.classNames.length>0?` class="${this.classNames.join(" ")}"`:"";let attrs="";for(let i=0;i<this.attrs.length;i+=2){attrs+=` ${this.attrs[i]}${""!==this.attrs[i+1]?`="${this.attrs[i+1]}"`:""}`}return getHtmlTagDefinition(tagName).isVoid?`<${tagName}${classAttr}${attrs}/>`:`<${tagName}${classAttr}${attrs}></${tagName}>`}getAttrs(){const result=[];return this.classNames.length>0&&result.push("class",this.classNames.join(" ")),result.concat(this.attrs)}addAttribute(name,value=""){this.attrs.push(name,value&&value.toLowerCase()||"")}addClassName(name){this.classNames.push(name.toLowerCase())}toString(){let res=this.element||"";if(this.classNames&&this.classNames.forEach(klass=>res+=`.${klass}`),this.attrs)for(let i=0;i<this.attrs.length;i+=2){const name=this.attrs[i],value=this.attrs[i+1];res+=`[${name}${value?"="+value:""}]`}return this.notSelectors.forEach(notSelector=>res+=`:not(${notSelector})`),res}}class SelectorMatcher{constructor(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}static createNotMatcher(notSelectors){const notMatcher=new SelectorMatcher;return notMatcher.addSelectables(notSelectors,null),notMatcher}addSelectables(cssSelectors,callbackCtxt){let listContext=null;cssSelectors.length>1&&(listContext=new SelectorListContext(cssSelectors),this._listContexts.push(listContext));for(let i=0;i<cssSelectors.length;i++)this._addSelectable(cssSelectors[i],callbackCtxt,listContext)}_addSelectable(cssSelector,callbackCtxt,listContext){let matcher=this;const element=cssSelector.element,classNames=cssSelector.classNames,attrs=cssSelector.attrs,selectable=new SelectorContext(cssSelector,callbackCtxt,listContext);if(element){0===attrs.length&&0===classNames.length?this._addTerminal(matcher._elementMap,element,selectable):matcher=this._addPartial(matcher._elementPartialMap,element)}if(classNames)for(let i=0;i<classNames.length;i++){const isTerminal=0===attrs.length&&i===classNames.length-1,className=classNames[i];isTerminal?this._addTerminal(matcher._classMap,className,selectable):matcher=this._addPartial(matcher._classPartialMap,className)}if(attrs)for(let i=0;i<attrs.length;i+=2){const isTerminal=i===attrs.length-2,name=attrs[i],value=attrs[i+1];if(isTerminal){const terminalMap=matcher._attrValueMap;let terminalValuesMap=terminalMap.get(name);terminalValuesMap||(terminalValuesMap=new Map,terminalMap.set(name,terminalValuesMap)),this._addTerminal(terminalValuesMap,value,selectable)}else{const partialMap=matcher._attrValuePartialMap;let partialValuesMap=partialMap.get(name);partialValuesMap||(partialValuesMap=new Map,partialMap.set(name,partialValuesMap)),matcher=this._addPartial(partialValuesMap,value)}}}_addTerminal(map,name,selectable){let terminalList=map.get(name);terminalList||(terminalList=[],map.set(name,terminalList)),terminalList.push(selectable)}_addPartial(map,name){let matcher=map.get(name);return matcher||(matcher=new SelectorMatcher,map.set(name,matcher)),matcher}match(cssSelector,matchedCallback){let result=!1;const element=cssSelector.element,classNames=cssSelector.classNames,attrs=cssSelector.attrs;for(let i=0;i<this._listContexts.length;i++)this._listContexts[i].alreadyMatched=!1;if(result=this._matchTerminal(this._elementMap,element,cssSelector,matchedCallback)||result,result=this._matchPartial(this._elementPartialMap,element,cssSelector,matchedCallback)||result,classNames)for(let i=0;i<classNames.length;i++){const className=classNames[i];result=this._matchTerminal(this._classMap,className,cssSelector,matchedCallback)||result,result=this._matchPartial(this._classPartialMap,className,cssSelector,matchedCallback)||result}if(attrs)for(let i=0;i<attrs.length;i+=2){const name=attrs[i],value=attrs[i+1],terminalValuesMap=this._attrValueMap.get(name);value&&(result=this._matchTerminal(terminalValuesMap,"",cssSelector,matchedCallback)||result),result=this._matchTerminal(terminalValuesMap,value,cssSelector,matchedCallback)||result;const partialValuesMap=this._attrValuePartialMap.get(name);value&&(result=this._matchPartial(partialValuesMap,"",cssSelector,matchedCallback)||result),result=this._matchPartial(partialValuesMap,value,cssSelector,matchedCallback)||result}return result}_matchTerminal(map,name,cssSelector,matchedCallback){if(!map||"string"!=typeof name)return!1;let selectables=map.get(name)||[];const starSelectables=map.get("*");if(starSelectables&&(selectables=selectables.concat(starSelectables)),0===selectables.length)return!1;let selectable,result=!1;for(let i=0;i<selectables.length;i++)selectable=selectables[i],result=selectable.finalize(cssSelector,matchedCallback)||result;return result}_matchPartial(map,name,cssSelector,matchedCallback){if(!map||"string"!=typeof name)return!1;const nestedSelector=map.get(name);return!!nestedSelector&&nestedSelector.match(cssSelector,matchedCallback)}}class SelectorListContext{constructor(selectors){this.selectors=selectors,this.alreadyMatched=!1}}class SelectorContext{constructor(selector,cbContext,listContext){this.selector=selector,this.cbContext=cbContext,this.listContext=listContext,this.notSelectors=selector.notSelectors}finalize(cssSelector,callback){let result=!0;if(this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)){result=!SelectorMatcher.createNotMatcher(this.notSelectors).match(cssSelector,null)}return!result||!callback||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),callback(this.selector,this.cbContext)),result}}const createInject=makeMetadataFactory("Inject",token=>({token:token})),createInjectionToken=makeMetadataFactory("InjectionToken",desc=>({_desc:desc,"\u0275prov":void 0})),createAttribute=makeMetadataFactory("Attribute",attributeName=>({attributeName:attributeName})),createContentChildren=makeMetadataFactory("ContentChildren",(selector,data={})=>Object.assign({selector:selector,first:!1,isViewQuery:!1,descendants:!1},data)),createContentChild=makeMetadataFactory("ContentChild",(selector,data={})=>Object.assign({selector:selector,first:!0,isViewQuery:!1,descendants:!0},data)),createViewChildren=makeMetadataFactory("ViewChildren",(selector,data={})=>Object.assign({selector:selector,first:!1,isViewQuery:!0,descendants:!0},data)),createViewChild=makeMetadataFactory("ViewChild",(selector,data)=>Object.assign({selector:selector,first:!0,isViewQuery:!0,descendants:!0},data)),createDirective=makeMetadataFactory("Directive",(dir={})=>dir);var ViewEncapsulation,ChangeDetectionStrategy;!function(ViewEncapsulation){ViewEncapsulation[ViewEncapsulation.Emulated=0]="Emulated",ViewEncapsulation[ViewEncapsulation.Native=1]="Native",ViewEncapsulation[ViewEncapsulation.None=2]="None",ViewEncapsulation[ViewEncapsulation.ShadowDom=3]="ShadowDom"}(ViewEncapsulation||(ViewEncapsulation={})),function(ChangeDetectionStrategy){ChangeDetectionStrategy[ChangeDetectionStrategy.OnPush=0]="OnPush",ChangeDetectionStrategy[ChangeDetectionStrategy.Default=1]="Default"}(ChangeDetectionStrategy||(ChangeDetectionStrategy={}));const createComponent=makeMetadataFactory("Component",(c={})=>Object.assign({changeDetection:ChangeDetectionStrategy.Default},c)),createPipe=makeMetadataFactory("Pipe",p=>Object.assign({pure:!0},p)),createInput=makeMetadataFactory("Input",bindingPropertyName=>({bindingPropertyName:bindingPropertyName})),createOutput=makeMetadataFactory("Output",bindingPropertyName=>({bindingPropertyName:bindingPropertyName})),createHostBinding=makeMetadataFactory("HostBinding",hostPropertyName=>({hostPropertyName:hostPropertyName})),createHostListener=makeMetadataFactory("HostListener",(eventName,args)=>({eventName:eventName,args:args})),createNgModule=makeMetadataFactory("NgModule",ngModule=>ngModule),createInjectable=makeMetadataFactory("Injectable",(injectable={})=>injectable),CUSTOM_ELEMENTS_SCHEMA={name:"custom-elements"},NO_ERRORS_SCHEMA={name:"no-errors-schema"},createOptional=makeMetadataFactory("Optional"),createSelf=makeMetadataFactory("Self"),createSkipSelf=makeMetadataFactory("SkipSelf"),createHost=makeMetadataFactory("Host"),Type=Function;var SecurityContext,MissingTranslationStrategy;function makeMetadataFactory(name,props){function factory(...args){const values=props?props(...args):{};return Object.assign({ngMetadataName:name},values)}return factory.isTypeOf=obj=>obj&&obj.ngMetadataName===name,factory.ngMetadataName=name,factory}function parserSelectorToR3Selector(selector){const positive=function parserSelectorToSimpleSelector(selector){const classes=selector.classNames&&selector.classNames.length?[8,...selector.classNames]:[];return[selector.element&&"*"!==selector.element?selector.element:"",...selector.attrs,...classes]}(selector),negative=selector.notSelectors&&selector.notSelectors.length?selector.notSelectors.map(notSelector=>function parserSelectorToNegativeSelector(selector){const classes=selector.classNames&&selector.classNames.length?[8,...selector.classNames]:[];return selector.element?[5,selector.element,...selector.attrs,...classes]:selector.attrs.length?[3,...selector.attrs,...classes]:selector.classNames&&selector.classNames.length?[9,...selector.classNames]:[]}(notSelector)):[];return positive.concat(...negative)}function parseSelectorToR3Selector(selector){return selector?CssSelector.parse(selector).map(parserSelectorToR3Selector):[]}!function(SecurityContext){SecurityContext[SecurityContext.NONE=0]="NONE",SecurityContext[SecurityContext.HTML=1]="HTML",SecurityContext[SecurityContext.STYLE=2]="STYLE",SecurityContext[SecurityContext.SCRIPT=3]="SCRIPT",SecurityContext[SecurityContext.URL=4]="URL",SecurityContext[SecurityContext.RESOURCE_URL=5]="RESOURCE_URL"}(SecurityContext||(SecurityContext={})),function(MissingTranslationStrategy){MissingTranslationStrategy[MissingTranslationStrategy.Error=0]="Error",MissingTranslationStrategy[MissingTranslationStrategy.Warning=1]="Warning",MissingTranslationStrategy[MissingTranslationStrategy.Ignore=2]="Ignore"}(MissingTranslationStrategy||(MissingTranslationStrategy={}));var TypeModifier,BuiltinTypeName;!function(TypeModifier){TypeModifier[TypeModifier.Const=0]="Const"}(TypeModifier||(TypeModifier={}));class Type$1{constructor(modifiers=null){this.modifiers=modifiers,modifiers||(this.modifiers=[])}hasModifier(modifier){return-1!==this.modifiers.indexOf(modifier)}}!function(BuiltinTypeName){BuiltinTypeName[BuiltinTypeName.Dynamic=0]="Dynamic",BuiltinTypeName[BuiltinTypeName.Bool=1]="Bool",BuiltinTypeName[BuiltinTypeName.String=2]="String",BuiltinTypeName[BuiltinTypeName.Int=3]="Int",BuiltinTypeName[BuiltinTypeName.Number=4]="Number",BuiltinTypeName[BuiltinTypeName.Function=5]="Function",BuiltinTypeName[BuiltinTypeName.Inferred=6]="Inferred",BuiltinTypeName[BuiltinTypeName.None=7]="None"}(BuiltinTypeName||(BuiltinTypeName={}));class BuiltinType extends Type$1{constructor(name,modifiers=null){super(modifiers),this.name=name}visitType(visitor,context){return visitor.visitBuiltinType(this,context)}}class ExpressionType extends Type$1{constructor(value,modifiers=null,typeParams=null){super(modifiers),this.value=value,this.typeParams=typeParams}visitType(visitor,context){return visitor.visitExpressionType(this,context)}}class ArrayType extends Type$1{constructor(of,modifiers=null){super(modifiers),this.of=of}visitType(visitor,context){return visitor.visitArrayType(this,context)}}class MapType extends Type$1{constructor(valueType,modifiers=null){super(modifiers),this.valueType=valueType||null}visitType(visitor,context){return visitor.visitMapType(this,context)}}const DYNAMIC_TYPE=new BuiltinType(BuiltinTypeName.Dynamic),INFERRED_TYPE=new BuiltinType(BuiltinTypeName.Inferred),BOOL_TYPE=new BuiltinType(BuiltinTypeName.Bool),NUMBER_TYPE=(new BuiltinType(BuiltinTypeName.Int),new BuiltinType(BuiltinTypeName.Number)),STRING_TYPE=new BuiltinType(BuiltinTypeName.String),NONE_TYPE=(new BuiltinType(BuiltinTypeName.Function),new BuiltinType(BuiltinTypeName.None));var BinaryOperator,BuiltinVar,BuiltinMethod;function nullSafeIsEquivalent(base,other){return null==base||null==other?base==other:base.isEquivalent(other)}function areAllEquivalent(base,other){const len=base.length;if(len!==other.length)return!1;for(let i=0;i<len;i++)if(!base[i].isEquivalent(other[i]))return!1;return!0}!function(BinaryOperator){BinaryOperator[BinaryOperator.Equals=0]="Equals",BinaryOperator[BinaryOperator.NotEquals=1]="NotEquals",BinaryOperator[BinaryOperator.Identical=2]="Identical",BinaryOperator[BinaryOperator.NotIdentical=3]="NotIdentical",BinaryOperator[BinaryOperator.Minus=4]="Minus",BinaryOperator[BinaryOperator.Plus=5]="Plus",BinaryOperator[BinaryOperator.Divide=6]="Divide",BinaryOperator[BinaryOperator.Multiply=7]="Multiply",BinaryOperator[BinaryOperator.Modulo=8]="Modulo",BinaryOperator[BinaryOperator.And=9]="And",BinaryOperator[BinaryOperator.Or=10]="Or",BinaryOperator[BinaryOperator.BitwiseAnd=11]="BitwiseAnd",BinaryOperator[BinaryOperator.Lower=12]="Lower",BinaryOperator[BinaryOperator.LowerEquals=13]="LowerEquals",BinaryOperator[BinaryOperator.Bigger=14]="Bigger",BinaryOperator[BinaryOperator.BiggerEquals=15]="BiggerEquals"}(BinaryOperator||(BinaryOperator={}));class Expression{constructor(type,sourceSpan){this.type=type||null,this.sourceSpan=sourceSpan||null}prop(name,sourceSpan){return new ReadPropExpr(this,name,null,sourceSpan)}key(index,type,sourceSpan){return new ReadKeyExpr(this,index,type,sourceSpan)}callMethod(name,params,sourceSpan){return new InvokeMethodExpr(this,name,params,null,sourceSpan)}callFn(params,sourceSpan){return new InvokeFunctionExpr(this,params,null,sourceSpan)}instantiate(params,type,sourceSpan){return new InstantiateExpr(this,params,type,sourceSpan)}conditional(trueCase,falseCase=null,sourceSpan){return new ConditionalExpr(this,trueCase,falseCase,null,sourceSpan)}equals(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Equals,this,rhs,null,sourceSpan)}notEquals(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.NotEquals,this,rhs,null,sourceSpan)}identical(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Identical,this,rhs,null,sourceSpan)}notIdentical(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.NotIdentical,this,rhs,null,sourceSpan)}minus(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Minus,this,rhs,null,sourceSpan)}plus(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Plus,this,rhs,null,sourceSpan)}divide(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Divide,this,rhs,null,sourceSpan)}multiply(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Multiply,this,rhs,null,sourceSpan)}modulo(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Modulo,this,rhs,null,sourceSpan)}and(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.And,this,rhs,null,sourceSpan)}bitwiseAnd(rhs,sourceSpan,parens=!0){return new BinaryOperatorExpr(BinaryOperator.BitwiseAnd,this,rhs,null,sourceSpan,parens)}or(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Or,this,rhs,null,sourceSpan)}lower(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Lower,this,rhs,null,sourceSpan)}lowerEquals(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.LowerEquals,this,rhs,null,sourceSpan)}bigger(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.Bigger,this,rhs,null,sourceSpan)}biggerEquals(rhs,sourceSpan){return new BinaryOperatorExpr(BinaryOperator.BiggerEquals,this,rhs,null,sourceSpan)}isBlank(sourceSpan){return this.equals(TYPED_NULL_EXPR,sourceSpan)}cast(type,sourceSpan){return new CastExpr(this,type,sourceSpan)}toStmt(){return new ExpressionStatement(this,null)}}!function(BuiltinVar){BuiltinVar[BuiltinVar.This=0]="This",BuiltinVar[BuiltinVar.Super=1]="Super",BuiltinVar[BuiltinVar.CatchError=2]="CatchError",BuiltinVar[BuiltinVar.CatchStack=3]="CatchStack"}(BuiltinVar||(BuiltinVar={}));class ReadVarExpr extends Expression{constructor(name,type,sourceSpan){super(type,sourceSpan),"string"==typeof name?(this.name=name,this.builtin=null):(this.name=null,this.builtin=name)}isEquivalent(e){return e instanceof ReadVarExpr&&this.name===e.name&&this.builtin===e.builtin}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitReadVarExpr(this,context)}set(value){if(!this.name)throw new Error(`Built in variable ${this.builtin} can not be assigned to.`);return new WriteVarExpr(this.name,value,null,this.sourceSpan)}}class TypeofExpr extends Expression{constructor(expr,type,sourceSpan){super(type,sourceSpan),this.expr=expr}visitExpression(visitor,context){return visitor.visitTypeofExpr(this,context)}isEquivalent(e){return e instanceof TypeofExpr&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}}class WrappedNodeExpr extends Expression{constructor(node,type,sourceSpan){super(type,sourceSpan),this.node=node}isEquivalent(e){return e instanceof WrappedNodeExpr&&this.node===e.node}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitWrappedNodeExpr(this,context)}}class WriteVarExpr extends Expression{constructor(name,value,type,sourceSpan){super(type||value.type,sourceSpan),this.name=name,this.value=value}isEquivalent(e){return e instanceof WriteVarExpr&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitWriteVarExpr(this,context)}toDeclStmt(type,modifiers){return new DeclareVarStmt(this.name,this.value,type,modifiers,this.sourceSpan)}toConstDecl(){return this.toDeclStmt(INFERRED_TYPE,[StmtModifier.Final])}}class WriteKeyExpr extends Expression{constructor(receiver,index,value,type,sourceSpan){super(type||value.type,sourceSpan),this.receiver=receiver,this.index=index,this.value=value}isEquivalent(e){return e instanceof WriteKeyExpr&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitWriteKeyExpr(this,context)}}class WritePropExpr extends Expression{constructor(receiver,name,value,type,sourceSpan){super(type||value.type,sourceSpan),this.receiver=receiver,this.name=name,this.value=value}isEquivalent(e){return e instanceof WritePropExpr&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitWritePropExpr(this,context)}}!function(BuiltinMethod){BuiltinMethod[BuiltinMethod.ConcatArray=0]="ConcatArray",BuiltinMethod[BuiltinMethod.SubscribeObservable=1]="SubscribeObservable",BuiltinMethod[BuiltinMethod.Bind=2]="Bind"}(BuiltinMethod||(BuiltinMethod={}));class InvokeMethodExpr extends Expression{constructor(receiver,method,args,type,sourceSpan){super(type,sourceSpan),this.receiver=receiver,this.args=args,"string"==typeof method?(this.name=method,this.builtin=null):(this.name=null,this.builtin=method)}isEquivalent(e){return e instanceof InvokeMethodExpr&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.builtin===e.builtin&&areAllEquivalent(this.args,e.args)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitInvokeMethodExpr(this,context)}}class InvokeFunctionExpr extends Expression{constructor(fn,args,type,sourceSpan,pure=!1){super(type,sourceSpan),this.fn=fn,this.args=args,this.pure=pure}isEquivalent(e){return e instanceof InvokeFunctionExpr&&this.fn.isEquivalent(e.fn)&&areAllEquivalent(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitInvokeFunctionExpr(this,context)}}class InstantiateExpr extends Expression{constructor(classExpr,args,type,sourceSpan){super(type,sourceSpan),this.classExpr=classExpr,this.args=args}isEquivalent(e){return e instanceof InstantiateExpr&&this.classExpr.isEquivalent(e.classExpr)&&areAllEquivalent(this.args,e.args)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitInstantiateExpr(this,context)}}class LiteralExpr extends Expression{constructor(value,type,sourceSpan){super(type,sourceSpan),this.value=value}isEquivalent(e){return e instanceof LiteralExpr&&this.value===e.value}isConstant(){return!0}visitExpression(visitor,context){return visitor.visitLiteralExpr(this,context)}}class LocalizedString extends Expression{constructor(metaBlock,messageParts,placeHolderNames,expressions,sourceSpan){super(STRING_TYPE,sourceSpan),this.metaBlock=metaBlock,this.messageParts=messageParts,this.placeHolderNames=placeHolderNames,this.expressions=expressions}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitLocalizedString(this,context)}serializeI18nHead(){let metaBlock=this.metaBlock.description||"";return this.metaBlock.meaning&&(metaBlock=`${this.metaBlock.meaning}|${metaBlock}`),this.metaBlock.customId&&(metaBlock=`${metaBlock}@@${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(legacyId=>{metaBlock=`${metaBlock}\u241f${legacyId}`}),createCookedRawString(metaBlock,this.messageParts[0])}serializeI18nTemplatePart(partIndex){return createCookedRawString(this.placeHolderNames[partIndex-1],this.messageParts[partIndex])}}const escapeSlashes=str=>str.replace(/\\/g,"\\\\"),escapeColons=str=>str.replace(/:/g,"\\:"),escapeForMessagePart=str=>str.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function createCookedRawString(metaBlock,messagePart){return""===metaBlock?{cooked:messagePart,raw:escapeForMessagePart((str=escapeSlashes(messagePart),str.replace(/^:/,"\\:")))}:{cooked:`:${metaBlock}:${messagePart}`,raw:escapeForMessagePart(`:${escapeColons(escapeSlashes(metaBlock))}:${escapeSlashes(messagePart)}`)};var str}class ExternalExpr extends Expression{constructor(value,type,typeParams=null,sourceSpan){super(type,sourceSpan),this.value=value,this.typeParams=typeParams}isEquivalent(e){return e instanceof ExternalExpr&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitExternalExpr(this,context)}}class ConditionalExpr extends Expression{constructor(condition,trueCase,falseCase=null,type,sourceSpan){super(type||trueCase.type,sourceSpan),this.condition=condition,this.falseCase=falseCase,this.trueCase=trueCase}isEquivalent(e){return e instanceof ConditionalExpr&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&nullSafeIsEquivalent(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitConditionalExpr(this,context)}}class NotExpr extends Expression{constructor(condition,sourceSpan){super(BOOL_TYPE,sourceSpan),this.condition=condition}isEquivalent(e){return e instanceof NotExpr&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitNotExpr(this,context)}}class AssertNotNull extends Expression{constructor(condition,sourceSpan){super(condition.type,sourceSpan),this.condition=condition}isEquivalent(e){return e instanceof AssertNotNull&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitAssertNotNullExpr(this,context)}}class CastExpr extends Expression{constructor(value,type,sourceSpan){super(type,sourceSpan),this.value=value}isEquivalent(e){return e instanceof CastExpr&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitCastExpr(this,context)}}class FnParam{constructor(name,type=null){this.name=name,this.type=type}isEquivalent(param){return this.name===param.name}}class FunctionExpr extends Expression{constructor(params,statements,type,sourceSpan,name){super(type,sourceSpan),this.params=params,this.statements=statements,this.name=name}isEquivalent(e){return e instanceof FunctionExpr&&areAllEquivalent(this.params,e.params)&&areAllEquivalent(this.statements,e.statements)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitFunctionExpr(this,context)}toDeclStmt(name,modifiers=null){return new DeclareFunctionStmt(name,this.params,this.statements,this.type,modifiers,this.sourceSpan)}}class BinaryOperatorExpr extends Expression{constructor(operator,lhs,rhs,type,sourceSpan,parens=!0){super(type||lhs.type,sourceSpan),this.operator=operator,this.rhs=rhs,this.parens=parens,this.lhs=lhs}isEquivalent(e){return e instanceof BinaryOperatorExpr&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitBinaryOperatorExpr(this,context)}}class ReadPropExpr extends Expression{constructor(receiver,name,type,sourceSpan){super(type,sourceSpan),this.receiver=receiver,this.name=name}isEquivalent(e){return e instanceof ReadPropExpr&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitReadPropExpr(this,context)}set(value){return new WritePropExpr(this.receiver,this.name,value,null,this.sourceSpan)}}class ReadKeyExpr extends Expression{constructor(receiver,index,type,sourceSpan){super(type,sourceSpan),this.receiver=receiver,this.index=index}isEquivalent(e){return e instanceof ReadKeyExpr&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitReadKeyExpr(this,context)}set(value){return new WriteKeyExpr(this.receiver,this.index,value,null,this.sourceSpan)}}class LiteralArrayExpr extends Expression{constructor(entries,type,sourceSpan){super(type,sourceSpan),this.entries=entries}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof LiteralArrayExpr&&areAllEquivalent(this.entries,e.entries)}visitExpression(visitor,context){return visitor.visitLiteralArrayExpr(this,context)}}class LiteralMapEntry{constructor(key,value,quoted){this.key=key,this.value=value,this.quoted=quoted}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}}class LiteralMapExpr extends Expression{constructor(entries,type,sourceSpan){super(type,sourceSpan),this.entries=entries,this.valueType=null,type&&(this.valueType=type.valueType)}isEquivalent(e){return e instanceof LiteralMapExpr&&areAllEquivalent(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(visitor,context){return visitor.visitLiteralMapExpr(this,context)}}class CommaExpr extends Expression{constructor(parts,sourceSpan){super(parts[parts.length-1].type,sourceSpan),this.parts=parts}isEquivalent(e){return e instanceof CommaExpr&&areAllEquivalent(this.parts,e.parts)}isConstant(){return!1}visitExpression(visitor,context){return visitor.visitCommaExpr(this,context)}}new ReadVarExpr(BuiltinVar.This,null,null),new ReadVarExpr(BuiltinVar.Super,null,null),new ReadVarExpr(BuiltinVar.CatchError,null,null),new ReadVarExpr(BuiltinVar.CatchStack,null,null);const NULL_EXPR=new LiteralExpr(null,null,null),TYPED_NULL_EXPR=new LiteralExpr(null,INFERRED_TYPE,null);var StmtModifier;!function(StmtModifier){StmtModifier[StmtModifier.Final=0]="Final",StmtModifier[StmtModifier.Private=1]="Private",StmtModifier[StmtModifier.Exported=2]="Exported",StmtModifier[StmtModifier.Static=3]="Static"}(StmtModifier||(StmtModifier={}));class Statement{constructor(modifiers,sourceSpan){this.modifiers=modifiers||[],this.sourceSpan=sourceSpan||null}hasModifier(modifier){return-1!==this.modifiers.indexOf(modifier)}}class DeclareVarStmt extends Statement{constructor(name,value,type,modifiers=null,sourceSpan){super(modifiers,sourceSpan),this.name=name,this.value=value,this.type=type||value&&value.type||null}isEquivalent(stmt){return stmt instanceof DeclareVarStmt&&this.name===stmt.name&&(this.value?!!stmt.value&&this.value.isEquivalent(stmt.value):!stmt.value)}visitStatement(visitor,context){return visitor.visitDeclareVarStmt(this,context)}}class DeclareFunctionStmt extends Statement{constructor(name,params,statements,type,modifiers=null,sourceSpan){super(modifiers,sourceSpan),this.name=name,this.params=params,this.statements=statements,this.type=type||null}isEquivalent(stmt){return stmt instanceof DeclareFunctionStmt&&areAllEquivalent(this.params,stmt.params)&&areAllEquivalent(this.statements,stmt.statements)}visitStatement(visitor,context){return visitor.visitDeclareFunctionStmt(this,context)}}class ExpressionStatement extends Statement{constructor(expr,sourceSpan){super(null,sourceSpan),this.expr=expr}isEquivalent(stmt){return stmt instanceof ExpressionStatement&&this.expr.isEquivalent(stmt.expr)}visitStatement(visitor,context){return visitor.visitExpressionStmt(this,context)}}class ReturnStatement extends Statement{constructor(value,sourceSpan){super(null,sourceSpan),this.value=value}isEquivalent(stmt){return stmt instanceof ReturnStatement&&this.value.isEquivalent(stmt.value)}visitStatement(visitor,context){return visitor.visitReturnStmt(this,context)}}class AbstractClassPart{constructor(type,modifiers){this.modifiers=modifiers,modifiers||(this.modifiers=[]),this.type=type||null}hasModifier(modifier){return-1!==this.modifiers.indexOf(modifier)}}class ClassMethod extends AbstractClassPart{constructor(name,params,body,type,modifiers=null){super(type,modifiers),this.name=name,this.params=params,this.body=body}isEquivalent(m){return this.name===m.name&&areAllEquivalent(this.body,m.body)}}class ClassGetter extends AbstractClassPart{constructor(name,body,type,modifiers=null){super(type,modifiers),this.name=name,this.body=body}isEquivalent(m){return this.name===m.name&&areAllEquivalent(this.body,m.body)}}class ClassStmt extends Statement{constructor(name,parent,fields,getters,constructorMethod,methods,modifiers=null,sourceSpan){super(modifiers,sourceSpan),this.name=name,this.parent=parent,this.fields=fields,this.getters=getters,this.constructorMethod=constructorMethod,this.methods=methods}isEquivalent(stmt){return stmt instanceof ClassStmt&&this.name===stmt.name&&nullSafeIsEquivalent(this.parent,stmt.parent)&&areAllEquivalent(this.fields,stmt.fields)&&areAllEquivalent(this.getters,stmt.getters)&&this.constructorMethod.isEquivalent(stmt.constructorMethod)&&areAllEquivalent(this.methods,stmt.methods)}visitStatement(visitor,context){return visitor.visitDeclareClassStmt(this,context)}}class IfStmt extends Statement{constructor(condition,trueCase,falseCase=[],sourceSpan){super(null,sourceSpan),this.condition=condition,this.trueCase=trueCase,this.falseCase=falseCase}isEquivalent(stmt){return stmt instanceof IfStmt&&this.condition.isEquivalent(stmt.condition)&&areAllEquivalent(this.trueCase,stmt.trueCase)&&areAllEquivalent(this.falseCase,stmt.falseCase)}visitStatement(visitor,context){return visitor.visitIfStmt(this,context)}}class JSDocCommentStmt extends Statement{constructor(tags=[],sourceSpan){super(null,sourceSpan),this.tags=tags}isEquivalent(stmt){return stmt instanceof JSDocCommentStmt&&this.toString()===stmt.toString()}visitStatement(visitor,context){return visitor.visitJSDocCommentStmt(this,context)}toString(){return function serializeTags(tags){if(0===tags.length)return"";let out="*\n";for(const tag of tags)out+=" *",out+=tagToString(tag).replace(/\n/g,"\n * "),out+="\n";return out+=" ",out}(this.tags)}}class TryCatchStmt extends Statement{constructor(bodyStmts,catchStmts,sourceSpan){super(null,sourceSpan),this.bodyStmts=bodyStmts,this.catchStmts=catchStmts}isEquivalent(stmt){return stmt instanceof TryCatchStmt&&areAllEquivalent(this.bodyStmts,stmt.bodyStmts)&&areAllEquivalent(this.catchStmts,stmt.catchStmts)}visitStatement(visitor,context){return visitor.visitTryCatchStmt(this,context)}}class ThrowStmt extends Statement{constructor(error,sourceSpan){super(null,sourceSpan),this.error=error}isEquivalent(stmt){return stmt instanceof TryCatchStmt&&this.error.isEquivalent(stmt.error)}visitStatement(visitor,context){return visitor.visitThrowStmt(this,context)}}class RecursiveAstVisitor{visitType(ast,context){return ast}visitExpression(ast,context){return ast.type&&ast.type.visitType(this,context),ast}visitBuiltinType(type,context){return this.visitType(type,context)}visitExpressionType(type,context){return type.value.visitExpression(this,context),null!==type.typeParams&&type.typeParams.forEach(param=>this.visitType(param,context)),this.visitType(type,context)}visitArrayType(type,context){return this.visitType(type,context)}visitMapType(type,context){return this.visitType(type,context)}visitWrappedNodeExpr(ast,context){return ast}visitTypeofExpr(ast,context){return this.visitExpression(ast,context)}visitReadVarExpr(ast,context){return this.visitExpression(ast,context)}visitWriteVarExpr(ast,context){return ast.value.visitExpression(this,context),this.visitExpression(ast,context)}visitWriteKeyExpr(ast,context){return ast.receiver.visitExpression(this,context),ast.index.visitExpression(this,context),ast.value.visitExpression(this,context),this.visitExpression(ast,context)}visitWritePropExpr(ast,context){return ast.receiver.visitExpression(this,context),ast.value.visitExpression(this,context),this.visitExpression(ast,context)}visitInvokeMethodExpr(ast,context){return ast.receiver.visitExpression(this,context),this.visitAllExpressions(ast.args,context),this.visitExpression(ast,context)}visitInvokeFunctionExpr(ast,context){return ast.fn.visitExpression(this,context),this.visitAllExpressions(ast.args,context),this.visitExpression(ast,context)}visitInstantiateExpr(ast,context){return ast.classExpr.visitExpression(this,context),this.visitAllExpressions(ast.args,context),this.visitExpression(ast,context)}visitLiteralExpr(ast,context){return this.visitExpression(ast,context)}visitLocalizedString(ast,context){return this.visitExpression(ast,context)}visitExternalExpr(ast,context){return ast.typeParams&&ast.typeParams.forEach(type=>type.visitType(this,context)),this.visitExpression(ast,context)}visitConditionalExpr(ast,context){return ast.condition.visitExpression(this,context),ast.trueCase.visitExpression(this,context),ast.falseCase.visitExpression(this,context),this.visitExpression(ast,context)}visitNotExpr(ast,context){return ast.condition.visitExpression(this,context),this.visitExpression(ast,context)}visitAssertNotNullExpr(ast,context){return ast.condition.visitExpression(this,context),this.visitExpression(ast,context)}visitCastExpr(ast,context){return ast.value.visitExpression(this,context),this.visitExpression(ast,context)}visitFunctionExpr(ast,context){return this.visitAllStatements(ast.statements,context),this.visitExpression(ast,context)}visitBinaryOperatorExpr(ast,context){return ast.lhs.visitExpression(this,context),ast.rhs.visitExpression(this,context),this.visitExpression(ast,context)}visitReadPropExpr(ast,context){return ast.receiver.visitExpression(this,context),this.visitExpression(ast,context)}visitReadKeyExpr(ast,context){return ast.receiver.visitExpression(this,context),ast.index.visitExpression(this,context),this.visitExpression(ast,context)}visitLiteralArrayExpr(ast,context){return this.visitAllExpressions(ast.entries,context),this.visitExpression(ast,context)}visitLiteralMapExpr(ast,context){return ast.entries.forEach(entry=>entry.value.visitExpression(this,context)),this.visitExpression(ast,context)}visitCommaExpr(ast,context){return this.visitAllExpressions(ast.parts,context),this.visitExpression(ast,context)}visitAllExpressions(exprs,context){exprs.forEach(expr=>expr.visitExpression(this,context))}visitDeclareVarStmt(stmt,context){return stmt.value&&stmt.value.visitExpression(this,context),stmt.type&&stmt.type.visitType(this,context),stmt}visitDeclareFunctionStmt(stmt,context){return this.visitAllStatements(stmt.statements,context),stmt.type&&stmt.type.visitType(this,context),stmt}visitExpressionStmt(stmt,context){return stmt.expr.visitExpression(this,context),stmt}visitReturnStmt(stmt,context){return stmt.value.visitExpression(this,context),stmt}visitDeclareClassStmt(stmt,context){return stmt.parent.visitExpression(this,context),stmt.getters.forEach(getter=>this.visitAllStatements(getter.body,context)),stmt.constructorMethod&&this.visitAllStatements(stmt.constructorMethod.body,context),stmt.methods.forEach(method=>this.visitAllStatements(method.body,context)),stmt}visitIfStmt(stmt,context){return stmt.condition.visitExpression(this,context),this.visitAllStatements(stmt.trueCase,context),this.visitAllStatements(stmt.falseCase,context),stmt}visitTryCatchStmt(stmt,context){return this.visitAllStatements(stmt.bodyStmts,context),this.visitAllStatements(stmt.catchStmts,context),stmt}visitThrowStmt(stmt,context){return stmt.error.visitExpression(this,context),stmt}visitCommentStmt(stmt,context){return stmt}visitJSDocCommentStmt(stmt,context){return stmt}visitAllStatements(stmts,context){stmts.forEach(stmt=>stmt.visitStatement(this,context))}}function findReadVarNames(stmts){const visitor=new _ReadVarVisitor;return visitor.visitAllStatements(stmts,null),visitor.varNames}class _ReadVarVisitor extends RecursiveAstVisitor{constructor(){super(...arguments),this.varNames=new Set}visitDeclareFunctionStmt(stmt,context){return stmt}visitDeclareClassStmt(stmt,context){return stmt}visitReadVarExpr(ast,context){return ast.name&&this.varNames.add(ast.name),null}}function applySourceSpanToStatementIfNeeded(stmt,sourceSpan){if(!sourceSpan)return stmt;const transformer=new _ApplySourceSpanTransformer(sourceSpan);return stmt.visitStatement(transformer,null)}function applySourceSpanToExpressionIfNeeded(expr,sourceSpan){if(!sourceSpan)return expr;const transformer=new _ApplySourceSpanTransformer(sourceSpan);return expr.visitExpression(transformer,null)}class _ApplySourceSpanTransformer extends class{transformExpr(expr,context){return expr}transformStmt(stmt,context){return stmt}visitReadVarExpr(ast,context){return this.transformExpr(ast,context)}visitWrappedNodeExpr(ast,context){return this.transformExpr(ast,context)}visitTypeofExpr(expr,context){return this.transformExpr(new TypeofExpr(expr.expr.visitExpression(this,context),expr.type,expr.sourceSpan),context)}visitWriteVarExpr(expr,context){return this.transformExpr(new WriteVarExpr(expr.name,expr.value.visitExpression(this,context),expr.type,expr.sourceSpan),context)}visitWriteKeyExpr(expr,context){return this.transformExpr(new WriteKeyExpr(expr.receiver.visitExpression(this,context),expr.index.visitExpression(this,context),expr.value.visitExpression(this,context),expr.type,expr.sourceSpan),context)}visitWritePropExpr(expr,context){return this.transformExpr(new WritePropExpr(expr.receiver.visitExpression(this,context),expr.name,expr.value.visitExpression(this,context),expr.type,expr.sourceSpan),context)}visitInvokeMethodExpr(ast,context){const method=ast.builtin||ast.name;return this.transformExpr(new InvokeMethodExpr(ast.receiver.visitExpression(this,context),method,this.visitAllExpressions(ast.args,context),ast.type,ast.sourceSpan),context)}visitInvokeFunctionExpr(ast,context){return this.transformExpr(new InvokeFunctionExpr(ast.fn.visitExpression(this,context),this.visitAllExpressions(ast.args,context),ast.type,ast.sourceSpan),context)}visitInstantiateExpr(ast,context){return this.transformExpr(new InstantiateExpr(ast.classExpr.visitExpression(this,context),this.visitAllExpressions(ast.args,context),ast.type,ast.sourceSpan),context)}visitLiteralExpr(ast,context){return this.transformExpr(ast,context)}visitLocalizedString(ast,context){return this.transformExpr(new LocalizedString(ast.metaBlock,ast.messageParts,ast.placeHolderNames,this.visitAllExpressions(ast.expressions,context),ast.sourceSpan),context)}visitExternalExpr(ast,context){return this.transformExpr(ast,context)}visitConditionalExpr(ast,context){return this.transformExpr(new ConditionalExpr(ast.condition.visitExpression(this,context),ast.trueCase.visitExpression(this,context),ast.falseCase.visitExpression(this,context),ast.type,ast.sourceSpan),context)}visitNotExpr(ast,context){return this.transformExpr(new NotExpr(ast.condition.visitExpression(this,context),ast.sourceSpan),context)}visitAssertNotNullExpr(ast,context){return this.transformExpr(new AssertNotNull(ast.condition.visitExpression(this,context),ast.sourceSpan),context)}visitCastExpr(ast,context){return this.transformExpr(new CastExpr(ast.value.visitExpression(this,context),ast.type,ast.sourceSpan),context)}visitFunctionExpr(ast,context){return this.transformExpr(new FunctionExpr(ast.params,this.visitAllStatements(ast.statements,context),ast.type,ast.sourceSpan),context)}visitBinaryOperatorExpr(ast,context){return this.transformExpr(new BinaryOperatorExpr(ast.operator,ast.lhs.visitExpression(this,context),ast.rhs.visitExpression(this,context),ast.type,ast.sourceSpan),context)}visitReadPropExpr(ast,context){return this.transformExpr(new ReadPropExpr(ast.receiver.visitExpression(this,context),ast.name,ast.type,ast.sourceSpan),context)}visitReadKeyExpr(ast,context){return this.transformExpr(new ReadKeyExpr(ast.receiver.visitExpression(this,context),ast.index.visitExpression(this,context),ast.type,ast.sourceSpan),context)}visitLiteralArrayExpr(ast,context){return this.transformExpr(new LiteralArrayExpr(this.visitAllExpressions(ast.entries,context),ast.type,ast.sourceSpan),context)}visitLiteralMapExpr(ast,context){const entries=ast.entries.map(entry=>new LiteralMapEntry(entry.key,entry.value.visitExpression(this,context),entry.quoted)),mapType=new MapType(ast.valueType,null);return this.transformExpr(new LiteralMapExpr(entries,mapType,ast.sourceSpan),context)}visitCommaExpr(ast,context){return this.transformExpr(new CommaExpr(this.visitAllExpressions(ast.parts,context),ast.sourceSpan),context)}visitAllExpressions(exprs,context){return exprs.map(expr=>expr.visitExpression(this,context))}visitDeclareVarStmt(stmt,context){const value=stmt.value&&stmt.value.visitExpression(this,context);return this.transformStmt(new DeclareVarStmt(stmt.name,value,stmt.type,stmt.modifiers,stmt.sourceSpan),context)}visitDeclareFunctionStmt(stmt,context){return this.transformStmt(new DeclareFunctionStmt(stmt.name,stmt.params,this.visitAllStatements(stmt.statements,context),stmt.type,stmt.modifiers,stmt.sourceSpan),context)}visitExpressionStmt(stmt,context){return this.transformStmt(new ExpressionStatement(stmt.expr.visitExpression(this,context),stmt.sourceSpan),context)}visitReturnStmt(stmt,context){return this.transformStmt(new ReturnStatement(stmt.value.visitExpression(this,context),stmt.sourceSpan),context)}visitDeclareClassStmt(stmt,context){const parent=stmt.parent.visitExpression(this,context),getters=stmt.getters.map(getter=>new ClassGetter(getter.name,this.visitAllStatements(getter.body,context),getter.type,getter.modifiers)),ctorMethod=stmt.constructorMethod&&new ClassMethod(stmt.constructorMethod.name,stmt.constructorMethod.params,this.visitAllStatements(stmt.constructorMethod.body,context),stmt.constructorMethod.type,stmt.constructorMethod.modifiers),methods=stmt.methods.map(method=>new ClassMethod(method.name,method.params,this.visitAllStatements(method.body,context),method.type,method.modifiers));return this.transformStmt(new ClassStmt(stmt.name,parent,stmt.fields,getters,ctorMethod,methods,stmt.modifiers,stmt.sourceSpan),context)}visitIfStmt(stmt,context){return this.transformStmt(new IfStmt(stmt.condition.visitExpression(this,context),this.visitAllStatements(stmt.trueCase,context),this.visitAllStatements(stmt.falseCase,context),stmt.sourceSpan),context)}visitTryCatchStmt(stmt,context){return this.transformStmt(new TryCatchStmt(this.visitAllStatements(stmt.bodyStmts,context),this.visitAllStatements(stmt.catchStmts,context),stmt.sourceSpan),context)}visitThrowStmt(stmt,context){return this.transformStmt(new ThrowStmt(stmt.error.visitExpression(this,context),stmt.sourceSpan),context)}visitCommentStmt(stmt,context){return this.transformStmt(stmt,context)}visitJSDocCommentStmt(stmt,context){return this.transformStmt(stmt,context)}visitAllStatements(stmts,context){return stmts.map(stmt=>stmt.visitStatement(this,context))}}{constructor(sourceSpan){super(),this.sourceSpan=sourceSpan}_clone(obj){const clone=Object.create(obj.constructor.prototype);for(let prop of Object.keys(obj))clone[prop]=obj[prop];return clone}transformExpr(expr,context){return expr.sourceSpan||((expr=this._clone(expr)).sourceSpan=this.sourceSpan),expr}transformStmt(stmt,context){return stmt.sourceSpan||((stmt=this._clone(stmt)).sourceSpan=this.sourceSpan),stmt}}function variable(name,type,sourceSpan){return new ReadVarExpr(name,type,sourceSpan)}function importExpr(id,typeParams=null,sourceSpan){return new ExternalExpr(id,null,typeParams,sourceSpan)}function importType(id,typeParams=null,typeModifiers=null){return null!=id?expressionType(importExpr(id,typeParams,null),typeModifiers):null}function expressionType(expr,typeModifiers=null,typeParams=null){return new ExpressionType(expr,typeModifiers,typeParams)}function typeofExpr(expr){return new TypeofExpr(expr)}function literalArr(values,type,sourceSpan){return new LiteralArrayExpr(values,type,sourceSpan)}function literalMap(values,type=null){return new LiteralMapExpr(values.map(e=>new LiteralMapEntry(e.key,e.value,e.quoted)),type,null)}function fn(params,body,type,sourceSpan,name){return new FunctionExpr(params,body,type,sourceSpan,name)}function ifStmt(condition,thenClause,elseClause){return new IfStmt(condition,thenClause,elseClause)}function literal(value,type,sourceSpan){return new LiteralExpr(value,type,sourceSpan)}function isNull(exp){return exp instanceof LiteralExpr&&null===exp.value}function tagToString(tag){let out="";if(tag.tagName&&(out+=` @${tag.tagName}`),tag.text){if(tag.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');out+=" "+tag.text.replace(/@/g,"\\@")}return out}const compiler_DASH_CASE_REGEXP=/-+([a-z0-9])/g;function splitAtColon(input,defaultValues){return _splitAt(input,":",defaultValues)}function _splitAt(input,character,defaultValues){const characterIndex=input.indexOf(character);return-1==characterIndex?defaultValues:[input.slice(0,characterIndex).trim(),input.slice(characterIndex+1).trim()]}function visitValue(value,visitor,context){return Array.isArray(value)?visitor.visitArray(value,context):function isStrictStringMap(obj){return"object"==typeof obj&&null!==obj&&Object.getPrototypeOf(obj)===STRING_MAP_PROTO}(value)?visitor.visitStringMap(value,context):null==value||"string"==typeof value||"number"==typeof value||"boolean"==typeof value?visitor.visitPrimitive(value,context):visitor.visitOther(value,context)}function isDefined(val){return null!=val}function noUndefined(val){return void 0===val?null:val}class ValueTransformer{visitArray(arr,context){return arr.map(value=>visitValue(value,this,context))}visitStringMap(map,context){const result={};return Object.keys(map).forEach(key=>{result[key]=visitValue(map[key],this,context)}),result}visitPrimitive(value,context){return value}visitOther(value,context){return value}}const SyncAsync_assertSync=value=>{if(isPromise(value))throw new Error("Illegal state: value cannot be a promise");return value},SyncAsync_then=(value,cb)=>isPromise(value)?value.then(cb):cb(value),SyncAsync_all=syncAsyncValues=>syncAsyncValues.some(isPromise)?Promise.all(syncAsyncValues):syncAsyncValues;function error(msg){throw new Error(`Internal Error: ${msg}`)}function syntaxError(msg,parseErrors){const error=Error(msg);return error[ERROR_SYNTAX_ERROR]=!0,parseErrors&&(error[ERROR_PARSE_ERRORS]=parseErrors),error}const ERROR_SYNTAX_ERROR="ngSyntaxError",ERROR_PARSE_ERRORS="ngParseErrors";function escapeRegExp(s){return s.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}const STRING_MAP_PROTO=Object.getPrototypeOf({});function utf8Encode(str){let encoded="";for(let index=0;index<str.length;index++){let codePoint=str.charCodeAt(index);if(codePoint>=55296&&codePoint<=56319&&str.length>index+1){const low=str.charCodeAt(index+1);low>=56320&&low<=57343&&(index++,codePoint=(codePoint-55296<<10)+low-56320+65536)}codePoint<=127?encoded+=String.fromCharCode(codePoint):codePoint<=2047?encoded+=String.fromCharCode(codePoint>>6&31|192,63&codePoint|128):codePoint<=65535?encoded+=String.fromCharCode(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128):codePoint<=2097151&&(encoded+=String.fromCharCode(codePoint>>18&7|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128))}return encoded}function stringify(token){if("string"==typeof token)return token;if(Array.isArray(token))return"["+token.map(stringify).join(", ")+"]";if(null==token)return""+token;if(token.overriddenName)return`${token.overriddenName}`;if(token.name)return`${token.name}`;if(!token.toString)return"object";const res=token.toString();if(null==res)return""+res;const newLineIndex=res.indexOf("\n");return-1===newLineIndex?res:res.substring(0,newLineIndex)}function resolveForwardRef(type){return"function"==typeof type&&type.hasOwnProperty("__forward_ref__")?type():type}function isPromise(obj){return!!obj&&"function"==typeof obj.then}const __window="undefined"!=typeof window&&window,__self="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_global="undefined"!=typeof global&&global||__window||__self;function newArray(size,value){const list=[];for(let i=0;i<size;i++)list.push(value);return list}const UNKNOWN_VALUE_KEY=variable("<unknown>"),KEY_CONTEXT={};class FixupExpression extends Expression{constructor(resolved){super(resolved.type),this.resolved=resolved,this.original=resolved}visitExpression(visitor,context){return context===KEY_CONTEXT?this.original.visitExpression(visitor,context):this.resolved.visitExpression(visitor,context)}isEquivalent(e){return e instanceof FixupExpression&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}fixup(expression){this.resolved=expression,this.shared=!0}}class ConstantPool{constructor(){this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.injectorDefinitions=new Map,this.directiveDefinitions=new Map,this.componentDefinitions=new Map,this.pipeDefinitions=new Map,this.nextNameIndex=0}getConstLiteral(literal,forceShared){if(literal instanceof LiteralExpr||literal instanceof FixupExpression)return literal;const key=this.keyOf(literal);let fixup=this.literals.get(key),newValue=!1;if(fixup||(fixup=new FixupExpression(literal),this.literals.set(key,fixup),newValue=!0),!newValue&&!fixup.shared||newValue&&forceShared){const name=this.freshName();this.statements.push(variable(name).set(literal).toDeclStmt(INFERRED_TYPE,[StmtModifier.Final])),fixup.fixup(variable(name))}return fixup}getDefinition(type,kind,ctx,forceShared=!1){const definitions=this.definitionsOf(kind);let fixup=definitions.get(type),newValue=!1;if(!fixup){const property=this.propertyNameOf(kind);fixup=new FixupExpression(ctx.importExpr(type).prop(property)),definitions.set(type,fixup),newValue=!0}if(!newValue&&!fixup.shared||newValue&&forceShared){const name=this.freshName();this.statements.push(variable(name).set(fixup.resolved).toDeclStmt(INFERRED_TYPE,[StmtModifier.Final])),fixup.fixup(variable(name))}return fixup}getLiteralFactory(literal){if(literal instanceof LiteralArrayExpr){const argumentsForKey=literal.entries.map(e=>e.isConstant()?e:UNKNOWN_VALUE_KEY),key=this.keyOf(literalArr(argumentsForKey));return this._getLiteralFactory(key,literal.entries,entries=>literalArr(entries))}{const expressionForKey=literalMap(literal.entries.map(e=>({key:e.key,value:e.value.isConstant()?e.value:UNKNOWN_VALUE_KEY,quoted:e.quoted}))),key=this.keyOf(expressionForKey);return this._getLiteralFactory(key,literal.entries.map(e=>e.value),entries=>literalMap(entries.map((value,index)=>({key:literal.entries[index].key,value:value,quoted:literal.entries[index].quoted}))))}}_getLiteralFactory(key,values,resultMap){let literalFactory=this.literalFactories.get(key);const literalFactoryArguments=values.filter(e=>!e.isConstant());if(!literalFactory){const resultExpressions=values.map((e,index)=>e.isConstant()?this.getConstLiteral(e,!0):variable(`a${index}`)),pureFunctionDeclaration=fn(resultExpressions.filter(isVariable).map(e=>new FnParam(e.name,DYNAMIC_TYPE)),[new ReturnStatement(resultMap(resultExpressions))],INFERRED_TYPE),name=this.freshName();this.statements.push(variable(name).set(pureFunctionDeclaration).toDeclStmt(INFERRED_TYPE,[StmtModifier.Final])),literalFactory=variable(name),this.literalFactories.set(key,literalFactory)}return{literalFactory:literalFactory,literalFactoryArguments:literalFactoryArguments}}uniqueName(prefix){return`${prefix}${this.nextNameIndex++}`}definitionsOf(kind){switch(kind){case 2:return this.componentDefinitions;case 1:return this.directiveDefinitions;case 0:return this.injectorDefinitions;case 3:return this.pipeDefinitions}return error(`Unknown definition kind ${kind}`),this.componentDefinitions}propertyNameOf(kind){switch(kind){case 2:return"\u0275cmp";case 1:return"\u0275dir";case 0:return"\u0275inj";case 3:return"\u0275pipe"}return error(`Unknown definition kind ${kind}`),"<unknown>"}freshName(){return this.uniqueName("_c")}keyOf(expression){return expression.visitExpression(new KeyVisitor,KEY_CONTEXT)}}class KeyVisitor{constructor(){this.visitWrappedNodeExpr=invalid,this.visitWriteVarExpr=invalid,this.visitWriteKeyExpr=invalid,this.visitWritePropExpr=invalid,this.visitInvokeMethodExpr=invalid,this.visitInvokeFunctionExpr=invalid,this.visitInstantiateExpr=invalid,this.visitConditionalExpr=invalid,this.visitNotExpr=invalid,this.visitAssertNotNullExpr=invalid,this.visitCastExpr=invalid,this.visitFunctionExpr=invalid,this.visitBinaryOperatorExpr=invalid,this.visitReadPropExpr=invalid,this.visitReadKeyExpr=invalid,this.visitCommaExpr=invalid,this.visitLocalizedString=invalid}visitLiteralExpr(ast){return`${"string"==typeof ast.value?'"'+ast.value+'"':ast.value}`}visitLiteralArrayExpr(ast,context){return`[${ast.entries.map(entry=>entry.visitExpression(this,context)).join(",")}]`}visitLiteralMapExpr(ast,context){return`{${ast.entries.map(entry=>`${(entry=>{const quote=entry.quoted?'"':"";return`${quote}${entry.key}${quote}`})(entry)}:${entry.value.visitExpression(this,context)}`).join(",")}`}visitExternalExpr(ast){return ast.value.moduleName?`EX:${ast.value.moduleName}:${ast.value.name}`:`EX:${ast.value.runtime.name}`}visitReadVarExpr(node){return`VAR:${node.name}`}visitTypeofExpr(node,context){return`TYPEOF:${node.expr.visitExpression(this,context)}`}}function invalid(arg){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${arg.constructor.name}`)}function isVariable(e){return e instanceof ReadVarExpr}const CORE="@angular/core";class Identifiers{}function createTokenForReference(reference){return{identifier:{reference:reference}}}function createTokenForExternalReference(reflector,reference){return createTokenForReference(reflector.resolveExternalReference(reference))}Identifiers.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleName:CORE},Identifiers.ElementRef={name:"ElementRef",moduleName:CORE},Identifiers.NgModuleRef={name:"NgModuleRef",moduleName:CORE},Identifiers.ViewContainerRef={name:"ViewContainerRef",moduleName:CORE},Identifiers.ChangeDetectorRef={name:"ChangeDetectorRef",moduleName:CORE},Identifiers.QueryList={name:"QueryList",moduleName:CORE},Identifiers.TemplateRef={name:"TemplateRef",moduleName:CORE},Identifiers.Renderer2={name:"Renderer2",moduleName:CORE},Identifiers.CodegenComponentFactoryResolver={name:"\u0275CodegenComponentFactoryResolver",moduleName:CORE},Identifiers.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleName:CORE},Identifiers.ComponentFactory={name:"ComponentFactory",moduleName:CORE},Identifiers.ComponentRef={name:"ComponentRef",moduleName:CORE},Identifiers.NgModuleFactory={name:"NgModuleFactory",moduleName:CORE},Identifiers.createModuleFactory={name:"\u0275cmf",moduleName:CORE},Identifiers.moduleDef={name:"\u0275mod",moduleName:CORE},Identifiers.moduleProviderDef={name:"\u0275mpd",moduleName:CORE},Identifiers.RegisterModuleFactoryFn={name:"\u0275registerModuleFactory",moduleName:CORE},Identifiers.inject={name:"\u0275\u0275inject",moduleName:CORE},Identifiers.directiveInject={name:"\u0275\u0275directiveInject",moduleName:CORE},Identifiers.INJECTOR={name:"INJECTOR",moduleName:CORE},Identifiers.Injector={name:"Injector",moduleName:CORE},Identifiers.\u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:CORE},Identifiers.InjectableDef={name:"\u0275\u0275InjectableDef",moduleName:CORE},Identifiers.ViewEncapsulation={name:"ViewEncapsulation",moduleName:CORE},Identifiers.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:CORE},Identifiers.SecurityContext={name:"SecurityContext",moduleName:CORE},Identifiers.LOCALE_ID={name:"LOCALE_ID",moduleName:CORE},Identifiers.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleName:CORE},Identifiers.inlineInterpolate={name:"\u0275inlineInterpolate",moduleName:CORE},Identifiers.interpolate={name:"\u0275interpolate",moduleName:CORE},Identifiers.EMPTY_ARRAY={name:"\u0275EMPTY_ARRAY",moduleName:CORE},Identifiers.EMPTY_MAP={name:"\u0275EMPTY_MAP",moduleName:CORE},Identifiers.Renderer={name:"Renderer",moduleName:CORE},Identifiers.viewDef={name:"\u0275vid",moduleName:CORE},Identifiers.elementDef={name:"\u0275eld",moduleName:CORE},Identifiers.anchorDef={name:"\u0275and",moduleName:CORE},Identifiers.textDef={name:"\u0275ted",moduleName:CORE},Identifiers.directiveDef={name:"\u0275did",moduleName:CORE},Identifiers.providerDef={name:"\u0275prd",moduleName:CORE},Identifiers.queryDef={name:"\u0275qud",moduleName:CORE},Identifiers.pureArrayDef={name:"\u0275pad",moduleName:CORE},Identifiers.pureObjectDef={name:"\u0275pod",moduleName:CORE},Identifiers.purePipeDef={name:"\u0275ppd",moduleName:CORE},Identifiers.pipeDef={name:"\u0275pid",moduleName:CORE},Identifiers.nodeValue={name:"\u0275nov",moduleName:CORE},Identifiers.ngContentDef={name:"\u0275ncd",moduleName:CORE},Identifiers.unwrapValue={name:"\u0275unv",moduleName:CORE},Identifiers.createRendererType2={name:"\u0275crt",moduleName:CORE},Identifiers.RendererType2={name:"RendererType2",moduleName:CORE},Identifiers.ViewDefinition={name:"\u0275ViewDefinition",moduleName:CORE},Identifiers.createComponentFactory={name:"\u0275ccf",moduleName:CORE},Identifiers.setClassMetadata={name:"\u0275setClassMetadata",moduleName:CORE};class StaticSymbol{constructor(filePath,name,members){this.filePath=filePath,this.name=name,this.members=members}assertNoMembers(){if(this.members.length)throw new Error(`Illegal state: symbol without members expected, but got ${JSON.stringify(this)}.`)}}class StaticSymbolCache{constructor(){this.cache=new Map}get(declarationFile,name,members){const key=`"${declarationFile}".${name}${(members=members||[]).length?`.${members.join(".")}`:""}`;let result=this.cache.get(key);return result||(result=new StaticSymbol(declarationFile,name,members),this.cache.set(key,result)),result}}const HOST_REG_EXP=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/;function sanitizeIdentifier(name){return name.replace(/\W/g,"_")}let _anonymousTypeIndex=0;function identifierName(compileIdentifier){if(!compileIdentifier||!compileIdentifier.reference)return null;const ref=compileIdentifier.reference;if(ref instanceof StaticSymbol)return ref.name;if(ref.__anonymousType)return ref.__anonymousType;let identifier=stringify(ref);return identifier.indexOf("(")>=0?(identifier=`anonymous_${_anonymousTypeIndex++}`,ref.__anonymousType=identifier):identifier=sanitizeIdentifier(identifier),identifier}function identifierModuleUrl(compileIdentifier){const ref=compileIdentifier.reference;return ref instanceof StaticSymbol?ref.filePath:`./${stringify(ref)}`}function viewClassName(compType,embeddedTemplateIndex){return`View_${identifierName({reference:compType})}_${embeddedTemplateIndex}`}function rendererTypeName(compType){return`RenderType_${identifierName({reference:compType})}`}function componentFactoryName(compType){return`${identifierName({reference:compType})}NgFactory`}var CompileSummaryKind;function tokenName(token){return null!=token.value?sanitizeIdentifier(token.value):identifierName(token.identifier)}function tokenReference(token){return null!=token.identifier?token.identifier.reference:token.value}!function(CompileSummaryKind){CompileSummaryKind[CompileSummaryKind.Pipe=0]="Pipe",CompileSummaryKind[CompileSummaryKind.Directive=1]="Directive",CompileSummaryKind[CompileSummaryKind.NgModule=2]="NgModule",CompileSummaryKind[CompileSummaryKind.Injectable=3]="Injectable"}(CompileSummaryKind||(CompileSummaryKind={}));class CompileStylesheetMetadata{constructor({moduleUrl:moduleUrl,styles:styles,styleUrls:styleUrls}={}){this.moduleUrl=moduleUrl||null,this.styles=_normalizeArray(styles),this.styleUrls=_normalizeArray(styleUrls)}}class CompileTemplateMetadata{constructor({encapsulation:encapsulation,template:template,templateUrl:templateUrl,htmlAst:htmlAst,styles:styles,styleUrls:styleUrls,externalStylesheets:externalStylesheets,animations:animations,ngContentSelectors:ngContentSelectors,interpolation:interpolation,isInline:isInline,preserveWhitespaces:preserveWhitespaces}){if(this.encapsulation=encapsulation,this.template=template,this.templateUrl=templateUrl,this.htmlAst=htmlAst,this.styles=_normalizeArray(styles),this.styleUrls=_normalizeArray(styleUrls),this.externalStylesheets=_normalizeArray(externalStylesheets),this.animations=animations?flatten(animations):[],this.ngContentSelectors=ngContentSelectors||[],interpolation&&2!=interpolation.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=interpolation,this.isInline=isInline,this.preserveWhitespaces=preserveWhitespaces}toSummary(){return{ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation,styles:this.styles,animations:this.animations}}}class CompileDirectiveMetadata{constructor({isHost:isHost,type:type,isComponent:isComponent,selector:selector,exportAs:exportAs,changeDetection:changeDetection,inputs:inputs,outputs:outputs,hostListeners:hostListeners,hostProperties:hostProperties,hostAttributes:hostAttributes,providers:providers,viewProviders:viewProviders,queries:queries,guards:guards,viewQueries:viewQueries,entryComponents:entryComponents,template:template,componentViewType:componentViewType,rendererType:rendererType,componentFactory:componentFactory}){this.isHost=!!isHost,this.type=type,this.isComponent=isComponent,this.selector=selector,this.exportAs=exportAs,this.changeDetection=changeDetection,this.inputs=inputs,this.outputs=outputs,this.hostListeners=hostListeners,this.hostProperties=hostProperties,this.hostAttributes=hostAttributes,this.providers=_normalizeArray(providers),this.viewProviders=_normalizeArray(viewProviders),this.queries=_normalizeArray(queries),this.guards=guards,this.viewQueries=_normalizeArray(viewQueries),this.entryComponents=_normalizeArray(entryComponents),this.template=template,this.componentViewType=componentViewType,this.rendererType=rendererType,this.componentFactory=componentFactory}static create({isHost:isHost,type:type,isComponent:isComponent,selector:selector,exportAs:exportAs,changeDetection:changeDetection,inputs:inputs,outputs:outputs,host:host,providers:providers,viewProviders:viewProviders,queries:queries,guards:guards,viewQueries:viewQueries,entryComponents:entryComponents,template:template,componentViewType:componentViewType,rendererType:rendererType,componentFactory:componentFactory}){const hostListeners={},hostProperties={},hostAttributes={};null!=host&&Object.keys(host).forEach(key=>{const value=host[key],matches=key.match(HOST_REG_EXP);null===matches?hostAttributes[key]=value:null!=matches[1]?hostProperties[matches[1]]=value:null!=matches[2]&&(hostListeners[matches[2]]=value)});const inputsMap={};null!=inputs&&inputs.forEach(bindConfig=>{const parts=splitAtColon(bindConfig,[bindConfig,bindConfig]);inputsMap[parts[0]]=parts[1]});const outputsMap={};return null!=outputs&&outputs.forEach(bindConfig=>{const parts=splitAtColon(bindConfig,[bindConfig,bindConfig]);outputsMap[parts[0]]=parts[1]}),new CompileDirectiveMetadata({isHost:isHost,type:type,isComponent:!!isComponent,selector:selector,exportAs:exportAs,changeDetection:changeDetection,inputs:inputsMap,outputs:outputsMap,hostListeners:hostListeners,hostProperties:hostProperties,hostAttributes:hostAttributes,providers:providers,viewProviders:viewProviders,queries:queries,guards:guards,viewQueries:viewQueries,entryComponents:entryComponents,template:template,componentViewType:componentViewType,rendererType:rendererType,componentFactory:componentFactory})}toSummary(){return{summaryKind:CompileSummaryKind.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,guards:this.guards,viewQueries:this.viewQueries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary(),componentViewType:this.componentViewType,rendererType:this.rendererType,componentFactory:this.componentFactory}}}class CompilePipeMetadata{constructor({type:type,name:name,pure:pure}){this.type=type,this.name=name,this.pure=!!pure}toSummary(){return{summaryKind:CompileSummaryKind.Pipe,type:this.type,name:this.name,pure:this.pure}}}class CompileNgModuleMetadata{constructor({type:type,providers:providers,declaredDirectives:declaredDirectives,exportedDirectives:exportedDirectives,declaredPipes:declaredPipes,exportedPipes:exportedPipes,entryComponents:entryComponents,bootstrapComponents:bootstrapComponents,importedModules:importedModules,exportedModules:exportedModules,schemas:schemas,transitiveModule:transitiveModule,id:id}){this.type=type||null,this.declaredDirectives=_normalizeArray(declaredDirectives),this.exportedDirectives=_normalizeArray(exportedDirectives),this.declaredPipes=_normalizeArray(declaredPipes),this.exportedPipes=_normalizeArray(exportedPipes),this.providers=_normalizeArray(providers),this.entryComponents=_normalizeArray(entryComponents),this.bootstrapComponents=_normalizeArray(bootstrapComponents),this.importedModules=_normalizeArray(importedModules),this.exportedModules=_normalizeArray(exportedModules),this.schemas=_normalizeArray(schemas),this.id=id||null,this.transitiveModule=transitiveModule||null}toSummary(){const module=this.transitiveModule;return{summaryKind:CompileSummaryKind.NgModule,type:this.type,entryComponents:module.entryComponents,providers:module.providers,modules:module.modules,exportedDirectives:module.exportedDirectives,exportedPipes:module.exportedPipes}}}class TransitiveCompileNgModuleMetadata{constructor(){this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}addProvider(provider,module){this.providers.push({provider:provider,module:module})}addDirective(id){this.directivesSet.has(id.reference)||(this.directivesSet.add(id.reference),this.directives.push(id))}addExportedDirective(id){this.exportedDirectivesSet.has(id.reference)||(this.exportedDirectivesSet.add(id.reference),this.exportedDirectives.push(id))}addPipe(id){this.pipesSet.has(id.reference)||(this.pipesSet.add(id.reference),this.pipes.push(id))}addExportedPipe(id){this.exportedPipesSet.has(id.reference)||(this.exportedPipesSet.add(id.reference),this.exportedPipes.push(id))}addModule(id){this.modulesSet.has(id.reference)||(this.modulesSet.add(id.reference),this.modules.push(id))}addEntryComponent(ec){this.entryComponentsSet.has(ec.componentType)||(this.entryComponentsSet.add(ec.componentType),this.entryComponents.push(ec))}}function _normalizeArray(obj){return obj||[]}class ProviderMeta{constructor(token,{useClass:useClass,useValue:useValue,useExisting:useExisting,useFactory:useFactory,deps:deps,multi:multi}){this.token=token,this.useClass=useClass||null,this.useValue=useValue,this.useExisting=useExisting,this.useFactory=useFactory||null,this.dependencies=deps||null,this.multi=!!multi}}function flatten(list){return list.reduce((flat,item)=>{const flatItem=Array.isArray(item)?flatten(item):item;return flat.concat(flatItem)},[])}function jitSourceUrl(url){return url.replace(/(\w+:\/\/[\w:-]+)?(\/+)?/,"ng:///")}function templateSourceUrl(ngModuleType,compMeta,templateMeta){let url;return url=templateMeta.isInline?compMeta.type.reference instanceof StaticSymbol?`${compMeta.type.reference.filePath}.${compMeta.type.reference.name}.html`:`${identifierName(ngModuleType)}/${identifierName(compMeta.type)}.html`:templateMeta.templateUrl,compMeta.type.reference instanceof StaticSymbol?url:jitSourceUrl(url)}const CORE$1="@angular/core";class Identifiers$1{}function mapToMapExpression(map){return literalMap(Object.keys(map).map(key=>({key:key,value:map[key],quoted:!1})))}function typeWithParameters(type,numParams){let params=null;if(numParams>0){params=[];for(let i=0;i<numParams;i++)params.push(DYNAMIC_TYPE)}return expressionType(type,null,params)}Identifiers$1.NEW_METHOD="factory",Identifiers$1.TRANSFORM_METHOD="transform",Identifiers$1.PATCH_DEPS="patchedDeps",Identifiers$1.namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:CORE$1},Identifiers$1.namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:CORE$1},Identifiers$1.namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:CORE$1},Identifiers$1.element={name:"\u0275\u0275element",moduleName:CORE$1},Identifiers$1.elementStart={name:"\u0275\u0275elementStart",moduleName:CORE$1},Identifiers$1.elementEnd={name:"\u0275\u0275elementEnd",moduleName:CORE$1},Identifiers$1.select={name:"\u0275\u0275select",moduleName:CORE$1},Identifiers$1.advance={name:"\u0275\u0275advance",moduleName:CORE$1},Identifiers$1.updateSyntheticHostBinding={name:"\u0275\u0275updateSyntheticHostBinding",moduleName:CORE$1},Identifiers$1.componentHostSyntheticListener={name:"\u0275\u0275componentHostSyntheticListener",moduleName:CORE$1},Identifiers$1.attribute={name:"\u0275\u0275attribute",moduleName:CORE$1},Identifiers$1.attributeInterpolate1={name:"\u0275\u0275attributeInterpolate1",moduleName:CORE$1},Identifiers$1.attributeInterpolate2={name:"\u0275\u0275attributeInterpolate2",moduleName:CORE$1},Identifiers$1.attributeInterpolate3={name:"\u0275\u0275attributeInterpolate3",moduleName:CORE$1},Identifiers$1.attributeInterpolate4={name:"\u0275\u0275attributeInterpolate4",moduleName:CORE$1},Identifiers$1.attributeInterpolate5={name:"\u0275\u0275attributeInterpolate5",moduleName:CORE$1},Identifiers$1.attributeInterpolate6={name:"\u0275\u0275attributeInterpolate6",moduleName:CORE$1},Identifiers$1.attributeInterpolate7={name:"\u0275\u0275attributeInterpolate7",moduleName:CORE$1},Identifiers$1.attributeInterpolate8={name:"\u0275\u0275attributeInterpolate8",moduleName:CORE$1},Identifiers$1.attributeInterpolateV={name:"\u0275\u0275attributeInterpolateV",moduleName:CORE$1},Identifiers$1.classProp={name:"\u0275\u0275classProp",moduleName:CORE$1},Identifiers$1.elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:CORE$1},Identifiers$1.elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:CORE$1},Identifiers$1.elementContainer={name:"\u0275\u0275elementContainer",moduleName:CORE$1},Identifiers$1.styleMap={name:"\u0275\u0275styleMap",moduleName:CORE$1},Identifiers$1.styleMapInterpolate1={name:"\u0275\u0275styleMapInterpolate1",moduleName:CORE$1},Identifiers$1.styleMapInterpolate2={name:"\u0275\u0275styleMapInterpolate2",moduleName:CORE$1},Identifiers$1.styleMapInterpolate3={name:"\u0275\u0275styleMapInterpolate3",moduleName:CORE$1},Identifiers$1.styleMapInterpolate4={name:"\u0275\u0275styleMapInterpolate4",moduleName:CORE$1},Identifiers$1.styleMapInterpolate5={name:"\u0275\u0275styleMapInterpolate5",moduleName:CORE$1},Identifiers$1.styleMapInterpolate6={name:"\u0275\u0275styleMapInterpolate6",moduleName:CORE$1},Identifiers$1.styleMapInterpolate7={name:"\u0275\u0275styleMapInterpolate7",moduleName:CORE$1},Identifiers$1.styleMapInterpolate8={name:"\u0275\u0275styleMapInterpolate8",moduleName:CORE$1},Identifiers$1.styleMapInterpolateV={name:"\u0275\u0275styleMapInterpolateV",moduleName:CORE$1},Identifiers$1.classMap={name:"\u0275\u0275classMap",moduleName:CORE$1},Identifiers$1.classMapInterpolate1={name:"\u0275\u0275classMapInterpolate1",moduleName:CORE$1},Identifiers$1.classMapInterpolate2={name:"\u0275\u0275classMapInterpolate2",moduleName:CORE$1},Identifiers$1.classMapInterpolate3={name:"\u0275\u0275classMapInterpolate3",moduleName:CORE$1},Identifiers$1.classMapInterpolate4={name:"\u0275\u0275classMapInterpolate4",moduleName:CORE$1},Identifiers$1.classMapInterpolate5={name:"\u0275\u0275classMapInterpolate5",moduleName:CORE$1},Identifiers$1.classMapInterpolate6={name:"\u0275\u0275classMapInterpolate6",moduleName:CORE$1},Identifiers$1.classMapInterpolate7={name:"\u0275\u0275classMapInterpolate7",moduleName:CORE$1},Identifiers$1.classMapInterpolate8={name:"\u0275\u0275classMapInterpolate8",moduleName:CORE$1},Identifiers$1.classMapInterpolateV={name:"\u0275\u0275classMapInterpolateV",moduleName:CORE$1},Identifiers$1.styleProp={name:"\u0275\u0275styleProp",moduleName:CORE$1},Identifiers$1.stylePropInterpolate1={name:"\u0275\u0275stylePropInterpolate1",moduleName:CORE$1},Identifiers$1.stylePropInterpolate2={name:"\u0275\u0275stylePropInterpolate2",moduleName:CORE$1},Identifiers$1.stylePropInterpolate3={name:"\u0275\u0275stylePropInterpolate3",moduleName:CORE$1},Identifiers$1.stylePropInterpolate4={name:"\u0275\u0275stylePropInterpolate4",moduleName:CORE$1},Identifiers$1.stylePropInterpolate5={name:"\u0275\u0275stylePropInterpolate5",moduleName:CORE$1},Identifiers$1.stylePropInterpolate6={name:"\u0275\u0275stylePropInterpolate6",moduleName:CORE$1},Identifiers$1.stylePropInterpolate7={name:"\u0275\u0275stylePropInterpolate7",moduleName:CORE$1},Identifiers$1.stylePropInterpolate8={name:"\u0275\u0275stylePropInterpolate8",moduleName:CORE$1},Identifiers$1.stylePropInterpolateV={name:"\u0275\u0275stylePropInterpolateV",moduleName:CORE$1},Identifiers$1.containerCreate={name:"\u0275\u0275container",moduleName:CORE$1},Identifiers$1.nextContext={name:"\u0275\u0275nextContext",moduleName:CORE$1},Identifiers$1.templateCreate={name:"\u0275\u0275template",moduleName:CORE$1},Identifiers$1.text={name:"\u0275\u0275text",moduleName:CORE$1},Identifiers$1.enableBindings={name:"\u0275\u0275enableBindings",moduleName:CORE$1},Identifiers$1.disableBindings={name:"\u0275\u0275disableBindings",moduleName:CORE$1},Identifiers$1.getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:CORE$1},Identifiers$1.textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:CORE$1},Identifiers$1.textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:CORE$1},Identifiers$1.textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:CORE$1},Identifiers$1.textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:CORE$1},Identifiers$1.textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:CORE$1},Identifiers$1.textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:CORE$1},Identifiers$1.textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:CORE$1},Identifiers$1.textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:CORE$1},Identifiers$1.textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:CORE$1},Identifiers$1.textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:CORE$1},Identifiers$1.restoreView={name:"\u0275\u0275restoreView",moduleName:CORE$1},Identifiers$1.pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:CORE$1},Identifiers$1.pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:CORE$1},Identifiers$1.pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:CORE$1},Identifiers$1.pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:CORE$1},Identifiers$1.pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:CORE$1},Identifiers$1.pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:CORE$1},Identifiers$1.pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:CORE$1},Identifiers$1.pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:CORE$1},Identifiers$1.pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:CORE$1},Identifiers$1.pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:CORE$1},Identifiers$1.pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:CORE$1},Identifiers$1.pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:CORE$1},Identifiers$1.pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:CORE$1},Identifiers$1.pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:CORE$1},Identifiers$1.pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:CORE$1},Identifiers$1.hostProperty={name:"\u0275\u0275hostProperty",moduleName:CORE$1},Identifiers$1.property={name:"\u0275\u0275property",moduleName:CORE$1},Identifiers$1.propertyInterpolate={name:"\u0275\u0275propertyInterpolate",moduleName:CORE$1},Identifiers$1.propertyInterpolate1={name:"\u0275\u0275propertyInterpolate1",moduleName:CORE$1},Identifiers$1.propertyInterpolate2={name:"\u0275\u0275propertyInterpolate2",moduleName:CORE$1},Identifiers$1.propertyInterpolate3={name:"\u0275\u0275propertyInterpolate3",moduleName:CORE$1},Identifiers$1.propertyInterpolate4={name:"\u0275\u0275propertyInterpolate4",moduleName:CORE$1},Identifiers$1.propertyInterpolate5={name:"\u0275\u0275propertyInterpolate5",moduleName:CORE$1},Identifiers$1.propertyInterpolate6={name:"\u0275\u0275propertyInterpolate6",moduleName:CORE$1},Identifiers$1.propertyInterpolate7={name:"\u0275\u0275propertyInterpolate7",moduleName:CORE$1},Identifiers$1.propertyInterpolate8={name:"\u0275\u0275propertyInterpolate8",moduleName:CORE$1},Identifiers$1.propertyInterpolateV={name:"\u0275\u0275propertyInterpolateV",moduleName:CORE$1},Identifiers$1.i18n={name:"\u0275\u0275i18n",moduleName:CORE$1},Identifiers$1.i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:CORE$1},Identifiers$1.i18nExp={name:"\u0275\u0275i18nExp",moduleName:CORE$1},Identifiers$1.i18nStart={name:"\u0275\u0275i18nStart",moduleName:CORE$1},Identifiers$1.i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:CORE$1},Identifiers$1.i18nApply={name:"\u0275\u0275i18nApply",moduleName:CORE$1},Identifiers$1.i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:CORE$1},Identifiers$1.pipe={name:"\u0275\u0275pipe",moduleName:CORE$1},Identifiers$1.projection={name:"\u0275\u0275projection",moduleName:CORE$1},Identifiers$1.projectionDef={name:"\u0275\u0275projectionDef",moduleName:CORE$1},Identifiers$1.reference={name:"\u0275\u0275reference",moduleName:CORE$1},Identifiers$1.inject={name:"\u0275\u0275inject",moduleName:CORE$1},Identifiers$1.injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:CORE$1},Identifiers$1.injectPipeChangeDetectorRef={name:"\u0275\u0275injectPipeChangeDetectorRef",moduleName:CORE$1},Identifiers$1.directiveInject={name:"\u0275\u0275directiveInject",moduleName:CORE$1},Identifiers$1.invalidFactory={name:"\u0275\u0275invalidFactory",moduleName:CORE$1},Identifiers$1.invalidFactoryDep={name:"\u0275\u0275invalidFactoryDep",moduleName:CORE$1},Identifiers$1.templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:CORE$1},Identifiers$1.resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:CORE$1},Identifiers$1.resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:CORE$1},Identifiers$1.resolveBody={name:"\u0275\u0275resolveBody",moduleName:CORE$1},Identifiers$1.defineComponent={name:"\u0275\u0275defineComponent",moduleName:CORE$1},Identifiers$1.setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:CORE$1},Identifiers$1.ComponentDefWithMeta={name:"\u0275\u0275ComponentDefWithMeta",moduleName:CORE$1},Identifiers$1.FactoryDef={name:"\u0275\u0275FactoryDef",moduleName:CORE$1},Identifiers$1.defineDirective={name:"\u0275\u0275defineDirective",moduleName:CORE$1},Identifiers$1.DirectiveDefWithMeta={name:"\u0275\u0275DirectiveDefWithMeta",moduleName:CORE$1},Identifiers$1.InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:CORE$1},Identifiers$1.defineInjector={name:"\u0275\u0275defineInjector",moduleName:CORE$1},Identifiers$1.NgModuleDefWithMeta={name:"\u0275\u0275NgModuleDefWithMeta",moduleName:CORE$1},Identifiers$1.ModuleWithProviders={name:"ModuleWithProviders",moduleName:CORE$1},Identifiers$1.defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:CORE$1},Identifiers$1.setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:CORE$1},Identifiers$1.PipeDefWithMeta={name:"\u0275\u0275PipeDefWithMeta",moduleName:CORE$1},Identifiers$1.definePipe={name:"\u0275\u0275definePipe",moduleName:CORE$1},Identifiers$1.queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:CORE$1},Identifiers$1.viewQuery={name:"\u0275\u0275viewQuery",moduleName:CORE$1},Identifiers$1.staticViewQuery={name:"\u0275\u0275staticViewQuery",moduleName:CORE$1},Identifiers$1.staticContentQuery={name:"\u0275\u0275staticContentQuery",moduleName:CORE$1},Identifiers$1.loadQuery={name:"\u0275\u0275loadQuery",moduleName:CORE$1},Identifiers$1.contentQuery={name:"\u0275\u0275contentQuery",moduleName:CORE$1},Identifiers$1.NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:CORE$1},Identifiers$1.InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:CORE$1},Identifiers$1.CopyDefinitionFeature={name:"\u0275\u0275CopyDefinitionFeature",moduleName:CORE$1},Identifiers$1.ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:CORE$1},Identifiers$1.listener={name:"\u0275\u0275listener",moduleName:CORE$1},Identifiers$1.getFactoryOf={name:"\u0275\u0275getFactoryOf",moduleName:CORE$1},Identifiers$1.getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:CORE$1},Identifiers$1.sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:CORE$1},Identifiers$1.sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:CORE$1},Identifiers$1.defaultStyleSanitizer={name:"\u0275\u0275defaultStyleSanitizer",moduleName:CORE$1},Identifiers$1.sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:CORE$1},Identifiers$1.sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:CORE$1},Identifiers$1.sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:CORE$1},Identifiers$1.sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:CORE$1};function prepareSyntheticPropertyName(name){return`@${name}`}function prepareSyntheticListenerFunctionName(name,phase){return`animation_${name}_${phase}`}function isWhitespace(code){return code>=9&&code<=32||160==code}function isDigit(code){return 48<=code&&code<=57}function isAsciiLetter(code){return code>=97&&code<=122||code>=65&&code<=90}function isNewLine(code){return 10===code||13===code}function isOctalDigit(code){return 48<=code&&code<=55}class ParseLocation{constructor(file,offset,line,col){this.file=file,this.offset=offset,this.line=line,this.col=col}toString(){return null!=this.offset?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(delta){const source=this.file.content,len=source.length;let offset=this.offset,line=this.line,col=this.col;for(;offset>0&&delta<0;){if(offset--,delta++,10==source.charCodeAt(offset)){line--;const priorLine=source.substr(0,offset-1).lastIndexOf(String.fromCharCode(10));col=priorLine>0?offset-priorLine:offset}else col--}for(;offset<len&&delta>0;){const ch=source.charCodeAt(offset);offset++,delta--,10==ch?(line++,col=0):col++}return new ParseLocation(this.file,offset,line,col)}getContext(maxChars,maxLines){const content=this.file.content;let startOffset=this.offset;if(null!=startOffset){startOffset>content.length-1&&(startOffset=content.length-1);let endOffset=startOffset,ctxChars=0,ctxLines=0;for(;ctxChars<maxChars&&startOffset>0&&(startOffset--,ctxChars++,"\n"!=content[startOffset]||++ctxLines!=maxLines););for(ctxChars=0,ctxLines=0;ctxChars<maxChars&&endOffset<content.length-1&&(endOffset++,ctxChars++,"\n"!=content[endOffset]||++ctxLines!=maxLines););return{before:content.substring(startOffset,this.offset),after:content.substring(this.offset,endOffset+1)}}return null}}class ParseSourceFile{constructor(content,url){this.content=content,this.url=url}}class ParseSourceSpan{constructor(start,end,details=null){this.start=start,this.end=end,this.details=details}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}}const EMPTY_PARSE_LOCATION=new ParseLocation(new ParseSourceFile("",""),0,0,0);new ParseSourceSpan(EMPTY_PARSE_LOCATION,EMPTY_PARSE_LOCATION);var ParseErrorLevel;!function(ParseErrorLevel){ParseErrorLevel[ParseErrorLevel.WARNING=0]="WARNING",ParseErrorLevel[ParseErrorLevel.ERROR=1]="ERROR"}(ParseErrorLevel||(ParseErrorLevel={}));class ParseError{constructor(span,msg,level=ParseErrorLevel.ERROR){this.span=span,this.msg=msg,this.level=level}contextualMessage(){const ctx=this.span.start.getContext(100,3);return ctx?`${this.msg} ("${ctx.before}[${ParseErrorLevel[this.level]} ->]${ctx.after}")`:this.msg}toString(){const details=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${details}`}}class Text{constructor(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}visit(visitor){return visitor.visitText(this)}}class BoundText{constructor(value,sourceSpan,i18n){this.value=value,this.sourceSpan=sourceSpan,this.i18n=i18n}visit(visitor){return visitor.visitBoundText(this)}}class TextAttribute{constructor(name,value,sourceSpan,valueSpan,i18n){this.name=name,this.value=value,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan,this.i18n=i18n}visit(visitor){return visitor.visitTextAttribute(this)}}class BoundAttribute{constructor(name,type,securityContext,value,unit,sourceSpan,valueSpan,i18n){this.name=name,this.type=type,this.securityContext=securityContext,this.value=value,this.unit=unit,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan,this.i18n=i18n}static fromBoundElementProperty(prop,i18n){return new BoundAttribute(prop.name,prop.type,prop.securityContext,prop.value,prop.unit,prop.sourceSpan,prop.valueSpan,i18n)}visit(visitor){return visitor.visitBoundAttribute(this)}}class BoundEvent{constructor(name,type,handler,target,phase,sourceSpan,handlerSpan){this.name=name,this.type=type,this.handler=handler,this.target=target,this.phase=phase,this.sourceSpan=sourceSpan,this.handlerSpan=handlerSpan}static fromParsedEvent(event){const target=0===event.type?event.targetOrPhase:null,phase=1===event.type?event.targetOrPhase:null;return new BoundEvent(event.name,event.type,event.handler,target,phase,event.sourceSpan,event.handlerSpan)}visit(visitor){return visitor.visitBoundEvent(this)}}class compiler_Element{constructor(name,attributes,inputs,outputs,children,references,sourceSpan,startSourceSpan,endSourceSpan,i18n){this.name=name,this.attributes=attributes,this.inputs=inputs,this.outputs=outputs,this.children=children,this.references=references,this.sourceSpan=sourceSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan,this.i18n=i18n,0===children.length&&startSourceSpan&&endSourceSpan&&(this.sourceSpan=new ParseSourceSpan(sourceSpan.start,endSourceSpan.end))}visit(visitor){return visitor.visitElement(this)}}class Template{constructor(tagName,attributes,inputs,outputs,templateAttrs,children,references,variables,sourceSpan,startSourceSpan,endSourceSpan,i18n){this.tagName=tagName,this.attributes=attributes,this.inputs=inputs,this.outputs=outputs,this.templateAttrs=templateAttrs,this.children=children,this.references=references,this.variables=variables,this.sourceSpan=sourceSpan,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan,this.i18n=i18n}visit(visitor){return visitor.visitTemplate(this)}}class Content{constructor(selector,attributes,sourceSpan,i18n){this.selector=selector,this.attributes=attributes,this.sourceSpan=sourceSpan,this.i18n=i18n}visit(visitor){return visitor.visitContent(this)}}class Variable{constructor(name,value,sourceSpan,valueSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan}visit(visitor){return visitor.visitVariable(this)}}class Reference{constructor(name,value,sourceSpan,valueSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan}visit(visitor){return visitor.visitReference(this)}}class Icu{constructor(vars,placeholders,sourceSpan,i18n){this.vars=vars,this.placeholders=placeholders,this.sourceSpan=sourceSpan,this.i18n=i18n}visit(visitor){return visitor.visitIcu(this)}}function visitAll(visitor,nodes){const result=[];if(visitor.visit)for(const node of nodes){visitor.visit(node)||node.visit(visitor)}else for(const node of nodes){const newNode=node.visit(visitor);newNode&&result.push(newNode)}return result}class Message{constructor(nodes,placeholders,placeholderToMessage,meaning,description,customId){this.nodes=nodes,this.placeholders=placeholders,this.placeholderToMessage=placeholderToMessage,this.meaning=meaning,this.description=description,this.customId=customId,this.id=this.customId,this.legacyIds=[],nodes.length?this.sources=[{filePath:nodes[0].sourceSpan.start.file.url,startLine:nodes[0].sourceSpan.start.line+1,startCol:nodes[0].sourceSpan.start.col+1,endLine:nodes[nodes.length-1].sourceSpan.end.line+1,endCol:nodes[0].sourceSpan.start.col+1}]:this.sources=[]}}class Text$1{constructor(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitText(this,context)}}class Container{constructor(children,sourceSpan){this.children=children,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitContainer(this,context)}}class Icu$1{constructor(expression,type,cases,sourceSpan){this.expression=expression,this.type=type,this.cases=cases,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitIcu(this,context)}}class TagPlaceholder{constructor(tag,attrs,startName,closeName,children,isVoid,sourceSpan){this.tag=tag,this.attrs=attrs,this.startName=startName,this.closeName=closeName,this.children=children,this.isVoid=isVoid,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitTagPlaceholder(this,context)}}class Placeholder{constructor(value,name,sourceSpan){this.value=value,this.name=name,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitPlaceholder(this,context)}}class IcuPlaceholder{constructor(value,name,sourceSpan){this.value=value,this.name=name,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitIcuPlaceholder(this,context)}}function digest(message){return message.id||computeDigest(message)}function computeDigest(message){return function sha1(str){const utf8=utf8Encode(str),words32=function stringToWords32(str,endian){const size=str.length+3>>>2,words32=[];for(let i=0;i<size;i++)words32[i]=wordAt(str,4*i,endian);return words32}(utf8,Endian.Big),len=8*utf8.length,w=newArray(80);let a=1732584193,b=4023233417,c=2562383102,d=271733878,e=3285377520;words32[len>>5]|=128<<24-len%32,words32[15+(len+64>>9<<4)]=len;for(let i=0;i<words32.length;i+=16){const h0=a,h1=b,h2=c,h3=d,h4=e;for(let j=0;j<80;j++){w[j]=j<16?words32[i+j]:rol32(w[j-3]^w[j-8]^w[j-14]^w[j-16],1);const fkVal=fk(j,b,c,d),f=fkVal[0],k=fkVal[1],temp=[rol32(a,5),f,e,k,w[j]].reduce(add32);e=d,d=c,c=rol32(b,30),b=a,a=temp}a=add32(a,h0),b=add32(b,h1),c=add32(c,h2),d=add32(d,h3),e=add32(e,h4)}return function byteStringToHexString(str){let hex="";for(let i=0;i<str.length;i++){const b=byteAt(str,i);hex+=(b>>>4).toString(16)+(15&b).toString(16)}return hex.toLowerCase()}(words32ToByteString([a,b,c,d,e]))}(function serializeNodes(nodes){return nodes.map(a=>a.visit(serializerVisitor,null))}(message.nodes).join("")+`[${message.meaning}]`)}function decimalDigest(message){return message.id||computeDecimalDigest(message)}function computeDecimalDigest(message){const visitor=new _SerializerIgnoreIcuExpVisitor;return function computeMsgId(msg,meaning=""){let msgFingerprint=fingerprint(msg);if(meaning){const meaningFingerprint=fingerprint(meaning);msgFingerprint=function add64(a,b){const ah=a[0],al=a[1],bh=b[0],bl=b[1],result=add32to64(al,bl),carry=result[0],l=result[1];return[add32(add32(ah,bh),carry),l]}(function rol64(num,count){const hi=num[0],lo=num[1];return[hi<<count|lo>>>32-count,lo<<count|hi>>>32-count]}(msgFingerprint,1),meaningFingerprint)}const hi=msgFingerprint[0],lo=msgFingerprint[1];return function byteStringToDecString(str){let decimal="",toThePower="1";for(let i=str.length-1;i>=0;i--)decimal=addBigInt(decimal,numberTimesBigInt(byteAt(str,i),toThePower)),toThePower=numberTimesBigInt(256,toThePower);return decimal.split("").reverse().join("")}(words32ToByteString([2147483647&hi,lo]))}(message.nodes.map(a=>a.visit(visitor,null)).join(""),message.meaning)}class _SerializerVisitor{visitText(text,context){return text.value}visitContainer(container,context){return`[${container.children.map(child=>child.visit(this)).join(", ")}]`}visitIcu(icu,context){const strCases=Object.keys(icu.cases).map(k=>`${k} {${icu.cases[k].visit(this)}}`);return`{${icu.expression}, ${icu.type}, ${strCases.join(", ")}}`}visitTagPlaceholder(ph,context){return ph.isVoid?`<ph tag name="${ph.startName}"/>`:`<ph tag name="${ph.startName}">${ph.children.map(child=>child.visit(this)).join(", ")}</ph name="${ph.closeName}">`}visitPlaceholder(ph,context){return ph.value?`<ph name="${ph.name}">${ph.value}</ph>`:`<ph name="${ph.name}"/>`}visitIcuPlaceholder(ph,context){return`<ph icu name="${ph.name}">${ph.value.visit(this)}</ph>`}}const serializerVisitor=new _SerializerVisitor;class _SerializerIgnoreIcuExpVisitor extends _SerializerVisitor{visitIcu(icu,context){let strCases=Object.keys(icu.cases).map(k=>`${k} {${icu.cases[k].visit(this)}}`);return`{${icu.type}, ${strCases.join(", ")}}`}}function fk(index,b,c,d){return index<20?[b&c|~b&d,1518500249]:index<40?[b^c^d,1859775393]:index<60?[b&c|b&d|c&d,2400959708]:[b^c^d,3395469782]}function fingerprint(str){const utf8=utf8Encode(str);let hi=hash32(utf8,0),lo=hash32(utf8,102072);return 0!=hi||0!=lo&&1!=lo||(hi^=319790063,lo^=-1801410264),[hi,lo]}function hash32(str,c){let i,a=2654435769,b=2654435769;const len=str.length;for(i=0;i+12<=len;i+=12){a=add32(a,wordAt(str,i,Endian.Little)),b=add32(b,wordAt(str,i+4,Endian.Little));const res=mix(a,b,c=add32(c,wordAt(str,i+8,Endian.Little)));a=res[0],b=res[1],c=res[2]}return a=add32(a,wordAt(str,i,Endian.Little)),b=add32(b,wordAt(str,i+4,Endian.Little)),c=add32(c,len),mix(a,b,c=add32(c,wordAt(str,i+8,Endian.Little)<<8))[2]}function mix(a,b,c){return a=sub32(a,b),a=sub32(a,c),a^=c>>>13,b=sub32(b,c),b=sub32(b,a),b^=a<<8,c=sub32(c,a),c=sub32(c,b),c^=b>>>13,a=sub32(a,b),a=sub32(a,c),a^=c>>>12,b=sub32(b,c),b=sub32(b,a),b^=a<<16,c=sub32(c,a),c=sub32(c,b),c^=b>>>5,a=sub32(a,b),a=sub32(a,c),a^=c>>>3,b=sub32(b,c),b=sub32(b,a),b^=a<<10,c=sub32(c,a),c=sub32(c,b),[a,b,c^=b>>>15]}var Endian;function add32(a,b){return add32to64(a,b)[1]}function add32to64(a,b){const low=(65535&a)+(65535&b),high=(a>>>16)+(b>>>16)+(low>>>16);return[high>>>16,high<<16|65535&low]}function sub32(a,b){const low=(65535&a)-(65535&b);return(a>>16)-(b>>16)+(low>>16)<<16|65535&low}function rol32(a,count){return a<<count|a>>>32-count}function byteAt(str,index){return index>=str.length?0:255&str.charCodeAt(index)}function wordAt(str,index,endian){let word=0;if(endian===Endian.Big)for(let i=0;i<4;i++)word+=byteAt(str,index+i)<<24-8*i;else for(let i=0;i<4;i++)word+=byteAt(str,index+i)<<8*i;return word}function words32ToByteString(words32){return words32.reduce((str,word)=>str+function word32ToByteString(word){let str="";for(let i=0;i<4;i++)str+=String.fromCharCode(word>>>8*(3-i)&255);return str}(word),"")}function addBigInt(x,y){let sum="";const len=Math.max(x.length,y.length);for(let i=0,carry=0;i<len||carry;i++){const tmpSum=carry+ +(x[i]||0)+ +(y[i]||0);tmpSum>=10?(carry=1,sum+=tmpSum-10):(carry=0,sum+=tmpSum)}return sum}function numberTimesBigInt(num,b){let product="",bToThePower=b;for(;0!==num;num>>>=1)1&num&&(product=addBigInt(product,bToThePower)),bToThePower=addBigInt(bToThePower,bToThePower);return product}!function(Endian){Endian[Endian.Little=0]="Little",Endian[Endian.Big=1]="Big"}(Endian||(Endian={}));class Serializer{createNameMapper(message){return null}}class SimplePlaceholderMapper extends class{visitText(text,context){}visitContainer(container,context){container.children.forEach(child=>child.visit(this))}visitIcu(icu,context){Object.keys(icu.cases).forEach(k=>{icu.cases[k].visit(this)})}visitTagPlaceholder(ph,context){ph.children.forEach(child=>child.visit(this))}visitPlaceholder(ph,context){}visitIcuPlaceholder(ph,context){}}{constructor(message,mapName){super(),this.mapName=mapName,this.internalToPublic={},this.publicToNextId={},this.publicToInternal={},message.nodes.forEach(node=>node.visit(this))}toPublicName(internalName){return this.internalToPublic.hasOwnProperty(internalName)?this.internalToPublic[internalName]:null}toInternalName(publicName){return this.publicToInternal.hasOwnProperty(publicName)?this.publicToInternal[publicName]:null}visitText(text,context){return null}visitTagPlaceholder(ph,context){this.visitPlaceholderName(ph.startName),super.visitTagPlaceholder(ph,context),this.visitPlaceholderName(ph.closeName)}visitPlaceholder(ph,context){this.visitPlaceholderName(ph.name)}visitIcuPlaceholder(ph,context){this.visitPlaceholderName(ph.name)}visitPlaceholderName(internalName){if(!internalName||this.internalToPublic.hasOwnProperty(internalName))return;let publicName=this.mapName(internalName);if(this.publicToInternal.hasOwnProperty(publicName)){const nextId=this.publicToNextId[publicName];this.publicToNextId[publicName]=nextId+1,publicName=`${publicName}_${nextId}`}else this.publicToNextId[publicName]=1;this.internalToPublic[internalName]=publicName,this.publicToInternal[publicName]=internalName}}const _visitor=new class{visitTag(tag){const strAttrs=this._serializeAttributes(tag.attrs);if(0==tag.children.length)return`<${tag.name}${strAttrs}/>`;const strChildren=tag.children.map(node=>node.visit(this));return`<${tag.name}${strAttrs}>${strChildren.join("")}</${tag.name}>`}visitText(text){return text.value}visitDeclaration(decl){return`<?xml${this._serializeAttributes(decl.attrs)} ?>`}_serializeAttributes(attrs){const strAttrs=Object.keys(attrs).map(name=>`${name}="${attrs[name]}"`).join(" ");return strAttrs.length>0?" "+strAttrs:""}visitDoctype(doctype){return`<!DOCTYPE ${doctype.rootTag} [\n${doctype.dtd}\n]>`}};function serialize(nodes){return nodes.map(node=>node.visit(_visitor)).join("")}class Declaration{constructor(unescapedAttrs){this.attrs={},Object.keys(unescapedAttrs).forEach(k=>{this.attrs[k]=escapeXml(unescapedAttrs[k])})}visit(visitor){return visitor.visitDeclaration(this)}}class Doctype{constructor(rootTag,dtd){this.rootTag=rootTag,this.dtd=dtd}visit(visitor){return visitor.visitDoctype(this)}}class Tag{constructor(name,unescapedAttrs={},children=[]){this.name=name,this.children=children,this.attrs={},Object.keys(unescapedAttrs).forEach(k=>{this.attrs[k]=escapeXml(unescapedAttrs[k])})}visit(visitor){return visitor.visitTag(this)}}class Text$2{constructor(unescapedValue){this.value=escapeXml(unescapedValue)}visit(visitor){return visitor.visitText(this)}}class CR extends Text$2{constructor(ws=0){super(`\n${new Array(ws+1).join(" ")}`)}}const _ESCAPED_CHARS=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]];function escapeXml(text){return _ESCAPED_CHARS.reduce((text,entry)=>text.replace(entry[0],entry[1]),text)}class Xmb extends Serializer{write(messages,locale){const exampleVisitor=new ExampleVisitor,visitor=new _Visitor$1;let rootNode=new Tag("messagebundle");return messages.forEach(message=>{const attrs={id:message.id};message.description&&(attrs.desc=message.description),message.meaning&&(attrs.meaning=message.meaning);let sourceTags=[];message.sources.forEach(source=>{sourceTags.push(new Tag("source",{},[new Text$2(`${source.filePath}:${source.startLine}${source.endLine!==source.startLine?","+source.endLine:""}`)]))}),rootNode.children.push(new CR(2),new Tag("msg",attrs,[...sourceTags,...visitor.serialize(message.nodes)]))}),rootNode.children.push(new CR),serialize([new Declaration({version:"1.0",encoding:"UTF-8"}),new CR,new Doctype("messagebundle",'<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>'),new CR,exampleVisitor.addDefaultExamples(rootNode),new CR])}load(content,url){throw new Error("Unsupported")}digest(message){return digest$1(message)}createNameMapper(message){return new SimplePlaceholderMapper(message,toPublicName)}}class _Visitor$1{visitText(text,context){return[new Text$2(text.value)]}visitContainer(container,context){const nodes=[];return container.children.forEach(node=>nodes.push(...node.visit(this))),nodes}visitIcu(icu,context){const nodes=[new Text$2(`{${icu.expressionPlaceholder}, ${icu.type}, `)];return Object.keys(icu.cases).forEach(c=>{nodes.push(new Text$2(`${c} {`),...icu.cases[c].visit(this),new Text$2("} "))}),nodes.push(new Text$2("}")),nodes}visitTagPlaceholder(ph,context){const startTagAsText=new Text$2(`<${ph.tag}>`),startEx=new Tag("ex",{},[startTagAsText]),startTagPh=new Tag("ph",{name:ph.startName},[startEx,startTagAsText]);if(ph.isVoid)return[startTagPh];const closeTagAsText=new Text$2(`</${ph.tag}>`),closeEx=new Tag("ex",{},[closeTagAsText]),closeTagPh=new Tag("ph",{name:ph.closeName},[closeEx,closeTagAsText]);return[startTagPh,...this.serialize(ph.children),closeTagPh]}visitPlaceholder(ph,context){const interpolationAsText=new Text$2(`{{${ph.value}}}`),exTag=new Tag("ex",{},[interpolationAsText]);return[new Tag("ph",{name:ph.name},[exTag,interpolationAsText])]}visitIcuPlaceholder(ph,context){const icuExpression=ph.value.expression,icuType=ph.value.type,icuCases=Object.keys(ph.value.cases).map(value=>value+" {...}").join(" "),icuAsText=new Text$2(`{${icuExpression}, ${icuType}, ${icuCases}}`),exTag=new Tag("ex",{},[icuAsText]);return[new Tag("ph",{name:ph.name},[exTag,icuAsText])]}serialize(nodes){return[].concat(...nodes.map(node=>node.visit(this)))}}function digest$1(message){return decimalDigest(message)}class ExampleVisitor{addDefaultExamples(node){return node.visit(this),node}visitTag(tag){if("ph"===tag.name){if(!tag.children||0==tag.children.length){const exText=new Text$2(tag.attrs.name||"...");tag.children=[new Tag("ex",{},[exText])]}}else tag.children&&tag.children.forEach(node=>node.visit(this))}visitText(text){}visitDeclaration(decl){}visitDoctype(doctype){}}function toPublicName(internalName){return internalName.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}function isI18nAttribute(name){return"i18n"===name||name.startsWith("i18n-")}function isI18nRootNode(meta){return meta instanceof Message}function isSingleI18nIcu(meta){return isI18nRootNode(meta)&&1===meta.nodes.length&&meta.nodes[0]instanceof Icu$1}function icuFromI18nMessage(message){return message.nodes[0]}function wrapI18nPlaceholder(content,contextId=0){return`\ufffd${content}${contextId>0?`:${contextId}`:""}\ufffd`}function getSeqNumberGenerator(startsAt=0){let current=startsAt;return()=>current++}function placeholdersToParams(placeholders){const params={};return placeholders.forEach((values,key)=>{params[key]=literal(values.length>1?`[${values.join("|")}]`:values[0])}),params}function updatePlaceholderMap(map,name,...values){const current=map.get(name)||[];current.push(...values),map.set(name,current)}function assembleBoundTextPlaceholders(meta,bindingStartIndex=0,contextId=0){const startIdx=bindingStartIndex,placeholders=new Map,node=meta instanceof Message?meta.nodes.find(node=>node instanceof Container):meta;return node&&node.children.filter(child=>child instanceof Placeholder).forEach((child,idx)=>{const content=wrapI18nPlaceholder(startIdx+idx,contextId);updatePlaceholderMap(placeholders,child.name,content)}),placeholders}function i18nFormatPlaceholderNames(params={},useCamelCase){const _params={};return params&&Object.keys(params).length&&Object.keys(params).forEach(key=>_params[formatI18nPlaceholderName(key,useCamelCase)]=params[key]),_params}function formatI18nPlaceholderName(name,useCamelCase=!0){const publicName=toPublicName(name);if(!useCamelCase)return publicName;const chunks=publicName.split("_");if(1===chunks.length)return name.toLowerCase();let postfix;/^\d+$/.test(chunks[chunks.length-1])&&(postfix=chunks.pop());let raw=chunks.shift().toLowerCase();return chunks.length&&(raw+=chunks.map(c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()).join("")),postfix?`${raw}_${postfix}`:raw}function getTranslationConstPrefix(extra){return`MSG_${extra}`.toUpperCase()}function declareI18nVariable(variable){return new DeclareVarStmt(variable.name,void 0,INFERRED_TYPE,null,variable.sourceSpan)}const UNSAFE_OBJECT_KEY_NAME_REGEXP=/[-.]/;function temporaryAllocator(statements,name){let temp=null;return()=>(temp||(statements.push(new DeclareVarStmt("_t",void 0,DYNAMIC_TYPE)),temp=variable(name)),temp)}function unsupported(feature){if(this)throw new Error(`Builder ${this.constructor.name} doesn't support ${feature} yet`);throw new Error(`Feature ${feature} is not supported yet`)}function invalid$1(arg){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${arg.constructor.name}`)}function asLiteral(value){return Array.isArray(value)?literalArr(value.map(asLiteral)):literal(value,INFERRED_TYPE)}function conditionallyCreateMapObjectLiteral(keys,keepDeclared){return Object.getOwnPropertyNames(keys).length>0?function mapToExpression(map,keepDeclared){return literalMap(Object.getOwnPropertyNames(map).map(key=>{const value=map[key];let declaredName,publicName,minifiedName;return Array.isArray(value)?[publicName,declaredName]=value:[declaredName,publicName]=splitAtColon(key,[key,value]),minifiedName=declaredName,{key:minifiedName,quoted:UNSAFE_OBJECT_KEY_NAME_REGEXP.test(minifiedName),value:keepDeclared&&publicName!==declaredName?literalArr([asLiteral(publicName),asLiteral(declaredName)]):asLiteral(publicName)}}))}(keys,keepDeclared):null}function trimTrailingNulls(parameters){for(;isNull(parameters[parameters.length-1]);)parameters.pop();return parameters}function getQueryPredicate(query,constantPool){if(Array.isArray(query.predicate)){let predicate=[];return query.predicate.forEach(selector=>{const selectors=selector.split(",").map(token=>literal(token.trim()));predicate.push(...selectors)}),constantPool.getConstLiteral(literalArr(predicate),!0)}return query.predicate}class DefinitionMap{constructor(){this.values=[]}set(key,value){value&&this.values.push({key:key,value:value,quoted:!1})}toLiteralMap(){return literalMap(this.values)}}function getAttrsForDirectiveMatching(elOrTpl){const attributesMap={};return elOrTpl instanceof Template&&"ng-template"!==elOrTpl.tagName?elOrTpl.templateAttrs.forEach(a=>attributesMap[a.name]=""):(elOrTpl.attributes.forEach(a=>{isI18nAttribute(a.name)||(attributesMap[a.name]=a.value)}),elOrTpl.inputs.forEach(i=>{attributesMap[i.name]=""}),elOrTpl.outputs.forEach(o=>{attributesMap[o.name]=""})),attributesMap}function chainedInstruction(reference,calls,span){let expression=importExpr(reference,null,span);if(calls.length>0)for(let i=0;i<calls.length;i++)expression=expression.callFn(calls[i],span);else expression=expression.callFn([],span);return expression}function getInterpolationArgsLength(interpolation){const{expressions:expressions,strings:strings}=interpolation;return 1===expressions.length&&2===strings.length&&""===strings[0]&&""===strings[1]?1:expressions.length+strings.length}var R3FactoryDelegateType,R3FactoryTarget,R3ResolvedDependencyType;function compileFactoryFunction(meta){const t=variable("t"),statements=[],typeForCtor=isDelegatedMetadata(meta)?t:new BinaryOperatorExpr(BinaryOperator.Or,t,meta.internalType);let ctorExpr=null;if(null!==meta.deps)"invalid"!==meta.deps&&(ctorExpr=new InstantiateExpr(typeForCtor,injectDependencies(meta.deps,meta.injectFn,meta.target===R3FactoryTarget.Pipe)));else{const baseFactory=variable(`\u0275${meta.name}_BaseFactory`),getInheritedFactory=importExpr(Identifiers$1.getInheritedFactory),baseFactoryStmt=baseFactory.set(getInheritedFactory.callFn([meta.internalType])).toDeclStmt(INFERRED_TYPE,[StmtModifier.Exported,StmtModifier.Final]);statements.push(baseFactoryStmt),ctorExpr=baseFactory.callFn([typeForCtor])}const ctorExprFinal=ctorExpr,body=[];let retExpr=null;function makeConditionalFactory(nonCtorExpr){const r=variable("r");body.push(r.set(NULL_EXPR).toDeclStmt());let ctorStmt=null;return ctorStmt=null!==ctorExprFinal?r.set(ctorExprFinal).toStmt():importExpr(Identifiers$1.invalidFactory).callFn([]).toStmt(),body.push(ifStmt(t,[ctorStmt],[r.set(nonCtorExpr).toStmt()])),r}if(isDelegatedMetadata(meta)&&meta.delegateType===R3FactoryDelegateType.Factory){const delegateFactory=variable(`\u0275${meta.name}_BaseFactory`),getFactoryOf=importExpr(Identifiers$1.getFactoryOf);if(meta.delegate.isEquivalent(meta.internalType))throw new Error("Illegal state: compiling factory that delegates to itself");const delegateFactoryStmt=delegateFactory.set(getFactoryOf.callFn([meta.delegate])).toDeclStmt(INFERRED_TYPE,[StmtModifier.Exported,StmtModifier.Final]);statements.push(delegateFactoryStmt),retExpr=makeConditionalFactory(delegateFactory.callFn([]))}else if(isDelegatedMetadata(meta)){const delegateArgs=injectDependencies(meta.delegateDeps,meta.injectFn,meta.target===R3FactoryTarget.Pipe);retExpr=makeConditionalFactory(new(meta.delegateType===R3FactoryDelegateType.Class?InstantiateExpr:InvokeFunctionExpr)(meta.delegate,delegateArgs))}else retExpr=function isExpressionFactoryMetadata(meta){return void 0!==meta.expression}(meta)?makeConditionalFactory(meta.expression):ctorExpr;return null!==retExpr?body.push(new ReturnStatement(retExpr)):body.push(importExpr(Identifiers$1.invalidFactory).callFn([]).toStmt()),{factory:fn([new FnParam("t",DYNAMIC_TYPE)],body,INFERRED_TYPE,void 0,`${meta.name}_Factory`),statements:statements,type:expressionType(importExpr(Identifiers$1.FactoryDef,[typeWithParameters(meta.type.type,meta.typeArgumentCount)]))}}function injectDependencies(deps,injectFn,isPipe){return deps.map((dep,index)=>function compileInjectDependency(dep,injectFn,isPipe,index){switch(dep.resolved){case R3ResolvedDependencyType.Token:case R3ResolvedDependencyType.ChangeDetectorRef:const flags=0|(dep.self?2:0)|(dep.skipSelf?4:0)|(dep.host?1:0)|(dep.optional?8:0);let flagsParam=0!==flags||dep.optional?literal(flags):null;if(isPipe&&dep.resolved===R3ResolvedDependencyType.ChangeDetectorRef)return importExpr(Identifiers$1.injectPipeChangeDetectorRef).callFn(flagsParam?[flagsParam]:[]);const injectArgs=[dep.token];return flagsParam&&injectArgs.push(flagsParam),importExpr(injectFn).callFn(injectArgs);case R3ResolvedDependencyType.Attribute:return importExpr(Identifiers$1.injectAttribute).callFn([dep.token]);case R3ResolvedDependencyType.Invalid:return importExpr(Identifiers$1.invalidFactoryDep).callFn([literal(index)]);default:return unsupported(`Unknown R3ResolvedDependencyType: ${R3ResolvedDependencyType[dep.resolved]}`)}}(dep,injectFn,isPipe,index))}function isDelegatedMetadata(meta){return void 0!==meta.delegateType}function delegateToFactory(type,internalType){return{statements:[],factory:type.node===internalType.node?internalType.prop("\u0275fac"):fn([new FnParam("t",DYNAMIC_TYPE)],[new ReturnStatement(internalType.callMethod("\u0275fac",[variable("t")]))])}}function assertArrayOfStrings(identifier,value){if(null!=value){if(!Array.isArray(value))throw new Error(`Expected '${identifier}' to be an array of strings.`);for(let i=0;i<value.length;i+=1)if("string"!=typeof value[i])throw new Error(`Expected '${identifier}' to be an array of strings.`)}}!function(R3FactoryDelegateType){R3FactoryDelegateType[R3FactoryDelegateType.Class=0]="Class",R3FactoryDelegateType[R3FactoryDelegateType.Function=1]="Function",R3FactoryDelegateType[R3FactoryDelegateType.Factory=2]="Factory"}(R3FactoryDelegateType||(R3FactoryDelegateType={})),function(R3FactoryTarget){R3FactoryTarget[R3FactoryTarget.Directive=0]="Directive",R3FactoryTarget[R3FactoryTarget.Component=1]="Component",R3FactoryTarget[R3FactoryTarget.Injectable=2]="Injectable",R3FactoryTarget[R3FactoryTarget.Pipe=3]="Pipe",R3FactoryTarget[R3FactoryTarget.NgModule=4]="NgModule"}(R3FactoryTarget||(R3FactoryTarget={})),function(R3ResolvedDependencyType){R3ResolvedDependencyType[R3ResolvedDependencyType.Token=0]="Token",R3ResolvedDependencyType[R3ResolvedDependencyType.Attribute=1]="Attribute",R3ResolvedDependencyType[R3ResolvedDependencyType.ChangeDetectorRef=2]="ChangeDetectorRef",R3ResolvedDependencyType[R3ResolvedDependencyType.Invalid=3]="Invalid"}(R3ResolvedDependencyType||(R3ResolvedDependencyType={}));const UNUSABLE_INTERPOLATION_REGEXPS=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function assertInterpolationSymbols(identifier,value){if(!(null==value||Array.isArray(value)&&2==value.length))throw new Error(`Expected '${identifier}' to be an array, [start, end].`);if(null!=value){const start=value[0],end=value[1];UNUSABLE_INTERPOLATION_REGEXPS.forEach(regexp=>{if(regexp.test(start)||regexp.test(end))throw new Error(`['${start}', '${end}'] contains unusable interpolation symbol.`)})}}class InterpolationConfig{constructor(start,end){this.start=start,this.end=end}static fromArray(markers){return markers?(assertInterpolationSymbols("interpolation",markers),new InterpolationConfig(markers[0],markers[1])):DEFAULT_INTERPOLATION_CONFIG}}const DEFAULT_INTERPOLATION_CONFIG=new InterpolationConfig("{{","}}");class SourceMapGenerator{constructor(file=null){this.file=file,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}addSource(url,content=null){return this.sourcesContent.has(url)||this.sourcesContent.set(url,content),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(col0,sourceUrl,sourceLine0,sourceCol0){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=sourceUrl&&!this.sourcesContent.has(sourceUrl))throw new Error(`Unknown source file "${sourceUrl}"`);if(null==col0)throw new Error("The column in the generated code must be provided");if(col0<this.lastCol0)throw new Error("Mapping should be added in output order");if(sourceUrl&&(null==sourceLine0||null==sourceCol0))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=col0,this.currentLine.push({col0:col0,sourceUrl:sourceUrl,sourceLine0:sourceLine0,sourceCol0:sourceCol0}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;const sourcesIndex=new Map,sources=[],sourcesContent=[];Array.from(this.sourcesContent.keys()).forEach((url,i)=>{sourcesIndex.set(url,i),sources.push(url),sourcesContent.push(this.sourcesContent.get(url)||null)});let mappings="",lastCol0=0,lastSourceIndex=0,lastSourceLine0=0,lastSourceCol0=0;return this.lines.forEach(segments=>{lastCol0=0,mappings+=segments.map(segment=>{let segAsStr=toBase64VLQ(segment.col0-lastCol0);return lastCol0=segment.col0,null!=segment.sourceUrl&&(segAsStr+=toBase64VLQ(sourcesIndex.get(segment.sourceUrl)-lastSourceIndex),lastSourceIndex=sourcesIndex.get(segment.sourceUrl),segAsStr+=toBase64VLQ(segment.sourceLine0-lastSourceLine0),lastSourceLine0=segment.sourceLine0,segAsStr+=toBase64VLQ(segment.sourceCol0-lastSourceCol0),lastSourceCol0=segment.sourceCol0),segAsStr}).join(","),mappings+=";"}),mappings=mappings.slice(0,-1),{file:this.file||"",version:3,sourceRoot:"",sources:sources,sourcesContent:sourcesContent,mappings:mappings}}toJsComment(){return this.hasMappings?"//# sourceMappingURL=data:application/json;base64,"+function toBase64String(value){let b64="";value=utf8Encode(value);for(let i=0;i<value.length;){const i1=value.charCodeAt(i++),i2=value.charCodeAt(i++),i3=value.charCodeAt(i++);b64+=toBase64Digit(i1>>2),b64+=toBase64Digit((3&i1)<<4|(isNaN(i2)?0:i2>>4)),b64+=isNaN(i2)?"=":toBase64Digit((15&i2)<<2|i3>>6),b64+=isNaN(i2)||isNaN(i3)?"=":toBase64Digit(63&i3)}return b64}(JSON.stringify(this,null,0)):""}}function toBase64VLQ(value){value=value<0?1+(-value<<1):value<<1;let out="";do{let digit=31&value;(value>>=5)>0&&(digit|=32),out+=toBase64Digit(digit)}while(value>0);return out}function toBase64Digit(value){if(value<0||value>=64)throw new Error("Can only encode value in the range [0, 63]");return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[value]}const _SINGLE_QUOTE_ESCAPE_STRING_RE=/'|\\|\n|\r|\$/g,_LEGAL_IDENTIFIER_RE=/^[$A-Z_][0-9A-Z_$]*$/i,CATCH_ERROR_VAR$1=variable("error",null,null),CATCH_STACK_VAR$1=variable("stack",null,null);class _EmittedLine{constructor(indent){this.indent=indent,this.partsLength=0,this.parts=[],this.srcSpans=[]}}class EmitterVisitorContext{constructor(_indent){this._indent=_indent,this._classes=[],this._preambleLineCount=0,this._lines=[new _EmittedLine(_indent)]}static createRoot(){return new EmitterVisitorContext(0)}get _currentLine(){return this._lines[this._lines.length-1]}println(from,lastPart=""){this.print(from||null,lastPart,!0)}lineIsEmpty(){return 0===this._currentLine.parts.length}lineLength(){return this._currentLine.indent*"  ".length+this._currentLine.partsLength}print(from,part,newLine=!1){part.length>0&&(this._currentLine.parts.push(part),this._currentLine.partsLength+=part.length,this._currentLine.srcSpans.push(from&&from.sourceSpan||null)),newLine&&this._lines.push(new _EmittedLine(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}pushClass(clazz){this._classes.push(clazz)}popClass(){return this._classes.pop()}get currentClass(){return this._classes.length>0?this._classes[this._classes.length-1]:null}toSource(){return this.sourceLines.map(l=>l.parts.length>0?_createIndent(l.indent)+l.parts.join(""):"").join("\n")}toSourceMapGenerator(genFilePath,startsAtLine=0){const map=new SourceMapGenerator(genFilePath);let firstOffsetMapped=!1;const mapFirstOffsetIfNeeded=()=>{firstOffsetMapped||(map.addSource(genFilePath," ").addMapping(0,genFilePath,0,0),firstOffsetMapped=!0)};for(let i=0;i<startsAtLine;i++)map.addLine(),mapFirstOffsetIfNeeded();return this.sourceLines.forEach((line,lineIdx)=>{map.addLine();const spans=line.srcSpans,parts=line.parts;let col0=line.indent*"  ".length,spanIdx=0;for(;spanIdx<spans.length&&!spans[spanIdx];)col0+=parts[spanIdx].length,spanIdx++;for(spanIdx<spans.length&&0===lineIdx&&0===col0?firstOffsetMapped=!0:mapFirstOffsetIfNeeded();spanIdx<spans.length;){const span=spans[spanIdx],source=span.start.file,sourceLine=span.start.line,sourceCol=span.start.col;for(map.addSource(source.url,source.content).addMapping(col0,source.url,sourceLine,sourceCol),col0+=parts[spanIdx].length,spanIdx++;spanIdx<spans.length&&(span===spans[spanIdx]||!spans[spanIdx]);)col0+=parts[spanIdx].length,spanIdx++}}),map}setPreambleLineCount(count){return this._preambleLineCount=count}spanOf(line,column){const emittedLine=this._lines[line-this._preambleLineCount];if(emittedLine){let columnsLeft=column-_createIndent(emittedLine.indent).length;for(let partIndex=0;partIndex<emittedLine.parts.length;partIndex++){const part=emittedLine.parts[partIndex];if(part.length>columnsLeft)return emittedLine.srcSpans[partIndex];columnsLeft-=part.length}}return null}get sourceLines(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines}}class AbstractEmitterVisitor{constructor(_escapeDollarInStrings){this._escapeDollarInStrings=_escapeDollarInStrings}visitExpressionStmt(stmt,ctx){return stmt.expr.visitExpression(this,ctx),ctx.println(stmt,";"),null}visitReturnStmt(stmt,ctx){return ctx.print(stmt,"return "),stmt.value.visitExpression(this,ctx),ctx.println(stmt,";"),null}visitIfStmt(stmt,ctx){ctx.print(stmt,"if ("),stmt.condition.visitExpression(this,ctx),ctx.print(stmt,") {");const hasElseCase=null!=stmt.falseCase&&stmt.falseCase.length>0;return stmt.trueCase.length<=1&&!hasElseCase?(ctx.print(stmt," "),this.visitAllStatements(stmt.trueCase,ctx),ctx.removeEmptyLastLine(),ctx.print(stmt," ")):(ctx.println(),ctx.incIndent(),this.visitAllStatements(stmt.trueCase,ctx),ctx.decIndent(),hasElseCase&&(ctx.println(stmt,"} else {"),ctx.incIndent(),this.visitAllStatements(stmt.falseCase,ctx),ctx.decIndent())),ctx.println(stmt,"}"),null}visitThrowStmt(stmt,ctx){return ctx.print(stmt,"throw "),stmt.error.visitExpression(this,ctx),ctx.println(stmt,";"),null}visitCommentStmt(stmt,ctx){return stmt.multiline?ctx.println(stmt,`/* ${stmt.comment} */`):stmt.comment.split("\n").forEach(line=>{ctx.println(stmt,`// ${line}`)}),null}visitJSDocCommentStmt(stmt,ctx){return ctx.println(stmt,`/*${stmt.toString()}*/`),null}visitWriteVarExpr(expr,ctx){const lineWasEmpty=ctx.lineIsEmpty();return lineWasEmpty||ctx.print(expr,"("),ctx.print(expr,`${expr.name} = `),expr.value.visitExpression(this,ctx),lineWasEmpty||ctx.print(expr,")"),null}visitWriteKeyExpr(expr,ctx){const lineWasEmpty=ctx.lineIsEmpty();return lineWasEmpty||ctx.print(expr,"("),expr.receiver.visitExpression(this,ctx),ctx.print(expr,"["),expr.index.visitExpression(this,ctx),ctx.print(expr,"] = "),expr.value.visitExpression(this,ctx),lineWasEmpty||ctx.print(expr,")"),null}visitWritePropExpr(expr,ctx){const lineWasEmpty=ctx.lineIsEmpty();return lineWasEmpty||ctx.print(expr,"("),expr.receiver.visitExpression(this,ctx),ctx.print(expr,`.${expr.name} = `),expr.value.visitExpression(this,ctx),lineWasEmpty||ctx.print(expr,")"),null}visitInvokeMethodExpr(expr,ctx){expr.receiver.visitExpression(this,ctx);let name=expr.name;return null!=expr.builtin&&(name=this.getBuiltinMethodName(expr.builtin),null==name)?null:(ctx.print(expr,`.${name}(`),this.visitAllExpressions(expr.args,ctx,","),ctx.print(expr,")"),null)}visitInvokeFunctionExpr(expr,ctx){return expr.fn.visitExpression(this,ctx),ctx.print(expr,"("),this.visitAllExpressions(expr.args,ctx,","),ctx.print(expr,")"),null}visitWrappedNodeExpr(ast,ctx){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(expr,ctx){ctx.print(expr,"typeof "),expr.expr.visitExpression(this,ctx)}visitReadVarExpr(ast,ctx){let varName=ast.name;if(null!=ast.builtin)switch(ast.builtin){case BuiltinVar.Super:varName="super";break;case BuiltinVar.This:varName="this";break;case BuiltinVar.CatchError:varName=CATCH_ERROR_VAR$1.name;break;case BuiltinVar.CatchStack:varName=CATCH_STACK_VAR$1.name;break;default:throw new Error(`Unknown builtin variable ${ast.builtin}`)}return ctx.print(ast,varName),null}visitInstantiateExpr(ast,ctx){return ctx.print(ast,"new "),ast.classExpr.visitExpression(this,ctx),ctx.print(ast,"("),this.visitAllExpressions(ast.args,ctx,","),ctx.print(ast,")"),null}visitLiteralExpr(ast,ctx){const value=ast.value;return"string"==typeof value?ctx.print(ast,escapeIdentifier(value,this._escapeDollarInStrings)):ctx.print(ast,`${value}`),null}visitLocalizedString(ast,ctx){const head=ast.serializeI18nHead();ctx.print(ast,"$localize `"+head.raw);for(let i=1;i<ast.messageParts.length;i++)ctx.print(ast,"${"),ast.expressions[i-1].visitExpression(this,ctx),ctx.print(ast,`}${ast.serializeI18nTemplatePart(i).raw}`);return ctx.print(ast,"`"),null}visitConditionalExpr(ast,ctx){return ctx.print(ast,"("),ast.condition.visitExpression(this,ctx),ctx.print(ast,"? "),ast.trueCase.visitExpression(this,ctx),ctx.print(ast,": "),ast.falseCase.visitExpression(this,ctx),ctx.print(ast,")"),null}visitNotExpr(ast,ctx){return ctx.print(ast,"!"),ast.condition.visitExpression(this,ctx),null}visitAssertNotNullExpr(ast,ctx){return ast.condition.visitExpression(this,ctx),null}visitBinaryOperatorExpr(ast,ctx){let opStr;switch(ast.operator){case BinaryOperator.Equals:opStr="==";break;case BinaryOperator.Identical:opStr="===";break;case BinaryOperator.NotEquals:opStr="!=";break;case BinaryOperator.NotIdentical:opStr="!==";break;case BinaryOperator.And:opStr="&&";break;case BinaryOperator.BitwiseAnd:opStr="&";break;case BinaryOperator.Or:opStr="||";break;case BinaryOperator.Plus:opStr="+";break;case BinaryOperator.Minus:opStr="-";break;case BinaryOperator.Divide:opStr="/";break;case BinaryOperator.Multiply:opStr="*";break;case BinaryOperator.Modulo:opStr="%";break;case BinaryOperator.Lower:opStr="<";break;case BinaryOperator.LowerEquals:opStr="<=";break;case BinaryOperator.Bigger:opStr=">";break;case BinaryOperator.BiggerEquals:opStr=">=";break;default:throw new Error(`Unknown operator ${ast.operator}`)}return ast.parens&&ctx.print(ast,"("),ast.lhs.visitExpression(this,ctx),ctx.print(ast,` ${opStr} `),ast.rhs.visitExpression(this,ctx),ast.parens&&ctx.print(ast,")"),null}visitReadPropExpr(ast,ctx){return ast.receiver.visitExpression(this,ctx),ctx.print(ast,"."),ctx.print(ast,ast.name),null}visitReadKeyExpr(ast,ctx){return ast.receiver.visitExpression(this,ctx),ctx.print(ast,"["),ast.index.visitExpression(this,ctx),ctx.print(ast,"]"),null}visitLiteralArrayExpr(ast,ctx){return ctx.print(ast,"["),this.visitAllExpressions(ast.entries,ctx,","),ctx.print(ast,"]"),null}visitLiteralMapExpr(ast,ctx){return ctx.print(ast,"{"),this.visitAllObjects(entry=>{ctx.print(ast,`${escapeIdentifier(entry.key,this._escapeDollarInStrings,entry.quoted)}:`),entry.value.visitExpression(this,ctx)},ast.entries,ctx,","),ctx.print(ast,"}"),null}visitCommaExpr(ast,ctx){return ctx.print(ast,"("),this.visitAllExpressions(ast.parts,ctx,","),ctx.print(ast,")"),null}visitAllExpressions(expressions,ctx,separator){this.visitAllObjects(expr=>expr.visitExpression(this,ctx),expressions,ctx,separator)}visitAllObjects(handler,expressions,ctx,separator){let incrementedIndent=!1;for(let i=0;i<expressions.length;i++)i>0&&(ctx.lineLength()>80?(ctx.print(null,separator,!0),incrementedIndent||(ctx.incIndent(),ctx.incIndent(),incrementedIndent=!0)):ctx.print(null,separator,!1)),handler(expressions[i]);incrementedIndent&&(ctx.decIndent(),ctx.decIndent())}visitAllStatements(statements,ctx){statements.forEach(stmt=>stmt.visitStatement(this,ctx))}}function escapeIdentifier(input,escapeDollar,alwaysQuote=!0){if(null==input)return null;const body=input.replace(_SINGLE_QUOTE_ESCAPE_STRING_RE,(...match)=>"$"==match[0]?escapeDollar?"\\$":"$":"\n"==match[0]?"\\n":"\r"==match[0]?"\\r":`\\${match[0]}`);return alwaysQuote||!_LEGAL_IDENTIFIER_RE.test(body)?`'${body}'`:body}function _createIndent(count){let res="";for(let i=0;i<count;i++)res+="  ";return res}class AbstractJsEmitterVisitor extends AbstractEmitterVisitor{constructor(){super(!1)}visitDeclareClassStmt(stmt,ctx){return ctx.pushClass(stmt),this._visitClassConstructor(stmt,ctx),null!=stmt.parent&&(ctx.print(stmt,`${stmt.name}.prototype = Object.create(`),stmt.parent.visitExpression(this,ctx),ctx.println(stmt,".prototype);")),stmt.getters.forEach(getter=>this._visitClassGetter(stmt,getter,ctx)),stmt.methods.forEach(method=>this._visitClassMethod(stmt,method,ctx)),ctx.popClass(),null}_visitClassConstructor(stmt,ctx){ctx.print(stmt,`function ${stmt.name}(`),null!=stmt.constructorMethod&&this._visitParams(stmt.constructorMethod.params,ctx),ctx.println(stmt,") {"),ctx.incIndent(),null!=stmt.constructorMethod&&stmt.constructorMethod.body.length>0&&(ctx.println(stmt,"var self = this;"),this.visitAllStatements(stmt.constructorMethod.body,ctx)),ctx.decIndent(),ctx.println(stmt,"}")}_visitClassGetter(stmt,getter,ctx){ctx.println(stmt,`Object.defineProperty(${stmt.name}.prototype, '${getter.name}', { get: function() {`),ctx.incIndent(),getter.body.length>0&&(ctx.println(stmt,"var self = this;"),this.visitAllStatements(getter.body,ctx)),ctx.decIndent(),ctx.println(stmt,"}});")}_visitClassMethod(stmt,method,ctx){ctx.print(stmt,`${stmt.name}.prototype.${method.name} = function(`),this._visitParams(method.params,ctx),ctx.println(stmt,") {"),ctx.incIndent(),method.body.length>0&&(ctx.println(stmt,"var self = this;"),this.visitAllStatements(method.body,ctx)),ctx.decIndent(),ctx.println(stmt,"};")}visitWrappedNodeExpr(ast,ctx){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitReadVarExpr(ast,ctx){if(ast.builtin===BuiltinVar.This)ctx.print(ast,"self");else{if(ast.builtin===BuiltinVar.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");super.visitReadVarExpr(ast,ctx)}return null}visitDeclareVarStmt(stmt,ctx){return ctx.print(stmt,`var ${stmt.name}`),stmt.value&&(ctx.print(stmt," = "),stmt.value.visitExpression(this,ctx)),ctx.println(stmt,";"),null}visitCastExpr(ast,ctx){return ast.value.visitExpression(this,ctx),null}visitInvokeFunctionExpr(expr,ctx){const fnExpr=expr.fn;return fnExpr instanceof ReadVarExpr&&fnExpr.builtin===BuiltinVar.Super?(ctx.currentClass.parent.visitExpression(this,ctx),ctx.print(expr,".call(this"),expr.args.length>0&&(ctx.print(expr,", "),this.visitAllExpressions(expr.args,ctx,",")),ctx.print(expr,")")):super.visitInvokeFunctionExpr(expr,ctx),null}visitFunctionExpr(ast,ctx){return ctx.print(ast,`function${ast.name?" "+ast.name:""}(`),this._visitParams(ast.params,ctx),ctx.println(ast,") {"),ctx.incIndent(),this.visitAllStatements(ast.statements,ctx),ctx.decIndent(),ctx.print(ast,"}"),null}visitDeclareFunctionStmt(stmt,ctx){return ctx.print(stmt,`function ${stmt.name}(`),this._visitParams(stmt.params,ctx),ctx.println(stmt,") {"),ctx.incIndent(),this.visitAllStatements(stmt.statements,ctx),ctx.decIndent(),ctx.println(stmt,"}"),null}visitTryCatchStmt(stmt,ctx){ctx.println(stmt,"try {"),ctx.incIndent(),this.visitAllStatements(stmt.bodyStmts,ctx),ctx.decIndent(),ctx.println(stmt,`} catch (${CATCH_ERROR_VAR$1.name}) {`),ctx.incIndent();const catchStmts=[CATCH_STACK_VAR$1.set(CATCH_ERROR_VAR$1.prop("stack")).toDeclStmt(null,[StmtModifier.Final])].concat(stmt.catchStmts);return this.visitAllStatements(catchStmts,ctx),ctx.decIndent(),ctx.println(stmt,"}"),null}visitLocalizedString(ast,ctx){ctx.print(ast,'$localize((this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})(');const parts=[ast.serializeI18nHead()];for(let i=1;i<ast.messageParts.length;i++)parts.push(ast.serializeI18nTemplatePart(i));return ctx.print(ast,`[${parts.map(part=>escapeIdentifier(part.cooked,!1)).join(", ")}], `),ctx.print(ast,`[${parts.map(part=>escapeIdentifier(part.raw,!1)).join(", ")}])`),ast.expressions.forEach(expression=>{ctx.print(ast,", "),expression.visitExpression(this,ctx)}),ctx.print(ast,")"),null}_visitParams(params,ctx){this.visitAllObjects(param=>ctx.print(null,param.name),params,ctx,",")}getBuiltinMethodName(method){let name;switch(method){case BuiltinMethod.ConcatArray:name="concat";break;case BuiltinMethod.SubscribeObservable:name="subscribe";break;case BuiltinMethod.Bind:name="bind";break;default:throw new Error(`Unknown builtin method: ${method}`)}return name}}class JitEvaluator{evaluateStatements(sourceUrl,statements,reflector,createSourceMaps){const converter=new JitEmitterVisitor(reflector),ctx=EmitterVisitorContext.createRoot();return statements.length>0&&!function isUseStrictStatement(statement){return statement.isEquivalent(literal("use strict").toStmt())}(statements[0])&&(statements=[literal("use strict").toStmt(),...statements]),converter.visitAllStatements(statements,ctx),converter.createReturnStmt(ctx),this.evaluateCode(sourceUrl,ctx,converter.getArgs(),createSourceMaps)}evaluateCode(sourceUrl,ctx,vars,createSourceMap){let fnBody=`"use strict";${ctx.toSource()}\n//# sourceURL=${sourceUrl}`;const fnArgNames=[],fnArgValues=[];for(const argName in vars)fnArgValues.push(vars[argName]),fnArgNames.push(argName);if(createSourceMap){const emptyFn=new Function(...fnArgNames.concat("return null;")).toString(),headerLines=emptyFn.slice(0,emptyFn.indexOf("return null;")).split("\n").length-1;fnBody+=`\n${ctx.toSourceMapGenerator(sourceUrl,headerLines).toJsComment()}`}const fn=new Function(...fnArgNames.concat(fnBody));return this.executeFunction(fn,fnArgValues)}executeFunction(fn,args){return fn(...args)}}class JitEmitterVisitor extends AbstractJsEmitterVisitor{constructor(reflector){super(),this.reflector=reflector,this._evalArgNames=[],this._evalArgValues=[],this._evalExportedVars=[]}createReturnStmt(ctx){new ReturnStatement(new LiteralMapExpr(this._evalExportedVars.map(resultVar=>new LiteralMapEntry(resultVar,variable(resultVar),!1)))).visitStatement(this,ctx)}getArgs(){const result={};for(let i=0;i<this._evalArgNames.length;i++)result[this._evalArgNames[i]]=this._evalArgValues[i];return result}visitExternalExpr(ast,ctx){return this._emitReferenceToExternal(ast,this.reflector.resolveExternalReference(ast.value),ctx),null}visitWrappedNodeExpr(ast,ctx){return this._emitReferenceToExternal(ast,ast.node,ctx),null}visitDeclareVarStmt(stmt,ctx){return stmt.hasModifier(StmtModifier.Exported)&&this._evalExportedVars.push(stmt.name),super.visitDeclareVarStmt(stmt,ctx)}visitDeclareFunctionStmt(stmt,ctx){return stmt.hasModifier(StmtModifier.Exported)&&this._evalExportedVars.push(stmt.name),super.visitDeclareFunctionStmt(stmt,ctx)}visitDeclareClassStmt(stmt,ctx){return stmt.hasModifier(StmtModifier.Exported)&&this._evalExportedVars.push(stmt.name),super.visitDeclareClassStmt(stmt,ctx)}_emitReferenceToExternal(ast,value,ctx){let id=this._evalArgValues.indexOf(value);if(-1===id){id=this._evalArgValues.length,this._evalArgValues.push(value);const name=identifierName({reference:value})||"val";this._evalArgNames.push(`jit_${name}_${id}`)}ctx.print(ast,this._evalArgNames[id])}}class R3JitReflector{constructor(context){this.context=context}resolveExternalReference(ref){if("@angular/core"!==ref.moduleName)throw new Error(`Cannot resolve external reference to ${ref.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(ref.name))throw new Error(`No value provided for @angular/core symbol '${ref.name}'.`);return this.context[ref.name]}parameters(typeOrFunc){throw new Error("Not implemented.")}annotations(typeOrFunc){throw new Error("Not implemented.")}shallowAnnotations(typeOrFunc){throw new Error("Not implemented.")}tryAnnotations(typeOrFunc){throw new Error("Not implemented.")}propMetadata(typeOrFunc){throw new Error("Not implemented.")}hasLifecycleHook(type,lcProperty){throw new Error("Not implemented.")}guards(typeOrFunc){throw new Error("Not implemented.")}componentModuleUrl(type,cmpMetadata){throw new Error("Not implemented.")}}function mapLiteral(obj,quoted=!1){return literalMap(Object.keys(obj).map(key=>({key:key,quoted:quoted,value:obj[key]})))}function compileNgModule(meta){const{internalType:internalType,type:moduleType,bootstrap:bootstrap,declarations:declarations,imports:imports,exports:exports,schemas:schemas,containsForwardDecls:containsForwardDecls,emitInline:emitInline,id:id}=meta,additionalStatements=[],definitionMap={type:internalType};if(bootstrap.length&&(definitionMap.bootstrap=refsToArray(bootstrap,containsForwardDecls)),emitInline)declarations.length&&(definitionMap.declarations=refsToArray(declarations,containsForwardDecls)),imports.length&&(definitionMap.imports=refsToArray(imports,containsForwardDecls)),exports.length&&(definitionMap.exports=refsToArray(exports,containsForwardDecls));else{const setNgModuleScopeCall=function generateSetNgModuleScopeCall(meta){const{adjacentType:moduleType,declarations:declarations,imports:imports,exports:exports,containsForwardDecls:containsForwardDecls}=meta,scopeMap={};declarations.length&&(scopeMap.declarations=refsToArray(declarations,containsForwardDecls));imports.length&&(scopeMap.imports=refsToArray(imports,containsForwardDecls));exports.length&&(scopeMap.exports=refsToArray(exports,containsForwardDecls));if(0===Object.keys(scopeMap).length)return null;const guardedCall=function jitOnlyGuardedExpression(expr){const ngJitMode=new ExternalExpr({name:"ngJitMode",moduleName:null}),jitFlagNotDefined=new BinaryOperatorExpr(BinaryOperator.Identical,new TypeofExpr(ngJitMode),literal("undefined")),jitFlagUndefinedOrTrue=new BinaryOperatorExpr(BinaryOperator.Or,jitFlagNotDefined,ngJitMode,void 0,void 0,!0);return new BinaryOperatorExpr(BinaryOperator.And,jitFlagUndefinedOrTrue,expr)}(new InvokeFunctionExpr(importExpr(Identifiers$1.setNgModuleScope),[moduleType,mapToMapExpression(scopeMap)])),iife=new FunctionExpr([],[guardedCall.toStmt()]);return new InvokeFunctionExpr(iife,[]).toStmt()}(meta);null!==setNgModuleScopeCall&&additionalStatements.push(setNgModuleScopeCall)}return schemas&&schemas.length&&(definitionMap.schemas=literalArr(schemas.map(ref=>ref.value))),id&&(definitionMap.id=id),{expression:importExpr(Identifiers$1.defineNgModule).callFn([mapToMapExpression(definitionMap)]),type:new ExpressionType(importExpr(Identifiers$1.NgModuleDefWithMeta,[new ExpressionType(moduleType.type),tupleTypeOf(declarations),tupleTypeOf(imports),tupleTypeOf(exports)])),additionalStatements:additionalStatements}}function tupleTypeOf(exp){const types=exp.map(ref=>typeofExpr(ref.type));return exp.length>0?expressionType(literalArr(types)):NONE_TYPE}function refsToArray(refs,shouldForwardDeclare){const values=literalArr(refs.map(ref=>ref.value));return shouldForwardDeclare?fn([],[new ReturnStatement(values)]):values}function compilePipeFromMetadata(metadata){const definitionMapValues=[];return definitionMapValues.push({key:"name",value:literal(metadata.pipeName),quoted:!1}),definitionMapValues.push({key:"type",value:metadata.type.value,quoted:!1}),definitionMapValues.push({key:"pure",value:literal(metadata.pure),quoted:!1}),{expression:importExpr(Identifiers$1.definePipe).callFn([literalMap(definitionMapValues)]),type:new ExpressionType(importExpr(Identifiers$1.PipeDefWithMeta,[typeWithParameters(metadata.type.type,metadata.typeArgumentCount),new ExpressionType(new LiteralExpr(metadata.pipeName))]))}}class ParserError{constructor(message,input,errLocation,ctxLocation){this.input=input,this.errLocation=errLocation,this.ctxLocation=ctxLocation,this.message=`Parser Error: ${message} ${errLocation} [${input}] in ${ctxLocation}`}}class ParseSpan{constructor(start,end){this.start=start,this.end=end}toAbsolute(absoluteOffset){return new AbsoluteSourceSpan(absoluteOffset+this.start,absoluteOffset+this.end)}}class AST{constructor(span,sourceSpan){this.span=span,this.sourceSpan=sourceSpan}visit(visitor,context=null){return null}toString(){return"AST"}}class Quote extends AST{constructor(span,sourceSpan,prefix,uninterpretedExpression,location){super(span,sourceSpan),this.prefix=prefix,this.uninterpretedExpression=uninterpretedExpression,this.location=location}visit(visitor,context=null){return visitor.visitQuote(this,context)}toString(){return"Quote"}}class EmptyExpr extends AST{visit(visitor,context=null){}}class ImplicitReceiver extends AST{visit(visitor,context=null){return visitor.visitImplicitReceiver(this,context)}}class Chain extends AST{constructor(span,sourceSpan,expressions){super(span,sourceSpan),this.expressions=expressions}visit(visitor,context=null){return visitor.visitChain(this,context)}}class Conditional extends AST{constructor(span,sourceSpan,condition,trueExp,falseExp){super(span,sourceSpan),this.condition=condition,this.trueExp=trueExp,this.falseExp=falseExp}visit(visitor,context=null){return visitor.visitConditional(this,context)}}class PropertyRead extends AST{constructor(span,sourceSpan,receiver,name){super(span,sourceSpan),this.receiver=receiver,this.name=name}visit(visitor,context=null){return visitor.visitPropertyRead(this,context)}}class PropertyWrite extends AST{constructor(span,sourceSpan,receiver,name,value){super(span,sourceSpan),this.receiver=receiver,this.name=name,this.value=value}visit(visitor,context=null){return visitor.visitPropertyWrite(this,context)}}class SafePropertyRead extends AST{constructor(span,sourceSpan,receiver,name){super(span,sourceSpan),this.receiver=receiver,this.name=name}visit(visitor,context=null){return visitor.visitSafePropertyRead(this,context)}}class KeyedRead extends AST{constructor(span,sourceSpan,obj,key){super(span,sourceSpan),this.obj=obj,this.key=key}visit(visitor,context=null){return visitor.visitKeyedRead(this,context)}}class KeyedWrite extends AST{constructor(span,sourceSpan,obj,key,value){super(span,sourceSpan),this.obj=obj,this.key=key,this.value=value}visit(visitor,context=null){return visitor.visitKeyedWrite(this,context)}}class BindingPipe extends AST{constructor(span,sourceSpan,exp,name,args,nameSpan){super(span,sourceSpan),this.exp=exp,this.name=name,this.args=args,this.nameSpan=nameSpan}visit(visitor,context=null){return visitor.visitPipe(this,context)}}class LiteralPrimitive extends AST{constructor(span,sourceSpan,value){super(span,sourceSpan),this.value=value}visit(visitor,context=null){return visitor.visitLiteralPrimitive(this,context)}}class LiteralArray extends AST{constructor(span,sourceSpan,expressions){super(span,sourceSpan),this.expressions=expressions}visit(visitor,context=null){return visitor.visitLiteralArray(this,context)}}class LiteralMap extends AST{constructor(span,sourceSpan,keys,values){super(span,sourceSpan),this.keys=keys,this.values=values}visit(visitor,context=null){return visitor.visitLiteralMap(this,context)}}class Interpolation extends AST{constructor(span,sourceSpan,strings,expressions){super(span,sourceSpan),this.strings=strings,this.expressions=expressions}visit(visitor,context=null){return visitor.visitInterpolation(this,context)}}class Binary extends AST{constructor(span,sourceSpan,operation,left,right){super(span,sourceSpan),this.operation=operation,this.left=left,this.right=right}visit(visitor,context=null){return visitor.visitBinary(this,context)}}class PrefixNot extends AST{constructor(span,sourceSpan,expression){super(span,sourceSpan),this.expression=expression}visit(visitor,context=null){return visitor.visitPrefixNot(this,context)}}class NonNullAssert extends AST{constructor(span,sourceSpan,expression){super(span,sourceSpan),this.expression=expression}visit(visitor,context=null){return visitor.visitNonNullAssert(this,context)}}class MethodCall extends AST{constructor(span,sourceSpan,receiver,name,args){super(span,sourceSpan),this.receiver=receiver,this.name=name,this.args=args}visit(visitor,context=null){return visitor.visitMethodCall(this,context)}}class SafeMethodCall extends AST{constructor(span,sourceSpan,receiver,name,args){super(span,sourceSpan),this.receiver=receiver,this.name=name,this.args=args}visit(visitor,context=null){return visitor.visitSafeMethodCall(this,context)}}class FunctionCall extends AST{constructor(span,sourceSpan,target,args){super(span,sourceSpan),this.target=target,this.args=args}visit(visitor,context=null){return visitor.visitFunctionCall(this,context)}}class AbsoluteSourceSpan{constructor(start,end){this.start=start,this.end=end}}class ASTWithSource extends AST{constructor(ast,source,location,absoluteOffset,errors){super(new ParseSpan(0,null===source?0:source.length),new AbsoluteSourceSpan(absoluteOffset,null===source?absoluteOffset:absoluteOffset+source.length)),this.ast=ast,this.source=source,this.location=location,this.errors=errors}visit(visitor,context=null){return visitor.visitASTWithSource?visitor.visitASTWithSource(this,context):this.ast.visit(visitor,context)}toString(){return`${this.source} in ${this.location}`}}class TemplateBinding{constructor(span,sourceSpan,key,keyIsVar,name,value){this.span=span,this.key=key,this.keyIsVar=keyIsVar,this.name=name,this.value=value}}class RecursiveAstVisitor$1{visit(ast,context){ast.visit(this,context)}visitBinary(ast,context){this.visit(ast.left,context),this.visit(ast.right,context)}visitChain(ast,context){this.visitAll(ast.expressions,context)}visitConditional(ast,context){this.visit(ast.condition,context),this.visit(ast.trueExp,context),this.visit(ast.falseExp,context)}visitPipe(ast,context){this.visit(ast.exp,context),this.visitAll(ast.args,context)}visitFunctionCall(ast,context){ast.target&&this.visit(ast.target,context),this.visitAll(ast.args,context)}visitImplicitReceiver(ast,context){}visitInterpolation(ast,context){this.visitAll(ast.expressions,context)}visitKeyedRead(ast,context){this.visit(ast.obj,context),this.visit(ast.key,context)}visitKeyedWrite(ast,context){this.visit(ast.obj,context),this.visit(ast.key,context),this.visit(ast.value,context)}visitLiteralArray(ast,context){this.visitAll(ast.expressions,context)}visitLiteralMap(ast,context){this.visitAll(ast.values,context)}visitLiteralPrimitive(ast,context){}visitMethodCall(ast,context){this.visit(ast.receiver,context),this.visitAll(ast.args,context)}visitPrefixNot(ast,context){this.visit(ast.expression,context)}visitNonNullAssert(ast,context){this.visit(ast.expression,context)}visitPropertyRead(ast,context){this.visit(ast.receiver,context)}visitPropertyWrite(ast,context){this.visit(ast.receiver,context),this.visit(ast.value,context)}visitSafePropertyRead(ast,context){this.visit(ast.receiver,context)}visitSafeMethodCall(ast,context){this.visit(ast.receiver,context),this.visitAll(ast.args,context)}visitQuote(ast,context){}visitAll(asts,context){for(const ast of asts)this.visit(ast,context)}}class ParsedProperty{constructor(name,expression,type,sourceSpan,valueSpan){this.name=name,this.expression=expression,this.type=type,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan,this.isLiteral=this.type===ParsedPropertyType.LITERAL_ATTR,this.isAnimation=this.type===ParsedPropertyType.ANIMATION}}var ParsedPropertyType,BindingForm,_Mode;!function(ParsedPropertyType){ParsedPropertyType[ParsedPropertyType.DEFAULT=0]="DEFAULT",ParsedPropertyType[ParsedPropertyType.LITERAL_ATTR=1]="LITERAL_ATTR",ParsedPropertyType[ParsedPropertyType.ANIMATION=2]="ANIMATION"}(ParsedPropertyType||(ParsedPropertyType={}));class ParsedEvent{constructor(name,targetOrPhase,type,handler,sourceSpan,handlerSpan){this.name=name,this.targetOrPhase=targetOrPhase,this.type=type,this.handler=handler,this.sourceSpan=sourceSpan,this.handlerSpan=handlerSpan}}class ParsedVariable{constructor(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}}class BoundElementProperty{constructor(name,type,securityContext,value,unit,sourceSpan,valueSpan){this.name=name,this.type=type,this.securityContext=securityContext,this.value=value,this.unit=unit,this.sourceSpan=sourceSpan,this.valueSpan=valueSpan}}class EventHandlerVars{}EventHandlerVars.event=variable("$event");class ConvertActionBindingResult{constructor(stmts,allowDefault){this.stmts=stmts,this.allowDefault=allowDefault,this.render3Stmts=stmts.map(statement=>{if(statement instanceof DeclareVarStmt&&statement.name==allowDefault.name&&statement.value instanceof BinaryOperatorExpr){const lhs=statement.value.lhs;return new ReturnStatement(lhs.value)}return statement})}}function convertActionBinding(localResolver,implicitReceiver,action,bindingId,interpolationFunction,baseSourceSpan,implicitReceiverAccesses){localResolver||(localResolver=new DefaultLocalResolver);const actionWithoutBuiltins=convertPropertyBindingBuiltins({createLiteralArrayConverter:argCount=>args=>literalArr(args),createLiteralMapConverter:keys=>values=>literalMap(keys.map((k,i)=>({key:k.key,value:values[i],quoted:k.quoted}))),createPipeConverter:name=>{throw new Error(`Illegal State: Actions are not allowed to contain pipes. Pipe: ${name}`)}},action),visitor=new _AstToIrVisitor(localResolver,implicitReceiver,bindingId,interpolationFunction,baseSourceSpan,implicitReceiverAccesses),actionStmts=[];!function flattenStatements(arg,output){Array.isArray(arg)?arg.forEach(entry=>flattenStatements(entry,output)):output.push(arg)}(actionWithoutBuiltins.visit(visitor,_Mode.Statement),actionStmts),function prependTemporaryDecls(temporaryCount,bindingId,statements){for(let i=temporaryCount-1;i>=0;i--)statements.unshift(temporaryDeclaration(bindingId,i))}(visitor.temporaryCount,bindingId,actionStmts),visitor.usesImplicitReceiver&&localResolver.notifyImplicitReceiverUse();const lastIndex=actionStmts.length-1;let preventDefaultVar=null;if(lastIndex>=0){const returnExpr=function convertStmtIntoExpression(stmt){if(stmt instanceof ExpressionStatement)return stmt.expr;if(stmt instanceof ReturnStatement)return stmt.value;return null}(actionStmts[lastIndex]);returnExpr&&(preventDefaultVar=function createPreventDefaultVar(bindingId){return variable(`pd_${bindingId}`)}(bindingId),actionStmts[lastIndex]=preventDefaultVar.set(returnExpr.cast(DYNAMIC_TYPE).notIdentical(literal(!1))).toDeclStmt(null,[StmtModifier.Final]))}return new ConvertActionBindingResult(actionStmts,preventDefaultVar)}function convertPropertyBindingBuiltins(converterFactory,ast){return function convertBuiltins(converterFactory,ast){const visitor=new _BuiltinAstConverter(converterFactory);return ast.visit(visitor)}(converterFactory,ast)}class ConvertPropertyBindingResult{constructor(stmts,currValExpr){this.stmts=stmts,this.currValExpr=currValExpr}}function convertPropertyBinding(localResolver,implicitReceiver,expressionWithoutBuiltins,bindingId,form,interpolationFunction){localResolver||(localResolver=new DefaultLocalResolver);const currValExpr=function createCurrValueExpr(bindingId){return variable(`currVal_${bindingId}`)}(bindingId),visitor=new _AstToIrVisitor(localResolver,implicitReceiver,bindingId,interpolationFunction),outputExpr=expressionWithoutBuiltins.visit(visitor,_Mode.Expression),stmts=getStatementsFromVisitor(visitor,bindingId);return visitor.usesImplicitReceiver&&localResolver.notifyImplicitReceiverUse(),0===visitor.temporaryCount&&form==BindingForm.TrySimple?new ConvertPropertyBindingResult([],outputExpr):(stmts.push(currValExpr.set(outputExpr).toDeclStmt(DYNAMIC_TYPE,[StmtModifier.Final])),new ConvertPropertyBindingResult(stmts,currValExpr))}function getStatementsFromVisitor(visitor,bindingId){const stmts=[];for(let i=0;i<visitor.temporaryCount;i++)stmts.push(temporaryDeclaration(bindingId,i));return stmts}function temporaryName(bindingId,temporaryNumber){return`tmp_${bindingId}_${temporaryNumber}`}function temporaryDeclaration(bindingId,temporaryNumber){return new DeclareVarStmt(temporaryName(bindingId,temporaryNumber),NULL_EXPR)}function ensureExpressionMode(mode,ast){if(mode!==_Mode.Expression)throw new Error(`Expected an expression, but saw ${ast}`)}function convertToStatementIfNeeded(mode,expr){return mode===_Mode.Statement?expr.toStmt():expr}!function(BindingForm){BindingForm[BindingForm.General=0]="General",BindingForm[BindingForm.TrySimple=1]="TrySimple"}(BindingForm||(BindingForm={})),function(_Mode){_Mode[_Mode.Statement=0]="Statement",_Mode[_Mode.Expression=1]="Expression"}(_Mode||(_Mode={}));class _BuiltinAstConverter extends class{visitImplicitReceiver(ast,context){return ast}visitInterpolation(ast,context){return new Interpolation(ast.span,ast.sourceSpan,ast.strings,this.visitAll(ast.expressions))}visitLiteralPrimitive(ast,context){return new LiteralPrimitive(ast.span,ast.sourceSpan,ast.value)}visitPropertyRead(ast,context){return new PropertyRead(ast.span,ast.sourceSpan,ast.receiver.visit(this),ast.name)}visitPropertyWrite(ast,context){return new PropertyWrite(ast.span,ast.sourceSpan,ast.receiver.visit(this),ast.name,ast.value.visit(this))}visitSafePropertyRead(ast,context){return new SafePropertyRead(ast.span,ast.sourceSpan,ast.receiver.visit(this),ast.name)}visitMethodCall(ast,context){return new MethodCall(ast.span,ast.sourceSpan,ast.receiver.visit(this),ast.name,this.visitAll(ast.args))}visitSafeMethodCall(ast,context){return new SafeMethodCall(ast.span,ast.sourceSpan,ast.receiver.visit(this),ast.name,this.visitAll(ast.args))}visitFunctionCall(ast,context){return new FunctionCall(ast.span,ast.sourceSpan,ast.target.visit(this),this.visitAll(ast.args))}visitLiteralArray(ast,context){return new LiteralArray(ast.span,ast.sourceSpan,this.visitAll(ast.expressions))}visitLiteralMap(ast,context){return new LiteralMap(ast.span,ast.sourceSpan,ast.keys,this.visitAll(ast.values))}visitBinary(ast,context){return new Binary(ast.span,ast.sourceSpan,ast.operation,ast.left.visit(this),ast.right.visit(this))}visitPrefixNot(ast,context){return new PrefixNot(ast.span,ast.sourceSpan,ast.expression.visit(this))}visitNonNullAssert(ast,context){return new NonNullAssert(ast.span,ast.sourceSpan,ast.expression.visit(this))}visitConditional(ast,context){return new Conditional(ast.span,ast.sourceSpan,ast.condition.visit(this),ast.trueExp.visit(this),ast.falseExp.visit(this))}visitPipe(ast,context){return new BindingPipe(ast.span,ast.sourceSpan,ast.exp.visit(this),ast.name,this.visitAll(ast.args),ast.nameSpan)}visitKeyedRead(ast,context){return new KeyedRead(ast.span,ast.sourceSpan,ast.obj.visit(this),ast.key.visit(this))}visitKeyedWrite(ast,context){return new KeyedWrite(ast.span,ast.sourceSpan,ast.obj.visit(this),ast.key.visit(this),ast.value.visit(this))}visitAll(asts){const res=[];for(let i=0;i<asts.length;++i)res[i]=asts[i].visit(this);return res}visitChain(ast,context){return new Chain(ast.span,ast.sourceSpan,this.visitAll(ast.expressions))}visitQuote(ast,context){return new Quote(ast.span,ast.sourceSpan,ast.prefix,ast.uninterpretedExpression,ast.location)}}{constructor(_converterFactory){super(),this._converterFactory=_converterFactory}visitPipe(ast,context){const args=[ast.exp,...ast.args].map(ast=>ast.visit(this,context));return new BuiltinFunctionCall(ast.span,ast.sourceSpan,args,this._converterFactory.createPipeConverter(ast.name,args.length))}visitLiteralArray(ast,context){const args=ast.expressions.map(ast=>ast.visit(this,context));return new BuiltinFunctionCall(ast.span,ast.sourceSpan,args,this._converterFactory.createLiteralArrayConverter(ast.expressions.length))}visitLiteralMap(ast,context){const args=ast.values.map(ast=>ast.visit(this,context));return new BuiltinFunctionCall(ast.span,ast.sourceSpan,args,this._converterFactory.createLiteralMapConverter(ast.keys))}}class _AstToIrVisitor{constructor(_localResolver,_implicitReceiver,bindingId,interpolationFunction,baseSourceSpan,implicitReceiverAccesses){this._localResolver=_localResolver,this._implicitReceiver=_implicitReceiver,this.bindingId=bindingId,this.interpolationFunction=interpolationFunction,this.baseSourceSpan=baseSourceSpan,this.implicitReceiverAccesses=implicitReceiverAccesses,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0,this.usesImplicitReceiver=!1}visitBinary(ast,mode){let op;switch(ast.operation){case"+":op=BinaryOperator.Plus;break;case"-":op=BinaryOperator.Minus;break;case"*":op=BinaryOperator.Multiply;break;case"/":op=BinaryOperator.Divide;break;case"%":op=BinaryOperator.Modulo;break;case"&&":op=BinaryOperator.And;break;case"||":op=BinaryOperator.Or;break;case"==":op=BinaryOperator.Equals;break;case"!=":op=BinaryOperator.NotEquals;break;case"===":op=BinaryOperator.Identical;break;case"!==":op=BinaryOperator.NotIdentical;break;case"<":op=BinaryOperator.Lower;break;case">":op=BinaryOperator.Bigger;break;case"<=":op=BinaryOperator.LowerEquals;break;case">=":op=BinaryOperator.BiggerEquals;break;default:throw new Error(`Unsupported operation ${ast.operation}`)}return convertToStatementIfNeeded(mode,new BinaryOperatorExpr(op,this._visit(ast.left,_Mode.Expression),this._visit(ast.right,_Mode.Expression),void 0,this.convertSourceSpan(ast.span)))}visitChain(ast,mode){return function ensureStatementMode(mode,ast){if(mode!==_Mode.Statement)throw new Error(`Expected a statement, but saw ${ast}`)}(mode,ast),this.visitAll(ast.expressions,mode)}visitConditional(ast,mode){return convertToStatementIfNeeded(mode,this._visit(ast.condition,_Mode.Expression).conditional(this._visit(ast.trueExp,_Mode.Expression),this._visit(ast.falseExp,_Mode.Expression),this.convertSourceSpan(ast.span)))}visitPipe(ast,mode){throw new Error(`Illegal state: Pipes should have been converted into functions. Pipe: ${ast.name}`)}visitFunctionCall(ast,mode){const convertedArgs=this.visitAll(ast.args,_Mode.Expression);let fnResult;return fnResult=ast instanceof BuiltinFunctionCall?ast.converter(convertedArgs):this._visit(ast.target,_Mode.Expression).callFn(convertedArgs,this.convertSourceSpan(ast.span)),convertToStatementIfNeeded(mode,fnResult)}visitImplicitReceiver(ast,mode){return ensureExpressionMode(mode,ast),this.usesImplicitReceiver=!0,this._implicitReceiver}visitInterpolation(ast,mode){ensureExpressionMode(mode,ast);const args=[literal(ast.expressions.length)];for(let i=0;i<ast.strings.length-1;i++)args.push(literal(ast.strings[i])),args.push(this._visit(ast.expressions[i],_Mode.Expression));return args.push(literal(ast.strings[ast.strings.length-1])),this.interpolationFunction?this.interpolationFunction(args):ast.expressions.length<=9?importExpr(Identifiers.inlineInterpolate).callFn(args):importExpr(Identifiers.interpolate).callFn([args[0],literalArr(args.slice(1),void 0,this.convertSourceSpan(ast.span))])}visitKeyedRead(ast,mode){const leftMostSafe=this.leftMostSafeNode(ast);return leftMostSafe?this.convertSafeAccess(ast,leftMostSafe,mode):convertToStatementIfNeeded(mode,this._visit(ast.obj,_Mode.Expression).key(this._visit(ast.key,_Mode.Expression)))}visitKeyedWrite(ast,mode){const obj=this._visit(ast.obj,_Mode.Expression),key=this._visit(ast.key,_Mode.Expression),value=this._visit(ast.value,_Mode.Expression);return convertToStatementIfNeeded(mode,obj.key(key).set(value))}visitLiteralArray(ast,mode){throw new Error("Illegal State: literal arrays should have been converted into functions")}visitLiteralMap(ast,mode){throw new Error("Illegal State: literal maps should have been converted into functions")}visitLiteralPrimitive(ast,mode){const type=null===ast.value||void 0===ast.value||!0===ast.value||!0===ast.value?INFERRED_TYPE:void 0;return convertToStatementIfNeeded(mode,literal(ast.value,type,this.convertSourceSpan(ast.span)))}_getLocal(name){return this._localResolver.getLocal(name)}visitMethodCall(ast,mode){if(ast.receiver instanceof ImplicitReceiver&&"$any"==ast.name){const args=this.visitAll(ast.args,_Mode.Expression);if(1!=args.length)throw new Error(`Invalid call to $any, expected 1 argument but received ${args.length||"none"}`);return args[0].cast(DYNAMIC_TYPE,this.convertSourceSpan(ast.span))}const leftMostSafe=this.leftMostSafeNode(ast);if(leftMostSafe)return this.convertSafeAccess(ast,leftMostSafe,mode);{const args=this.visitAll(ast.args,_Mode.Expression),prevUsesImplicitReceiver=this.usesImplicitReceiver;let result=null;const receiver=this._visit(ast.receiver,_Mode.Expression);if(receiver===this._implicitReceiver){const varExpr=this._getLocal(ast.name);varExpr&&(this.usesImplicitReceiver=prevUsesImplicitReceiver,result=varExpr.callFn(args)),this.addImplicitReceiverAccess(ast.name)}return null==result&&(result=receiver.callMethod(ast.name,args,this.convertSourceSpan(ast.span))),convertToStatementIfNeeded(mode,result)}}visitPrefixNot(ast,mode){return convertToStatementIfNeeded(mode,function not(expr,sourceSpan){return new NotExpr(expr,sourceSpan)}(this._visit(ast.expression,_Mode.Expression)))}visitNonNullAssert(ast,mode){return convertToStatementIfNeeded(mode,function assertNotNull(expr,sourceSpan){return new AssertNotNull(expr,sourceSpan)}(this._visit(ast.expression,_Mode.Expression)))}visitPropertyRead(ast,mode){const leftMostSafe=this.leftMostSafeNode(ast);if(leftMostSafe)return this.convertSafeAccess(ast,leftMostSafe,mode);{let result=null;const prevUsesImplicitReceiver=this.usesImplicitReceiver,receiver=this._visit(ast.receiver,_Mode.Expression);return receiver===this._implicitReceiver&&(result=this._getLocal(ast.name),result&&(this.usesImplicitReceiver=prevUsesImplicitReceiver),this.addImplicitReceiverAccess(ast.name)),null==result&&(result=receiver.prop(ast.name)),convertToStatementIfNeeded(mode,result)}}visitPropertyWrite(ast,mode){const receiver=this._visit(ast.receiver,_Mode.Expression),prevUsesImplicitReceiver=this.usesImplicitReceiver;let varExpr=null;if(receiver===this._implicitReceiver){const localExpr=this._getLocal(ast.name);if(localExpr){if(!(localExpr instanceof ReadPropExpr)){const receiver=ast.name,value=ast.value instanceof PropertyRead?ast.value.name:void 0;throw new Error(`Cannot assign value "${value}" to template variable "${receiver}". Template variables are read-only.`)}varExpr=localExpr,this.usesImplicitReceiver=prevUsesImplicitReceiver,this.addImplicitReceiverAccess(ast.name)}}return null===varExpr&&(varExpr=receiver.prop(ast.name)),convertToStatementIfNeeded(mode,varExpr.set(this._visit(ast.value,_Mode.Expression)))}visitSafePropertyRead(ast,mode){return this.convertSafeAccess(ast,this.leftMostSafeNode(ast),mode)}visitSafeMethodCall(ast,mode){return this.convertSafeAccess(ast,this.leftMostSafeNode(ast),mode)}visitAll(asts,mode){return asts.map(ast=>this._visit(ast,mode))}visitQuote(ast,mode){throw new Error(`Quotes are not supported for evaluation!\n        Statement: ${ast.uninterpretedExpression} located at ${ast.location}`)}_visit(ast,mode){const result=this._resultMap.get(ast);return result||(this._nodeMap.get(ast)||ast).visit(this,mode)}convertSafeAccess(ast,leftMostSafe,mode){let guardedExpression=this._visit(leftMostSafe.receiver,_Mode.Expression),temporary=void 0;this.needsTemporary(leftMostSafe.receiver)&&(temporary=this.allocateTemporary(),guardedExpression=temporary.set(guardedExpression),this._resultMap.set(leftMostSafe.receiver,temporary));const condition=guardedExpression.isBlank();leftMostSafe instanceof SafeMethodCall?this._nodeMap.set(leftMostSafe,new MethodCall(leftMostSafe.span,leftMostSafe.sourceSpan,leftMostSafe.receiver,leftMostSafe.name,leftMostSafe.args)):this._nodeMap.set(leftMostSafe,new PropertyRead(leftMostSafe.span,leftMostSafe.sourceSpan,leftMostSafe.receiver,leftMostSafe.name));const access=this._visit(ast,_Mode.Expression);return this._nodeMap.delete(leftMostSafe),temporary&&this.releaseTemporary(temporary),convertToStatementIfNeeded(mode,condition.conditional(literal(null),access))}leftMostSafeNode(ast){const visit=(visitor,ast)=>(this._nodeMap.get(ast)||ast).visit(visitor);return ast.visit({visitBinary:ast=>null,visitChain:ast=>null,visitConditional:ast=>null,visitFunctionCall:ast=>null,visitImplicitReceiver:ast=>null,visitInterpolation:ast=>null,visitKeyedRead(ast){return visit(this,ast.obj)},visitKeyedWrite:ast=>null,visitLiteralArray:ast=>null,visitLiteralMap:ast=>null,visitLiteralPrimitive:ast=>null,visitMethodCall(ast){return visit(this,ast.receiver)},visitPipe:ast=>null,visitPrefixNot:ast=>null,visitNonNullAssert:ast=>null,visitPropertyRead(ast){return visit(this,ast.receiver)},visitPropertyWrite:ast=>null,visitQuote:ast=>null,visitSafeMethodCall(ast){return visit(this,ast.receiver)||ast},visitSafePropertyRead(ast){return visit(this,ast.receiver)||ast}})}needsTemporary(ast){const visit=(visitor,ast)=>ast&&(this._nodeMap.get(ast)||ast).visit(visitor);return ast.visit({visitBinary(ast){return visit(this,ast.left)||visit(this,ast.right)},visitChain:ast=>!1,visitConditional(ast){return visit(this,ast.condition)||visit(this,ast.trueExp)||visit(this,ast.falseExp)},visitFunctionCall:ast=>!0,visitImplicitReceiver:ast=>!1,visitInterpolation(ast){return((visitor,ast)=>ast.some(ast=>visit(visitor,ast)))(this,ast.expressions)},visitKeyedRead:ast=>!1,visitKeyedWrite:ast=>!1,visitLiteralArray:ast=>!0,visitLiteralMap:ast=>!0,visitLiteralPrimitive:ast=>!1,visitMethodCall:ast=>!0,visitPipe:ast=>!0,visitPrefixNot(ast){return visit(this,ast.expression)},visitNonNullAssert(ast){return visit(this,ast.expression)},visitPropertyRead:ast=>!1,visitPropertyWrite:ast=>!1,visitQuote:ast=>!1,visitSafeMethodCall:ast=>!0,visitSafePropertyRead:ast=>!1})}allocateTemporary(){const tempNumber=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new ReadVarExpr(temporaryName(this.bindingId,tempNumber))}releaseTemporary(temporary){if(this._currentTemporary--,temporary.name!=temporaryName(this.bindingId,this._currentTemporary))throw new Error(`Temporary ${temporary.name} released out of order`)}convertSourceSpan(span){if(this.baseSourceSpan){const start=this.baseSourceSpan.start.moveBy(span.start),end=this.baseSourceSpan.start.moveBy(span.end);return new ParseSourceSpan(start,end)}return null}addImplicitReceiverAccess(name){this.implicitReceiverAccesses&&this.implicitReceiverAccesses.add(name)}}class DefaultLocalResolver{notifyImplicitReceiverUse(){}getLocal(name){return name===EventHandlerVars.event.name?EventHandlerVars.event:null}}class BuiltinFunctionCall extends FunctionCall{constructor(span,sourceSpan,args,converter){super(span,sourceSpan,null,args),this.args=args,this.converter=converter}}class ShadowCss{constructor(){this.strictStyling=!0}shimCssText(cssText,selector,hostSelector=""){const commentsWithHash=function extractCommentsWithHash(input){return input.match(_commentWithHashRe)||[]}(cssText);return cssText=function stripComments(input){return input.replace(_commentRe,"")}(cssText),cssText=this._insertDirectives(cssText),[this._scopeCssText(cssText,selector,hostSelector),...commentsWithHash].join("\n")}_insertDirectives(cssText){return cssText=this._insertPolyfillDirectivesInCssText(cssText),this._insertPolyfillRulesInCssText(cssText)}_insertPolyfillDirectivesInCssText(cssText){return cssText.replace(_cssContentNextSelectorRe,(function(...m){return m[2]+"{"}))}_insertPolyfillRulesInCssText(cssText){return cssText.replace(_cssContentRuleRe,(...m)=>{const rule=m[0].replace(m[1],"").replace(m[2],"");return m[4]+rule})}_scopeCssText(cssText,scopeSelector,hostSelector){const unscopedRules=this._extractUnscopedRulesFromCssText(cssText);return cssText=this._insertPolyfillHostInCssText(cssText),cssText=this._convertColonHost(cssText),cssText=this._convertColonHostContext(cssText),cssText=this._convertShadowDOMSelectors(cssText),scopeSelector&&(cssText=this._scopeSelectors(cssText,scopeSelector,hostSelector)),(cssText=cssText+"\n"+unscopedRules).trim()}_extractUnscopedRulesFromCssText(cssText){let m,r="";for(_cssContentUnscopedRuleRe.lastIndex=0;null!==(m=_cssContentUnscopedRuleRe.exec(cssText));){r+=m[0].replace(m[2],"").replace(m[1],m[4])+"\n\n"}return r}_convertColonHost(cssText){return this._convertColonRule(cssText,_cssColonHostRe,this._colonHostPartReplacer)}_convertColonHostContext(cssText){return this._convertColonRule(cssText,_cssColonHostContextRe,this._colonHostContextPartReplacer)}_convertColonRule(cssText,regExp,partReplacer){return cssText.replace(regExp,(function(...m){if(m[2]){const parts=m[2].split(","),r=[];for(let i=0;i<parts.length;i++){const p=parts[i].trim();if(!p)break;r.push(partReplacer(_polyfillHostNoCombinator,p,m[3]))}return r.join(",")}return _polyfillHostNoCombinator+m[3]}))}_colonHostContextPartReplacer(host,part,suffix){return part.indexOf(_polyfillHost)>-1?this._colonHostPartReplacer(host,part,suffix):host+part+suffix+", "+part+" "+host+suffix}_colonHostPartReplacer(host,part,suffix){return host+part.replace(_polyfillHost,"")+suffix}_convertShadowDOMSelectors(cssText){return _shadowDOMSelectorsRe.reduce((result,pattern)=>result.replace(pattern," "),cssText)}_scopeSelectors(cssText,scopeSelector,hostSelector){return function processRules(input,ruleCallback){const inputWithEscapedBlocks=function escapeBlocks(input){const inputParts=input.split(_curlyRe),resultParts=[],escapedBlocks=[];let bracketCount=0,currentBlockParts=[];for(let partIndex=0;partIndex<inputParts.length;partIndex++){const part=inputParts[partIndex];"}"==part&&bracketCount--,bracketCount>0?currentBlockParts.push(part):(currentBlockParts.length>0&&(escapedBlocks.push(currentBlockParts.join("")),resultParts.push("%BLOCK%"),currentBlockParts=[]),resultParts.push(part)),"{"==part&&bracketCount++}currentBlockParts.length>0&&(escapedBlocks.push(currentBlockParts.join("")),resultParts.push("%BLOCK%"));return new StringWithEscapedBlocks(resultParts.join(""),escapedBlocks)}(input);let nextBlockIndex=0;return inputWithEscapedBlocks.escapedString.replace(_ruleRe,(function(...m){const selector=m[2];let content="",suffix=m[4],contentPrefix="";suffix&&suffix.startsWith("{%BLOCK%")&&(content=inputWithEscapedBlocks.blocks[nextBlockIndex++],suffix=suffix.substring("%BLOCK%".length+1),contentPrefix="{");const rule=ruleCallback(new CssRule(selector,content));return`${m[1]}${rule.selector}${m[3]}${contentPrefix}${rule.content}${suffix}`}))}(cssText,rule=>{let selector=rule.selector,content=rule.content;return"@"!=rule.selector[0]?selector=this._scopeSelector(rule.selector,scopeSelector,hostSelector,this.strictStyling):(rule.selector.startsWith("@media")||rule.selector.startsWith("@supports")||rule.selector.startsWith("@page")||rule.selector.startsWith("@document"))&&(content=this._scopeSelectors(rule.content,scopeSelector,hostSelector)),new CssRule(selector,content)})}_scopeSelector(selector,scopeSelector,hostSelector,strict){return selector.split(",").map(part=>part.trim().split(_shadowDeepSelectors)).map(deepParts=>{const[shallowPart,...otherParts]=deepParts;return[(shallowPart=>this._selectorNeedsScoping(shallowPart,scopeSelector)?strict?this._applyStrictSelectorScope(shallowPart,scopeSelector,hostSelector):this._applySelectorScope(shallowPart,scopeSelector,hostSelector):shallowPart)(shallowPart),...otherParts].join(" ")}).join(", ")}_selectorNeedsScoping(selector,scopeSelector){return!this._makeScopeMatcher(scopeSelector).test(selector)}_makeScopeMatcher(scopeSelector){return scopeSelector=scopeSelector.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+scopeSelector+")"+_selectorReSuffix,"m")}_applySelectorScope(selector,scopeSelector,hostSelector){return this._applySimpleSelectorScope(selector,scopeSelector,hostSelector)}_applySimpleSelectorScope(selector,scopeSelector,hostSelector){if(_polyfillHostRe.lastIndex=0,_polyfillHostRe.test(selector)){const replaceBy=this.strictStyling?`[${hostSelector}]`:scopeSelector;return selector.replace(_polyfillHostNoCombinatorRe,(hnc,selector)=>selector.replace(/([^:]*)(:*)(.*)/,(_,before,colon,after)=>before+replaceBy+colon+after)).replace(_polyfillHostRe,replaceBy+" ")}return scopeSelector+" "+selector}_applyStrictSelectorScope(selector,scopeSelector,hostSelector){const attrName="["+(scopeSelector=scopeSelector.replace(/\[is=([^\]]*)\]/g,(_,...parts)=>parts[0]))+"]",_scopeSelectorPart=p=>{let scopedP=p.trim();if(!scopedP)return"";if(p.indexOf(_polyfillHostNoCombinator)>-1)scopedP=this._applySimpleSelectorScope(p,scopeSelector,hostSelector);else{const t=p.replace(_polyfillHostRe,"");if(t.length>0){const matches=t.match(/([^:]*)(:*)(.*)/);matches&&(scopedP=matches[1]+attrName+matches[2]+matches[3])}}return scopedP},safeContent=new SafeSelector(selector);let res,scopedSelector="",startIndex=0;const sep=/( |>|\+|~(?!=))\s*/g;let shouldScope=!((selector=safeContent.content()).indexOf(_polyfillHostNoCombinator)>-1);for(;null!==(res=sep.exec(selector));){const separator=res[1],part=selector.slice(startIndex,res.index).trim();shouldScope=shouldScope||part.indexOf(_polyfillHostNoCombinator)>-1,scopedSelector+=`${shouldScope?_scopeSelectorPart(part):part} ${separator} `,startIndex=sep.lastIndex}const part=selector.substring(startIndex);return shouldScope=shouldScope||part.indexOf(_polyfillHostNoCombinator)>-1,scopedSelector+=shouldScope?_scopeSelectorPart(part):part,safeContent.restore(scopedSelector)}_insertPolyfillHostInCssText(selector){return selector.replace(_colonHostContextRe,_polyfillHostContext).replace(_colonHostRe,_polyfillHost)}}class SafeSelector{constructor(selector){this.placeholders=[],this.index=0,selector=selector.replace(/(\[[^\]]*\])/g,(_,keep)=>{const replaceBy=`__ph-${this.index}__`;return this.placeholders.push(keep),this.index++,replaceBy}),this._content=selector.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(_,pseudo,exp)=>{const replaceBy=`__ph-${this.index}__`;return this.placeholders.push(exp),this.index++,pseudo+replaceBy})}restore(content){return content.replace(/__ph-(\d+)__/g,(ph,index)=>this.placeholders[+index])}content(){return this._content}}const _cssContentNextSelectorRe=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,_cssContentRuleRe=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,_cssContentUnscopedRuleRe=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,_polyfillHost="-shadowcsshost",_polyfillHostContext="-shadowcsscontext",_parenSuffix=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",_cssColonHostRe=new RegExp("("+_polyfillHost+_parenSuffix,"gim"),_cssColonHostContextRe=new RegExp("("+_polyfillHostContext+_parenSuffix,"gim"),_polyfillHostNoCombinator=_polyfillHost+"-no-combinator",_polyfillHostNoCombinatorRe=/-shadowcsshost-no-combinator([^\s]*)/,_shadowDOMSelectorsRe=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],_shadowDeepSelectors=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,_selectorReSuffix="([>\\s~+[.,{:][\\s\\S]*)?$",_polyfillHostRe=/-shadowcsshost/gim,_colonHostRe=/:host/gim,_colonHostContextRe=/:host-context/gim,_commentRe=/\/\*\s*[\s\S]*?\*\//g;const _commentWithHashRe=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g;const _ruleRe=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,_curlyRe=/([{}])/g;class CssRule{constructor(selector,content){this.selector=selector,this.content=content}}class StringWithEscapedBlocks{constructor(escapedString,blocks){this.escapedString=escapedString,this.blocks=blocks}}class StylesCompileDependency{constructor(name,moduleUrl,setValue){this.name=name,this.moduleUrl=moduleUrl,this.setValue=setValue}}class CompiledStylesheet{constructor(outputCtx,stylesVar,dependencies,isShimmed,meta){this.outputCtx=outputCtx,this.stylesVar=stylesVar,this.dependencies=dependencies,this.isShimmed=isShimmed,this.meta=meta}}class StyleCompiler{constructor(_urlResolver){this._urlResolver=_urlResolver,this._shadowCss=new ShadowCss}compileComponent(outputCtx,comp){const template=comp.template;return this._compileStyles(outputCtx,comp,new CompileStylesheetMetadata({styles:template.styles,styleUrls:template.styleUrls,moduleUrl:identifierModuleUrl(comp.type)}),this.needsStyleShim(comp),!0)}compileStyles(outputCtx,comp,stylesheet,shim=this.needsStyleShim(comp)){return this._compileStyles(outputCtx,comp,stylesheet,shim,!1)}needsStyleShim(comp){return comp.template.encapsulation===ViewEncapsulation.Emulated}_compileStyles(outputCtx,comp,stylesheet,shim,isComponentStylesheet){const styleExpressions=stylesheet.styles.map(plainStyle=>literal(this._shimIfNeeded(plainStyle,shim))),dependencies=[];stylesheet.styleUrls.forEach(styleUrl=>{const exprIndex=styleExpressions.length;styleExpressions.push(null),dependencies.push(new StylesCompileDependency(getStylesVarName(null),styleUrl,value=>styleExpressions[exprIndex]=outputCtx.importExpr(value)))});const stylesVar=getStylesVarName(isComponentStylesheet?comp:null),stmt=variable(stylesVar).set(literalArr(styleExpressions,new ArrayType(DYNAMIC_TYPE,[TypeModifier.Const]))).toDeclStmt(null,isComponentStylesheet?[StmtModifier.Final]:[StmtModifier.Final,StmtModifier.Exported]);return outputCtx.statements.push(stmt),new CompiledStylesheet(outputCtx,stylesVar,dependencies,shim,stylesheet)}_shimIfNeeded(style,shim){return shim?this._shadowCss.shimCssText(style,"_ngcontent-%COMP%","_nghost-%COMP%"):style}}function getStylesVarName(component){let result="styles";return component&&(result+=`_${identifierName(component.type)}`),result}class NodeWithI18n{constructor(sourceSpan,i18n){this.sourceSpan=sourceSpan,this.i18n=i18n}}class Text$3 extends NodeWithI18n{constructor(value,sourceSpan,i18n){super(sourceSpan,i18n),this.value=value}visit(visitor,context){return visitor.visitText(this,context)}}class Expansion extends NodeWithI18n{constructor(switchValue,type,cases,sourceSpan,switchValueSourceSpan,i18n){super(sourceSpan,i18n),this.switchValue=switchValue,this.type=type,this.cases=cases,this.switchValueSourceSpan=switchValueSourceSpan}visit(visitor,context){return visitor.visitExpansion(this,context)}}class ExpansionCase{constructor(value,expression,sourceSpan,valueSourceSpan,expSourceSpan){this.value=value,this.expression=expression,this.sourceSpan=sourceSpan,this.valueSourceSpan=valueSourceSpan,this.expSourceSpan=expSourceSpan}visit(visitor,context){return visitor.visitExpansionCase(this,context)}}class Attribute extends NodeWithI18n{constructor(name,value,sourceSpan,valueSpan,i18n){super(sourceSpan,i18n),this.name=name,this.value=value,this.valueSpan=valueSpan}visit(visitor,context){return visitor.visitAttribute(this,context)}}class Element$1 extends NodeWithI18n{constructor(name,attrs,children,sourceSpan,startSourceSpan=null,endSourceSpan=null,i18n){super(sourceSpan,i18n),this.name=name,this.attrs=attrs,this.children=children,this.startSourceSpan=startSourceSpan,this.endSourceSpan=endSourceSpan}visit(visitor,context){return visitor.visitElement(this,context)}}class Comment{constructor(value,sourceSpan){this.value=value,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitComment(this,context)}}function visitAll$1(visitor,nodes,context=null){const result=[],visit=visitor.visit?ast=>visitor.visit(ast,context)||ast.visit(visitor,context):ast=>ast.visit(visitor,context);return nodes.forEach(ast=>{const astResult=visit(ast);astResult&&result.push(astResult)}),result}var TokenType;!function(TokenType){TokenType[TokenType.TAG_OPEN_START=0]="TAG_OPEN_START",TokenType[TokenType.TAG_OPEN_END=1]="TAG_OPEN_END",TokenType[TokenType.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",TokenType[TokenType.TAG_CLOSE=3]="TAG_CLOSE",TokenType[TokenType.TEXT=4]="TEXT",TokenType[TokenType.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",TokenType[TokenType.RAW_TEXT=6]="RAW_TEXT",TokenType[TokenType.COMMENT_START=7]="COMMENT_START",TokenType[TokenType.COMMENT_END=8]="COMMENT_END",TokenType[TokenType.CDATA_START=9]="CDATA_START",TokenType[TokenType.CDATA_END=10]="CDATA_END",TokenType[TokenType.ATTR_NAME=11]="ATTR_NAME",TokenType[TokenType.ATTR_QUOTE=12]="ATTR_QUOTE",TokenType[TokenType.ATTR_VALUE=13]="ATTR_VALUE",TokenType[TokenType.DOC_TYPE=14]="DOC_TYPE",TokenType[TokenType.EXPANSION_FORM_START=15]="EXPANSION_FORM_START",TokenType[TokenType.EXPANSION_CASE_VALUE=16]="EXPANSION_CASE_VALUE",TokenType[TokenType.EXPANSION_CASE_EXP_START=17]="EXPANSION_CASE_EXP_START",TokenType[TokenType.EXPANSION_CASE_EXP_END=18]="EXPANSION_CASE_EXP_END",TokenType[TokenType.EXPANSION_FORM_END=19]="EXPANSION_FORM_END",TokenType[TokenType.EOF=20]="EOF"}(TokenType||(TokenType={}));class Token{constructor(type,parts,sourceSpan){this.type=type,this.parts=parts,this.sourceSpan=sourceSpan}}class TokenError extends ParseError{constructor(errorMsg,tokenType,span){super(span,errorMsg),this.tokenType=tokenType}}class TokenizeResult{constructor(tokens,errors){this.tokens=tokens,this.errors=errors}}const _CR_OR_CRLF_REGEXP=/\r\n?/g;function _unexpectedCharacterErrorMsg(charCode){return`Unexpected character "${0===charCode?"EOF":String.fromCharCode(charCode)}"`}function _unknownEntityErrorMsg(entitySrc){return`Unknown entity "${entitySrc}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}class _ControlFlowError{constructor(error){this.error=error}}class _Tokenizer{constructor(_file,_getTagDefinition,options){this._getTagDefinition=_getTagDefinition,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._tokenizeIcu=options.tokenizeExpansionForms||!1,this._interpolationConfig=options.interpolationConfig||DEFAULT_INTERPOLATION_CONFIG,this._leadingTriviaCodePoints=options.leadingTriviaChars&&options.leadingTriviaChars.map(c=>c.codePointAt(0)||0);const range=options.range||{endPos:_file.content.length,startPos:0,startLine:0,startCol:0};this._cursor=options.escapedString?new EscapedCharacterCursor(_file,range):new PlainCharacterCursor(_file,range),this._preserveLineEndings=options.preserveLineEndings||!1;try{this._cursor.init()}catch(e){this.handleError(e)}}_processCarriageReturns(content){return this._preserveLineEndings?content:content.replace(_CR_OR_CRLF_REGEXP,"\n")}tokenize(){for(;0!==this._cursor.peek();){const start=this._cursor.clone();try{this._attemptCharCode(60)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(start):this._attemptCharCode(45)?this._consumeComment(start):this._consumeDocType(start):this._attemptCharCode(47)?this._consumeTagClose(start):this._consumeTagOpen(start):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(e){this.handleError(e)}}return this._beginToken(TokenType.EOF),this._endToken([]),new TokenizeResult(function mergeTextTokens(srcTokens){const dstTokens=[];let lastDstToken=void 0;for(let i=0;i<srcTokens.length;i++){const token=srcTokens[i];lastDstToken&&lastDstToken.type==TokenType.TEXT&&token.type==TokenType.TEXT?(lastDstToken.parts[0]+=token.parts[0],lastDstToken.sourceSpan.end=token.sourceSpan.end):(lastDstToken=token,dstTokens.push(lastDstToken))}return dstTokens}(this.tokens),this.errors)}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(function isExpansionCaseStart(peek){return 61===peek||isAsciiLetter(peek)||isDigit(peek)}(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(125===this._cursor.peek()){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(type,start=this._cursor.clone()){this._currentTokenStart=start,this._currentTokenType=type}_endToken(parts,end){if(null===this._currentTokenStart)throw new TokenError("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(end));if(null===this._currentTokenType)throw new TokenError("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));const token=new Token(this._currentTokenType,parts,this._cursor.getSpan(this._currentTokenStart,this._leadingTriviaCodePoints));return this.tokens.push(token),this._currentTokenStart=null,this._currentTokenType=null,token}_createError(msg,span){this._isInExpansionForm()&&(msg+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');const error=new TokenError(msg,this._currentTokenType,span);return this._currentTokenStart=null,this._currentTokenType=null,new _ControlFlowError(error)}handleError(e){if(e instanceof CursorError&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),!(e instanceof _ControlFlowError))throw e;this.errors.push(e.error)}_attemptCharCode(charCode){return this._cursor.peek()===charCode&&(this._cursor.advance(),!0)}_attemptCharCodeCaseInsensitive(charCode){return!!function compareCharCodeCaseInsensitive(code1,code2){return toUpperCaseCharCode(code1)==toUpperCaseCharCode(code2)}(this._cursor.peek(),charCode)&&(this._cursor.advance(),!0)}_requireCharCode(charCode){const location=this._cursor.clone();if(!this._attemptCharCode(charCode))throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(location))}_attemptStr(chars){const len=chars.length;if(this._cursor.charsLeft()<len)return!1;const initialPosition=this._cursor.clone();for(let i=0;i<len;i++)if(!this._attemptCharCode(chars.charCodeAt(i)))return this._cursor=initialPosition,!1;return!0}_attemptStrCaseInsensitive(chars){for(let i=0;i<chars.length;i++)if(!this._attemptCharCodeCaseInsensitive(chars.charCodeAt(i)))return!1;return!0}_requireStr(chars){const location=this._cursor.clone();if(!this._attemptStr(chars))throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(location))}_attemptCharCodeUntilFn(predicate){for(;!predicate(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(predicate,len){const start=this._cursor.clone();if(this._attemptCharCodeUntilFn(predicate),this._cursor.diff(start)<len)throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(start))}_attemptUntilChar(char){for(;this._cursor.peek()!==char;)this._cursor.advance()}_readChar(decodeEntities){if(decodeEntities&&38===this._cursor.peek())return this._decodeEntity();{const char=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),char}}_decodeEntity(){const start=this._cursor.clone();if(this._cursor.advance(),!this._attemptCharCode(35)){const nameStart=this._cursor.clone();if(this._attemptCharCodeUntilFn(isNamedEntityEnd),59!=this._cursor.peek())return this._cursor=nameStart,"&";const name=this._cursor.getChars(nameStart);this._cursor.advance();const char=NAMED_ENTITIES[name];if(!char)throw this._createError(_unknownEntityErrorMsg(name),this._cursor.getSpan(start));return char}{const isHex=this._attemptCharCode(120)||this._attemptCharCode(88),codeStart=this._cursor.clone();if(this._attemptCharCodeUntilFn(isDigitEntityEnd),59!=this._cursor.peek())throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan());const strNum=this._cursor.getChars(codeStart);this._cursor.advance();try{const charCode=parseInt(strNum,isHex?16:10);return String.fromCharCode(charCode)}catch(_a){throw this._createError(_unknownEntityErrorMsg(this._cursor.getChars(start)),this._cursor.getSpan())}}}_consumeRawText(decodeEntities,endMarkerPredicate){this._beginToken(decodeEntities?TokenType.ESCAPABLE_RAW_TEXT:TokenType.RAW_TEXT);const parts=[];for(;;){const tagCloseStart=this._cursor.clone(),foundEndMarker=endMarkerPredicate();if(this._cursor=tagCloseStart,foundEndMarker)break;parts.push(this._readChar(decodeEntities))}return this._endToken([this._processCarriageReturns(parts.join(""))])}_consumeComment(start){this._beginToken(TokenType.COMMENT_START,start),this._requireCharCode(45),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("--\x3e")),this._beginToken(TokenType.COMMENT_END),this._requireStr("--\x3e"),this._endToken([])}_consumeCdata(start){this._beginToken(TokenType.CDATA_START,start),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(TokenType.CDATA_END),this._requireStr("]]>"),this._endToken([])}_consumeDocType(start){this._beginToken(TokenType.DOC_TYPE,start);const contentStart=this._cursor.clone();this._attemptUntilChar(62);const content=this._cursor.getChars(contentStart);this._cursor.advance(),this._endToken([content])}_consumePrefixAndName(){const nameOrPrefixStart=this._cursor.clone();let prefix="";for(;58!==this._cursor.peek()&&!(((code=this._cursor.peek())<97||122<code)&&(code<65||90<code)&&(code<48||code>57));)this._cursor.advance();var code;let nameStart;return 58===this._cursor.peek()?(prefix=this._cursor.getChars(nameOrPrefixStart),this._cursor.advance(),nameStart=this._cursor.clone()):nameStart=nameOrPrefixStart,this._requireCharCodeUntilFn(isNameEnd,""===prefix?0:1),[prefix,this._cursor.getChars(nameStart)]}_consumeTagOpen(start){let tagName,prefix,openTagToken,tokensBeforeTagOpen=this.tokens.length;const innerStart=this._cursor.clone();try{if(!isAsciiLetter(this._cursor.peek()))throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(start));for(openTagToken=this._consumeTagOpenStart(start),prefix=openTagToken.parts[0],tagName=openTagToken.parts[1],this._attemptCharCodeUntilFn(isNotWhitespace);47!==this._cursor.peek()&&62!==this._cursor.peek();)this._consumeAttributeName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._attemptCharCode(61)&&(this._attemptCharCodeUntilFn(isNotWhitespace),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(isNotWhitespace);this._consumeTagOpenEnd()}catch(e){if(e instanceof _ControlFlowError)return this._cursor=innerStart,openTagToken&&(this.tokens.length=tokensBeforeTagOpen),this._beginToken(TokenType.TEXT,start),void this._endToken(["<"]);throw e}const contentTokenType=this._getTagDefinition(tagName).contentType;contentTokenType===TagContentType.RAW_TEXT?this._consumeRawTextWithTagClose(prefix,tagName,!1):contentTokenType===TagContentType.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(prefix,tagName,!0)}_consumeRawTextWithTagClose(prefix,tagName,decodeEntities){this._consumeRawText(decodeEntities,()=>!!this._attemptCharCode(60)&&(!!this._attemptCharCode(47)&&(this._attemptCharCodeUntilFn(isNotWhitespace),!!this._attemptStrCaseInsensitive(tagName)&&(this._attemptCharCodeUntilFn(isNotWhitespace),this._attemptCharCode(62)))));this._beginToken(TokenType.TAG_CLOSE),this._requireCharCodeUntilFn(code=>62===code,3),this._cursor.advance(),this._endToken([prefix,tagName])}_consumeTagOpenStart(start){this._beginToken(TokenType.TAG_OPEN_START,start);const parts=this._consumePrefixAndName();return this._endToken(parts)}_consumeAttributeName(){const attrNameStart=this._cursor.peek();if(39===attrNameStart||34===attrNameStart)throw this._createError(_unexpectedCharacterErrorMsg(attrNameStart),this._cursor.getSpan());this._beginToken(TokenType.ATTR_NAME);const prefixAndName=this._consumePrefixAndName();this._endToken(prefixAndName)}_consumeAttributeValue(){let value;if(39===this._cursor.peek()||34===this._cursor.peek()){this._beginToken(TokenType.ATTR_QUOTE);const quoteChar=this._cursor.peek();this._cursor.advance(),this._endToken([String.fromCodePoint(quoteChar)]),this._beginToken(TokenType.ATTR_VALUE);const parts=[];for(;this._cursor.peek()!==quoteChar;)parts.push(this._readChar(!0));value=parts.join(""),this._endToken([this._processCarriageReturns(value)]),this._beginToken(TokenType.ATTR_QUOTE),this._cursor.advance(),this._endToken([String.fromCodePoint(quoteChar)])}else{this._beginToken(TokenType.ATTR_VALUE);const valueStart=this._cursor.clone();this._requireCharCodeUntilFn(isNameEnd,1),value=this._cursor.getChars(valueStart),this._endToken([this._processCarriageReturns(value)])}}_consumeTagOpenEnd(){const tokenType=this._attemptCharCode(47)?TokenType.TAG_OPEN_END_VOID:TokenType.TAG_OPEN_END;this._beginToken(tokenType),this._requireCharCode(62),this._endToken([])}_consumeTagClose(start){this._beginToken(TokenType.TAG_CLOSE,start),this._attemptCharCodeUntilFn(isNotWhitespace);const prefixAndName=this._consumePrefixAndName();this._attemptCharCodeUntilFn(isNotWhitespace),this._requireCharCode(62),this._endToken(prefixAndName)}_consumeExpansionFormStart(){this._beginToken(TokenType.EXPANSION_FORM_START),this._requireCharCode(123),this._endToken([]),this._expansionCaseStack.push(TokenType.EXPANSION_FORM_START),this._beginToken(TokenType.RAW_TEXT);const condition=this._readUntil(44);this._endToken([condition]),this._requireCharCode(44),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(TokenType.RAW_TEXT);const type=this._readUntil(44);this._endToken([type]),this._requireCharCode(44),this._attemptCharCodeUntilFn(isNotWhitespace)}_consumeExpansionCaseStart(){this._beginToken(TokenType.EXPANSION_CASE_VALUE);const value=this._readUntil(123).trim();this._endToken([value]),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(TokenType.EXPANSION_CASE_EXP_START),this._requireCharCode(123),this._endToken([]),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.push(TokenType.EXPANSION_CASE_EXP_START)}_consumeExpansionCaseEnd(){this._beginToken(TokenType.EXPANSION_CASE_EXP_END),this._requireCharCode(125),this._endToken([]),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(TokenType.EXPANSION_FORM_END),this._requireCharCode(125),this._endToken([]),this._expansionCaseStack.pop()}_consumeText(){const start=this._cursor.clone();this._beginToken(TokenType.TEXT,start);const parts=[];do{this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(parts.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(parts.push(this._interpolationConfig.end),this._inInterpolation=!1):parts.push(this._readChar(!0))}while(!this._isTextEnd());this._endToken([this._processCarriageReturns(parts.join(""))])}_isTextEnd(){if(60===this._cursor.peek()||0===this._cursor.peek())return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(this.isExpansionFormStart())return!0;if(125===this._cursor.peek()&&this._isInExpansionCase())return!0}return!1}_readUntil(char){const start=this._cursor.clone();return this._attemptUntilChar(char),this._cursor.getChars(start)}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===TokenType.EXPANSION_CASE_EXP_START}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===TokenType.EXPANSION_FORM_START}isExpansionFormStart(){if(123!==this._cursor.peek())return!1;if(this._interpolationConfig){const start=this._cursor.clone(),isInterpolation=this._attemptStr(this._interpolationConfig.start);return this._cursor=start,!isInterpolation}return!0}}function isNotWhitespace(code){return!isWhitespace(code)||0===code}function isNameEnd(code){return isWhitespace(code)||62===code||47===code||39===code||34===code||61===code}function isDigitEntityEnd(code){return 59==code||0==code||!function isAsciiHexDigit(code){return code>=97&&code<=102||code>=65&&code<=70||isDigit(code)}(code)}function isNamedEntityEnd(code){return 59==code||0==code||!isAsciiLetter(code)}function toUpperCaseCharCode(code){return code>=97&&code<=122?code-97+65:code}class PlainCharacterCursor{constructor(fileOrCursor,range){if(fileOrCursor instanceof PlainCharacterCursor){this.file=fileOrCursor.file,this.input=fileOrCursor.input,this.end=fileOrCursor.end;const state=fileOrCursor.state;this.state={peek:state.peek,offset:state.offset,line:state.line,column:state.column}}else{if(!range)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=fileOrCursor,this.input=fileOrCursor.content,this.end=range.endPos,this.state={peek:-1,offset:range.startPos,line:range.startLine,column:range.startCol}}}clone(){return new PlainCharacterCursor(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(other){return this.state.offset-other.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(start,leadingTriviaCodePoints){start=start||this;let cloned=!1;if(leadingTriviaCodePoints)for(;this.diff(start)>0&&-1!==leadingTriviaCodePoints.indexOf(start.peek());)cloned||(start=start.clone(),cloned=!0),start.advance();return new ParseSourceSpan(new ParseLocation(start.file,start.state.offset,start.state.line,start.state.column),new ParseLocation(this.file,this.state.offset,this.state.line,this.state.column))}getChars(start){return this.input.substring(start.state.offset,this.state.offset)}charAt(pos){return this.input.charCodeAt(pos)}advanceState(state){if(state.offset>=this.end)throw this.state=state,new CursorError('Unexpected character "EOF"',this);const currentChar=this.charAt(state.offset);10===currentChar?(state.line++,state.column=0):isNewLine(currentChar)||state.column++,state.offset++,this.updatePeek(state)}updatePeek(state){state.peek=state.offset>=this.end?0:this.charAt(state.offset)}}class EscapedCharacterCursor extends PlainCharacterCursor{constructor(fileOrCursor,range){fileOrCursor instanceof EscapedCharacterCursor?(super(fileOrCursor),this.internalState=Object.assign({},fileOrCursor.internalState)):(super(fileOrCursor,range),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new EscapedCharacterCursor(this)}getChars(start){const cursor=start.clone();let chars="";for(;cursor.internalState.offset<this.internalState.offset;)chars+=String.fromCodePoint(cursor.peek()),cursor.advance();return chars}processEscapeSequence(){const peek=()=>this.internalState.peek;if(92===peek())if(this.internalState=Object.assign({},this.state),this.advanceState(this.internalState),110===peek())this.state.peek=10;else if(114===peek())this.state.peek=13;else if(118===peek())this.state.peek=11;else if(116===peek())this.state.peek=9;else if(98===peek())this.state.peek=8;else if(102===peek())this.state.peek=12;else if(117===peek())if(this.advanceState(this.internalState),123===peek()){this.advanceState(this.internalState);const digitStart=this.clone();let length=0;for(;125!==peek();)this.advanceState(this.internalState),length++;this.state.peek=this.decodeHexDigits(digitStart,length)}else{const digitStart=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(digitStart,4)}else if(120===peek()){this.advanceState(this.internalState);const digitStart=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(digitStart,2)}else if(isOctalDigit(peek())){let octal="",length=0,previous=this.clone();for(;isOctalDigit(peek())&&length<3;)previous=this.clone(),octal+=String.fromCodePoint(peek()),this.advanceState(this.internalState),length++;this.state.peek=parseInt(octal,8),this.internalState=previous.internalState}else isNewLine(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(start,length){const hex=this.input.substr(start.internalState.offset,length),charCode=parseInt(hex,16);if(isNaN(charCode))throw start.state=start.internalState,new CursorError("Invalid hexadecimal escape sequence",start);return charCode}}class CursorError{constructor(msg,cursor){this.msg=msg,this.cursor=cursor}}class TreeError extends ParseError{constructor(elementName,span,msg){super(span,msg),this.elementName=elementName}static create(elementName,span,msg){return new TreeError(elementName,span,msg)}}class ParseTreeResult{constructor(rootNodes,errors){this.rootNodes=rootNodes,this.errors=errors}}class Parser{constructor(getTagDefinition){this.getTagDefinition=getTagDefinition}parse(source,url,options){const tokensAndErrors=function tokenize(source,url,getTagDefinition,options={}){return new _Tokenizer(new ParseSourceFile(source,url),getTagDefinition,options).tokenize()}(source,url,this.getTagDefinition,options),treeAndErrors=new _TreeBuilder(tokensAndErrors.tokens,this.getTagDefinition).build();return new ParseTreeResult(treeAndErrors.rootNodes,tokensAndErrors.errors.concat(treeAndErrors.errors))}}class _TreeBuilder{constructor(tokens,getTagDefinition){this.tokens=tokens,this.getTagDefinition=getTagDefinition,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}build(){for(;this._peek.type!==TokenType.EOF;)this._peek.type===TokenType.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===TokenType.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===TokenType.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===TokenType.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===TokenType.TEXT||this._peek.type===TokenType.RAW_TEXT||this._peek.type===TokenType.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===TokenType.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new ParseTreeResult(this._rootNodes,this._errors)}_advance(){const prev=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],prev}_advanceIf(type){return this._peek.type===type?this._advance():null}_consumeCdata(startToken){this._consumeText(this._advance()),this._advanceIf(TokenType.CDATA_END)}_consumeComment(token){const text=this._advanceIf(TokenType.RAW_TEXT);this._advanceIf(TokenType.COMMENT_END);const value=null!=text?text.parts[0].trim():null;this._addToParent(new Comment(value,token.sourceSpan))}_consumeExpansion(token){const switchValue=this._advance(),type=this._advance(),cases=[];for(;this._peek.type===TokenType.EXPANSION_CASE_VALUE;){const expCase=this._parseExpansionCase();if(!expCase)return;cases.push(expCase)}if(this._peek.type!==TokenType.EXPANSION_FORM_END)return void this._errors.push(TreeError.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));const sourceSpan=new ParseSourceSpan(token.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new Expansion(switchValue.parts[0],type.parts[0],cases,sourceSpan,switchValue.sourceSpan)),this._advance()}_parseExpansionCase(){const value=this._advance();if(this._peek.type!==TokenType.EXPANSION_CASE_EXP_START)return this._errors.push(TreeError.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;const start=this._advance(),exp=this._collectExpansionExpTokens(start);if(!exp)return null;const end=this._advance();exp.push(new Token(TokenType.EOF,[],end.sourceSpan));const parsedExp=new _TreeBuilder(exp,this.getTagDefinition).build();if(parsedExp.errors.length>0)return this._errors=this._errors.concat(parsedExp.errors),null;const sourceSpan=new ParseSourceSpan(value.sourceSpan.start,end.sourceSpan.end),expSourceSpan=new ParseSourceSpan(start.sourceSpan.start,end.sourceSpan.end);return new ExpansionCase(value.parts[0],parsedExp.rootNodes,sourceSpan,value.sourceSpan,expSourceSpan)}_collectExpansionExpTokens(start){const exp=[],expansionFormStack=[TokenType.EXPANSION_CASE_EXP_START];for(;;){if(this._peek.type!==TokenType.EXPANSION_FORM_START&&this._peek.type!==TokenType.EXPANSION_CASE_EXP_START||expansionFormStack.push(this._peek.type),this._peek.type===TokenType.EXPANSION_CASE_EXP_END){if(!lastOnStack(expansionFormStack,TokenType.EXPANSION_CASE_EXP_START))return this._errors.push(TreeError.create(null,start.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(expansionFormStack.pop(),0==expansionFormStack.length)return exp}if(this._peek.type===TokenType.EXPANSION_FORM_END){if(!lastOnStack(expansionFormStack,TokenType.EXPANSION_FORM_START))return this._errors.push(TreeError.create(null,start.sourceSpan,"Invalid ICU message. Missing '}'.")),null;expansionFormStack.pop()}if(this._peek.type===TokenType.EOF)return this._errors.push(TreeError.create(null,start.sourceSpan,"Invalid ICU message. Missing '}'.")),null;exp.push(this._advance())}}_consumeText(token){let text=token.parts[0];if(text.length>0&&"\n"==text[0]){const parent=this._getParentElement();null!=parent&&0==parent.children.length&&this.getTagDefinition(parent.name).ignoreFirstLf&&(text=text.substring(1))}text.length>0&&this._addToParent(new Text$3(text,token.sourceSpan))}_closeVoidElement(){const el=this._getParentElement();el&&this.getTagDefinition(el.name).isVoid&&this._elementStack.pop()}_consumeStartTag(startTagToken){const prefix=startTagToken.parts[0],name=startTagToken.parts[1],attrs=[];for(;this._peek.type===TokenType.ATTR_NAME;)attrs.push(this._consumeAttr(this._advance()));const fullName=this._getElementFullName(prefix,name,this._getParentElement());let selfClosing=!1;if(this._peek.type===TokenType.TAG_OPEN_END_VOID){this._advance(),selfClosing=!0;const tagDef=this.getTagDefinition(fullName);tagDef.canSelfClose||null!==getNsPrefix(fullName)||tagDef.isVoid||this._errors.push(TreeError.create(fullName,startTagToken.sourceSpan,`Only void and foreign elements can be self closed "${startTagToken.parts[1]}"`))}else this._peek.type===TokenType.TAG_OPEN_END&&(this._advance(),selfClosing=!1);const end=this._peek.sourceSpan.start,span=new ParseSourceSpan(startTagToken.sourceSpan.start,end),el=new Element$1(fullName,attrs,[],span,span,void 0);this._pushElement(el),selfClosing&&(this._popElement(fullName),el.endSourceSpan=span)}_pushElement(el){const parentEl=this._getParentElement();parentEl&&this.getTagDefinition(parentEl.name).isClosedByChild(el.name)&&this._elementStack.pop(),this._addToParent(el),this._elementStack.push(el)}_consumeEndTag(endTagToken){const fullName=this._getElementFullName(endTagToken.parts[0],endTagToken.parts[1],this._getParentElement());if(this._getParentElement()&&(this._getParentElement().endSourceSpan=endTagToken.sourceSpan),this.getTagDefinition(fullName).isVoid)this._errors.push(TreeError.create(fullName,endTagToken.sourceSpan,`Void elements do not have end tags "${endTagToken.parts[1]}"`));else if(!this._popElement(fullName)){const errMsg=`Unexpected closing tag "${fullName}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this._errors.push(TreeError.create(fullName,endTagToken.sourceSpan,errMsg))}}_popElement(fullName){for(let stackIndex=this._elementStack.length-1;stackIndex>=0;stackIndex--){const el=this._elementStack[stackIndex];if(el.name==fullName)return this._elementStack.splice(stackIndex,this._elementStack.length-stackIndex),!0;if(!this.getTagDefinition(el.name).closedByParent)return!1}return!1}_consumeAttr(attrName){const fullName=mergeNsAndName(attrName.parts[0],attrName.parts[1]);let end=attrName.sourceSpan.end,value="",valueSpan=void 0;if(this._peek.type===TokenType.ATTR_QUOTE&&this._advance(),this._peek.type===TokenType.ATTR_VALUE){const valueToken=this._advance();value=valueToken.parts[0],end=valueToken.sourceSpan.end,valueSpan=valueToken.sourceSpan}if(this._peek.type===TokenType.ATTR_QUOTE){end=this._advance().sourceSpan.end}return new Attribute(fullName,value,new ParseSourceSpan(attrName.sourceSpan.start,end),valueSpan)}_getParentElement(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null}_getParentElementSkippingContainers(){let container=null;for(let i=this._elementStack.length-1;i>=0;i--){if(!isNgContainer(this._elementStack[i].name))return{parent:this._elementStack[i],container:container};container=this._elementStack[i]}return{parent:null,container:container}}_addToParent(node){const parent=this._getParentElement();null!=parent?parent.children.push(node):this._rootNodes.push(node)}_insertBeforeContainer(parent,container,node){if(container){if(parent){const index=parent.children.indexOf(container);parent.children[index]=node}else this._rootNodes.push(node);node.children.push(container),this._elementStack.splice(this._elementStack.indexOf(container),0,node)}else this._addToParent(node),this._elementStack.push(node)}_getElementFullName(prefix,localName,parentElement){return""===prefix&&""===(prefix=this.getTagDefinition(localName).implicitNamespacePrefix||"")&&null!=parentElement&&(prefix=getNsPrefix(parentElement.name)),mergeNsAndName(prefix,localName)}}function lastOnStack(stack,element){return stack.length>0&&stack[stack.length-1]===element}class HtmlParser extends Parser{constructor(){super(getHtmlTagDefinition)}parse(source,url,options){return super.parse(source,url,options)}}const SKIP_WS_TRIM_TAGS=new Set(["pre","template","textarea","script","style"]),WS_CHARS=" \f\n\r\t\v\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff",NO_WS_REGEXP=new RegExp(`[^${WS_CHARS}]`),WS_REPLACE_REGEXP=new RegExp(`[${WS_CHARS}]{2,}`,"g");function replaceNgsp(value){return value.replace(new RegExp("\ue500","g")," ")}class WhitespaceVisitor{visitElement(element,context){return SKIP_WS_TRIM_TAGS.has(element.name)||function hasPreserveWhitespacesAttr(attrs){return attrs.some(attr=>"ngPreserveWhitespaces"===attr.name)}(element.attrs)?new Element$1(element.name,visitAll$1(this,element.attrs),element.children,element.sourceSpan,element.startSourceSpan,element.endSourceSpan,element.i18n):new Element$1(element.name,element.attrs,function visitAllWithSiblings(visitor,nodes){const result=[];return nodes.forEach((ast,i)=>{const context={prev:nodes[i-1],next:nodes[i+1]},astResult=ast.visit(visitor,context);astResult&&result.push(astResult)}),result}(this,element.children),element.sourceSpan,element.startSourceSpan,element.endSourceSpan,element.i18n)}visitAttribute(attribute,context){return"ngPreserveWhitespaces"!==attribute.name?attribute:null}visitText(text,context){const isNotBlank=text.value.match(NO_WS_REGEXP),hasExpansionSibling=context&&(context.prev instanceof Expansion||context.next instanceof Expansion);return isNotBlank||hasExpansionSibling?new Text$3(replaceNgsp(text.value).replace(WS_REPLACE_REGEXP," "),text.sourceSpan,text.i18n):null}visitComment(comment,context){return comment}visitExpansion(expansion,context){return expansion}visitExpansionCase(expansionCase,context){return expansionCase}}function removeWhitespaces(htmlAstWithErrors){return new ParseTreeResult(visitAll$1(new WhitespaceVisitor,htmlAstWithErrors.rootNodes),htmlAstWithErrors.errors)}const PLURAL_CASES=["zero","one","two","few","many","other"];function expandNodes(nodes){const expander=new _Expander;return new ExpansionResult(visitAll$1(expander,nodes),expander.isExpanded,expander.errors)}class ExpansionResult{constructor(nodes,expanded,errors){this.nodes=nodes,this.expanded=expanded,this.errors=errors}}class ExpansionError extends ParseError{constructor(span,errorMsg){super(span,errorMsg)}}class _Expander{constructor(){this.isExpanded=!1,this.errors=[]}visitElement(element,context){return new Element$1(element.name,element.attrs,visitAll$1(this,element.children),element.sourceSpan,element.startSourceSpan,element.endSourceSpan)}visitAttribute(attribute,context){return attribute}visitText(text,context){return text}visitComment(comment,context){return comment}visitExpansion(icu,context){return this.isExpanded=!0,"plural"==icu.type?function _expandPluralForm(ast,errors){const children=ast.cases.map(c=>{-1!=PLURAL_CASES.indexOf(c.value)||c.value.match(/^=\d+$/)||errors.push(new ExpansionError(c.valueSourceSpan,`Plural cases should be "=<number>" or one of ${PLURAL_CASES.join(", ")}`));const expansionResult=expandNodes(c.expression);return errors.push(...expansionResult.errors),new Element$1("ng-template",[new Attribute("ngPluralCase",`${c.value}`,c.valueSourceSpan)],expansionResult.nodes,c.sourceSpan,c.sourceSpan,c.sourceSpan)}),switchAttr=new Attribute("[ngPlural]",ast.switchValue,ast.switchValueSourceSpan);return new Element$1("ng-container",[switchAttr],children,ast.sourceSpan,ast.sourceSpan,ast.sourceSpan)}(icu,this.errors):function _expandDefaultForm(ast,errors){const children=ast.cases.map(c=>{const expansionResult=expandNodes(c.expression);return errors.push(...expansionResult.errors),"other"===c.value?new Element$1("ng-template",[new Attribute("ngSwitchDefault","",c.valueSourceSpan)],expansionResult.nodes,c.sourceSpan,c.sourceSpan,c.sourceSpan):new Element$1("ng-template",[new Attribute("ngSwitchCase",`${c.value}`,c.valueSourceSpan)],expansionResult.nodes,c.sourceSpan,c.sourceSpan,c.sourceSpan)}),switchAttr=new Attribute("[ngSwitch]",ast.switchValue,ast.switchValueSourceSpan);return new Element$1("ng-container",[switchAttr],children,ast.sourceSpan,ast.sourceSpan,ast.sourceSpan)}(icu,this.errors)}visitExpansionCase(icuCase,context){throw new Error("Should not be reached")}}class TextAst{constructor(value,ngContentIndex,sourceSpan){this.value=value,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitText(this,context)}}class BoundTextAst{constructor(value,ngContentIndex,sourceSpan){this.value=value,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitBoundText(this,context)}}class AttrAst{constructor(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitAttr(this,context)}}const BoundPropertyMapping={4:4,1:1,2:2,0:0,3:3};class BoundElementPropertyAst{constructor(name,type,securityContext,value,unit,sourceSpan){this.name=name,this.type=type,this.securityContext=securityContext,this.value=value,this.unit=unit,this.sourceSpan=sourceSpan,this.isAnimation=4===this.type}static fromBoundProperty(prop){const type=BoundPropertyMapping[prop.type];return new BoundElementPropertyAst(prop.name,type,prop.securityContext,prop.value,prop.unit,prop.sourceSpan)}visit(visitor,context){return visitor.visitElementProperty(this,context)}}class BoundEventAst{constructor(name,target,phase,handler,sourceSpan,handlerSpan){this.name=name,this.target=target,this.phase=phase,this.handler=handler,this.sourceSpan=sourceSpan,this.handlerSpan=handlerSpan,this.fullName=BoundEventAst.calcFullName(this.name,this.target,this.phase),this.isAnimation=!!this.phase}static calcFullName(name,target,phase){return target?`${target}:${name}`:phase?`@${name}.${phase}`:name}static fromParsedEvent(event){const target=0===event.type?event.targetOrPhase:null,phase=1===event.type?event.targetOrPhase:null;return new BoundEventAst(event.name,target,phase,event.handler,event.sourceSpan,event.handlerSpan)}visit(visitor,context){return visitor.visitEvent(this,context)}}class ReferenceAst{constructor(name,value,originalValue,sourceSpan){this.name=name,this.value=value,this.originalValue=originalValue,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitReference(this,context)}}class VariableAst{constructor(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}static fromParsedVariable(v){return new VariableAst(v.name,v.value,v.sourceSpan)}visit(visitor,context){return visitor.visitVariable(this,context)}}class ElementAst{constructor(name,attrs,inputs,outputs,references,directives,providers,hasViewContainer,queryMatches,children,ngContentIndex,sourceSpan,endSourceSpan){this.name=name,this.attrs=attrs,this.inputs=inputs,this.outputs=outputs,this.references=references,this.directives=directives,this.providers=providers,this.hasViewContainer=hasViewContainer,this.queryMatches=queryMatches,this.children=children,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan,this.endSourceSpan=endSourceSpan}visit(visitor,context){return visitor.visitElement(this,context)}}class EmbeddedTemplateAst{constructor(attrs,outputs,references,variables,directives,providers,hasViewContainer,queryMatches,children,ngContentIndex,sourceSpan){this.attrs=attrs,this.outputs=outputs,this.references=references,this.variables=variables,this.directives=directives,this.providers=providers,this.hasViewContainer=hasViewContainer,this.queryMatches=queryMatches,this.children=children,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitEmbeddedTemplate(this,context)}}class BoundDirectivePropertyAst{constructor(directiveName,templateName,value,sourceSpan){this.directiveName=directiveName,this.templateName=templateName,this.value=value,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitDirectiveProperty(this,context)}}class DirectiveAst{constructor(directive,inputs,hostProperties,hostEvents,contentQueryStartId,sourceSpan){this.directive=directive,this.inputs=inputs,this.hostProperties=hostProperties,this.hostEvents=hostEvents,this.contentQueryStartId=contentQueryStartId,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitDirective(this,context)}}class ProviderAst{constructor(token,multiProvider,eager,providers,providerType,lifecycleHooks,sourceSpan,isModule){this.token=token,this.multiProvider=multiProvider,this.eager=eager,this.providers=providers,this.providerType=providerType,this.lifecycleHooks=lifecycleHooks,this.sourceSpan=sourceSpan,this.isModule=isModule}visit(visitor,context){return null}}var ProviderAstType;!function(ProviderAstType){ProviderAstType[ProviderAstType.PublicService=0]="PublicService",ProviderAstType[ProviderAstType.PrivateService=1]="PrivateService",ProviderAstType[ProviderAstType.Component=2]="Component",ProviderAstType[ProviderAstType.Directive=3]="Directive",ProviderAstType[ProviderAstType.Builtin=4]="Builtin"}(ProviderAstType||(ProviderAstType={}));class NgContentAst{constructor(index,ngContentIndex,sourceSpan){this.index=index,this.ngContentIndex=ngContentIndex,this.sourceSpan=sourceSpan}visit(visitor,context){return visitor.visitNgContent(this,context)}}function templateVisitAll(visitor,asts,context=null){const result=[],visit=visitor.visit?ast=>visitor.visit(ast,context)||ast.visit(visitor,context):ast=>ast.visit(visitor,context);return asts.forEach(ast=>{const astResult=visit(ast);astResult&&result.push(astResult)}),result}class ProviderError extends ParseError{constructor(message,span){super(span,message)}}class ProviderViewContext{constructor(reflector,component){this.reflector=reflector,this.component=component,this.errors=[],this.viewQueries=function _getViewQueries(component){let viewQueryId=1;const viewQueries=new Map;component.viewQueries&&component.viewQueries.forEach(query=>_addQueryToTokenMap(viewQueries,{meta:query,queryId:viewQueryId++}));return viewQueries}(component),this.viewProviders=new Map,component.viewProviders.forEach(provider=>{null==this.viewProviders.get(tokenReference(provider.token))&&this.viewProviders.set(tokenReference(provider.token),!0)})}}class ProviderElementContext{constructor(viewContext,_parent,_isViewRoot,_directiveAsts,attrs,refs,isTemplate,contentQueryStartId,_sourceSpan){this.viewContext=viewContext,this._parent=_parent,this._isViewRoot=_isViewRoot,this._directiveAsts=_directiveAsts,this._sourceSpan=_sourceSpan,this._transformedProviders=new Map,this._seenProviders=new Map,this._queriedTokens=new Map,this.transformedHasViewContainer=!1,this._attrs={},attrs.forEach(attrAst=>this._attrs[attrAst.name]=attrAst.value);const directivesMeta=_directiveAsts.map(directiveAst=>directiveAst.directive);if(this._allProviders=function _resolveProvidersFromDirectives(directives,sourceSpan,targetErrors){const providersByToken=new Map;return directives.forEach(directive=>{_resolveProviders([{token:{identifier:directive.type},useClass:directive.type}],directive.isComponent?ProviderAstType.Component:ProviderAstType.Directive,!0,sourceSpan,targetErrors,providersByToken,!1)}),directives.filter(dir=>dir.isComponent).concat(directives.filter(dir=>!dir.isComponent)).forEach(directive=>{_resolveProviders(directive.providers,ProviderAstType.PublicService,!1,sourceSpan,targetErrors,providersByToken,!1),_resolveProviders(directive.viewProviders,ProviderAstType.PrivateService,!1,sourceSpan,targetErrors,providersByToken,!1)}),providersByToken}(directivesMeta,_sourceSpan,viewContext.errors),this._contentQueries=function _getContentQueries(contentQueryStartId,directives){let contentQueryId=contentQueryStartId;const contentQueries=new Map;return directives.forEach((directive,directiveIndex)=>{directive.queries&&directive.queries.forEach(query=>_addQueryToTokenMap(contentQueries,{meta:query,queryId:contentQueryId++}))}),contentQueries}(contentQueryStartId,directivesMeta),Array.from(this._allProviders.values()).forEach(provider=>{this._addQueryReadsTo(provider.token,provider.token,this._queriedTokens)}),isTemplate){const templateRefId=createTokenForExternalReference(this.viewContext.reflector,Identifiers.TemplateRef);this._addQueryReadsTo(templateRefId,templateRefId,this._queriedTokens)}refs.forEach(refAst=>{let defaultQueryValue=refAst.value||createTokenForExternalReference(this.viewContext.reflector,Identifiers.ElementRef);this._addQueryReadsTo({value:refAst.name},defaultQueryValue,this._queriedTokens)}),this._queriedTokens.get(this.viewContext.reflector.resolveExternalReference(Identifiers.ViewContainerRef))&&(this.transformedHasViewContainer=!0),Array.from(this._allProviders.values()).forEach(provider=>{(provider.eager||this._queriedTokens.get(tokenReference(provider.token)))&&this._getOrCreateLocalProvider(provider.providerType,provider.token,!0)})}afterElement(){Array.from(this._allProviders.values()).forEach(provider=>{this._getOrCreateLocalProvider(provider.providerType,provider.token,!1)})}get transformProviders(){const lazyProviders=[],eagerProviders=[];return this._transformedProviders.forEach(provider=>{provider.eager?eagerProviders.push(provider):lazyProviders.push(provider)}),lazyProviders.concat(eagerProviders)}get transformedDirectiveAsts(){const sortedProviderTypes=this.transformProviders.map(provider=>provider.token.identifier),sortedDirectives=this._directiveAsts.slice();return sortedDirectives.sort((dir1,dir2)=>sortedProviderTypes.indexOf(dir1.directive.type)-sortedProviderTypes.indexOf(dir2.directive.type)),sortedDirectives}get queryMatches(){const allMatches=[];return this._queriedTokens.forEach(matches=>{allMatches.push(...matches)}),allMatches}_addQueryReadsTo(token,defaultValue,queryReadTokens){this._getQueriesFor(token).forEach(query=>{const queryValue=query.meta.read||defaultValue,tokenRef=tokenReference(queryValue);let queryMatches=queryReadTokens.get(tokenRef);queryMatches||(queryMatches=[],queryReadTokens.set(tokenRef,queryMatches)),queryMatches.push({queryId:query.queryId,value:queryValue})})}_getQueriesFor(token){const result=[];let queries,currentEl=this,distance=0;for(;null!==currentEl;)queries=currentEl._contentQueries.get(tokenReference(token)),queries&&result.push(...queries.filter(query=>query.meta.descendants||distance<=1)),currentEl._directiveAsts.length>0&&distance++,currentEl=currentEl._parent;return queries=this.viewContext.viewQueries.get(tokenReference(token)),queries&&result.push(...queries),result}_getOrCreateLocalProvider(requestingProviderType,token,eager){const resolvedProvider=this._allProviders.get(tokenReference(token));if(!resolvedProvider||(requestingProviderType===ProviderAstType.Directive||requestingProviderType===ProviderAstType.PublicService)&&resolvedProvider.providerType===ProviderAstType.PrivateService||(requestingProviderType===ProviderAstType.PrivateService||requestingProviderType===ProviderAstType.PublicService)&&resolvedProvider.providerType===ProviderAstType.Builtin)return null;let transformedProviderAst=this._transformedProviders.get(tokenReference(token));if(transformedProviderAst)return transformedProviderAst;if(null!=this._seenProviders.get(tokenReference(token)))return this.viewContext.errors.push(new ProviderError(`Cannot instantiate cyclic dependency! ${tokenName(token)}`,this._sourceSpan)),null;this._seenProviders.set(tokenReference(token),!0);const transformedProviders=resolvedProvider.providers.map(provider=>{let transformedUseValue=provider.useValue,transformedUseExisting=provider.useExisting,transformedDeps=void 0;if(null!=provider.useExisting){const existingDiDep=this._getDependency(resolvedProvider.providerType,{token:provider.useExisting},eager);null!=existingDiDep.token?transformedUseExisting=existingDiDep.token:(transformedUseExisting=null,transformedUseValue=existingDiDep.value)}else if(provider.useFactory){transformedDeps=(provider.deps||provider.useFactory.diDeps).map(dep=>this._getDependency(resolvedProvider.providerType,dep,eager))}else if(provider.useClass){transformedDeps=(provider.deps||provider.useClass.diDeps).map(dep=>this._getDependency(resolvedProvider.providerType,dep,eager))}return _transformProvider(provider,{useExisting:transformedUseExisting,useValue:transformedUseValue,deps:transformedDeps})});return transformedProviderAst=_transformProviderAst(resolvedProvider,{eager:eager,providers:transformedProviders}),this._transformedProviders.set(tokenReference(token),transformedProviderAst),transformedProviderAst}_getLocalDependency(requestingProviderType,dep,eager=!1){if(dep.isAttribute){const attrValue=this._attrs[dep.token.value];return{isValue:!0,value:null==attrValue?null:attrValue}}if(null!=dep.token){if(requestingProviderType===ProviderAstType.Directive||requestingProviderType===ProviderAstType.Component){if(tokenReference(dep.token)===this.viewContext.reflector.resolveExternalReference(Identifiers.Renderer)||tokenReference(dep.token)===this.viewContext.reflector.resolveExternalReference(Identifiers.ElementRef)||tokenReference(dep.token)===this.viewContext.reflector.resolveExternalReference(Identifiers.ChangeDetectorRef)||tokenReference(dep.token)===this.viewContext.reflector.resolveExternalReference(Identifiers.TemplateRef))return dep;tokenReference(dep.token)===this.viewContext.reflector.resolveExternalReference(Identifiers.ViewContainerRef)&&(this.transformedHasViewContainer=!0)}if(tokenReference(dep.token)===this.viewContext.reflector.resolveExternalReference(Identifiers.Injector))return dep;if(null!=this._getOrCreateLocalProvider(requestingProviderType,dep.token,eager))return dep}return null}_getDependency(requestingProviderType,dep,eager=!1){let currElement=this,currEager=eager,result=null;if(dep.isSkipSelf||(result=this._getLocalDependency(requestingProviderType,dep,eager)),dep.isSelf)!result&&dep.isOptional&&(result={isValue:!0,value:null});else{for(;!result&&currElement._parent;){const prevElement=currElement;currElement=currElement._parent,prevElement._isViewRoot&&(currEager=!1),result=currElement._getLocalDependency(ProviderAstType.PublicService,dep,currEager)}result||(result=!dep.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===tokenReference(dep.token)||null!=this.viewContext.viewProviders.get(tokenReference(dep.token))?dep:dep.isOptional?{isValue:!0,value:null}:null)}return result||this.viewContext.errors.push(new ProviderError(`No provider for ${tokenName(dep.token)}`,this._sourceSpan)),result}}class NgModuleProviderAnalyzer{constructor(reflector,ngModule,extraProviders,sourceSpan){this.reflector=reflector,this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,ngModule.transitiveModule.modules.forEach(ngModuleType=>{_resolveProviders([{token:{identifier:ngModuleType},useClass:ngModuleType}],ProviderAstType.PublicService,!0,sourceSpan,this._errors,this._allProviders,!0)}),_resolveProviders(ngModule.transitiveModule.providers.map(entry=>entry.provider).concat(extraProviders),ProviderAstType.PublicService,!1,sourceSpan,this._errors,this._allProviders,!1)}parse(){if(Array.from(this._allProviders.values()).forEach(provider=>{this._getOrCreateLocalProvider(provider.token,provider.eager)}),this._errors.length>0){const errorString=this._errors.join("\n");throw new Error(`Provider parse errors:\n${errorString}`)}const lazyProviders=[],eagerProviders=[];return this._transformedProviders.forEach(provider=>{provider.eager?eagerProviders.push(provider):lazyProviders.push(provider)}),lazyProviders.concat(eagerProviders)}_getOrCreateLocalProvider(token,eager){const resolvedProvider=this._allProviders.get(tokenReference(token));if(!resolvedProvider)return null;let transformedProviderAst=this._transformedProviders.get(tokenReference(token));if(transformedProviderAst)return transformedProviderAst;if(null!=this._seenProviders.get(tokenReference(token)))return this._errors.push(new ProviderError(`Cannot instantiate cyclic dependency! ${tokenName(token)}`,resolvedProvider.sourceSpan)),null;this._seenProviders.set(tokenReference(token),!0);const transformedProviders=resolvedProvider.providers.map(provider=>{let transformedUseValue=provider.useValue,transformedUseExisting=provider.useExisting,transformedDeps=void 0;if(null!=provider.useExisting){const existingDiDep=this._getDependency({token:provider.useExisting},eager,resolvedProvider.sourceSpan);null!=existingDiDep.token?transformedUseExisting=existingDiDep.token:(transformedUseExisting=null,transformedUseValue=existingDiDep.value)}else if(provider.useFactory){transformedDeps=(provider.deps||provider.useFactory.diDeps).map(dep=>this._getDependency(dep,eager,resolvedProvider.sourceSpan))}else if(provider.useClass){transformedDeps=(provider.deps||provider.useClass.diDeps).map(dep=>this._getDependency(dep,eager,resolvedProvider.sourceSpan))}return _transformProvider(provider,{useExisting:transformedUseExisting,useValue:transformedUseValue,deps:transformedDeps})});return transformedProviderAst=_transformProviderAst(resolvedProvider,{eager:eager,providers:transformedProviders}),this._transformedProviders.set(tokenReference(token),transformedProviderAst),transformedProviderAst}_getDependency(dep,eager=!1,requestorSourceSpan){let foundLocal=!1;return dep.isSkipSelf||null==dep.token||(tokenReference(dep.token)===this.reflector.resolveExternalReference(Identifiers.Injector)||tokenReference(dep.token)===this.reflector.resolveExternalReference(Identifiers.ComponentFactoryResolver)?foundLocal=!0:null!=this._getOrCreateLocalProvider(dep.token,eager)&&(foundLocal=!0)),dep}}function _transformProvider(provider,{useExisting:useExisting,useValue:useValue,deps:deps}){return{token:provider.token,useClass:provider.useClass,useExisting:useExisting,useFactory:provider.useFactory,useValue:useValue,deps:deps,multi:provider.multi}}function _transformProviderAst(provider,{eager:eager,providers:providers}){return new ProviderAst(provider.token,provider.multiProvider,provider.eager||eager,providers,provider.providerType,provider.lifecycleHooks,provider.sourceSpan,provider.isModule)}function _resolveProviders(providers,providerType,eager,sourceSpan,targetErrors,targetProvidersByToken,isModule){providers.forEach(provider=>{let resolvedProvider=targetProvidersByToken.get(tokenReference(provider.token));if(null!=resolvedProvider&&!!resolvedProvider.multiProvider!=!!provider.multi&&targetErrors.push(new ProviderError(`Mixing multi and non multi provider is not possible for token ${tokenName(resolvedProvider.token)}`,sourceSpan)),resolvedProvider)provider.multi||(resolvedProvider.providers.length=0),resolvedProvider.providers.push(provider);else{const lifecycleHooks=provider.token.identifier&&provider.token.identifier.lifecycleHooks?provider.token.identifier.lifecycleHooks:[],isUseValue=!(provider.useClass||provider.useExisting||provider.useFactory);resolvedProvider=new ProviderAst(provider.token,!!provider.multi,eager||isUseValue,[provider],providerType,lifecycleHooks,sourceSpan,isModule),targetProvidersByToken.set(tokenReference(provider.token),resolvedProvider)}})}function _addQueryToTokenMap(map,query){query.meta.selectors.forEach(token=>{let entry=map.get(tokenReference(token));entry||(entry=[],map.set(tokenReference(token),entry)),entry.push(query)})}class StyleWithImports{constructor(style,styleUrls){this.style=style,this.styleUrls=styleUrls}}function isStyleUrlResolvable(url){if(null==url||0===url.length||"/"==url[0])return!1;const schemeMatch=url.match(URL_WITH_SCHEMA_REGEXP);return null===schemeMatch||"package"==schemeMatch[1]||"asset"==schemeMatch[1]}const CSS_IMPORT_REGEXP=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,CSS_STRIPPABLE_COMMENT_REGEXP=/\/\*(?!#\s*(?:sourceURL|sourceMappingURL)=)[\s\S]+?\*\//g,URL_WITH_SCHEMA_REGEXP=/^([^:/?#]+):/;class BindingParser{constructor(_exprParser,_interpolationConfig,_schemaRegistry,pipes,errors){if(this._exprParser=_exprParser,this._interpolationConfig=_interpolationConfig,this._schemaRegistry=_schemaRegistry,this.errors=errors,this.pipesByName=null,this._usedPipes=new Map,pipes){const pipesByName=new Map;pipes.forEach(pipe=>pipesByName.set(pipe.name,pipe)),this.pipesByName=pipesByName}}get interpolationConfig(){return this._interpolationConfig}getUsedPipes(){return Array.from(this._usedPipes.values())}createBoundHostProperties(dirMeta,sourceSpan){if(dirMeta.hostProperties){const boundProps=[];return Object.keys(dirMeta.hostProperties).forEach(propName=>{const expression=dirMeta.hostProperties[propName];"string"==typeof expression?this.parsePropertyBinding(propName,expression,!0,sourceSpan,sourceSpan.start.offset,void 0,[],boundProps):this._reportError(`Value of the host property binding "${propName}" needs to be a string representing an expression but got "${expression}" (${typeof expression})`,sourceSpan)}),boundProps}return null}createDirectiveHostPropertyAsts(dirMeta,elementSelector,sourceSpan){const boundProps=this.createBoundHostProperties(dirMeta,sourceSpan);return boundProps&&boundProps.map(prop=>this.createBoundElementProperty(elementSelector,prop))}createDirectiveHostEventAsts(dirMeta,sourceSpan){if(dirMeta.hostListeners){const targetEvents=[];return Object.keys(dirMeta.hostListeners).forEach(propName=>{const expression=dirMeta.hostListeners[propName];"string"==typeof expression?this.parseEvent(propName,expression,sourceSpan,sourceSpan,[],targetEvents):this._reportError(`Value of the host listener "${propName}" needs to be a string representing an expression but got "${expression}" (${typeof expression})`,sourceSpan)}),targetEvents}return null}parseInterpolation(value,sourceSpan){const sourceInfo=sourceSpan.start.toString();try{const ast=this._exprParser.parseInterpolation(value,sourceInfo,sourceSpan.start.offset,this._interpolationConfig);return ast&&this._reportExpressionParserErrors(ast.errors,sourceSpan),this._checkPipes(ast,sourceSpan),ast}catch(e){return this._reportError(`${e}`,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo,sourceSpan.start.offset)}}parseInlineTemplateBinding(tplKey,tplValue,sourceSpan,absoluteValueOffset,targetMatchableAttrs,targetProps,targetVars){const bindings=this._parseTemplateBindings(tplKey,tplValue,sourceSpan,absoluteValueOffset);for(let i=0;i<bindings.length;i++){const binding=bindings[i];binding.keyIsVar?targetVars.push(new ParsedVariable(binding.key,binding.name,sourceSpan)):binding.value?this._parsePropertyAst(binding.key,binding.value,sourceSpan,void 0,targetMatchableAttrs,targetProps):(targetMatchableAttrs.push([binding.key,""]),this.parseLiteralAttr(binding.key,null,sourceSpan,absoluteValueOffset,void 0,targetMatchableAttrs,targetProps))}}_parseTemplateBindings(tplKey,tplValue,sourceSpan,absoluteValueOffset){const sourceInfo=sourceSpan.start.toString();try{const bindingsResult=this._exprParser.parseTemplateBindings(tplKey,tplValue,sourceInfo,absoluteValueOffset);return this._reportExpressionParserErrors(bindingsResult.errors,sourceSpan),bindingsResult.templateBindings.forEach(binding=>{binding.value&&this._checkPipes(binding.value,sourceSpan)}),bindingsResult.warnings.forEach(warning=>{this._reportError(warning,sourceSpan,ParseErrorLevel.WARNING)}),bindingsResult.templateBindings}catch(e){return this._reportError(`${e}`,sourceSpan),[]}}parseLiteralAttr(name,value,sourceSpan,absoluteOffset,valueSpan,targetMatchableAttrs,targetProps){isAnimationLabel(name)?(name=name.substring(1),value&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',sourceSpan,ParseErrorLevel.ERROR),this._parseAnimation(name,value,sourceSpan,absoluteOffset,valueSpan,targetMatchableAttrs,targetProps)):targetProps.push(new ParsedProperty(name,this._exprParser.wrapLiteralPrimitive(value,"",absoluteOffset),ParsedPropertyType.LITERAL_ATTR,sourceSpan,valueSpan))}parsePropertyBinding(name,expression,isHost,sourceSpan,absoluteOffset,valueSpan,targetMatchableAttrs,targetProps){0===name.length&&this._reportError("Property name is missing in binding",sourceSpan);let isAnimationProp=!1;name.startsWith("animate-")?(isAnimationProp=!0,name=name.substring("animate-".length)):isAnimationLabel(name)&&(isAnimationProp=!0,name=name.substring(1)),isAnimationProp?this._parseAnimation(name,expression,sourceSpan,absoluteOffset,valueSpan,targetMatchableAttrs,targetProps):this._parsePropertyAst(name,this._parseBinding(expression,isHost,valueSpan||sourceSpan,absoluteOffset),sourceSpan,valueSpan,targetMatchableAttrs,targetProps)}parsePropertyInterpolation(name,value,sourceSpan,valueSpan,targetMatchableAttrs,targetProps){const expr=this.parseInterpolation(value,valueSpan||sourceSpan);return!!expr&&(this._parsePropertyAst(name,expr,sourceSpan,valueSpan,targetMatchableAttrs,targetProps),!0)}_parsePropertyAst(name,ast,sourceSpan,valueSpan,targetMatchableAttrs,targetProps){targetMatchableAttrs.push([name,ast.source]),targetProps.push(new ParsedProperty(name,ast,ParsedPropertyType.DEFAULT,sourceSpan,valueSpan))}_parseAnimation(name,expression,sourceSpan,absoluteOffset,valueSpan,targetMatchableAttrs,targetProps){0===name.length&&this._reportError("Animation trigger is missing",sourceSpan);const ast=this._parseBinding(expression||"undefined",!1,valueSpan||sourceSpan,absoluteOffset);targetMatchableAttrs.push([name,ast.source]),targetProps.push(new ParsedProperty(name,ast,ParsedPropertyType.ANIMATION,sourceSpan,valueSpan))}_parseBinding(value,isHostBinding,sourceSpan,absoluteOffset){const sourceInfo=(sourceSpan&&sourceSpan.start||"(unknown)").toString();try{const ast=isHostBinding?this._exprParser.parseSimpleBinding(value,sourceInfo,absoluteOffset,this._interpolationConfig):this._exprParser.parseBinding(value,sourceInfo,absoluteOffset,this._interpolationConfig);return ast&&this._reportExpressionParserErrors(ast.errors,sourceSpan),this._checkPipes(ast,sourceSpan),ast}catch(e){return this._reportError(`${e}`,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo,absoluteOffset)}}createBoundElementProperty(elementSelector,boundProp,skipValidation=!1,mapPropertyName=!0){if(boundProp.isAnimation)return new BoundElementProperty(boundProp.name,4,SecurityContext.NONE,boundProp.expression,null,boundProp.sourceSpan,boundProp.valueSpan);let unit=null,bindingType=void 0,boundPropertyName=null;const parts=boundProp.name.split(".");let securityContexts=void 0;if(parts.length>1)if("attr"==parts[0]){boundPropertyName=parts.slice(1).join("."),skipValidation||this._validatePropertyOrAttributeName(boundPropertyName,boundProp.sourceSpan,!0),securityContexts=calcPossibleSecurityContexts(this._schemaRegistry,elementSelector,boundPropertyName,!0);const nsSeparatorIdx=boundPropertyName.indexOf(":");if(nsSeparatorIdx>-1){const ns=boundPropertyName.substring(0,nsSeparatorIdx),name=boundPropertyName.substring(nsSeparatorIdx+1);boundPropertyName=mergeNsAndName(ns,name)}bindingType=1}else"class"==parts[0]?(boundPropertyName=parts[1],bindingType=2,securityContexts=[SecurityContext.NONE]):"style"==parts[0]&&(unit=parts.length>2?parts[2]:null,boundPropertyName=parts[1],bindingType=3,securityContexts=[SecurityContext.STYLE]);if(null===boundPropertyName){const mappedPropName=this._schemaRegistry.getMappedPropName(boundProp.name);boundPropertyName=mapPropertyName?mappedPropName:boundProp.name,securityContexts=calcPossibleSecurityContexts(this._schemaRegistry,elementSelector,mappedPropName,!1),bindingType=0,skipValidation||this._validatePropertyOrAttributeName(mappedPropName,boundProp.sourceSpan,!1)}return new BoundElementProperty(boundPropertyName,bindingType,securityContexts[0],boundProp.expression,unit,boundProp.sourceSpan,boundProp.valueSpan)}parseEvent(name,expression,sourceSpan,handlerSpan,targetMatchableAttrs,targetEvents){0===name.length&&this._reportError("Event name is missing in binding",sourceSpan),isAnimationLabel(name)?(name=name.substr(1),this._parseAnimationEvent(name,expression,sourceSpan,handlerSpan,targetEvents)):this._parseRegularEvent(name,expression,sourceSpan,handlerSpan,targetMatchableAttrs,targetEvents)}calcPossibleSecurityContexts(selector,propName,isAttribute){const prop=this._schemaRegistry.getMappedPropName(propName);return calcPossibleSecurityContexts(this._schemaRegistry,selector,prop,isAttribute)}_parseAnimationEvent(name,expression,sourceSpan,handlerSpan,targetEvents){const matches=function splitAtPeriod(input,defaultValues){return _splitAt(input,".",defaultValues)}(name,[name,""]),eventName=matches[0],phase=matches[1].toLowerCase();if(phase)switch(phase){case"start":case"done":const ast=this._parseAction(expression,handlerSpan);targetEvents.push(new ParsedEvent(eventName,phase,1,ast,sourceSpan,handlerSpan));break;default:this._reportError(`The provided animation output phase value "${phase}" for "@${eventName}" is not supported (use start or done)`,sourceSpan)}else this._reportError(`The animation trigger output event (@${eventName}) is missing its phase value name (start or done are currently supported)`,sourceSpan)}_parseRegularEvent(name,expression,sourceSpan,handlerSpan,targetMatchableAttrs,targetEvents){const[target,eventName]=splitAtColon(name,[null,name]),ast=this._parseAction(expression,handlerSpan);targetMatchableAttrs.push([name,ast.source]),targetEvents.push(new ParsedEvent(eventName,target,0,ast,sourceSpan,handlerSpan))}_parseAction(value,sourceSpan){const sourceInfo=(sourceSpan&&sourceSpan.start||"(unknown").toString(),absoluteOffset=sourceSpan&&sourceSpan.start?sourceSpan.start.offset:0;try{const ast=this._exprParser.parseAction(value,sourceInfo,absoluteOffset,this._interpolationConfig);return ast&&this._reportExpressionParserErrors(ast.errors,sourceSpan),!ast||ast.ast instanceof EmptyExpr?(this._reportError("Empty expressions are not allowed",sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo,absoluteOffset)):(this._checkPipes(ast,sourceSpan),ast)}catch(e){return this._reportError(`${e}`,sourceSpan),this._exprParser.wrapLiteralPrimitive("ERROR",sourceInfo,absoluteOffset)}}_reportError(message,sourceSpan,level=ParseErrorLevel.ERROR){this.errors.push(new ParseError(sourceSpan,message,level))}_reportExpressionParserErrors(errors,sourceSpan){for(const error of errors)this._reportError(error.message,sourceSpan)}_checkPipes(ast,sourceSpan){if(ast&&this.pipesByName){const collector=new PipeCollector;ast.visit(collector),collector.pipes.forEach((ast,pipeName)=>{const pipeMeta=this.pipesByName.get(pipeName);pipeMeta?this._usedPipes.set(pipeName,pipeMeta):this._reportError(`The pipe '${pipeName}' could not be found`,new ParseSourceSpan(sourceSpan.start.moveBy(ast.span.start),sourceSpan.start.moveBy(ast.span.end)))})}}_validatePropertyOrAttributeName(propName,sourceSpan,isAttr){const report=isAttr?this._schemaRegistry.validateAttribute(propName):this._schemaRegistry.validateProperty(propName);report.error&&this._reportError(report.msg,sourceSpan,ParseErrorLevel.ERROR)}}class PipeCollector extends RecursiveAstVisitor$1{constructor(){super(...arguments),this.pipes=new Map}visitPipe(ast,context){return this.pipes.set(ast.name,ast),ast.exp.visit(this),this.visitAll(ast.args,context),null}}function isAnimationLabel(name){return"@"==name[0]}function calcPossibleSecurityContexts(registry,selector,propName,isAttribute){const ctxs=[];return CssSelector.parse(selector).forEach(selector=>{const elementNames=selector.element?[selector.element]:registry.allKnownElementNames(),notElementNames=new Set(selector.notSelectors.filter(selector=>selector.isElementSelector()).map(selector=>selector.element)),possibleElementNames=elementNames.filter(elementName=>!notElementNames.has(elementName));ctxs.push(...possibleElementNames.map(elementName=>registry.securityContext(elementName,propName,isAttribute)))}),0===ctxs.length?[SecurityContext.NONE]:Array.from(new Set(ctxs)).sort()}function preparseElement(ast){let selectAttr=null,hrefAttr=null,relAttr=null,nonBindable=!1,projectAs="";ast.attrs.forEach(attr=>{const lcAttrName=attr.name.toLowerCase();"select"==lcAttrName?selectAttr=attr.value:"href"==lcAttrName?hrefAttr=attr.value:"rel"==lcAttrName?relAttr=attr.value:"ngNonBindable"==attr.name?nonBindable=!0:"ngProjectAs"==attr.name&&attr.value.length>0&&(projectAs=attr.value)}),selectAttr=function normalizeNgContentSelect(selectAttr){if(null===selectAttr||0===selectAttr.length)return"*";return selectAttr}(selectAttr);const nodeName=ast.name.toLowerCase();let type=PreparsedElementType.OTHER;return isNgContent(nodeName)?type=PreparsedElementType.NG_CONTENT:"style"==nodeName?type=PreparsedElementType.STYLE:"script"==nodeName?type=PreparsedElementType.SCRIPT:"link"==nodeName&&"stylesheet"==relAttr&&(type=PreparsedElementType.STYLESHEET),new PreparsedElement(type,selectAttr,hrefAttr,nonBindable,projectAs)}var PreparsedElementType;!function(PreparsedElementType){PreparsedElementType[PreparsedElementType.NG_CONTENT=0]="NG_CONTENT",PreparsedElementType[PreparsedElementType.STYLE=1]="STYLE",PreparsedElementType[PreparsedElementType.STYLESHEET=2]="STYLESHEET",PreparsedElementType[PreparsedElementType.SCRIPT=3]="SCRIPT",PreparsedElementType[PreparsedElementType.OTHER=4]="OTHER"}(PreparsedElementType||(PreparsedElementType={}));class PreparsedElement{constructor(type,selectAttr,hrefAttr,nonBindable,projectAs){this.type=type,this.selectAttr=selectAttr,this.hrefAttr=hrefAttr,this.nonBindable=nonBindable,this.projectAs=projectAs}}const BIND_NAME_REGEXP=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/;let _TEXT_CSS_SELECTOR;function TEXT_CSS_SELECTOR(){return _TEXT_CSS_SELECTOR||(_TEXT_CSS_SELECTOR=CssSelector.parse("*")[0]),_TEXT_CSS_SELECTOR}class TemplateParseError extends ParseError{constructor(message,span,level){super(span,message,level)}}class TemplateParseResult{constructor(templateAst,usedPipes,errors){this.templateAst=templateAst,this.usedPipes=usedPipes,this.errors=errors}}class TemplateParser{constructor(_config,_reflector,_exprParser,_schemaRegistry,_htmlParser,_console,transforms){this._config=_config,this._reflector=_reflector,this._exprParser=_exprParser,this._schemaRegistry=_schemaRegistry,this._htmlParser=_htmlParser,this._console=_console,this.transforms=transforms}get expressionParser(){return this._exprParser}parse(component,template,directives,pipes,schemas,templateUrl,preserveWhitespaces){const result=this.tryParse(component,template,directives,pipes,schemas,templateUrl,preserveWhitespaces),warnings=result.errors.filter(error=>error.level===ParseErrorLevel.WARNING),errors=result.errors.filter(error=>error.level===ParseErrorLevel.ERROR);if(warnings.length>0&&this._console.warn(`Template parse warnings:\n${warnings.join("\n")}`),errors.length>0){throw syntaxError(`Template parse errors:\n${errors.join("\n")}`,errors)}return{template:result.templateAst,pipes:result.usedPipes}}tryParse(component,template,directives,pipes,schemas,templateUrl,preserveWhitespaces){let htmlParseResult="string"==typeof template?this._htmlParser.parse(template,templateUrl,{tokenizeExpansionForms:!0,interpolationConfig:this.getInterpolationConfig(component)}):template;return preserveWhitespaces||(htmlParseResult=removeWhitespaces(htmlParseResult)),this.tryParseHtml(this.expandHtml(htmlParseResult),component,directives,pipes,schemas)}tryParseHtml(htmlAstWithErrors,component,directives,pipes,schemas){let result;const errors=htmlAstWithErrors.errors,usedPipes=[];if(htmlAstWithErrors.rootNodes.length>0){const uniqDirectives=removeSummaryDuplicates(directives),uniqPipes=removeSummaryDuplicates(pipes),providerViewContext=new ProviderViewContext(this._reflector,component);let interpolationConfig=void 0;component.template&&component.template.interpolation&&(interpolationConfig={start:component.template.interpolation[0],end:component.template.interpolation[1]});const bindingParser=new BindingParser(this._exprParser,interpolationConfig,this._schemaRegistry,uniqPipes,errors),parseVisitor=new TemplateParseVisitor(this._reflector,this._config,providerViewContext,uniqDirectives,bindingParser,this._schemaRegistry,schemas,errors);result=visitAll$1(parseVisitor,htmlAstWithErrors.rootNodes,EMPTY_ELEMENT_CONTEXT),errors.push(...providerViewContext.errors),usedPipes.push(...bindingParser.getUsedPipes())}else result=[];return this._assertNoReferenceDuplicationOnTemplate(result,errors),errors.length>0?new TemplateParseResult(result,usedPipes,errors):(this.transforms&&this.transforms.forEach(transform=>{result=templateVisitAll(transform,result)}),new TemplateParseResult(result,usedPipes,errors))}expandHtml(htmlAstWithErrors,forced=!1){const errors=htmlAstWithErrors.errors;if(0==errors.length||forced){const expandedHtmlAst=expandNodes(htmlAstWithErrors.rootNodes);errors.push(...expandedHtmlAst.errors),htmlAstWithErrors=new ParseTreeResult(expandedHtmlAst.nodes,errors)}return htmlAstWithErrors}getInterpolationConfig(component){if(component.template)return InterpolationConfig.fromArray(component.template.interpolation)}_assertNoReferenceDuplicationOnTemplate(result,errors){const existingReferences=[];result.filter(element=>!!element.references).forEach(element=>element.references.forEach(reference=>{const name=reference.name;if(existingReferences.indexOf(name)<0)existingReferences.push(name);else{const error=new TemplateParseError(`Reference "#${name}" is defined several times`,reference.sourceSpan,ParseErrorLevel.ERROR);errors.push(error)}}))}}class TemplateParseVisitor{constructor(reflector,config,providerViewContext,directives,_bindingParser,_schemaRegistry,_schemas,_targetErrors){this.reflector=reflector,this.config=config,this.providerViewContext=providerViewContext,this._bindingParser=_bindingParser,this._schemaRegistry=_schemaRegistry,this._schemas=_schemas,this._targetErrors=_targetErrors,this.selectorMatcher=new SelectorMatcher,this.directivesIndex=new Map,this.ngContentCount=0,this.contentQueryStartId=providerViewContext.component.viewQueries.length+1,directives.forEach((directive,index)=>{const selector=CssSelector.parse(directive.selector);this.selectorMatcher.addSelectables(selector,directive),this.directivesIndex.set(directive,index)})}visitExpansion(expansion,context){return null}visitExpansionCase(expansionCase,context){return null}visitText(text,parent){const ngContentIndex=parent.findNgContentIndex(TEXT_CSS_SELECTOR()),valueNoNgsp=replaceNgsp(text.value),expr=this._bindingParser.parseInterpolation(valueNoNgsp,text.sourceSpan);return expr?new BoundTextAst(expr,ngContentIndex,text.sourceSpan):new TextAst(valueNoNgsp,ngContentIndex,text.sourceSpan)}visitAttribute(attribute,context){return new AttrAst(attribute.name,attribute.value,attribute.sourceSpan)}visitComment(comment,context){return null}visitElement(element,parent){const queryStartIndex=this.contentQueryStartId,elName=element.name,preparsedElement=preparseElement(element);if(preparsedElement.type===PreparsedElementType.SCRIPT||preparsedElement.type===PreparsedElementType.STYLE)return null;if(preparsedElement.type===PreparsedElementType.STYLESHEET&&isStyleUrlResolvable(preparsedElement.hrefAttr))return null;const matchableAttrs=[],elementOrDirectiveProps=[],elementOrDirectiveRefs=[],elementVars=[],events=[],templateElementOrDirectiveProps=[],templateMatchableAttrs=[],templateElementVars=[];let hasInlineTemplates=!1;const attrs=[],isTemplateElement=isNgTemplate(element.name);element.attrs.forEach(attr=>{const hasBinding=this._parseAttr(isTemplateElement,attr,matchableAttrs,elementOrDirectiveProps,events,elementOrDirectiveRefs,elementVars);let templateValue,templateKey;elementVars.push(...[].map(v=>VariableAst.fromParsedVariable(v)));const normalizedName=this._normalizeAttributeName(attr.name);normalizedName.startsWith("*")&&(templateValue=attr.value,templateKey=normalizedName.substring("*".length));const hasTemplateBinding=null!=templateValue;if(hasTemplateBinding){hasInlineTemplates&&this._reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",attr.sourceSpan),hasInlineTemplates=!0;const parsedVariables=[],absoluteOffset=(attr.valueSpan||attr.sourceSpan).start.offset;this._bindingParser.parseInlineTemplateBinding(templateKey,templateValue,attr.sourceSpan,absoluteOffset,templateMatchableAttrs,templateElementOrDirectiveProps,parsedVariables),templateElementVars.push(...parsedVariables.map(v=>VariableAst.fromParsedVariable(v)))}hasBinding||hasTemplateBinding||(attrs.push(this.visitAttribute(attr,null)),matchableAttrs.push([attr.name,attr.value]))});const elementCssSelector=createElementCssSelector(elName,matchableAttrs),{directives:directiveMetas,matchElement:matchElement}=this._parseDirectives(this.selectorMatcher,elementCssSelector),references=[],boundDirectivePropNames=new Set,directiveAsts=this._createDirectiveAsts(isTemplateElement,element.name,directiveMetas,elementOrDirectiveProps,elementOrDirectiveRefs,element.sourceSpan,references,boundDirectivePropNames),elementProps=this._createElementPropertyAsts(element.name,elementOrDirectiveProps,boundDirectivePropNames),isViewRoot=parent.isTemplateElement||hasInlineTemplates,providerContext=new ProviderElementContext(this.providerViewContext,parent.providerContext,isViewRoot,directiveAsts,attrs,references,isTemplateElement,queryStartIndex,element.sourceSpan),children=visitAll$1(preparsedElement.nonBindable?NON_BINDABLE_VISITOR:this,element.children,ElementContext.create(isTemplateElement,directiveAsts,isTemplateElement?parent.providerContext:providerContext));providerContext.afterElement();const projectionSelector=""!=preparsedElement.projectAs?CssSelector.parse(preparsedElement.projectAs)[0]:elementCssSelector,ngContentIndex=parent.findNgContentIndex(projectionSelector);let parsedElement;if(preparsedElement.type===PreparsedElementType.NG_CONTENT)element.children&&!element.children.every(_isEmptyTextNode)&&this._reportError("<ng-content> element cannot have content.",element.sourceSpan),parsedElement=new NgContentAst(this.ngContentCount++,hasInlineTemplates?null:ngContentIndex,element.sourceSpan);else if(isTemplateElement)this._assertAllEventsPublishedByDirectives(directiveAsts,events),this._assertNoComponentsNorElementBindingsOnTemplate(directiveAsts,elementProps,element.sourceSpan),parsedElement=new EmbeddedTemplateAst(attrs,events,references,elementVars,providerContext.transformedDirectiveAsts,providerContext.transformProviders,providerContext.transformedHasViewContainer,providerContext.queryMatches,children,hasInlineTemplates?null:ngContentIndex,element.sourceSpan);else{this._assertElementExists(matchElement,element),this._assertOnlyOneComponent(directiveAsts,element.sourceSpan);const ngContentIndex=hasInlineTemplates?null:parent.findNgContentIndex(projectionSelector);parsedElement=new ElementAst(elName,attrs,elementProps,events,references,providerContext.transformedDirectiveAsts,providerContext.transformProviders,providerContext.transformedHasViewContainer,providerContext.queryMatches,children,hasInlineTemplates?null:ngContentIndex,element.sourceSpan,element.endSourceSpan||null)}if(hasInlineTemplates){const templateQueryStartIndex=this.contentQueryStartId,templateSelector=createElementCssSelector("ng-template",templateMatchableAttrs),{directives:directives}=this._parseDirectives(this.selectorMatcher,templateSelector),templateBoundDirectivePropNames=new Set,templateDirectiveAsts=this._createDirectiveAsts(!0,elName,directives,templateElementOrDirectiveProps,[],element.sourceSpan,[],templateBoundDirectivePropNames),templateElementProps=this._createElementPropertyAsts(elName,templateElementOrDirectiveProps,templateBoundDirectivePropNames);this._assertNoComponentsNorElementBindingsOnTemplate(templateDirectiveAsts,templateElementProps,element.sourceSpan);const templateProviderContext=new ProviderElementContext(this.providerViewContext,parent.providerContext,parent.isTemplateElement,templateDirectiveAsts,[],[],!0,templateQueryStartIndex,element.sourceSpan);templateProviderContext.afterElement(),parsedElement=new EmbeddedTemplateAst([],[],[],templateElementVars,templateProviderContext.transformedDirectiveAsts,templateProviderContext.transformProviders,templateProviderContext.transformedHasViewContainer,templateProviderContext.queryMatches,[parsedElement],ngContentIndex,element.sourceSpan)}return parsedElement}_parseAttr(isTemplateElement,attr,targetMatchableAttrs,targetProps,targetEvents,targetRefs,targetVars){const name=this._normalizeAttributeName(attr.name),value=attr.value,srcSpan=attr.sourceSpan,absoluteOffset=attr.valueSpan?attr.valueSpan.start.offset:srcSpan.start.offset,boundEvents=[],bindParts=name.match(BIND_NAME_REGEXP);let hasBinding=!1;if(null!==bindParts)if(hasBinding=!0,null!=bindParts[1])this._bindingParser.parsePropertyBinding(bindParts[7],value,!1,srcSpan,absoluteOffset,attr.valueSpan,targetMatchableAttrs,targetProps);else if(bindParts[2])if(isTemplateElement){const identifier=bindParts[7];this._parseVariable(identifier,value,srcSpan,targetVars)}else this._reportError('"let-" is only supported on ng-template elements.',srcSpan);else if(bindParts[3]){const identifier=bindParts[7];this._parseReference(identifier,value,srcSpan,targetRefs)}else bindParts[4]?this._bindingParser.parseEvent(bindParts[7],value,srcSpan,attr.valueSpan||srcSpan,targetMatchableAttrs,boundEvents):bindParts[5]?(this._bindingParser.parsePropertyBinding(bindParts[7],value,!1,srcSpan,absoluteOffset,attr.valueSpan,targetMatchableAttrs,targetProps),this._parseAssignmentEvent(bindParts[7],value,srcSpan,attr.valueSpan||srcSpan,targetMatchableAttrs,boundEvents)):bindParts[6]?this._bindingParser.parseLiteralAttr(name,value,srcSpan,absoluteOffset,attr.valueSpan,targetMatchableAttrs,targetProps):bindParts[8]?(this._bindingParser.parsePropertyBinding(bindParts[8],value,!1,srcSpan,absoluteOffset,attr.valueSpan,targetMatchableAttrs,targetProps),this._parseAssignmentEvent(bindParts[8],value,srcSpan,attr.valueSpan||srcSpan,targetMatchableAttrs,boundEvents)):bindParts[9]?this._bindingParser.parsePropertyBinding(bindParts[9],value,!1,srcSpan,absoluteOffset,attr.valueSpan,targetMatchableAttrs,targetProps):bindParts[10]&&this._bindingParser.parseEvent(bindParts[10],value,srcSpan,attr.valueSpan||srcSpan,targetMatchableAttrs,boundEvents);else hasBinding=this._bindingParser.parsePropertyInterpolation(name,value,srcSpan,attr.valueSpan,targetMatchableAttrs,targetProps);return hasBinding||this._bindingParser.parseLiteralAttr(name,value,srcSpan,absoluteOffset,attr.valueSpan,targetMatchableAttrs,targetProps),targetEvents.push(...boundEvents.map(e=>BoundEventAst.fromParsedEvent(e))),hasBinding}_normalizeAttributeName(attrName){return/^data-/i.test(attrName)?attrName.substring(5):attrName}_parseVariable(identifier,value,sourceSpan,targetVars){identifier.indexOf("-")>-1?this._reportError('"-" is not allowed in variable names',sourceSpan):0===identifier.length&&this._reportError("Variable does not have a name",sourceSpan),targetVars.push(new VariableAst(identifier,value,sourceSpan))}_parseReference(identifier,value,sourceSpan,targetRefs){identifier.indexOf("-")>-1?this._reportError('"-" is not allowed in reference names',sourceSpan):0===identifier.length&&this._reportError("Reference does not have a name",sourceSpan),targetRefs.push(new ElementOrDirectiveRef(identifier,value,sourceSpan))}_parseAssignmentEvent(name,expression,sourceSpan,valueSpan,targetMatchableAttrs,targetEvents){this._bindingParser.parseEvent(`${name}Change`,`${expression}=$event`,sourceSpan,valueSpan,targetMatchableAttrs,targetEvents)}_parseDirectives(selectorMatcher,elementCssSelector){const directives=newArray(this.directivesIndex.size);let matchElement=!1;return selectorMatcher.match(elementCssSelector,(selector,directive)=>{directives[this.directivesIndex.get(directive)]=directive,matchElement=matchElement||selector.hasElementSelector()}),{directives:directives.filter(dir=>!!dir),matchElement:matchElement}}_createDirectiveAsts(isTemplateElement,elementName,directives,props,elementOrDirectiveRefs,elementSourceSpan,targetReferences,targetBoundDirectivePropNames){const matchedReferences=new Set;let component=null;const directiveAsts=directives.map(directive=>{const sourceSpan=new ParseSourceSpan(elementSourceSpan.start,elementSourceSpan.end,`Directive ${identifierName(directive.type)}`);directive.isComponent&&(component=directive);const directiveProperties=[];let hostProperties=this._bindingParser.createDirectiveHostPropertyAsts(directive,elementName,sourceSpan).map(prop=>BoundElementPropertyAst.fromBoundProperty(prop));hostProperties=this._checkPropertiesInSchema(elementName,hostProperties);const parsedEvents=this._bindingParser.createDirectiveHostEventAsts(directive,sourceSpan);this._createDirectivePropertyAsts(directive.inputs,props,directiveProperties,targetBoundDirectivePropNames),elementOrDirectiveRefs.forEach(elOrDirRef=>{(0===elOrDirRef.value.length&&directive.isComponent||elOrDirRef.isReferenceToDirective(directive))&&(targetReferences.push(new ReferenceAst(elOrDirRef.name,createTokenForReference(directive.type.reference),elOrDirRef.value,elOrDirRef.sourceSpan)),matchedReferences.add(elOrDirRef.name))});const hostEvents=parsedEvents.map(e=>BoundEventAst.fromParsedEvent(e)),contentQueryStartId=this.contentQueryStartId;return this.contentQueryStartId+=directive.queries.length,new DirectiveAst(directive,directiveProperties,hostProperties,hostEvents,contentQueryStartId,sourceSpan)});return elementOrDirectiveRefs.forEach(elOrDirRef=>{if(elOrDirRef.value.length>0)matchedReferences.has(elOrDirRef.name)||this._reportError(`There is no directive with "exportAs" set to "${elOrDirRef.value}"`,elOrDirRef.sourceSpan);else if(!component){let refToken=null;isTemplateElement&&(refToken=createTokenForExternalReference(this.reflector,Identifiers.TemplateRef)),targetReferences.push(new ReferenceAst(elOrDirRef.name,refToken,elOrDirRef.value,elOrDirRef.sourceSpan))}}),directiveAsts}_createDirectivePropertyAsts(directiveProperties,boundProps,targetBoundDirectiveProps,targetBoundDirectivePropNames){if(directiveProperties){const boundPropsByName=new Map;boundProps.forEach(boundProp=>{const prevValue=boundPropsByName.get(boundProp.name);prevValue&&!prevValue.isLiteral||boundPropsByName.set(boundProp.name,boundProp)}),Object.keys(directiveProperties).forEach(dirProp=>{const elProp=directiveProperties[dirProp],boundProp=boundPropsByName.get(elProp);boundProp&&(targetBoundDirectivePropNames.add(boundProp.name),isEmptyExpression(boundProp.expression)||targetBoundDirectiveProps.push(new BoundDirectivePropertyAst(dirProp,boundProp.name,boundProp.expression,boundProp.sourceSpan)))})}}_createElementPropertyAsts(elementName,props,boundDirectivePropNames){const boundElementProps=[];return props.forEach(prop=>{if(!prop.isLiteral&&!boundDirectivePropNames.has(prop.name)){const boundProp=this._bindingParser.createBoundElementProperty(elementName,prop);boundElementProps.push(BoundElementPropertyAst.fromBoundProperty(boundProp))}}),this._checkPropertiesInSchema(elementName,boundElementProps)}_findComponentDirectives(directives){return directives.filter(directive=>directive.directive.isComponent)}_findComponentDirectiveNames(directives){return this._findComponentDirectives(directives).map(directive=>identifierName(directive.directive.type))}_assertOnlyOneComponent(directives,sourceSpan){const componentTypeNames=this._findComponentDirectiveNames(directives);componentTypeNames.length>1&&this._reportError("More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\n"+`Conflicting components: ${componentTypeNames.join(",")}`,sourceSpan)}_assertElementExists(matchElement,element){const elName=element.name.replace(/^:xhtml:/,"");if(!matchElement&&!this._schemaRegistry.hasElement(elName,this._schemas)){let errorMsg=`'${elName}' is not a known element:\n`;errorMsg+=`1. If '${elName}' is an Angular component, then verify that it is part of this module.\n`,elName.indexOf("-")>-1?errorMsg+=`2. If '${elName}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.`:errorMsg+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",this._reportError(errorMsg,element.sourceSpan)}}_assertNoComponentsNorElementBindingsOnTemplate(directives,elementProps,sourceSpan){const componentTypeNames=this._findComponentDirectiveNames(directives);componentTypeNames.length>0&&this._reportError(`Components on an embedded template: ${componentTypeNames.join(",")}`,sourceSpan),elementProps.forEach(prop=>{this._reportError(`Property binding ${prop.name} not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".`,sourceSpan)})}_assertAllEventsPublishedByDirectives(directives,events){const allDirectiveEvents=new Set;directives.forEach(directive=>{Object.keys(directive.directive.outputs).forEach(k=>{const eventName=directive.directive.outputs[k];allDirectiveEvents.add(eventName)})}),events.forEach(event=>{null==event.target&&allDirectiveEvents.has(event.name)||this._reportError(`Event binding ${event.fullName} not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".`,event.sourceSpan)})}_checkPropertiesInSchema(elementName,boundProps){return boundProps.filter(boundProp=>{if(0===boundProp.type&&!this._schemaRegistry.hasProperty(elementName,boundProp.name,this._schemas)){let errorMsg=`Can't bind to '${boundProp.name}' since it isn't a known property of '${elementName}'.`;elementName.startsWith("ng-")?errorMsg+=`\n1. If '${boundProp.name}' is an Angular directive, then add 'CommonModule' to the '@NgModule.imports' of this component.`+"\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.":elementName.indexOf("-")>-1&&(errorMsg+=`\n1. If '${elementName}' is an Angular component and it has '${boundProp.name}' input, then verify that it is part of this module.`+`\n2. If '${elementName}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.`+"\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component."),this._reportError(errorMsg,boundProp.sourceSpan)}return!isEmptyExpression(boundProp.value)})}_reportError(message,sourceSpan,level=ParseErrorLevel.ERROR){this._targetErrors.push(new ParseError(sourceSpan,message,level))}}class ElementOrDirectiveRef{constructor(name,value,sourceSpan){this.name=name,this.value=value,this.sourceSpan=sourceSpan}isReferenceToDirective(directive){return-1!==function splitExportAs(exportAs){return exportAs?exportAs.split(",").map(e=>e.trim()):[]}(directive.exportAs).indexOf(this.value)}}class ElementContext{constructor(isTemplateElement,_ngContentIndexMatcher,_wildcardNgContentIndex,providerContext){this.isTemplateElement=isTemplateElement,this._ngContentIndexMatcher=_ngContentIndexMatcher,this._wildcardNgContentIndex=_wildcardNgContentIndex,this.providerContext=providerContext}static create(isTemplateElement,directives,providerContext){const matcher=new SelectorMatcher;let wildcardNgContentIndex=null;const component=directives.find(directive=>directive.directive.isComponent);if(component){const ngContentSelectors=component.directive.template.ngContentSelectors;for(let i=0;i<ngContentSelectors.length;i++){"*"===ngContentSelectors[i]?wildcardNgContentIndex=i:matcher.addSelectables(CssSelector.parse(ngContentSelectors[i]),i)}}return new ElementContext(isTemplateElement,matcher,wildcardNgContentIndex,providerContext)}findNgContentIndex(selector){const ngContentIndices=[];return this._ngContentIndexMatcher.match(selector,(selector,ngContentIndex)=>{ngContentIndices.push(ngContentIndex)}),ngContentIndices.sort(),null!=this._wildcardNgContentIndex&&ngContentIndices.push(this._wildcardNgContentIndex),ngContentIndices.length>0?ngContentIndices[0]:null}}function createElementCssSelector(elementName,attributes){const cssSelector=new CssSelector,elNameNoNs=splitNsName(elementName)[1];cssSelector.setElement(elNameNoNs);for(let i=0;i<attributes.length;i++){const attrName=attributes[i][0],attrNameNoNs=splitNsName(attrName)[1],attrValue=attributes[i][1];if(cssSelector.addAttribute(attrNameNoNs,attrValue),"class"==attrName.toLowerCase()){attrValue.trim().split(/\s+/g).forEach(className=>cssSelector.addClassName(className))}}return cssSelector}const EMPTY_ELEMENT_CONTEXT=new ElementContext(!0,new SelectorMatcher,null,null),NON_BINDABLE_VISITOR=new class{visitElement(ast,parent){const preparsedElement=preparseElement(ast);if(preparsedElement.type===PreparsedElementType.SCRIPT||preparsedElement.type===PreparsedElementType.STYLE||preparsedElement.type===PreparsedElementType.STYLESHEET)return null;const attrNameAndValues=ast.attrs.map(attr=>[attr.name,attr.value]),selector=createElementCssSelector(ast.name,attrNameAndValues),ngContentIndex=parent.findNgContentIndex(selector),children=visitAll$1(this,ast.children,EMPTY_ELEMENT_CONTEXT);return new ElementAst(ast.name,visitAll$1(this,ast.attrs),[],[],[],[],[],!1,[],children,ngContentIndex,ast.sourceSpan,ast.endSourceSpan)}visitComment(comment,context){return null}visitAttribute(attribute,context){return new AttrAst(attribute.name,attribute.value,attribute.sourceSpan)}visitText(text,parent){const ngContentIndex=parent.findNgContentIndex(TEXT_CSS_SELECTOR());return new TextAst(text.value,ngContentIndex,text.sourceSpan)}visitExpansion(expansion,context){return expansion}visitExpansionCase(expansionCase,context){return expansionCase}};function _isEmptyTextNode(node){return node instanceof Text$3&&0==node.value.trim().length}function removeSummaryDuplicates(items){const map=new Map;return items.forEach(item=>{map.get(item.type.reference)||map.set(item.type.reference,item)}),Array.from(map.values())}function isEmptyExpression(ast){return ast instanceof ASTWithSource&&(ast=ast.ast),ast instanceof EmptyExpr}function stripUnnecessaryQuotes(value){const qS=value.charCodeAt(0);if(qS==value.charCodeAt(value.length-1)&&(39==qS||34==qS)){const tempValue=value.substring(1,value.length-1);-1==tempValue.indexOf("'")&&-1==tempValue.indexOf('"')&&(value=tempValue)}return value}function hyphenate(value){return value.replace(/[a-z][A-Z]/g,v=>v.charAt(0)+"-"+v.charAt(1)).toLowerCase()}class StylingBuilder{constructor(_directiveExpr){this._directiveExpr=_directiveExpr,this._hasInitialValues=!1,this.hasBindings=!1,this.hasBindingsWithPipes=!1,this._classMapInput=null,this._styleMapInput=null,this._singleStyleInputs=null,this._singleClassInputs=null,this._lastStylingInput=null,this._firstStylingInput=null,this._stylesIndex=new Map,this._classesIndex=new Map,this._initialStyleValues=[],this._initialClassValues=[]}registerBoundInput(input){let binding=null,name=input.name;switch(input.type){case 0:binding=this.registerInputBasedOnName(name,input.value,input.sourceSpan);break;case 3:binding=this.registerStyleInput(name,!1,input.value,input.sourceSpan,input.unit);break;case 2:binding=this.registerClassInput(name,!1,input.value,input.sourceSpan)}return!!binding}registerInputBasedOnName(name,expression,sourceSpan){let binding=null;const prefix=name.substring(0,6),isStyle="style"===name||"style."===prefix||"style!"===prefix;if(isStyle||!isStyle&&("class"===name||"class."===prefix||"class!"===prefix)){const isMapBased="."!==name.charAt(5),property=name.substr(isMapBased?5:6);binding=isStyle?this.registerStyleInput(property,isMapBased,expression,sourceSpan):this.registerClassInput(property,isMapBased,expression,sourceSpan)}return binding}registerStyleInput(name,isMapBased,value,sourceSpan,unit){if(isEmptyExpression(value))return null;name=function normalizePropName(prop){return hyphenate(prop)}(name);const{property:property,hasOverrideFlag:hasOverrideFlag,unit:bindingUnit}=parseProperty(name),entry={name:property,sanitize:!property||(prop=property,"background-image"===prop||"backgroundImage"===prop||"background"===prop||"border-image"===prop||"borderImage"===prop||"border-image-source"===prop||"borderImageSource"===prop||"filter"===prop||"list-style"===prop||"listStyle"===prop||"list-style-image"===prop||"listStyleImage"===prop||"clip-path"===prop||"clipPath"===prop),unit:unit||bindingUnit,value:value,sourceSpan:sourceSpan,hasOverrideFlag:hasOverrideFlag};var prop;return isMapBased?this._styleMapInput=entry:((this._singleStyleInputs=this._singleStyleInputs||[]).push(entry),registerIntoMap(this._stylesIndex,property)),this._lastStylingInput=entry,this._firstStylingInput=this._firstStylingInput||entry,this._checkForPipes(value),this.hasBindings=!0,entry}registerClassInput(name,isMapBased,value,sourceSpan){if(isEmptyExpression(value))return null;const{property:property,hasOverrideFlag:hasOverrideFlag}=parseProperty(name),entry={name:property,value:value,sourceSpan:sourceSpan,sanitize:!1,hasOverrideFlag:hasOverrideFlag,unit:null};if(isMapBased){if(this._classMapInput)throw new Error("[class] and [className] bindings cannot be used on the same element simultaneously");this._classMapInput=entry}else(this._singleClassInputs=this._singleClassInputs||[]).push(entry),registerIntoMap(this._classesIndex,property);return this._lastStylingInput=entry,this._firstStylingInput=this._firstStylingInput||entry,this._checkForPipes(value),this.hasBindings=!0,entry}_checkForPipes(value){value instanceof ASTWithSource&&value.ast instanceof BindingPipe&&(this.hasBindingsWithPipes=!0)}registerStyleAttr(value){this._initialStyleValues=function parse(value){const styles=[];let i=0,parenDepth=0,quote=0,valueStart=0,propStart=0,currentProp=null,valueHasQuotes=!1;for(;i<value.length;){switch(value.charCodeAt(i++)){case 40:parenDepth++;break;case 41:parenDepth--;break;case 39:valueHasQuotes=valueHasQuotes||valueStart>0,0===quote?quote=39:39===quote&&92!==value.charCodeAt(i-1)&&(quote=0);break;case 34:valueHasQuotes=valueHasQuotes||valueStart>0,0===quote?quote=34:34===quote&&92!==value.charCodeAt(i-1)&&(quote=0);break;case 58:currentProp||0!==parenDepth||0!==quote||(currentProp=hyphenate(value.substring(propStart,i-1).trim()),valueStart=i);break;case 59:if(currentProp&&valueStart>0&&0===parenDepth&&0===quote){const styleVal=value.substring(valueStart,i-1).trim();styles.push(currentProp,valueHasQuotes?stripUnnecessaryQuotes(styleVal):styleVal),propStart=i,valueStart=0,currentProp=null,valueHasQuotes=!1}}}if(currentProp&&valueStart){const styleVal=value.substr(valueStart).trim();styles.push(currentProp,valueHasQuotes?stripUnnecessaryQuotes(styleVal):styleVal)}return styles}(value),this._hasInitialValues=!0}registerClassAttr(value){this._initialClassValues=value.trim().split(/\s+/g),this._hasInitialValues=!0}populateInitialStylingAttrs(attrs){if(this._initialClassValues.length){attrs.push(literal(1));for(let i=0;i<this._initialClassValues.length;i++)attrs.push(literal(this._initialClassValues[i]))}if(this._initialStyleValues.length){attrs.push(literal(2));for(let i=0;i<this._initialStyleValues.length;i+=2)attrs.push(literal(this._initialStyleValues[i]),literal(this._initialStyleValues[i+1]))}}assignHostAttrs(attrs,definitionMap){this._directiveExpr&&(attrs.length||this._hasInitialValues)&&(this.populateInitialStylingAttrs(attrs),definitionMap.set("hostAttrs",literalArr(attrs)))}buildClassMapInstruction(valueConverter){return this._classMapInput?this._buildMapBasedInstruction(valueConverter,!0,this._classMapInput):null}buildStyleMapInstruction(valueConverter){return this._styleMapInput?this._buildMapBasedInstruction(valueConverter,!1,this._styleMapInput):null}_buildMapBasedInstruction(valueConverter,isClassBased,stylingInput){let totalBindingSlotsRequired=2;const mapValue=stylingInput.value.visit(valueConverter);let reference;return mapValue instanceof Interpolation?(totalBindingSlotsRequired+=mapValue.expressions.length,reference=isClassBased?function getClassMapInterpolationExpression(interpolation){switch(getInterpolationArgsLength(interpolation)){case 1:return Identifiers$1.classMap;case 3:return Identifiers$1.classMapInterpolate1;case 5:return Identifiers$1.classMapInterpolate2;case 7:return Identifiers$1.classMapInterpolate3;case 9:return Identifiers$1.classMapInterpolate4;case 11:return Identifiers$1.classMapInterpolate5;case 13:return Identifiers$1.classMapInterpolate6;case 15:return Identifiers$1.classMapInterpolate7;case 17:return Identifiers$1.classMapInterpolate8;default:return Identifiers$1.classMapInterpolateV}}(mapValue):function getStyleMapInterpolationExpression(interpolation){switch(getInterpolationArgsLength(interpolation)){case 1:return Identifiers$1.styleMap;case 3:return Identifiers$1.styleMapInterpolate1;case 5:return Identifiers$1.styleMapInterpolate2;case 7:return Identifiers$1.styleMapInterpolate3;case 9:return Identifiers$1.styleMapInterpolate4;case 11:return Identifiers$1.styleMapInterpolate5;case 13:return Identifiers$1.styleMapInterpolate6;case 15:return Identifiers$1.styleMapInterpolate7;case 17:return Identifiers$1.styleMapInterpolate8;default:return Identifiers$1.styleMapInterpolateV}}(mapValue)):reference=isClassBased?Identifiers$1.classMap:Identifiers$1.styleMap,{reference:reference,calls:[{supportsInterpolation:!0,sourceSpan:stylingInput.sourceSpan,allocateBindingSlots:totalBindingSlotsRequired,params:convertFn=>{const convertResult=convertFn(mapValue);return Array.isArray(convertResult)?convertResult:[convertResult]}}]}}_buildSingleInputs(reference,inputs,valueConverter,getInterpolationExpressionFn,isClassBased){const instructions=[];return inputs.forEach(input=>{const previousInstruction=instructions[instructions.length-1],value=input.value.visit(valueConverter);let referenceForCall=reference,totalBindingSlotsRequired=2;value instanceof Interpolation&&(totalBindingSlotsRequired+=value.expressions.length,getInterpolationExpressionFn&&(referenceForCall=getInterpolationExpressionFn(value)));const call={sourceSpan:input.sourceSpan,allocateBindingSlots:totalBindingSlotsRequired,supportsInterpolation:!!getInterpolationExpressionFn,params:convertFn=>{const params=[];params.push(literal(input.name));const convertResult=convertFn(value);return Array.isArray(convertResult)?params.push(...convertResult):params.push(convertResult),isClassBased||(input.unit?params.push(literal(input.unit)):input.sanitize&&params.push(importExpr(Identifiers$1.defaultStyleSanitizer))),params}};previousInstruction&&previousInstruction.reference===referenceForCall?previousInstruction.calls.push(call):instructions.push({reference:referenceForCall,calls:[call]})}),instructions}_buildClassInputs(valueConverter){return this._singleClassInputs?this._buildSingleInputs(Identifiers$1.classProp,this._singleClassInputs,valueConverter,null,!0):[]}_buildStyleInputs(valueConverter){return this._singleStyleInputs?this._buildSingleInputs(Identifiers$1.styleProp,this._singleStyleInputs,valueConverter,getStylePropInterpolationExpression,!1):[]}buildUpdateLevelInstructions(valueConverter){const instructions=[];if(this.hasBindings){const styleMapInstruction=this.buildStyleMapInstruction(valueConverter);styleMapInstruction&&instructions.push(styleMapInstruction);const classMapInstruction=this.buildClassMapInstruction(valueConverter);classMapInstruction&&instructions.push(classMapInstruction),instructions.push(...this._buildStyleInputs(valueConverter)),instructions.push(...this._buildClassInputs(valueConverter))}return instructions}}function registerIntoMap(map,key){map.has(key)||map.set(key,map.size)}function parseProperty(name){let hasOverrideFlag=!1;const overrideIndex=name.indexOf("!important");-1!==overrideIndex&&(name=overrideIndex>0?name.substring(0,overrideIndex):"",hasOverrideFlag=!0);let unit="",property=name;const unitIndex=name.lastIndexOf(".");return unitIndex>0&&(unit=name.substr(unitIndex+1),property=name.substring(0,unitIndex)),{property:property,unit:unit,hasOverrideFlag:hasOverrideFlag}}function getStylePropInterpolationExpression(interpolation){switch(getInterpolationArgsLength(interpolation)){case 1:return Identifiers$1.styleProp;case 3:return Identifiers$1.stylePropInterpolate1;case 5:return Identifiers$1.stylePropInterpolate2;case 7:return Identifiers$1.stylePropInterpolate3;case 9:return Identifiers$1.stylePropInterpolate4;case 11:return Identifiers$1.stylePropInterpolate5;case 13:return Identifiers$1.stylePropInterpolate6;case 15:return Identifiers$1.stylePropInterpolate7;case 17:return Identifiers$1.stylePropInterpolate8;default:return Identifiers$1.stylePropInterpolateV}}var TokenType$1;!function(TokenType){TokenType[TokenType.Character=0]="Character",TokenType[TokenType.Identifier=1]="Identifier",TokenType[TokenType.Keyword=2]="Keyword",TokenType[TokenType.String=3]="String",TokenType[TokenType.Operator=4]="Operator",TokenType[TokenType.Number=5]="Number",TokenType[TokenType.Error=6]="Error"}(TokenType$1||(TokenType$1={}));const KEYWORDS=["var","let","as","null","undefined","true","false","if","else","this"];class Lexer{tokenize(text){const scanner=new _Scanner(text),tokens=[];let token=scanner.scanToken();for(;null!=token;)tokens.push(token),token=scanner.scanToken();return tokens}}class Token$1{constructor(index,end,type,numValue,strValue){this.index=index,this.end=end,this.type=type,this.numValue=numValue,this.strValue=strValue}isCharacter(code){return this.type==TokenType$1.Character&&this.numValue==code}isNumber(){return this.type==TokenType$1.Number}isString(){return this.type==TokenType$1.String}isOperator(operator){return this.type==TokenType$1.Operator&&this.strValue==operator}isIdentifier(){return this.type==TokenType$1.Identifier}isKeyword(){return this.type==TokenType$1.Keyword}isKeywordLet(){return this.type==TokenType$1.Keyword&&"let"==this.strValue}isKeywordAs(){return this.type==TokenType$1.Keyword&&"as"==this.strValue}isKeywordNull(){return this.type==TokenType$1.Keyword&&"null"==this.strValue}isKeywordUndefined(){return this.type==TokenType$1.Keyword&&"undefined"==this.strValue}isKeywordTrue(){return this.type==TokenType$1.Keyword&&"true"==this.strValue}isKeywordFalse(){return this.type==TokenType$1.Keyword&&"false"==this.strValue}isKeywordThis(){return this.type==TokenType$1.Keyword&&"this"==this.strValue}isError(){return this.type==TokenType$1.Error}toNumber(){return this.type==TokenType$1.Number?this.numValue:-1}toString(){switch(this.type){case TokenType$1.Character:case TokenType$1.Identifier:case TokenType$1.Keyword:case TokenType$1.Operator:case TokenType$1.String:case TokenType$1.Error:return this.strValue;case TokenType$1.Number:return this.numValue.toString();default:return null}}}function newCharacterToken(index,end,code){return new Token$1(index,end,TokenType$1.Character,code,String.fromCharCode(code))}function newOperatorToken(index,end,text){return new Token$1(index,end,TokenType$1.Operator,0,text)}const EOF=new Token$1(-1,-1,TokenType$1.Character,0,"");class _Scanner{constructor(input){this.input=input,this.peek=0,this.index=-1,this.length=input.length,this.advance()}advance(){this.peek=++this.index>=this.length?0:this.input.charCodeAt(this.index)}scanToken(){const input=this.input,length=this.length;let peek=this.peek,index=this.index;for(;peek<=32;){if(++index>=length){peek=0;break}peek=input.charCodeAt(index)}if(this.peek=peek,this.index=index,index>=length)return null;if(isIdentifierStart(peek))return this.scanIdentifier();if(isDigit(peek))return this.scanNumber(index);const start=index;switch(peek){case 46:return this.advance(),isDigit(this.peek)?this.scanNumber(start):newCharacterToken(start,this.index,46);case 40:case 41:case 123:case 125:case 91:case 93:case 44:case 58:case 59:return this.scanCharacter(start,peek);case 39:case 34:return this.scanString();case 35:case 43:case 45:case 42:case 47:case 37:case 94:return this.scanOperator(start,String.fromCharCode(peek));case 63:return this.scanComplexOperator(start,"?",46,".");case 60:case 62:return this.scanComplexOperator(start,String.fromCharCode(peek),61,"=");case 33:case 61:return this.scanComplexOperator(start,String.fromCharCode(peek),61,"=",61,"=");case 38:return this.scanComplexOperator(start,"&",38,"&");case 124:return this.scanComplexOperator(start,"|",124,"|");case 160:for(;isWhitespace(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(peek)}]`,0)}scanCharacter(start,code){return this.advance(),newCharacterToken(start,this.index,code)}scanOperator(start,str){return this.advance(),newOperatorToken(start,this.index,str)}scanComplexOperator(start,one,twoCode,two,threeCode,three){this.advance();let str=one;return this.peek==twoCode&&(this.advance(),str+=two),null!=threeCode&&this.peek==threeCode&&(this.advance(),str+=three),newOperatorToken(start,this.index,str)}scanIdentifier(){const start=this.index;for(this.advance();isIdentifierPart(this.peek);)this.advance();const str=this.input.substring(start,this.index);return KEYWORDS.indexOf(str)>-1?function newKeywordToken(index,end,text){return new Token$1(index,end,TokenType$1.Keyword,0,text)}(start,this.index,str):function newIdentifierToken(index,end,text){return new Token$1(index,end,TokenType$1.Identifier,0,text)}(start,this.index,str)}scanNumber(start){let simple=this.index===start;for(this.advance();;){if(isDigit(this.peek));else if(46==this.peek)simple=!1;else{if(101!=(code=this.peek)&&69!=code)break;if(this.advance(),isExponentSign(this.peek)&&this.advance(),!isDigit(this.peek))return this.error("Invalid exponent",-1);simple=!1}this.advance()}var code;const str=this.input.substring(start,this.index),value=simple?function parseIntAutoRadix(text){const result=parseInt(text);if(isNaN(result))throw new Error("Invalid integer literal when parsing "+text);return result}(str):parseFloat(str);return function newNumberToken(index,end,n){return new Token$1(index,end,TokenType$1.Number,n,"")}(start,this.index,value)}scanString(){const start=this.index,quote=this.peek;this.advance();let buffer="",marker=this.index;const input=this.input;for(;this.peek!=quote;)if(92==this.peek){let unescapedCode;if(buffer+=input.substring(marker,this.index),this.advance(),this.peek=this.peek,117==this.peek){const hex=input.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(hex))return this.error(`Invalid unicode escape [\\u${hex}]`,0);unescapedCode=parseInt(hex,16);for(let i=0;i<5;i++)this.advance()}else unescapedCode=compiler_unescape(this.peek),this.advance();buffer+=String.fromCharCode(unescapedCode),marker=this.index}else{if(0==this.peek)return this.error("Unterminated quote",0);this.advance()}const last=input.substring(marker,this.index);return this.advance(),function newStringToken(index,end,text){return new Token$1(index,end,TokenType$1.String,0,text)}(start,this.index,buffer+last)}error(message,offset){const position=this.index+offset;return function newErrorToken(index,end,message){return new Token$1(index,end,TokenType$1.Error,0,message)}(position,this.index,`Lexer Error: ${message} at column ${position} in expression [${this.input}]`)}}function isIdentifierStart(code){return 97<=code&&code<=122||65<=code&&code<=90||95==code||36==code}function isIdentifierPart(code){return isAsciiLetter(code)||isDigit(code)||95==code||36==code}function isExponentSign(code){return 45==code||43==code}function compiler_unescape(code){switch(code){case 110:return 10;case 102:return 12;case 114:return 13;case 116:return 9;case 118:return 11;default:return code}}class SplitInterpolation{constructor(strings,expressions,offsets){this.strings=strings,this.expressions=expressions,this.offsets=offsets}}class TemplateBindingParseResult{constructor(templateBindings,warnings,errors){this.templateBindings=templateBindings,this.warnings=warnings,this.errors=errors}}const defaultInterpolateRegExp=_createInterpolateRegExp(DEFAULT_INTERPOLATION_CONFIG);function _getInterpolateRegExp(config){return config===DEFAULT_INTERPOLATION_CONFIG?defaultInterpolateRegExp:_createInterpolateRegExp(config)}function _createInterpolateRegExp(config){const pattern=escapeRegExp(config.start)+"([\\s\\S]*?)"+escapeRegExp(config.end);return new RegExp(pattern,"g")}class Parser$1{constructor(_lexer){this._lexer=_lexer,this.errors=[],this.simpleExpressionChecker=SimpleExpressionChecker}parseAction(input,location,absoluteOffset,interpolationConfig=DEFAULT_INTERPOLATION_CONFIG){this._checkNoInterpolation(input,location,interpolationConfig);const sourceToLex=this._stripComments(input),tokens=this._lexer.tokenize(this._stripComments(input)),ast=new _ParseAST(input,location,absoluteOffset,tokens,sourceToLex.length,!0,this.errors,input.length-sourceToLex.length).parseChain();return new ASTWithSource(ast,input,location,absoluteOffset,this.errors)}parseBinding(input,location,absoluteOffset,interpolationConfig=DEFAULT_INTERPOLATION_CONFIG){const ast=this._parseBindingAst(input,location,absoluteOffset,interpolationConfig);return new ASTWithSource(ast,input,location,absoluteOffset,this.errors)}checkSimpleExpression(ast){const checker=new this.simpleExpressionChecker;return ast.visit(checker),checker.errors}parseSimpleBinding(input,location,absoluteOffset,interpolationConfig=DEFAULT_INTERPOLATION_CONFIG){const ast=this._parseBindingAst(input,location,absoluteOffset,interpolationConfig),errors=this.checkSimpleExpression(ast);return errors.length>0&&this._reportError(`Host binding expression cannot contain ${errors.join(" ")}`,input,location),new ASTWithSource(ast,input,location,absoluteOffset,this.errors)}_reportError(message,input,errLocation,ctxLocation){this.errors.push(new ParserError(message,input,errLocation,ctxLocation))}_parseBindingAst(input,location,absoluteOffset,interpolationConfig){const quote=this._parseQuote(input,location,absoluteOffset);if(null!=quote)return quote;this._checkNoInterpolation(input,location,interpolationConfig);const sourceToLex=this._stripComments(input),tokens=this._lexer.tokenize(sourceToLex);return new _ParseAST(input,location,absoluteOffset,tokens,sourceToLex.length,!1,this.errors,input.length-sourceToLex.length).parseChain()}_parseQuote(input,location,absoluteOffset){if(null==input)return null;const prefixSeparatorIndex=input.indexOf(":");if(-1==prefixSeparatorIndex)return null;const prefix=input.substring(0,prefixSeparatorIndex).trim();if(!function isIdentifier(input){if(0==input.length)return!1;const scanner=new _Scanner(input);if(!isIdentifierStart(scanner.peek))return!1;for(scanner.advance();0!==scanner.peek;){if(!isIdentifierPart(scanner.peek))return!1;scanner.advance()}return!0}(prefix))return null;const uninterpretedExpression=input.substring(prefixSeparatorIndex+1),span=new ParseSpan(0,input.length);return new Quote(span,span.toAbsolute(absoluteOffset),prefix,uninterpretedExpression,location)}parseTemplateBindings(templateKey,templateValue,templateUrl,absoluteOffset){const tokens=this._lexer.tokenize(templateValue);return new _ParseAST(templateValue,templateUrl,absoluteOffset,tokens,templateValue.length,!1,this.errors,0).parseTemplateBindings(templateKey)}parseInterpolation(input,location,absoluteOffset,interpolationConfig=DEFAULT_INTERPOLATION_CONFIG){const split=this.splitInterpolation(input,location,interpolationConfig);if(null==split)return null;const expressions=[];for(let i=0;i<split.expressions.length;++i){const expressionText=split.expressions[i],sourceToLex=this._stripComments(expressionText),tokens=this._lexer.tokenize(sourceToLex),ast=new _ParseAST(input,location,absoluteOffset,tokens,sourceToLex.length,!1,this.errors,split.offsets[i]+(expressionText.length-sourceToLex.length)).parseChain();expressions.push(ast)}const span=new ParseSpan(0,null==input?0:input.length);return new ASTWithSource(new Interpolation(span,span.toAbsolute(absoluteOffset),split.strings,expressions),input,location,absoluteOffset,this.errors)}splitInterpolation(input,location,interpolationConfig=DEFAULT_INTERPOLATION_CONFIG){const regexp=_getInterpolateRegExp(interpolationConfig),parts=input.split(regexp);if(parts.length<=1)return null;const strings=[],expressions=[],offsets=[];let offset=0;for(let i=0;i<parts.length;i++){const part=parts[i];i%2==0?(strings.push(part),offset+=part.length):part.trim().length>0?(offset+=interpolationConfig.start.length,expressions.push(part),offsets.push(offset),offset+=part.length+interpolationConfig.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",input,`at column ${this._findInterpolationErrorColumn(parts,i,interpolationConfig)} in`,location),expressions.push("$implicit"),offsets.push(offset))}return new SplitInterpolation(strings,expressions,offsets)}wrapLiteralPrimitive(input,location,absoluteOffset){const span=new ParseSpan(0,null==input?0:input.length);return new ASTWithSource(new LiteralPrimitive(span,span.toAbsolute(absoluteOffset),input),input,location,absoluteOffset,this.errors)}_stripComments(input){const i=this._commentStart(input);return null!=i?input.substring(0,i).trim():input}_commentStart(input){let outerQuote=null;for(let i=0;i<input.length-1;i++){const char=input.charCodeAt(i),nextChar=input.charCodeAt(i+1);if(47===char&&47==nextChar&&null==outerQuote)return i;outerQuote===char?outerQuote=null:null==outerQuote&&(39===(code=char)||34===code||96===code)&&(outerQuote=char)}var code;return null}_checkNoInterpolation(input,location,interpolationConfig){const regexp=_getInterpolateRegExp(interpolationConfig),parts=input.split(regexp);parts.length>1&&this._reportError(`Got interpolation (${interpolationConfig.start}${interpolationConfig.end}) where expression was expected`,input,`at column ${this._findInterpolationErrorColumn(parts,1,interpolationConfig)} in`,location)}_findInterpolationErrorColumn(parts,partInErrIdx,interpolationConfig){let errLocation="";for(let j=0;j<partInErrIdx;j++)errLocation+=j%2==0?parts[j]:`${interpolationConfig.start}${parts[j]}${interpolationConfig.end}`;return errLocation.length}}class IvyParser extends Parser$1{constructor(){super(...arguments),this.simpleExpressionChecker=IvySimpleExpressionChecker}}class _ParseAST{constructor(input,location,absoluteOffset,tokens,inputLength,parseAction,errors,offset){this.input=input,this.location=location,this.absoluteOffset=absoluteOffset,this.tokens=tokens,this.inputLength=inputLength,this.parseAction=parseAction,this.errors=errors,this.offset=offset,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.sourceSpanCache=new Map,this.index=0}peek(offset){const i=this.index+offset;return i<this.tokens.length?this.tokens[i]:EOF}get next(){return this.peek(0)}get inputIndex(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset}span(start){return new ParseSpan(start,this.inputIndex)}sourceSpan(start){const serial=`${start}@${this.inputIndex}`;return this.sourceSpanCache.has(serial)||this.sourceSpanCache.set(serial,this.span(start).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(serial)}advance(){this.index++}consumeOptionalCharacter(code){return!!this.next.isCharacter(code)&&(this.advance(),!0)}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(code){this.consumeOptionalCharacter(code)||this.error(`Missing expected ${String.fromCharCode(code)}`)}consumeOptionalOperator(op){return!!this.next.isOperator(op)&&(this.advance(),!0)}expectOperator(operator){this.consumeOptionalOperator(operator)||this.error(`Missing expected operator ${operator}`)}expectIdentifierOrKeyword(){const n=this.next;return n.isIdentifier()||n.isKeyword()?(this.advance(),n.toString()):(this.error(`Unexpected token ${n}, expected identifier or keyword`),"")}expectIdentifierOrKeywordOrString(){const n=this.next;return n.isIdentifier()||n.isKeyword()||n.isString()?(this.advance(),n.toString()):(this.error(`Unexpected token ${n}, expected identifier, keyword, or string`),"")}parseChain(){const exprs=[],start=this.inputIndex;for(;this.index<this.tokens.length;){const expr=this.parsePipe();if(exprs.push(expr),this.consumeOptionalCharacter(59))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(59););else this.index<this.tokens.length&&this.error(`Unexpected token '${this.next}'`)}return 0==exprs.length?new EmptyExpr(this.span(start),this.sourceSpan(start)):1==exprs.length?exprs[0]:new Chain(this.span(start),this.sourceSpan(start),exprs)}parsePipe(){let result=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{const nameStart=this.inputIndex,name=this.expectIdentifierOrKeyword(),nameSpan=this.sourceSpan(nameStart),args=[];for(;this.consumeOptionalCharacter(58);)args.push(this.parseExpression());const{start:start}=result.span;result=new BindingPipe(this.span(start),this.sourceSpan(start),result,name,args,nameSpan)}while(this.consumeOptionalOperator("|"))}return result}parseExpression(){return this.parseConditional()}parseConditional(){const start=this.inputIndex,result=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){const yes=this.parsePipe();let no;if(this.consumeOptionalCharacter(58))no=this.parsePipe();else{const end=this.inputIndex,expression=this.input.substring(start,end);this.error(`Conditional expression ${expression} requires all 3 expressions`),no=new EmptyExpr(this.span(start),this.sourceSpan(start))}return new Conditional(this.span(start),this.sourceSpan(start),result,yes,no)}return result}parseLogicalOr(){let result=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){const right=this.parseLogicalAnd(),{start:start}=result.span;result=new Binary(this.span(start),this.sourceSpan(start),"||",result,right)}return result}parseLogicalAnd(){let result=this.parseEquality();for(;this.consumeOptionalOperator("&&");){const right=this.parseEquality(),{start:start}=result.span;result=new Binary(this.span(start),this.sourceSpan(start),"&&",result,right)}return result}parseEquality(){let result=this.parseRelational();for(;this.next.type==TokenType$1.Operator;){const operator=this.next.strValue;switch(operator){case"==":case"===":case"!=":case"!==":this.advance();const right=this.parseRelational(),{start:start}=result.span;result=new Binary(this.span(start),this.sourceSpan(start),operator,result,right);continue}break}return result}parseRelational(){let result=this.parseAdditive();for(;this.next.type==TokenType$1.Operator;){const operator=this.next.strValue;switch(operator){case"<":case">":case"<=":case">=":this.advance();const right=this.parseAdditive(),{start:start}=result.span;result=new Binary(this.span(start),this.sourceSpan(start),operator,result,right);continue}break}return result}parseAdditive(){let result=this.parseMultiplicative();for(;this.next.type==TokenType$1.Operator;){const operator=this.next.strValue;switch(operator){case"+":case"-":this.advance();let right=this.parseMultiplicative();const{start:start}=result.span;result=new Binary(this.span(start),this.sourceSpan(start),operator,result,right);continue}break}return result}parseMultiplicative(){let result=this.parsePrefix();for(;this.next.type==TokenType$1.Operator;){const operator=this.next.strValue;switch(operator){case"*":case"%":case"/":this.advance();let right=this.parsePrefix();const{start:start}=result.span;result=new Binary(this.span(start),this.sourceSpan(start),operator,result,right);continue}break}return result}parsePrefix(){if(this.next.type==TokenType$1.Operator){const start=this.inputIndex,operator=this.next.strValue,literalSpan=new ParseSpan(start,start),literalSourceSpan=literalSpan.toAbsolute(this.absoluteOffset);let result;switch(operator){case"+":return this.advance(),result=this.parsePrefix(),new Binary(this.span(start),this.sourceSpan(start),"-",result,new LiteralPrimitive(literalSpan,literalSourceSpan,0));case"-":return this.advance(),result=this.parsePrefix(),new Binary(this.span(start),this.sourceSpan(start),operator,new LiteralPrimitive(literalSpan,literalSourceSpan,0),result);case"!":return this.advance(),result=this.parsePrefix(),new PrefixNot(this.span(start),this.sourceSpan(start),result)}}return this.parseCallChain()}parseCallChain(){let result=this.parsePrimary();const resultStart=result.span.start;for(;;)if(this.consumeOptionalCharacter(46))result=this.parseAccessMemberOrMethodCall(result,!1);else if(this.consumeOptionalOperator("?."))result=this.parseAccessMemberOrMethodCall(result,!0);else if(this.consumeOptionalCharacter(91)){this.rbracketsExpected++;const key=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(93),this.consumeOptionalOperator("=")){const value=this.parseConditional();result=new KeyedWrite(this.span(resultStart),this.sourceSpan(resultStart),result,key,value)}else result=new KeyedRead(this.span(resultStart),this.sourceSpan(resultStart),result,key)}else if(this.consumeOptionalCharacter(40)){this.rparensExpected++;const args=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(41),result=new FunctionCall(this.span(resultStart),this.sourceSpan(resultStart),result,args)}else{if(!this.consumeOptionalOperator("!"))return result;result=new NonNullAssert(this.span(resultStart),this.sourceSpan(resultStart),result)}}parsePrimary(){const start=this.inputIndex;if(this.consumeOptionalCharacter(40)){this.rparensExpected++;const result=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),result}if(this.next.isKeywordNull())return this.advance(),new LiteralPrimitive(this.span(start),this.sourceSpan(start),null);if(this.next.isKeywordUndefined())return this.advance(),new LiteralPrimitive(this.span(start),this.sourceSpan(start),void 0);if(this.next.isKeywordTrue())return this.advance(),new LiteralPrimitive(this.span(start),this.sourceSpan(start),!0);if(this.next.isKeywordFalse())return this.advance(),new LiteralPrimitive(this.span(start),this.sourceSpan(start),!1);if(this.next.isKeywordThis())return this.advance(),new ImplicitReceiver(this.span(start),this.sourceSpan(start));if(this.consumeOptionalCharacter(91)){this.rbracketsExpected++;const elements=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new LiteralArray(this.span(start),this.sourceSpan(start),elements)}if(this.next.isCharacter(123))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new ImplicitReceiver(this.span(start),this.sourceSpan(start)),!1);if(this.next.isNumber()){const value=this.next.toNumber();return this.advance(),new LiteralPrimitive(this.span(start),this.sourceSpan(start),value)}if(this.next.isString()){const literalValue=this.next.toString();return this.advance(),new LiteralPrimitive(this.span(start),this.sourceSpan(start),literalValue)}return this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new EmptyExpr(this.span(start),this.sourceSpan(start))):(this.error(`Unexpected token ${this.next}`),new EmptyExpr(this.span(start),this.sourceSpan(start)))}parseExpressionList(terminator){const result=[];if(!this.next.isCharacter(terminator))do{result.push(this.parsePipe())}while(this.consumeOptionalCharacter(44));return result}parseLiteralMap(){const keys=[],values=[],start=this.inputIndex;if(this.expectCharacter(123),!this.consumeOptionalCharacter(125)){this.rbracesExpected++;do{const quoted=this.next.isString(),key=this.expectIdentifierOrKeywordOrString();keys.push({key:key,quoted:quoted}),this.expectCharacter(58),values.push(this.parsePipe())}while(this.consumeOptionalCharacter(44));this.rbracesExpected--,this.expectCharacter(125)}return new LiteralMap(this.span(start),this.sourceSpan(start),keys,values)}parseAccessMemberOrMethodCall(receiver,isSafe=!1){const start=receiver.span.start,id=this.expectIdentifierOrKeyword();if(this.consumeOptionalCharacter(40)){this.rparensExpected++;const args=this.parseCallArguments();this.expectCharacter(41),this.rparensExpected--;const span=this.span(start),sourceSpan=this.sourceSpan(start);return isSafe?new SafeMethodCall(span,sourceSpan,receiver,id,args):new MethodCall(span,sourceSpan,receiver,id,args)}if(isSafe)return this.consumeOptionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new EmptyExpr(this.span(start),this.sourceSpan(start))):new SafePropertyRead(this.span(start),this.sourceSpan(start),receiver,id);if(this.consumeOptionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new EmptyExpr(this.span(start),this.sourceSpan(start));const value=this.parseConditional();return new PropertyWrite(this.span(start),this.sourceSpan(start),receiver,id,value)}this.span(start);return new PropertyRead(this.span(start),this.sourceSpan(start),receiver,id)}parseCallArguments(){if(this.next.isCharacter(41))return[];const positionals=[];do{positionals.push(this.parsePipe())}while(this.consumeOptionalCharacter(44));return positionals}expectTemplateBindingKey(){let result="",operatorFound=!1;const start=this.inputIndex;do{result+=this.expectIdentifierOrKeywordOrString(),operatorFound=this.consumeOptionalOperator("-"),operatorFound&&(result+="-")}while(operatorFound);return{key:result,keySpan:new ParseSpan(start,start+result.length)}}parseTemplateBindings(templateKey){const bindings=[];for(bindings.push(...this.parseDirectiveKeywordBindings(templateKey,new ParseSpan(0,templateKey.length),this.absoluteOffset));this.index<this.tokens.length;){const letBinding=this.parseLetBinding();if(letBinding)bindings.push(letBinding);else{const{key:key,keySpan:keySpan}=this.expectTemplateBindingKey(),binding=this.parseAsBinding(key,keySpan,this.absoluteOffset);if(binding)bindings.push(binding);else{const actualKey=templateKey+key[0].toUpperCase()+key.substring(1);bindings.push(...this.parseDirectiveKeywordBindings(actualKey,keySpan,this.absoluteOffset))}}this.consumeStatementTerminator()}return new TemplateBindingParseResult(bindings,[],this.errors)}parseDirectiveKeywordBindings(key,keySpan,absoluteOffset){var _a;const bindings=[];this.consumeOptionalCharacter(58);const valueExpr=this.getDirectiveBoundTarget(),span=new ParseSpan(keySpan.start,this.inputIndex);bindings.push(new TemplateBinding(span,span.toAbsolute(absoluteOffset),key,!1,(null===(_a=valueExpr)||void 0===_a?void 0:_a.source)||"",valueExpr));const asBinding=this.parseAsBinding(key,keySpan,absoluteOffset);return asBinding&&bindings.push(asBinding),this.consumeStatementTerminator(),bindings}getDirectiveBoundTarget(){if(this.next===EOF||this.peekKeywordAs()||this.peekKeywordLet())return null;const ast=this.parsePipe(),{start:start,end:end}=ast.span,value=this.input.substring(start,end);return new ASTWithSource(ast,value,this.location,this.absoluteOffset+start,this.errors)}parseAsBinding(value,valueSpan,absoluteOffset){if(!this.peekKeywordAs())return null;this.advance();const{key:key}=this.expectTemplateBindingKey(),valueAst=new AST(valueSpan,valueSpan.toAbsolute(absoluteOffset)),valueExpr=new ASTWithSource(valueAst,value,this.location,absoluteOffset+valueSpan.start,this.errors),span=new ParseSpan(valueSpan.start,this.inputIndex);return new TemplateBinding(span,span.toAbsolute(absoluteOffset),key,!0,value,valueExpr)}parseLetBinding(){var _a;if(!this.peekKeywordLet())return null;const spanStart=this.inputIndex;this.advance();const{key:key}=this.expectTemplateBindingKey();let valueExpr=null;if(this.consumeOptionalOperator("=")){const{key:value,keySpan:valueSpan}=this.expectTemplateBindingKey(),ast=new AST(valueSpan,valueSpan.toAbsolute(this.absoluteOffset));valueExpr=new ASTWithSource(ast,value,this.location,this.absoluteOffset+valueSpan.start,this.errors)}const spanEnd=this.inputIndex,span=new ParseSpan(spanStart,spanEnd);return new TemplateBinding(span,span.toAbsolute(this.absoluteOffset),key,!0,(null===(_a=valueExpr)||void 0===_a?void 0:_a.source)||"$implicit",valueExpr)}consumeStatementTerminator(){this.consumeOptionalCharacter(59)||this.consumeOptionalCharacter(44)}error(message,index=null){this.errors.push(new ParserError(message,this.input,this.locationText(index),this.location)),this.skip()}locationText(index=null){return null==index&&(index=this.index),index<this.tokens.length?`at column ${this.tokens[index].index+1} in`:"at the end of the expression"}skip(){let n=this.next;for(;this.index<this.tokens.length&&!n.isCharacter(59)&&(this.rparensExpected<=0||!n.isCharacter(41))&&(this.rbracesExpected<=0||!n.isCharacter(125))&&(this.rbracketsExpected<=0||!n.isCharacter(93));)this.next.isError()&&this.errors.push(new ParserError(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),n=this.next}}class SimpleExpressionChecker{constructor(){this.errors=[]}visitImplicitReceiver(ast,context){}visitInterpolation(ast,context){}visitLiteralPrimitive(ast,context){}visitPropertyRead(ast,context){}visitPropertyWrite(ast,context){}visitSafePropertyRead(ast,context){}visitMethodCall(ast,context){}visitSafeMethodCall(ast,context){}visitFunctionCall(ast,context){}visitLiteralArray(ast,context){this.visitAll(ast.expressions)}visitLiteralMap(ast,context){this.visitAll(ast.values)}visitBinary(ast,context){}visitPrefixNot(ast,context){}visitNonNullAssert(ast,context){}visitConditional(ast,context){}visitPipe(ast,context){this.errors.push("pipes")}visitKeyedRead(ast,context){}visitKeyedWrite(ast,context){}visitAll(asts){return asts.map(node=>node.visit(this))}visitChain(ast,context){}visitQuote(ast,context){}}class IvySimpleExpressionChecker extends SimpleExpressionChecker{visitBinary(ast,context){ast.left.visit(this),ast.right.visit(this)}visitPrefixNot(ast,context){ast.expression.visit(this)}}let _SECURITY_SCHEMA;function SECURITY_SCHEMA(){return _SECURITY_SCHEMA||(_SECURITY_SCHEMA={},registerContext(SecurityContext.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),registerContext(SecurityContext.STYLE,["*|style"]),registerContext(SecurityContext.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),registerContext(SecurityContext.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),_SECURITY_SCHEMA}function registerContext(ctx,specs){for(const spec of specs)_SECURITY_SCHEMA[spec.toLowerCase()]=ctx}class ElementSchemaRegistry{}const SCHEMA=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],_ATTR_TO_PROP={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"};class DomElementSchemaRegistry extends ElementSchemaRegistry{constructor(){super(),this._schema={},SCHEMA.forEach(encodedType=>{const type={},[strType,strProperties]=encodedType.split("|"),properties=strProperties.split(","),[typeNames,superName]=strType.split("^");typeNames.split(",").forEach(tag=>this._schema[tag.toLowerCase()]=type);const superType=superName&&this._schema[superName.toLowerCase()];superType&&Object.keys(superType).forEach(prop=>{type[prop]=superType[prop]}),properties.forEach(property=>{if(property.length>0)switch(property[0]){case"*":break;case"!":type[property.substring(1)]="boolean";break;case"#":type[property.substring(1)]="number";break;case"%":type[property.substring(1)]="object";break;default:type[property]="string"}})})}hasProperty(tagName,propName,schemaMetas){if(schemaMetas.some(schema=>schema.name===NO_ERRORS_SCHEMA.name))return!0;if(tagName.indexOf("-")>-1){if(isNgContainer(tagName)||isNgContent(tagName))return!1;if(schemaMetas.some(schema=>schema.name===CUSTOM_ELEMENTS_SCHEMA.name))return!0}return!!(this._schema[tagName.toLowerCase()]||this._schema.unknown)[propName]}hasElement(tagName,schemaMetas){if(schemaMetas.some(schema=>schema.name===NO_ERRORS_SCHEMA.name))return!0;if(tagName.indexOf("-")>-1){if(isNgContainer(tagName)||isNgContent(tagName))return!0;if(schemaMetas.some(schema=>schema.name===CUSTOM_ELEMENTS_SCHEMA.name))return!0}return!!this._schema[tagName.toLowerCase()]}securityContext(tagName,propName,isAttribute){isAttribute&&(propName=this.getMappedPropName(propName)),tagName=tagName.toLowerCase(),propName=propName.toLowerCase();let ctx=SECURITY_SCHEMA()[tagName+"|"+propName];return ctx||(ctx=SECURITY_SCHEMA()["*|"+propName],ctx||SecurityContext.NONE)}getMappedPropName(propName){return _ATTR_TO_PROP[propName]||propName}getDefaultComponentElementName(){return"ng-component"}validateProperty(name){if(name.toLowerCase().startsWith("on")){return{error:!0,msg:`Binding to event property '${name}' is disallowed for security reasons, `+`please use (${name.slice(2)})=...`+`\nIf '${name}' is a directive input, make sure the directive is imported by the`+" current module."}}return{error:!1}}validateAttribute(name){if(name.toLowerCase().startsWith("on")){return{error:!0,msg:`Binding to event attribute '${name}' is disallowed for security reasons, `+`please use (${name.slice(2)})=...`}}return{error:!1}}allKnownElementNames(){return Object.keys(this._schema)}normalizeAnimationStyleProperty(propName){return function compiler_dashCaseToCamelCase(input){return input.replace(compiler_DASH_CASE_REGEXP,(...m)=>m[1].toUpperCase())}(propName)}normalizeAnimationStyleValue(camelCaseProp,userProvidedProp,val){let unit="";const strVal=val.toString().trim();let errorMsg=null;if(function _isPixelDimensionStyle(prop){switch(prop){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}(camelCaseProp)&&0!==val&&"0"!==val)if("number"==typeof val)unit="px";else{const valAndSuffixMatch=val.match(/^[+-]?[\d\.]+([a-z]*)$/);valAndSuffixMatch&&0==valAndSuffixMatch[1].length&&(errorMsg=`Please provide a CSS unit value for ${userProvidedProp}:${val}`)}return{error:errorMsg,value:strVal+unit}}}const BIND_NAME_REGEXP$1=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/;function htmlAstToRender3Ast(htmlNodes,bindingParser){const transformer=new HtmlAstToIvyAst(bindingParser),ivyNodes=visitAll$1(transformer,htmlNodes),allErrors=bindingParser.errors.concat(transformer.errors),errors=allErrors.filter(e=>e.level===ParseErrorLevel.ERROR);if(errors.length>0){throw syntaxError(`Template parse errors:\n${errors.join("\n")}`,errors)}return{nodes:ivyNodes,errors:allErrors,styleUrls:transformer.styleUrls,styles:transformer.styles}}class HtmlAstToIvyAst{constructor(bindingParser){this.bindingParser=bindingParser,this.errors=[],this.styles=[],this.styleUrls=[],this.inI18nBlock=!1}visitElement(element){const isI18nRootElement=isI18nRootNode(element.i18n);isI18nRootElement&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",element.sourceSpan),this.inI18nBlock=!0);const preparsedElement=preparseElement(element);if(preparsedElement.type===PreparsedElementType.SCRIPT)return null;if(preparsedElement.type===PreparsedElementType.STYLE){const contents=function textContents(node){return 1===node.children.length&&node.children[0]instanceof Text$3?node.children[0].value:null}(element);return null!==contents&&this.styles.push(contents),null}if(preparsedElement.type===PreparsedElementType.STYLESHEET&&isStyleUrlResolvable(preparsedElement.hrefAttr))return this.styleUrls.push(preparsedElement.hrefAttr),null;const isTemplateElement=isNgTemplate(element.name),parsedProperties=[],boundEvents=[],variables=[],references=[],attributes=[],i18nAttrsMeta={},templateParsedProperties=[],templateVariables=[];let elementHasInlineTemplate=!1;for(const attribute of element.attrs){let hasBinding=!1;const normalizedName=normalizeAttributeName(attribute.name);let isTemplateBinding=!1;if(attribute.i18n&&(i18nAttrsMeta[attribute.name]=attribute.i18n),normalizedName.startsWith("*")){elementHasInlineTemplate&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",attribute.sourceSpan),isTemplateBinding=!0,elementHasInlineTemplate=!0;const templateValue=attribute.value,templateKey=normalizedName.substring("*".length),parsedVariables=[],absoluteValueOffset=attribute.valueSpan?attribute.valueSpan.start.offset:attribute.sourceSpan.start.offset+attribute.name.length;this.bindingParser.parseInlineTemplateBinding(templateKey,templateValue,attribute.sourceSpan,absoluteValueOffset,[],templateParsedProperties,parsedVariables),templateVariables.push(...parsedVariables.map(v=>new Variable(v.name,v.value,v.sourceSpan)))}else hasBinding=this.parseAttribute(isTemplateElement,attribute,[],parsedProperties,boundEvents,variables,references);hasBinding||isTemplateBinding||attributes.push(this.visitAttribute(attribute))}const children=visitAll$1(preparsedElement.nonBindable?NON_BINDABLE_VISITOR$1:this,element.children);let parsedElement;if(preparsedElement.type===PreparsedElementType.NG_CONTENT){element.children&&!element.children.every(node=>function isEmptyTextNode(node){return node instanceof Text$3&&0==node.value.trim().length}(node)||function isCommentNode(node){return node instanceof Comment}(node))&&this.reportError("<ng-content> element cannot have content.",element.sourceSpan);const selector=preparsedElement.selectAttr,attrs=element.attrs.map(attr=>this.visitAttribute(attr));parsedElement=new Content(selector,attrs,element.sourceSpan,element.i18n)}else if(isTemplateElement){const attrs=this.extractAttributes(element.name,parsedProperties,i18nAttrsMeta);parsedElement=new Template(element.name,attributes,attrs.bound,boundEvents,[],children,references,variables,element.sourceSpan,element.startSourceSpan,element.endSourceSpan,element.i18n)}else{const attrs=this.extractAttributes(element.name,parsedProperties,i18nAttrsMeta);parsedElement=new compiler_Element(element.name,attributes,attrs.bound,boundEvents,children,references,element.sourceSpan,element.startSourceSpan,element.endSourceSpan,element.i18n)}if(elementHasInlineTemplate){const attrs=this.extractAttributes("ng-template",templateParsedProperties,i18nAttrsMeta),templateAttrs=[];attrs.literal.forEach(attr=>templateAttrs.push(attr)),attrs.bound.forEach(attr=>templateAttrs.push(attr));const hoistedAttrs=parsedElement instanceof compiler_Element?{attributes:parsedElement.attributes,inputs:parsedElement.inputs,outputs:parsedElement.outputs}:{attributes:[],inputs:[],outputs:[]},i18n=isTemplateElement&&isI18nRootElement?void 0:element.i18n;parsedElement=new Template(parsedElement.name,hoistedAttrs.attributes,hoistedAttrs.inputs,hoistedAttrs.outputs,templateAttrs,[parsedElement],[],templateVariables,element.sourceSpan,element.startSourceSpan,element.endSourceSpan,i18n)}return isI18nRootElement&&(this.inI18nBlock=!1),parsedElement}visitAttribute(attribute){return new TextAttribute(attribute.name,attribute.value,attribute.sourceSpan,attribute.valueSpan,attribute.i18n)}visitText(text){return this._visitTextWithInterpolation(text.value,text.sourceSpan,text.i18n)}visitExpansion(expansion){if(!expansion.i18n)return null;if(!isI18nRootNode(expansion.i18n))throw new Error(`Invalid type "${expansion.i18n.constructor}" for "i18n" property of ${expansion.sourceSpan.toString()}. Expected a "Message"`);const message=expansion.i18n,vars={},placeholders={};return Object.keys(message.placeholders).forEach(key=>{const value=message.placeholders[key];if(key.startsWith("VAR_")){const config=this.bindingParser.interpolationConfig,wrapped=`${config.start}${value}${config.end}`;vars[key]=this._visitTextWithInterpolation(wrapped,expansion.sourceSpan)}else placeholders[key]=this._visitTextWithInterpolation(value,expansion.sourceSpan)}),new Icu(vars,placeholders,expansion.sourceSpan,message)}visitExpansionCase(expansionCase){return null}visitComment(comment){return null}extractAttributes(elementName,properties,i18nPropsMeta){const bound=[],literal=[];return properties.forEach(prop=>{const i18n=i18nPropsMeta[prop.name];if(prop.isLiteral)literal.push(new TextAttribute(prop.name,prop.expression.source||"",prop.sourceSpan,void 0,i18n));else{const bep=this.bindingParser.createBoundElementProperty(elementName,prop,!0,!1);bound.push(BoundAttribute.fromBoundElementProperty(bep,i18n))}}),{bound:bound,literal:literal}}parseAttribute(isTemplateElement,attribute,matchableAttributes,parsedProperties,boundEvents,variables,references){const name=normalizeAttributeName(attribute.name),value=attribute.value,srcSpan=attribute.sourceSpan,absoluteOffset=attribute.valueSpan?attribute.valueSpan.start.offset:srcSpan.start.offset,bindParts=name.match(BIND_NAME_REGEXP$1);let hasBinding=!1;if(bindParts){if(hasBinding=!0,null!=bindParts[1])this.bindingParser.parsePropertyBinding(bindParts[7],value,!1,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties);else if(bindParts[2])if(isTemplateElement){const identifier=bindParts[7];this.parseVariable(identifier,value,srcSpan,attribute.valueSpan,variables)}else this.reportError('"let-" is only supported on ng-template elements.',srcSpan);else if(bindParts[3]){const identifier=bindParts[7];this.parseReference(identifier,value,srcSpan,attribute.valueSpan,references)}else if(bindParts[4]){const events=[];this.bindingParser.parseEvent(bindParts[7],value,srcSpan,attribute.valueSpan||srcSpan,matchableAttributes,events),addEvents(events,boundEvents)}else if(bindParts[5])this.bindingParser.parsePropertyBinding(bindParts[7],value,!1,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties),this.parseAssignmentEvent(bindParts[7],value,srcSpan,attribute.valueSpan,matchableAttributes,boundEvents);else if(bindParts[6])this.bindingParser.parseLiteralAttr(name,value,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties);else if(bindParts[8])this.bindingParser.parsePropertyBinding(bindParts[8],value,!1,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties),this.parseAssignmentEvent(bindParts[8],value,srcSpan,attribute.valueSpan,matchableAttributes,boundEvents);else if(bindParts[9])this.bindingParser.parsePropertyBinding(bindParts[9],value,!1,srcSpan,absoluteOffset,attribute.valueSpan,matchableAttributes,parsedProperties);else if(bindParts[10]){const events=[];this.bindingParser.parseEvent(bindParts[10],value,srcSpan,attribute.valueSpan||srcSpan,matchableAttributes,events),addEvents(events,boundEvents)}}else hasBinding=this.bindingParser.parsePropertyInterpolation(name,value,srcSpan,attribute.valueSpan,matchableAttributes,parsedProperties);return hasBinding}_visitTextWithInterpolation(value,sourceSpan,i18n){const valueNoNgsp=replaceNgsp(value),expr=this.bindingParser.parseInterpolation(valueNoNgsp,sourceSpan);return expr?new BoundText(expr,sourceSpan,i18n):new Text(valueNoNgsp,sourceSpan)}parseVariable(identifier,value,sourceSpan,valueSpan,variables){identifier.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',sourceSpan):0===identifier.length&&this.reportError("Variable does not have a name",sourceSpan),variables.push(new Variable(identifier,value,sourceSpan,valueSpan))}parseReference(identifier,value,sourceSpan,valueSpan,references){identifier.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',sourceSpan):0===identifier.length&&this.reportError("Reference does not have a name",sourceSpan),references.push(new Reference(identifier,value,sourceSpan,valueSpan))}parseAssignmentEvent(name,expression,sourceSpan,valueSpan,targetMatchableAttrs,boundEvents){const events=[];this.bindingParser.parseEvent(`${name}Change`,`${expression}=$event`,sourceSpan,valueSpan||sourceSpan,targetMatchableAttrs,events),addEvents(events,boundEvents)}reportError(message,sourceSpan,level=ParseErrorLevel.ERROR){this.errors.push(new ParseError(sourceSpan,message,level))}}const NON_BINDABLE_VISITOR$1=new class{visitElement(ast){const preparsedElement=preparseElement(ast);if(preparsedElement.type===PreparsedElementType.SCRIPT||preparsedElement.type===PreparsedElementType.STYLE||preparsedElement.type===PreparsedElementType.STYLESHEET)return null;const children=visitAll$1(this,ast.children,null);return new compiler_Element(ast.name,visitAll$1(this,ast.attrs),[],[],children,[],ast.sourceSpan,ast.startSourceSpan,ast.endSourceSpan)}visitComment(comment){return null}visitAttribute(attribute){return new TextAttribute(attribute.name,attribute.value,attribute.sourceSpan,void 0,attribute.i18n)}visitText(text){return new Text(text.value,text.sourceSpan)}visitExpansion(expansion){return null}visitExpansionCase(expansionCase){return null}};function normalizeAttributeName(attrName){return/^data-/i.test(attrName)?attrName.substring(5):attrName}function addEvents(events,boundEvents){boundEvents.push(...events.map(e=>BoundEvent.fromParsedEvent(e)))}var TagType;!function(TagType){TagType[TagType.ELEMENT=0]="ELEMENT",TagType[TagType.TEMPLATE=1]="TEMPLATE",TagType[TagType.PROJECTION=2]="PROJECTION"}(TagType||(TagType={}));class I18nContext{constructor(index,ref,level=0,templateIndex=null,meta,registry){this.index=index,this.ref=ref,this.level=level,this.templateIndex=templateIndex,this.meta=meta,this.registry=registry,this.bindings=new Set,this.placeholders=new Map,this.isEmitted=!1,this._unresolvedCtxCount=0,this._registry=registry||function setupRegistry(){return{getUniqueId:getSeqNumberGenerator(),icus:new Map}}(),this.id=this._registry.getUniqueId()}appendTag(type,node,index,closed){if(node.isVoid&&closed)return;const ph=node.isVoid||!closed?node.startName:node.closeName,content={type:type,index:index,ctx:this.id,isVoid:node.isVoid,closed:closed};updatePlaceholderMap(this.placeholders,ph,content)}get icus(){return this._registry.icus}get isRoot(){return 0===this.level}get isResolved(){return 0===this._unresolvedCtxCount}getSerializedPlaceholders(){const result=new Map;return this.placeholders.forEach((values,key)=>result.set(key,values.map(serializePlaceholderValue))),result}appendBinding(binding){this.bindings.add(binding)}appendIcu(name,ref){updatePlaceholderMap(this._registry.icus,name,ref)}appendBoundText(node){assembleBoundTextPlaceholders(node,this.bindings.size,this.id).forEach((values,key)=>updatePlaceholderMap(this.placeholders,key,...values))}appendTemplate(node,index){this.appendTag(TagType.TEMPLATE,node,index,!1),this.appendTag(TagType.TEMPLATE,node,index,!0),this._unresolvedCtxCount++}appendElement(node,index,closed){this.appendTag(TagType.ELEMENT,node,index,closed)}appendProjection(node,index){this.appendTag(TagType.PROJECTION,node,index,!1),this.appendTag(TagType.PROJECTION,node,index,!0)}forkChildContext(index,templateIndex,meta){return new I18nContext(index,this.ref,this.level+1,templateIndex,meta,this._registry)}reconcileChildContext(context){["start","close"].forEach(op=>{const key=context.meta[`${op}Name`],tag=(this.placeholders.get(key)||[]).find(findTemplateFn(this.id,context.templateIndex));tag&&(tag.ctx=context.id)}),context.placeholders.forEach((values,key)=>{const phs=this.placeholders.get(key);if(!phs)return void this.placeholders.set(key,values);const tmplIdx=phs.findIndex(findTemplateFn(context.id,context.templateIndex));if(tmplIdx>=0){const isCloseTag=key.startsWith("CLOSE");if(key.endsWith("NG-TEMPLATE"))phs.splice(tmplIdx+(isCloseTag?0:1),0,...values);else{values[isCloseTag?values.length-1:0].tmpl=phs[tmplIdx],phs.splice(tmplIdx,1,...values)}}else phs.push(...values);this.placeholders.set(key,phs)}),this._unresolvedCtxCount--}}function wrap(symbol,index,contextId,closed){return wrapI18nPlaceholder(`${closed?"/":""}${symbol}${index}`,contextId)}function wrapTag(symbol,{index:index,ctx:ctx,isVoid:isVoid},closed){return isVoid?wrap(symbol,index,ctx)+wrap(symbol,index,ctx,!0):wrap(symbol,index,ctx,closed)}function findTemplateFn(ctx,templateIndex){return token=>"object"==typeof token&&token.type===TagType.TEMPLATE&&token.index===templateIndex&&token.ctx===ctx}function serializePlaceholderValue(value){const element=(data,closed)=>wrapTag("#",data,closed),template=(data,closed)=>wrapTag("*",data,closed);switch(value.type){case TagType.ELEMENT:return value.closed?element(value,!0)+(value.tmpl?template(value.tmpl,!0):""):value.tmpl?template(value.tmpl)+element(value)+(value.isVoid?template(value.tmpl,!0):""):element(value);case TagType.TEMPLATE:return template(value,value.closed);case TagType.PROJECTION:return data=value,closed=value.closed,wrapTag("!",data,closed);default:return value}var data,closed}const serializer=new class{visitText(text){return text.value}visitContainer(container){return container.children.map(child=>child.visit(this)).join("")}visitIcu(icu){const strCases=Object.keys(icu.cases).map(k=>`${k} {${icu.cases[k].visit(this)}}`);return`{${icu.expressionPlaceholder}, ${icu.type}, ${strCases.join(" ")}}`}visitTagPlaceholder(ph){return ph.isVoid?this.formatPh(ph.startName):`${this.formatPh(ph.startName)}${ph.children.map(child=>child.visit(this)).join("")}${this.formatPh(ph.closeName)}`}visitPlaceholder(ph){return this.formatPh(ph.name)}visitIcuPlaceholder(ph,context){return this.formatPh(ph.name)}formatPh(value){return`{${formatI18nPlaceholderName(value,!1)}}`}};function serializeIcuNode(icu){return icu.visit(serializer)}const TAG_TO_PLACEHOLDER_NAMES={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"};class PlaceholderRegistry{constructor(){this._placeHolderNameCounts={},this._signatureToName={}}getStartTagPlaceholderName(tag,attrs,isVoid){const signature=this._hashTag(tag,attrs,isVoid);if(this._signatureToName[signature])return this._signatureToName[signature];const upperTag=tag.toUpperCase(),baseName=TAG_TO_PLACEHOLDER_NAMES[upperTag]||`TAG_${upperTag}`,name=this._generateUniqueName(isVoid?baseName:`START_${baseName}`);return this._signatureToName[signature]=name,name}getCloseTagPlaceholderName(tag){const signature=this._hashClosingTag(tag);if(this._signatureToName[signature])return this._signatureToName[signature];const upperTag=tag.toUpperCase(),baseName=TAG_TO_PLACEHOLDER_NAMES[upperTag]||`TAG_${upperTag}`,name=this._generateUniqueName(`CLOSE_${baseName}`);return this._signatureToName[signature]=name,name}getPlaceholderName(name,content){const upperName=name.toUpperCase(),signature=`PH: ${upperName}=${content}`;if(this._signatureToName[signature])return this._signatureToName[signature];const uniqueName=this._generateUniqueName(upperName);return this._signatureToName[signature]=uniqueName,uniqueName}getUniquePlaceholder(name){return this._generateUniqueName(name.toUpperCase())}_hashTag(tag,attrs,isVoid){return`<${tag}`+Object.keys(attrs).sort().map(name=>` ${name}=${attrs[name]}`).join("")+(isVoid?"/>":`></${tag}>`)}_hashClosingTag(tag){return this._hashTag(`/${tag}`,{},!1)}_generateUniqueName(base){if(!this._placeHolderNameCounts.hasOwnProperty(base))return this._placeHolderNameCounts[base]=1,base;const id=this._placeHolderNameCounts[base];return this._placeHolderNameCounts[base]=id+1,`${base}_${id}`}}const _expParser=new Parser$1(new Lexer);function createI18nMessageFactory(interpolationConfig){const visitor=new _I18nVisitor(_expParser,interpolationConfig);return(nodes,meaning,description,customId,visitNodeFn)=>visitor.toI18nMessage(nodes,meaning,description,customId,visitNodeFn)}function noopVisitNodeFn(_html,i18n){return i18n}class _I18nVisitor{constructor(_expressionParser,_interpolationConfig){this._expressionParser=_expressionParser,this._interpolationConfig=_interpolationConfig}toI18nMessage(nodes,meaning="",description="",customId="",visitNodeFn){const context={isIcu:1==nodes.length&&nodes[0]instanceof Expansion,icuDepth:0,placeholderRegistry:new PlaceholderRegistry,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:visitNodeFn||noopVisitNodeFn},i18nodes=visitAll$1(this,nodes,context);return new Message(i18nodes,context.placeholderToContent,context.placeholderToMessage,meaning,description,customId)}visitElement(el,context){const children=visitAll$1(this,el.children,context),attrs={};el.attrs.forEach(attr=>{attrs[attr.name]=attr.value});const isVoid=getHtmlTagDefinition(el.name).isVoid,startPhName=context.placeholderRegistry.getStartTagPlaceholderName(el.name,attrs,isVoid);context.placeholderToContent[startPhName]=el.sourceSpan.toString();let closePhName="";isVoid||(closePhName=context.placeholderRegistry.getCloseTagPlaceholderName(el.name),context.placeholderToContent[closePhName]=`</${el.name}>`);const node=new TagPlaceholder(el.name,attrs,startPhName,closePhName,children,isVoid,el.sourceSpan);return context.visitNodeFn(el,node)}visitAttribute(attribute,context){const node=this._visitTextWithInterpolation(attribute.value,attribute.sourceSpan,context);return context.visitNodeFn(attribute,node)}visitText(text,context){const node=this._visitTextWithInterpolation(text.value,text.sourceSpan,context);return context.visitNodeFn(text,node)}visitComment(comment,context){return null}visitExpansion(icu,context){context.icuDepth++;const i18nIcuCases={},i18nIcu=new Icu$1(icu.switchValue,icu.type,i18nIcuCases,icu.sourceSpan);if(icu.cases.forEach(caze=>{i18nIcuCases[caze.value]=new Container(caze.expression.map(node=>node.visit(this,context)),caze.expSourceSpan)}),context.icuDepth--,context.isIcu||context.icuDepth>0){const expPh=context.placeholderRegistry.getUniquePlaceholder(`VAR_${icu.type}`);return i18nIcu.expressionPlaceholder=expPh,context.placeholderToContent[expPh]=icu.switchValue,context.visitNodeFn(icu,i18nIcu)}const phName=context.placeholderRegistry.getPlaceholderName("ICU",icu.sourceSpan.toString());context.placeholderToMessage[phName]=this.toI18nMessage([icu],"","","",void 0);const node=new IcuPlaceholder(i18nIcu,phName,icu.sourceSpan);return context.visitNodeFn(icu,node)}visitExpansionCase(_icuCase,_context){throw new Error("Unreachable code")}_visitTextWithInterpolation(text,sourceSpan,context){const splitInterpolation=this._expressionParser.splitInterpolation(text,sourceSpan.start.toString(),this._interpolationConfig);if(!splitInterpolation)return new Text$1(text,sourceSpan);const nodes=[],container=new Container(nodes,sourceSpan),{start:sDelimiter,end:eDelimiter}=this._interpolationConfig;for(let i=0;i<splitInterpolation.strings.length-1;i++){const expression=splitInterpolation.expressions[i],baseName=expression.split(_CUSTOM_PH_EXP)[2]||"INTERPOLATION",phName=context.placeholderRegistry.getPlaceholderName(baseName,expression);splitInterpolation.strings[i].length&&nodes.push(new Text$1(splitInterpolation.strings[i],sourceSpan)),nodes.push(new Placeholder(expression,phName,sourceSpan)),context.placeholderToContent[phName]=sDelimiter+expression+eDelimiter}const lastStringIdx=splitInterpolation.strings.length-1;return splitInterpolation.strings[lastStringIdx].length&&nodes.push(new Text$1(splitInterpolation.strings[lastStringIdx],sourceSpan)),container}}const _CUSTOM_PH_EXP=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;const setI18nRefs=(htmlNode,i18nNode)=>(htmlNode instanceof NodeWithI18n&&(i18nNode instanceof IcuPlaceholder&&htmlNode.i18n instanceof Message&&(i18nNode.previousMessage=htmlNode.i18n),htmlNode.i18n=i18nNode),i18nNode);class I18nMetaVisitor{constructor(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG,keepI18nAttrs=!1,enableI18nLegacyMessageIdFormat=!1){this.interpolationConfig=interpolationConfig,this.keepI18nAttrs=keepI18nAttrs,this.enableI18nLegacyMessageIdFormat=enableI18nLegacyMessageIdFormat,this.hasI18nMeta=!1,this._createI18nMessage=createI18nMessageFactory(this.interpolationConfig)}_generateI18nMessage(nodes,meta="",visitNodeFn){const{meaning:meaning,description:description,customId:customId}=this._parseMetadata(meta),message=this._createI18nMessage(nodes,meaning,description,customId,visitNodeFn);return this._setMessageId(message,meta),this._setLegacyIds(message,meta),message}visitElement(element){if(function hasI18nAttrs(element){return element.attrs.some(attr=>isI18nAttribute(attr.name))}(element)){this.hasI18nMeta=!0;const attrs=[],attrsMeta={};for(const attr of element.attrs)if("i18n"===attr.name){const i18n=element.i18n||attr.value,message=this._generateI18nMessage(element.children,i18n,setI18nRefs);message.nodes.length&&(element.i18n=message)}else if(attr.name.startsWith("i18n-")){attrsMeta[attr.name.slice("i18n-".length)]=attr.value}else attrs.push(attr);if(Object.keys(attrsMeta).length)for(const attr of attrs){const meta=attrsMeta[attr.name];void 0!==meta&&attr.value&&(attr.i18n=this._generateI18nMessage([attr],attr.i18n||meta))}this.keepI18nAttrs||(element.attrs=attrs)}return visitAll$1(this,element.children,element.i18n),element}visitExpansion(expansion,currentMessage){let message;const meta=expansion.i18n;if(this.hasI18nMeta=!0,meta instanceof IcuPlaceholder){const name=meta.name;message=this._generateI18nMessage([expansion],meta),icuFromI18nMessage(message).name=name}else message=this._generateI18nMessage([expansion],currentMessage||meta);return expansion.i18n=message,expansion}visitText(text){return text}visitAttribute(attribute){return attribute}visitComment(comment){return comment}visitExpansionCase(expansionCase){return expansionCase}_parseMetadata(meta){return"string"==typeof meta?function parseI18nMeta(meta=""){let customId,meaning,description;if(meta=meta.trim()){const idIndex=meta.indexOf("@@"),descIndex=meta.indexOf("|");let meaningAndDesc;[meaningAndDesc,customId]=idIndex>-1?[meta.slice(0,idIndex),meta.slice(idIndex+2)]:[meta,""],[meaning,description]=descIndex>-1?[meaningAndDesc.slice(0,descIndex),meaningAndDesc.slice(descIndex+1)]:["",meaningAndDesc]}return{customId:customId,meaning:meaning,description:description}}(meta):meta instanceof Message?meta:{}}_setMessageId(message,meta){message.id||(message.id=meta instanceof Message&&meta.id||decimalDigest(message))}_setLegacyIds(message,meta){if(this.enableI18nLegacyMessageIdFormat)message.legacyIds=[computeDigest(message),computeDecimalDigest(message)];else if("string"!=typeof meta){const previousMessage=meta instanceof Message?meta:meta instanceof IcuPlaceholder?meta.previousMessage:void 0;message.legacyIds=previousMessage?previousMessage.legacyIds:[]}}}function createGoogleGetMsgStatements(variable$1,message,closureVar,params){const args=[literal(function serializeI18nMessageForGetMsg(message){return message.nodes.map(node=>node.visit(serializerVisitor$1,null)).join("")}(message))];Object.keys(params).length&&args.push(mapLiteral(params,!0));const statements=[],jsdocComment=function i18nMetaToDocStmt(meta){const tags=[];return meta.description&&tags.push({tagName:"desc",text:meta.description}),meta.meaning&&tags.push({tagName:"meaning",text:meta.meaning}),0==tags.length?null:new JSDocCommentStmt(tags)}(message);return null!==jsdocComment&&statements.push(jsdocComment),statements.push(closureVar.set(variable("goog.getMsg").callFn(args)).toConstDecl()),statements.push(new ExpressionStatement(variable$1.set(closureVar))),statements}const serializerVisitor$1=new class{formatPh(value){return`{$${formatI18nPlaceholderName(value)}}`}visitText(text){return text.value}visitContainer(container){return container.children.map(child=>child.visit(this)).join("")}visitIcu(icu){return serializeIcuNode(icu)}visitTagPlaceholder(ph){return ph.isVoid?this.formatPh(ph.startName):`${this.formatPh(ph.startName)}${ph.children.map(child=>child.visit(this)).join("")}${this.formatPh(ph.closeName)}`}visitPlaceholder(ph){return this.formatPh(ph.name)}visitIcuPlaceholder(ph,context){return this.formatPh(ph.name)}};function createLocalizeStatements(variable,message,params){const statements=[],{messageParts:messageParts,placeHolders:placeHolders}=function serializeI18nMessageForLocalize(message){const pieces=[];return message.nodes.forEach(node=>node.visit(serializerVisitor$2,pieces)),function processMessagePieces(pieces){const messageParts=[],placeHolders=[];pieces[0]instanceof PlaceholderPiece&&messageParts.push("");for(let i=0;i<pieces.length;i++){const part=pieces[i];part instanceof LiteralPiece?messageParts.push(part.text):(placeHolders.push(part.text),pieces[i-1]instanceof PlaceholderPiece&&messageParts.push(""))}pieces[pieces.length-1]instanceof PlaceholderPiece&&messageParts.push("");return{messageParts:messageParts,placeHolders:placeHolders}}(pieces)}(message);return statements.push(new ExpressionStatement(variable.set(function localizedString(metaBlock,messageParts,placeholderNames,expressions,sourceSpan){return new LocalizedString(metaBlock,messageParts,placeholderNames,expressions,sourceSpan)}(message,messageParts,placeHolders,placeHolders.map(ph=>params[ph]))))),statements}class MessagePiece{constructor(text){this.text=text}}class LiteralPiece extends MessagePiece{}class PlaceholderPiece extends MessagePiece{constructor(name){super(formatI18nPlaceholderName(name,!1))}}const serializerVisitor$2=new class{visitText(text,context){context[context.length-1]instanceof LiteralPiece?context[context.length-1].text+=text.value:context.push(new LiteralPiece(text.value))}visitContainer(container,context){container.children.forEach(child=>child.visit(this,context))}visitIcu(icu,context){context.push(new LiteralPiece(serializeIcuNode(icu)))}visitTagPlaceholder(ph,context){context.push(new PlaceholderPiece(ph.startName)),ph.isVoid||(ph.children.forEach(child=>child.visit(this,context)),context.push(new PlaceholderPiece(ph.closeName)))}visitPlaceholder(ph,context){context.push(new PlaceholderPiece(ph.name))}visitIcuPlaceholder(ph,context){context.push(new PlaceholderPiece(ph.name))}};const GLOBAL_TARGET_RESOLVERS=new Map([["window",Identifiers$1.resolveWindow],["document",Identifiers$1.resolveDocument],["body",Identifiers$1.resolveBody]]),LEADING_TRIVIA_CHARS=[" ","\n","\r","\t"];function renderFlagCheckIfStmt(flags,statements){return ifStmt(variable("rf").bitwiseAnd(literal(flags),null,!1),statements)}function prepareEventListenerParameters(eventAst,handlerName=null,scope=null){const{type:type,name:name,target:target,phase:phase,handler:handler}=eventAst;if(target&&!GLOBAL_TARGET_RESOLVERS.has(target))throw new Error(`Unexpected global target '${target}' defined for '${name}' event.\n        Supported list of global targets: ${Array.from(GLOBAL_TARGET_RESOLVERS.keys())}.`);const implicitReceiverAccesses=new Set,implicitReceiverExpr=null===scope||0===scope.bindingLevel?variable("ctx"):scope.getOrCreateSharedContextVar(0),bindingExpr=convertActionBinding(scope,implicitReceiverExpr,handler,"b",()=>error("Unexpected interpolation"),eventAst.handlerSpan,implicitReceiverAccesses),statements=[];scope&&(statements.push(...scope.restoreViewStatement()),statements.push(...scope.variableDeclarations())),statements.push(...bindingExpr.render3Stmts);const eventName=1===type?function prepareSyntheticListenerName(name,phase){return`@${name}.${phase}`}(name,phase):name,fnName=handlerName&&sanitizeIdentifier(handlerName),fnArgs=[];implicitReceiverAccesses.has("$event")&&fnArgs.push(new FnParam("$event",DYNAMIC_TYPE));const handlerFn=fn(fnArgs,statements,INFERRED_TYPE,null,fnName),params=[literal(eventName),handlerFn];return target&&params.push(literal(!1),importExpr(GLOBAL_TARGET_RESOLVERS.get(target))),params}class TemplateDefinitionBuilder{constructor(constantPool,parentBindingScope,level=0,contextName,i18nContext,templateIndex,templateName,directiveMatcher,directives,pipeTypeByName,pipes,_namespace,relativeContextFilePath,i18nUseExternalIds,_constants=[]){this.constantPool=constantPool,this.level=level,this.contextName=contextName,this.i18nContext=i18nContext,this.templateIndex=templateIndex,this.templateName=templateName,this.directiveMatcher=directiveMatcher,this.directives=directives,this.pipeTypeByName=pipeTypeByName,this.pipes=pipes,this._namespace=_namespace,this.i18nUseExternalIds=i18nUseExternalIds,this._constants=_constants,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCodeFns=[],this._updateCodeFns=[],this._currentIndex=0,this._tempVariables=[],this._nestedTemplateFns=[],this._unsupported=unsupported,this.i18n=null,this._pureFunctionSlots=0,this._bindingSlots=0,this._ngContentReservedSlots=[],this._ngContentSelectorsOffset=0,this._implicitReceiverExpr=null,this.visitReference=invalid$1,this.visitVariable=invalid$1,this.visitTextAttribute=invalid$1,this.visitBoundAttribute=invalid$1,this.visitBoundEvent=invalid$1,this._bindingScope=parentBindingScope.nestedScope(level),this.fileBasedI18nSuffix=relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_")+"_",this._valueConverter=new ValueConverter(constantPool,()=>this.allocateDataSlot(),numSlots=>this.allocatePureFunctionSlots(numSlots),(name,localName,slot,value)=>{const pipeType=pipeTypeByName.get(name);pipeType&&this.pipes.add(pipeType),this._bindingScope.set(this.level,localName,value),this.creationInstruction(null,Identifiers$1.pipe,[literal(slot),literal(name)])})}buildTemplateFunction(nodes,variables,ngContentSelectorsOffset=0,i18n){this._ngContentSelectorsOffset=ngContentSelectorsOffset,this._namespace!==Identifiers$1.namespaceHTML&&this.creationInstruction(null,this._namespace),variables.forEach(v=>this.registerContextVariables(v));const initI18nContext=this.i18nContext||isI18nRootNode(i18n)&&!isSingleI18nIcu(i18n)&&!(function isSingleElementTemplate(children){return 1===children.length&&children[0]instanceof compiler_Element}(nodes)&&nodes[0].i18n===i18n),selfClosingI18nInstruction=hasTextChildrenOnly(nodes);if(initI18nContext&&this.i18nStart(null,i18n,selfClosingI18nInstruction),visitAll(this,nodes),this._pureFunctionSlots+=this._bindingSlots,this._valueConverter.updatePipeSlotOffsets(this._bindingSlots),this._nestedTemplateFns.forEach(buildTemplateFn=>buildTemplateFn()),0===this.level&&this._ngContentReservedSlots.length){const parameters=[];if(this._ngContentReservedSlots.length>1||"*"!==this._ngContentReservedSlots[0]){const r3ReservedSlots=this._ngContentReservedSlots.map(s=>"*"!==s?parseSelectorToR3Selector(s):s);parameters.push(this.constantPool.getConstLiteral(asLiteral(r3ReservedSlots),!0))}this.creationInstruction(null,Identifiers$1.projectionDef,parameters,!0)}initI18nContext&&this.i18nEnd(null,selfClosingI18nInstruction);const creationStatements=this._creationCodeFns.map(fn=>fn()),updateStatements=this._updateCodeFns.map(fn=>fn()),creationVariables=this._bindingScope.viewSnapshotStatements(),updateVariables=this._bindingScope.variableDeclarations().concat(this._tempVariables),creationBlock=creationStatements.length>0?[renderFlagCheckIfStmt(1,creationVariables.concat(creationStatements))]:[],updateBlock=updateStatements.length>0?[renderFlagCheckIfStmt(2,updateVariables.concat(updateStatements))]:[];return fn([new FnParam("rf",NUMBER_TYPE),new FnParam("ctx",null)],[...this._prefixCode,...creationBlock,...updateBlock],INFERRED_TYPE,null,this.templateName)}getLocal(name){return this._bindingScope.get(name)}notifyImplicitReceiverUse(){this._bindingScope.notifyImplicitReceiverUse()}i18nTranslate(message,params={},ref,transformFn){const _ref=ref||variable(this.constantPool.uniqueName("I18N_")),statements=function getTranslationDeclStmts(message,variable,closureVar,params={},transformFn){const statements=[declareI18nVariable(variable),ifStmt(createClosureModeGuard(),createGoogleGetMsgStatements(variable,message,closureVar,i18nFormatPlaceholderNames(params,!0)),createLocalizeStatements(variable,message,i18nFormatPlaceholderNames(params,!1)))];transformFn&&statements.push(new ExpressionStatement(variable.set(transformFn(variable))));return statements}(message,_ref,this.i18nGenerateClosureVar(message.id),params,transformFn);return this.constantPool.statements.push(...statements),_ref}registerContextVariables(variable$1){const scopedName=this._bindingScope.freshReferenceName(),retrievalLevel=this.level,lhs=variable(variable$1.name+scopedName);this._bindingScope.set(retrievalLevel,variable$1.name,lhs,1,(scope,relativeLevel)=>{let rhs;if(scope.bindingLevel===retrievalLevel)rhs=variable("ctx");else{const sharedCtxVar=scope.getSharedContextName(retrievalLevel);rhs=sharedCtxVar||generateNextContextExpr(relativeLevel)}return[lhs.set(rhs.prop(variable$1.value||"$implicit")).toConstDecl()]})}i18nAppendBindings(expressions){expressions.length>0&&expressions.forEach(expression=>this.i18n.appendBinding(expression))}i18nBindProps(props){const bound={};return Object.keys(props).forEach(key=>{const prop=props[key];if(prop instanceof Text)bound[key]=literal(prop.value);else{const value=prop.value.visit(this._valueConverter);if(this.allocateBindingSlots(value),value instanceof Interpolation){const{strings:strings,expressions:expressions}=value,{id:id,bindings:bindings}=this.i18n,label=function assembleI18nBoundString(strings,bindingStartIndex=0,contextId=0){if(!strings.length)return"";let acc="";const lastIdx=strings.length-1;for(let i=0;i<lastIdx;i++)acc+=`${strings[i]}${wrapI18nPlaceholder(bindingStartIndex+i,contextId)}`;return acc+=strings[lastIdx],acc}(strings,bindings.size,id);this.i18nAppendBindings(expressions),bound[key]=literal(label)}}}),bound}i18nGenerateClosureVar(messageId){let name;const suffix=this.fileBasedI18nSuffix.toUpperCase();if(this.i18nUseExternalIds){const prefix=getTranslationConstPrefix("EXTERNAL_"),uniqueSuffix=this.constantPool.uniqueName(suffix);name=`${prefix}${sanitizeIdentifier(messageId)}$$${uniqueSuffix}`}else{const prefix=getTranslationConstPrefix(suffix);name=this.constantPool.uniqueName(prefix)}return variable(name)}i18nUpdateRef(context){const{icus:icus,meta:meta,isRoot:isRoot,isResolved:isResolved,isEmitted:isEmitted}=context;if(isRoot&&isResolved&&!isEmitted&&!isSingleI18nIcu(meta)){context.isEmitted=!0;const placeholders=context.getSerializedPlaceholders();let icuMapping={},params=placeholders.size?placeholdersToParams(placeholders):{};let transformFn;icus.size&&icus.forEach((refs,key)=>{if(1===refs.length)params[key]=refs[0];else{const placeholder=wrapI18nPlaceholder(`I18N_EXP_${key}`);params[key]=literal(placeholder),icuMapping[key]=literalArr(refs)}}),(Array.from(placeholders.values()).some(value=>value.length>1)||Object.keys(icuMapping).length)&&(transformFn=raw=>{const args=[raw];return Object.keys(icuMapping).length&&args.push(mapLiteral(icuMapping,!0)),compiler_instruction(null,Identifiers$1.i18nPostprocess,args)}),this.i18nTranslate(meta,params,context.ref,transformFn)}}i18nStart(span=null,meta,selfClosing){const index=this.allocateDataSlot();if(this.i18nContext)this.i18n=this.i18nContext.forkChildContext(index,this.templateIndex,meta);else{const ref=variable(this.constantPool.uniqueName("I18N_"));this.i18n=new I18nContext(index,ref,0,this.templateIndex,meta)}const{id:id,ref:ref}=this.i18n,params=[literal(index),ref];id>0&&params.push(literal(id)),this.creationInstruction(span,selfClosing?Identifiers$1.i18n:Identifiers$1.i18nStart,params)}i18nEnd(span=null,selfClosing){if(!this.i18n)throw new Error("i18nEnd is executed with no i18n context present");this.i18nContext?(this.i18nContext.reconcileChildContext(this.i18n),this.i18nUpdateRef(this.i18nContext)):this.i18nUpdateRef(this.i18n);const{index:index,bindings:bindings}=this.i18n;if(bindings.size){const chainBindings=[];bindings.forEach(binding=>{chainBindings.push({sourceSpan:span,value:()=>this.convertPropertyBinding(binding)})}),this.updateInstructionChainWithAdvance(this.getConstCount()-1,Identifiers$1.i18nExp,chainBindings),this.updateInstruction(span,Identifiers$1.i18nApply,[literal(index)])}selfClosing||this.creationInstruction(span,Identifiers$1.i18nEnd),this.i18n=null}i18nAttributesInstruction(nodeIndex,attrs,sourceSpan){let hasBindings=!1;const i18nAttrArgs=[],bindings=[];if(attrs.forEach(attr=>{const message=attr.i18n;if(attr instanceof TextAttribute)i18nAttrArgs.push(literal(attr.name),this.i18nTranslate(message));else{const converted=attr.value.visit(this._valueConverter);if(this.allocateBindingSlots(converted),converted instanceof Interpolation){const params=placeholdersToParams(assembleBoundTextPlaceholders(message));i18nAttrArgs.push(literal(attr.name),this.i18nTranslate(message,params)),converted.expressions.forEach(expression=>{hasBindings=!0,bindings.push({sourceSpan:sourceSpan,value:()=>this.convertPropertyBinding(expression)})})}}}),bindings.length>0&&this.updateInstructionChainWithAdvance(nodeIndex,Identifiers$1.i18nExp,bindings),i18nAttrArgs.length>0){const index=literal(this.allocateDataSlot()),args=this.constantPool.getConstLiteral(literalArr(i18nAttrArgs),!0);this.creationInstruction(sourceSpan,Identifiers$1.i18nAttributes,[index,args]),hasBindings&&this.updateInstruction(sourceSpan,Identifiers$1.i18nApply,[index])}}getNamespaceInstruction(namespaceKey){switch(namespaceKey){case"math":return Identifiers$1.namespaceMathML;case"svg":return Identifiers$1.namespaceSVG;default:return Identifiers$1.namespaceHTML}}addNamespaceInstruction(nsInstruction,element){this._namespace=nsInstruction,this.creationInstruction(element.sourceSpan,nsInstruction)}interpolatedUpdateInstruction(instruction,elementIndex,attrName,input,value,params){this.updateInstructionWithAdvance(elementIndex,input.sourceSpan,instruction,()=>[literal(attrName),...this.getUpdateInstructionArguments(value),...params])}visitContent(ngContent){const slot=this.allocateDataSlot(),projectionSlotIdx=this._ngContentSelectorsOffset+this._ngContentReservedSlots.length,parameters=[literal(slot)];this._ngContentReservedSlots.push(ngContent.selector);const nonContentSelectAttributes=ngContent.attributes.filter(attr=>"select"!==attr.name.toLowerCase()),attributes=this.getAttributeExpressions(nonContentSelectAttributes,[],[]);attributes.length>0?parameters.push(literal(projectionSlotIdx),literalArr(attributes)):0!==projectionSlotIdx&&parameters.push(literal(projectionSlotIdx)),this.creationInstruction(ngContent.sourceSpan,Identifiers$1.projection,parameters),this.i18n&&this.i18n.appendProjection(ngContent.i18n,slot)}visitElement(element){const elementIndex=this.allocateDataSlot(),stylingBuilder=new StylingBuilder(null);let isNonBindableMode=!1;const isI18nRootElement=isI18nRootNode(element.i18n)&&!isSingleI18nIcu(element.i18n),i18nAttrs=[],outputAttrs=[],[namespaceKey,elementName]=splitNsName(element.name),isNgContainer$1=isNgContainer(element.name);for(const attr of element.attributes){const{name:name,value:value}=attr;"ngNonBindable"===name?isNonBindableMode=!0:"style"===name?stylingBuilder.registerStyleAttr(value):"class"===name?stylingBuilder.registerClassAttr(value):(attr.i18n?i18nAttrs:outputAttrs).push(attr)}this.matchDirectives(element.name,element);const parameters=[literal(elementIndex)];isNgContainer$1||parameters.push(literal(elementName));const allOtherInputs=[];element.inputs.forEach(input=>{stylingBuilder.registerBoundInput(input)||(0===input.type&&input.i18n?i18nAttrs.push(input):allOtherInputs.push(input))});const attributes=this.getAttributeExpressions(outputAttrs,allOtherInputs,element.outputs,stylingBuilder,[],i18nAttrs);parameters.push(this.addAttrsToConsts(attributes));const refs=this.prepareRefsArray(element.references);parameters.push(this.addToConsts(refs));const wasInNamespace=this._namespace,currentNamespace=this.getNamespaceInstruction(namespaceKey);currentNamespace!==wasInNamespace&&this.addNamespaceInstruction(currentNamespace,element),this.i18n&&this.i18n.appendElement(element.i18n,elementIndex);const hasChildren=!isI18nRootElement&&this.i18n?!hasTextChildrenOnly(element.children):element.children.length>0,createSelfClosingInstruction=!stylingBuilder.hasBindingsWithPipes&&0===element.outputs.length&&0===i18nAttrs.length&&!hasChildren,createSelfClosingI18nInstruction=!createSelfClosingInstruction&&hasTextChildrenOnly(element.children);if(createSelfClosingInstruction)this.creationInstruction(element.sourceSpan,isNgContainer$1?Identifiers$1.elementContainer:Identifiers$1.element,trimTrailingNulls(parameters));else{if(this.creationInstruction(element.sourceSpan,isNgContainer$1?Identifiers$1.elementContainerStart:Identifiers$1.elementStart,trimTrailingNulls(parameters)),isNonBindableMode&&this.creationInstruction(element.sourceSpan,Identifiers$1.disableBindings),i18nAttrs.length>0&&this.i18nAttributesInstruction(elementIndex,i18nAttrs,element.sourceSpan),element.outputs.length>0){const listeners=element.outputs.map(outputAst=>({sourceSpan:outputAst.sourceSpan,params:this.prepareListenerParameter(element.name,outputAst,elementIndex)}));this.creationInstructionChain(Identifiers$1.listener,listeners)}isI18nRootElement&&this.i18nStart(element.sourceSpan,element.i18n,createSelfClosingI18nInstruction)}const stylingInstructions=stylingBuilder.buildUpdateLevelInstructions(this._valueConverter),limit=stylingInstructions.length-1;for(let i=0;i<=limit;i++){const instruction=stylingInstructions[i];this._bindingSlots+=this.processStylingUpdateInstruction(elementIndex,instruction)}const emptyValueBindInstruction=literal(void 0),propertyBindings=[],attributeBindings=[];if(allOtherInputs.forEach(input=>{const inputType=input.type;if(4===inputType){const value=input.value.visit(this._valueConverter),hasValue=!(value instanceof LiteralPrimitive)||!!value.value;this.allocateBindingSlots(value),propertyBindings.push({name:prepareSyntheticPropertyName(input.name),sourceSpan:input.sourceSpan,value:()=>hasValue?this.convertPropertyBinding(value):emptyValueBindInstruction})}else{if(input.i18n)return;const value=input.value.visit(this._valueConverter);if(void 0!==value){const params=[],[attrNamespace,attrName]=splitNsName(input.name),isAttributeBinding=1===inputType,sanitizationRef=resolveSanitizationFn(input.securityContext,isAttributeBinding);if(sanitizationRef&&params.push(sanitizationRef),attrNamespace){const namespaceLiteral=literal(attrNamespace);sanitizationRef?params.push(namespaceLiteral):params.push(literal(null),namespaceLiteral)}if(this.allocateBindingSlots(value),0===inputType)value instanceof Interpolation?this.interpolatedUpdateInstruction(getPropertyInterpolationExpression(value),elementIndex,attrName,input,value,params):propertyBindings.push({name:attrName,sourceSpan:input.sourceSpan,value:()=>this.convertPropertyBinding(value),params:params});else if(1===inputType)if(value instanceof Interpolation&&getInterpolationArgsLength(value)>1)this.interpolatedUpdateInstruction(function getAttributeInterpolationExpression(interpolation){switch(getInterpolationArgsLength(interpolation)){case 3:return Identifiers$1.attributeInterpolate1;case 5:return Identifiers$1.attributeInterpolate2;case 7:return Identifiers$1.attributeInterpolate3;case 9:return Identifiers$1.attributeInterpolate4;case 11:return Identifiers$1.attributeInterpolate5;case 13:return Identifiers$1.attributeInterpolate6;case 15:return Identifiers$1.attributeInterpolate7;case 17:return Identifiers$1.attributeInterpolate8;default:return Identifiers$1.attributeInterpolateV}}(value),elementIndex,attrName,input,value,params);else{const boundValue=value instanceof Interpolation?value.expressions[0]:value;attributeBindings.push({name:attrName,sourceSpan:input.sourceSpan,value:()=>this.convertPropertyBinding(boundValue),params:params})}else this.updateInstructionWithAdvance(elementIndex,input.sourceSpan,Identifiers$1.classProp,()=>[literal(elementIndex),literal(attrName),this.convertPropertyBinding(value),...params])}}}),propertyBindings.length>0&&this.updateInstructionChainWithAdvance(elementIndex,Identifiers$1.property,propertyBindings),attributeBindings.length>0&&this.updateInstructionChainWithAdvance(elementIndex,Identifiers$1.attribute,attributeBindings),visitAll(this,element.children),!isI18nRootElement&&this.i18n&&this.i18n.appendElement(element.i18n,elementIndex,!0),!createSelfClosingInstruction){const span=element.endSourceSpan||element.sourceSpan;isI18nRootElement&&this.i18nEnd(span,createSelfClosingI18nInstruction),isNonBindableMode&&this.creationInstruction(span,Identifiers$1.enableBindings),this.creationInstruction(span,isNgContainer$1?Identifiers$1.elementContainerEnd:Identifiers$1.elementEnd)}}visitTemplate(template){const templateIndex=this.allocateDataSlot();this.i18n&&this.i18n.appendTemplate(template.i18n,templateIndex);const tagName=sanitizeIdentifier(template.tagName||""),contextName=`${this.contextName}${tagName?"_"+tagName:""}_${templateIndex}`,templateName=`${contextName}_Template`,parameters=[literal(templateIndex),variable(templateName),literal(template.tagName?splitNsName(template.tagName)[1]:template.tagName)];this.matchDirectives("ng-template",template);const attrsExprs=this.getAttributeExpressions(template.attributes,template.inputs,template.outputs,void 0,template.templateAttrs,void 0);if(parameters.push(this.addAttrsToConsts(attrsExprs)),template.references&&template.references.length){const refs=this.prepareRefsArray(template.references);parameters.push(this.addToConsts(refs)),parameters.push(importExpr(Identifiers$1.templateRefExtractor))}const templateVisitor=new TemplateDefinitionBuilder(this.constantPool,this._bindingScope,this.level+1,contextName,this.i18n,templateIndex,templateName,this.directiveMatcher,this.directives,this.pipeTypeByName,this.pipes,this._namespace,this.fileBasedI18nSuffix,this.i18nUseExternalIds,this._constants);if(this._nestedTemplateFns.push(()=>{const templateFunctionExpr=templateVisitor.buildTemplateFunction(template.children,template.variables,this._ngContentReservedSlots.length+this._ngContentSelectorsOffset,template.i18n);this.constantPool.statements.push(templateFunctionExpr.toDeclStmt(templateName,null)),templateVisitor._ngContentReservedSlots.length&&this._ngContentReservedSlots.push(...templateVisitor._ngContentReservedSlots)}),this.creationInstruction(template.sourceSpan,Identifiers$1.templateCreate,()=>(parameters.splice(2,0,literal(templateVisitor.getConstCount()),literal(templateVisitor.getVarCount())),trimTrailingNulls(parameters))),this.templatePropertyBindings(templateIndex,template.templateAttrs),"ng-template"===template.tagName){const inputs=[],i18nAttrs=template.attributes.filter(attr=>!!attr.i18n);if(template.inputs.forEach(input=>(input.i18n?i18nAttrs:inputs).push(input)),i18nAttrs.length>0&&this.i18nAttributesInstruction(templateIndex,i18nAttrs,template.sourceSpan),inputs.length>0&&this.templatePropertyBindings(templateIndex,inputs),template.outputs.length>0){const listeners=template.outputs.map(outputAst=>({sourceSpan:outputAst.sourceSpan,params:this.prepareListenerParameter("ng_template",outputAst,templateIndex)}));this.creationInstructionChain(Identifiers$1.listener,listeners)}}}visitBoundText(text){if(this.i18n){const value=text.value.visit(this._valueConverter);return this.allocateBindingSlots(value),void(value instanceof Interpolation&&(this.i18n.appendBoundText(text.i18n),this.i18nAppendBindings(value.expressions)))}const nodeIndex=this.allocateDataSlot();this.creationInstruction(text.sourceSpan,Identifiers$1.text,[literal(nodeIndex)]);const value=text.value.visit(this._valueConverter);this.allocateBindingSlots(value),value instanceof Interpolation?this.updateInstructionWithAdvance(nodeIndex,text.sourceSpan,function getTextInterpolationExpression(interpolation){switch(getInterpolationArgsLength(interpolation)){case 1:return Identifiers$1.textInterpolate;case 3:return Identifiers$1.textInterpolate1;case 5:return Identifiers$1.textInterpolate2;case 7:return Identifiers$1.textInterpolate3;case 9:return Identifiers$1.textInterpolate4;case 11:return Identifiers$1.textInterpolate5;case 13:return Identifiers$1.textInterpolate6;case 15:return Identifiers$1.textInterpolate7;case 17:return Identifiers$1.textInterpolate8;default:return Identifiers$1.textInterpolateV}}(value),()=>this.getUpdateInstructionArguments(value)):error("Text nodes should be interpolated and never bound directly.")}visitText(text){this.i18n||this.creationInstruction(text.sourceSpan,Identifiers$1.text,[literal(this.allocateDataSlot()),literal(text.value)])}visitIcu(icu){let initWasInvoked=!1;this.i18n||(initWasInvoked=!0,this.i18nStart(null,icu.i18n,!0));const i18n=this.i18n,vars=this.i18nBindProps(icu.vars),placeholders=this.i18nBindProps(icu.placeholders),message=icu.i18n,transformFn=raw=>{const formatted=i18nFormatPlaceholderNames(Object.assign(Object.assign({},vars),placeholders),!1);return compiler_instruction(null,Identifiers$1.i18nPostprocess,[raw,mapLiteral(formatted,!0)])};if(isSingleI18nIcu(i18n.meta))this.i18nTranslate(message,{},i18n.ref,transformFn);else{const ref=this.i18nTranslate(message,{},void 0,transformFn);i18n.appendIcu(icuFromI18nMessage(message).name,ref)}return initWasInvoked&&this.i18nEnd(null,!0),null}allocateDataSlot(){return this._dataIndex++}getConstCount(){return this._dataIndex}getVarCount(){return this._pureFunctionSlots}getConsts(){return this._constants}getNgContentSelectors(){return this._ngContentReservedSlots.length?this.constantPool.getConstLiteral(asLiteral(this._ngContentReservedSlots),!0):null}bindingContext(){return`${this._bindingContext++}`}templatePropertyBindings(templateIndex,attrs){const propertyBindings=[];attrs.forEach(input=>{if(input instanceof BoundAttribute){const value=input.value.visit(this._valueConverter);if(void 0!==value)if(this.allocateBindingSlots(value),value instanceof Interpolation){const params=[];this.interpolatedUpdateInstruction(getPropertyInterpolationExpression(value),templateIndex,input.name,input,value,params)}else propertyBindings.push({name:input.name,sourceSpan:input.sourceSpan,value:()=>this.convertPropertyBinding(value)})}}),propertyBindings.length>0&&this.updateInstructionChainWithAdvance(templateIndex,Identifiers$1.property,propertyBindings)}instructionFn(fns,span,reference,paramsOrFn,prepend=!1){fns[prepend?"unshift":"push"](()=>{const params=Array.isArray(paramsOrFn)?paramsOrFn:paramsOrFn();return compiler_instruction(span,reference,params).toStmt()})}processStylingUpdateInstruction(elementIndex,instruction){let allocateBindingSlots=0;if(instruction){const calls=[];instruction.calls.forEach(call=>{allocateBindingSlots+=call.allocateBindingSlots,calls.push({sourceSpan:call.sourceSpan,value:()=>call.params(value=>call.supportsInterpolation&&value instanceof Interpolation?this.getUpdateInstructionArguments(value):this.convertPropertyBinding(value))})}),this.updateInstructionChainWithAdvance(elementIndex,instruction.reference,calls)}return allocateBindingSlots}creationInstruction(span,reference,paramsOrFn,prepend){this.instructionFn(this._creationCodeFns,span,reference,paramsOrFn||[],prepend)}creationInstructionChain(reference,calls){const span=calls.length?calls[0].sourceSpan:null;this._creationCodeFns.push(()=>chainedInstruction(reference,calls.map(call=>call.params()),span).toStmt())}updateInstructionWithAdvance(nodeIndex,span,reference,paramsOrFn){this.addAdvanceInstructionIfNecessary(nodeIndex,span),this.updateInstruction(span,reference,paramsOrFn)}updateInstruction(span,reference,paramsOrFn){this.instructionFn(this._updateCodeFns,span,reference,paramsOrFn||[])}updateInstructionChain(reference,bindings){const span=bindings.length?bindings[0].sourceSpan:null;this._updateCodeFns.push(()=>{const calls=bindings.map(property=>{const value=property.value(),fnParams=Array.isArray(value)?value:[value];return property.params&&fnParams.push(...property.params),property.name&&fnParams.unshift(literal(property.name)),fnParams});return chainedInstruction(reference,calls,span).toStmt()})}updateInstructionChainWithAdvance(nodeIndex,reference,bindings){this.addAdvanceInstructionIfNecessary(nodeIndex,bindings.length?bindings[0].sourceSpan:null),this.updateInstructionChain(reference,bindings)}addAdvanceInstructionIfNecessary(nodeIndex,span){if(nodeIndex!==this._currentIndex){const delta=nodeIndex-this._currentIndex;if(delta<1)throw new Error("advance instruction can only go forwards");this.instructionFn(this._updateCodeFns,span,Identifiers$1.advance,[literal(delta)]),this._currentIndex=nodeIndex}}allocatePureFunctionSlots(numSlots){const originalSlots=this._pureFunctionSlots;return this._pureFunctionSlots+=numSlots,originalSlots}allocateBindingSlots(value){this._bindingSlots+=value instanceof Interpolation?value.expressions.length:1}getImplicitReceiverExpr(){return this._implicitReceiverExpr?this._implicitReceiverExpr:this._implicitReceiverExpr=0===this.level?variable("ctx"):this._bindingScope.getOrCreateSharedContextVar(0)}convertPropertyBinding(value){const convertedPropertyBinding=convertPropertyBinding(this,this.getImplicitReceiverExpr(),value,this.bindingContext(),BindingForm.TrySimple,()=>error("Unexpected interpolation")),valExpr=convertedPropertyBinding.currValExpr;return this._tempVariables.push(...convertedPropertyBinding.stmts),valExpr}getUpdateInstructionArguments(value){const{args:args,stmts:stmts}=function convertUpdateArguments(localResolver,contextVariableExpression,expressionWithArgumentsToExtract,bindingId){const visitor=new _AstToIrVisitor(localResolver,contextVariableExpression,bindingId,void 0),outputExpr=expressionWithArgumentsToExtract.visit(visitor,_Mode.Expression);visitor.usesImplicitReceiver&&localResolver.notifyImplicitReceiverUse();const stmts=getStatementsFromVisitor(visitor,bindingId);let args=outputExpr.args.slice(1);if(expressionWithArgumentsToExtract instanceof Interpolation){const strings=expressionWithArgumentsToExtract.strings;3===args.length&&""===strings[0]&&""===strings[1]?args=[args[1]]:args.length>=19&&(args=[literalArr(args)])}return{stmts:stmts,args:args}}(this,this.getImplicitReceiverExpr(),value,this.bindingContext());return this._tempVariables.push(...stmts),args}matchDirectives(elementName,elOrTpl){if(this.directiveMatcher){const selector=createCssSelector(elementName,getAttrsForDirectiveMatching(elOrTpl));this.directiveMatcher.match(selector,(cssSelector,staticType)=>{this.directives.add(staticType)})}}getAttributeExpressions(renderAttributes,inputs,outputs,styles,templateAttrs=[],i18nAttrs=[]){const alreadySeen=new Set,attrExprs=[];let ngProjectAsAttr;function addAttrExpr(key,value){"string"==typeof key?alreadySeen.has(key)||(attrExprs.push(...getAttributeNameLiterals(key)),void 0!==value&&attrExprs.push(value),alreadySeen.add(key)):attrExprs.push(literal(key))}if(renderAttributes.forEach(attr=>{"ngProjectAs"===attr.name&&(ngProjectAsAttr=attr),attrExprs.push(...getAttributeNameLiterals(attr.name),asLiteral(attr.value))}),ngProjectAsAttr&&attrExprs.push(...function getNgProjectAsLiteral(attribute){const parsedR3Selector=parseSelectorToR3Selector(attribute.value)[0];return[literal(5),asLiteral(parsedR3Selector)]}(ngProjectAsAttr)),styles&&styles.populateInitialStylingAttrs(attrExprs),inputs.length||outputs.length){const attrsLengthBeforeInputs=attrExprs.length;for(let i=0;i<inputs.length;i++){const input=inputs[i];4!==input.type&&1!==input.type&&addAttrExpr(input.name)}for(let i=0;i<outputs.length;i++){const output=outputs[i];1!==output.type&&addAttrExpr(output.name)}attrExprs.length!==attrsLengthBeforeInputs&&attrExprs.splice(attrsLengthBeforeInputs,0,literal(3))}return templateAttrs.length&&(attrExprs.push(literal(4)),templateAttrs.forEach(attr=>addAttrExpr(attr.name))),i18nAttrs.length&&(attrExprs.push(literal(6)),i18nAttrs.forEach(attr=>addAttrExpr(attr.name))),attrExprs}addToConsts(expression){if(isNull(expression))return TYPED_NULL_EXPR;for(let i=0;i<this._constants.length;i++)if(this._constants[i].isEquivalent(expression))return literal(i);return literal(this._constants.push(expression)-1)}addAttrsToConsts(attrs){return attrs.length>0?this.addToConsts(literalArr(attrs)):TYPED_NULL_EXPR}prepareRefsArray(references){if(!references||0===references.length)return TYPED_NULL_EXPR;return asLiteral(flatten(references.map(reference=>{const slot=this.allocateDataSlot(),variableName=this._bindingScope.freshReferenceName(),retrievalLevel=this.level,lhs=variable(variableName);return this._bindingScope.set(retrievalLevel,reference.name,lhs,0,(scope,relativeLevel)=>{const nextContextStmt=relativeLevel>0?[generateNextContextExpr(relativeLevel).toStmt()]:[],refExpr=lhs.set(importExpr(Identifiers$1.reference).callFn([literal(slot)]));return nextContextStmt.concat(refExpr.toConstDecl())},!0),[reference.name,reference.value]})))}prepareListenerParameter(tagName,outputAst,index){return()=>{const eventName=outputAst.name,bindingFnName=1===outputAst.type?prepareSyntheticListenerFunctionName(eventName,outputAst.phase):sanitizeIdentifier(eventName),handlerName=`${this.templateName}_${tagName}_${bindingFnName}_${index}_listener`,scope=this._bindingScope.nestedScope(this._bindingScope.bindingLevel);return prepareEventListenerParameters(outputAst,handlerName,scope)}}}class ValueConverter extends class{visitImplicitReceiver(ast,context){return ast}visitInterpolation(ast,context){const expressions=this.visitAll(ast.expressions);return expressions!==ast.expressions?new Interpolation(ast.span,ast.sourceSpan,ast.strings,expressions):ast}visitLiteralPrimitive(ast,context){return ast}visitPropertyRead(ast,context){const receiver=ast.receiver.visit(this);return receiver!==ast.receiver?new PropertyRead(ast.span,ast.sourceSpan,receiver,ast.name):ast}visitPropertyWrite(ast,context){const receiver=ast.receiver.visit(this),value=ast.value.visit(this);return receiver!==ast.receiver||value!==ast.value?new PropertyWrite(ast.span,ast.sourceSpan,receiver,ast.name,value):ast}visitSafePropertyRead(ast,context){const receiver=ast.receiver.visit(this);return receiver!==ast.receiver?new SafePropertyRead(ast.span,ast.sourceSpan,receiver,ast.name):ast}visitMethodCall(ast,context){const receiver=ast.receiver.visit(this),args=this.visitAll(ast.args);return receiver!==ast.receiver||args!==ast.args?new MethodCall(ast.span,ast.sourceSpan,receiver,ast.name,args):ast}visitSafeMethodCall(ast,context){const receiver=ast.receiver.visit(this),args=this.visitAll(ast.args);return receiver!==ast.receiver||args!==ast.args?new SafeMethodCall(ast.span,ast.sourceSpan,receiver,ast.name,args):ast}visitFunctionCall(ast,context){const target=ast.target&&ast.target.visit(this),args=this.visitAll(ast.args);return target!==ast.target||args!==ast.args?new FunctionCall(ast.span,ast.sourceSpan,target,args):ast}visitLiteralArray(ast,context){const expressions=this.visitAll(ast.expressions);return expressions!==ast.expressions?new LiteralArray(ast.span,ast.sourceSpan,expressions):ast}visitLiteralMap(ast,context){const values=this.visitAll(ast.values);return values!==ast.values?new LiteralMap(ast.span,ast.sourceSpan,ast.keys,values):ast}visitBinary(ast,context){const left=ast.left.visit(this),right=ast.right.visit(this);return left!==ast.left||right!==ast.right?new Binary(ast.span,ast.sourceSpan,ast.operation,left,right):ast}visitPrefixNot(ast,context){const expression=ast.expression.visit(this);return expression!==ast.expression?new PrefixNot(ast.span,ast.sourceSpan,expression):ast}visitNonNullAssert(ast,context){const expression=ast.expression.visit(this);return expression!==ast.expression?new NonNullAssert(ast.span,ast.sourceSpan,expression):ast}visitConditional(ast,context){const condition=ast.condition.visit(this),trueExp=ast.trueExp.visit(this),falseExp=ast.falseExp.visit(this);return condition!==ast.condition||trueExp!==ast.trueExp||falseExp!==ast.falseExp?new Conditional(ast.span,ast.sourceSpan,condition,trueExp,falseExp):ast}visitPipe(ast,context){const exp=ast.exp.visit(this),args=this.visitAll(ast.args);return exp!==ast.exp||args!==ast.args?new BindingPipe(ast.span,ast.sourceSpan,exp,ast.name,args,ast.nameSpan):ast}visitKeyedRead(ast,context){const obj=ast.obj.visit(this),key=ast.key.visit(this);return obj!==ast.obj||key!==ast.key?new KeyedRead(ast.span,ast.sourceSpan,obj,key):ast}visitKeyedWrite(ast,context){const obj=ast.obj.visit(this),key=ast.key.visit(this),value=ast.value.visit(this);return obj!==ast.obj||key!==ast.key||value!==ast.value?new KeyedWrite(ast.span,ast.sourceSpan,obj,key,value):ast}visitAll(asts){const res=[];let modified=!1;for(let i=0;i<asts.length;++i){const original=asts[i],value=original.visit(this);res[i]=value,modified=modified||value!==original}return modified?res:asts}visitChain(ast,context){const expressions=this.visitAll(ast.expressions);return expressions!==ast.expressions?new Chain(ast.span,ast.sourceSpan,expressions):ast}visitQuote(ast,context){return ast}}{constructor(constantPool,allocateSlot,allocatePureFunctionSlots,definePipe){super(),this.constantPool=constantPool,this.allocateSlot=allocateSlot,this.allocatePureFunctionSlots=allocatePureFunctionSlots,this.definePipe=definePipe,this._pipeBindExprs=[]}visitPipe(pipe,context){const slot=this.allocateSlot(),slotPseudoLocal=`PIPE:${slot}`,pureFunctionSlot=this.allocatePureFunctionSlots(2+pipe.args.length),target=new PropertyRead(pipe.span,pipe.sourceSpan,new ImplicitReceiver(pipe.span,pipe.sourceSpan),slotPseudoLocal),{identifier:identifier,isVarLength:isVarLength}=function pipeBindingCallInfo(args){const identifier=pipeBindingIdentifiers[args.length];return{identifier:identifier||Identifiers$1.pipeBindV,isVarLength:!identifier}}(pipe.args);this.definePipe(pipe.name,slotPseudoLocal,slot,importExpr(identifier));const args=[pipe.exp,...pipe.args],convertedArgs=isVarLength?this.visitAll([new LiteralArray(pipe.span,pipe.sourceSpan,args)]):this.visitAll(args),pipeBindExpr=new FunctionCall(pipe.span,pipe.sourceSpan,target,[new LiteralPrimitive(pipe.span,pipe.sourceSpan,slot),new LiteralPrimitive(pipe.span,pipe.sourceSpan,pureFunctionSlot),...convertedArgs]);return this._pipeBindExprs.push(pipeBindExpr),pipeBindExpr}updatePipeSlotOffsets(bindingSlots){this._pipeBindExprs.forEach(pipe=>{pipe.args[1].value+=bindingSlots})}visitLiteralArray(array,context){return new BuiltinFunctionCall(array.span,array.sourceSpan,this.visitAll(array.expressions),values=>{const literal=literalArr(values);return getLiteralFactory(this.constantPool,literal,this.allocatePureFunctionSlots)})}visitLiteralMap(map,context){return new BuiltinFunctionCall(map.span,map.sourceSpan,this.visitAll(map.values),values=>{const literal=literalMap(values.map((value,index)=>({key:map.keys[index].key,value:value,quoted:map.keys[index].quoted})));return getLiteralFactory(this.constantPool,literal,this.allocatePureFunctionSlots)})}}const pipeBindingIdentifiers=[Identifiers$1.pipeBind1,Identifiers$1.pipeBind2,Identifiers$1.pipeBind3,Identifiers$1.pipeBind4];const pureFunctionIdentifiers=[Identifiers$1.pureFunction0,Identifiers$1.pureFunction1,Identifiers$1.pureFunction2,Identifiers$1.pureFunction3,Identifiers$1.pureFunction4,Identifiers$1.pureFunction5,Identifiers$1.pureFunction6,Identifiers$1.pureFunction7,Identifiers$1.pureFunction8];function compiler_instruction(span,reference,params){return importExpr(reference,null,span).callFn(params,span)}function generateNextContextExpr(relativeLevelDiff){return importExpr(Identifiers$1.nextContext).callFn(relativeLevelDiff>1?[literal(relativeLevelDiff)]:[])}function getLiteralFactory(constantPool,literal$1,allocateSlots){const{literalFactory:literalFactory,literalFactoryArguments:literalFactoryArguments}=constantPool.getLiteralFactory(literal$1),startSlot=allocateSlots(1+literalFactoryArguments.length),{identifier:identifier,isVarLength:isVarLength}=function pureFunctionCallInfo(args){const identifier=pureFunctionIdentifiers[args.length];return{identifier:identifier||Identifiers$1.pureFunctionV,isVarLength:!identifier}}(literalFactoryArguments),args=[literal(startSlot),literalFactory];return isVarLength?args.push(literalArr(literalFactoryArguments)):args.push(...literalFactoryArguments),importExpr(identifier).callFn(args)}function getAttributeNameLiterals(name){const[attributeNamespace,attributeName]=splitNsName(name),nameLiteral=literal(attributeName);return attributeNamespace?[literal(0),literal(attributeNamespace),nameLiteral]:[nameLiteral]}class BindingScope{constructor(bindingLevel=0,parent=null){this.bindingLevel=bindingLevel,this.parent=parent,this.map=new Map,this.referenceNameIndex=0,this.restoreViewVariable=null}static get ROOT_SCOPE(){return BindingScope._ROOT_SCOPE||(BindingScope._ROOT_SCOPE=(new BindingScope).set(0,"$event",variable("$event"))),BindingScope._ROOT_SCOPE}get(name){let current=this;for(;current;){let value=current.map.get(name);if(null!=value)return current!==this&&(value={retrievalLevel:value.retrievalLevel,lhs:value.lhs,declareLocalCallback:value.declareLocalCallback,declare:!1,priority:value.priority,localRef:value.localRef},this.map.set(name,value),this.maybeGenerateSharedContextVar(value),this.maybeRestoreView(value.retrievalLevel,value.localRef)),value.declareLocalCallback&&!value.declare&&(value.declare=!0),value.lhs;current=current.parent}return 0===this.bindingLevel?null:this.getComponentProperty(name)}set(retrievalLevel,name,lhs,priority=0,declareLocalCallback,localRef){if(this.map.has(name)){if(localRef)return this;error(`The name ${name} is already defined in scope to be ${this.map.get(name)}`)}return this.map.set(name,{retrievalLevel:retrievalLevel,lhs:lhs,declare:!1,declareLocalCallback:declareLocalCallback,priority:priority,localRef:localRef||!1}),this}getLocal(name){return this.get(name)}notifyImplicitReceiverUse(){0!==this.bindingLevel&&(this.map.get("$$shared_ctx$$0").declare=!0)}nestedScope(level){const newScope=new BindingScope(level,this);return level>0&&newScope.generateSharedContextVar(0),newScope}getOrCreateSharedContextVar(retrievalLevel){const bindingKey="$$shared_ctx$$"+retrievalLevel;return this.map.has(bindingKey)||this.generateSharedContextVar(retrievalLevel),this.map.get(bindingKey).lhs}getSharedContextName(retrievalLevel){const sharedCtxObj=this.map.get("$$shared_ctx$$"+retrievalLevel);return sharedCtxObj&&sharedCtxObj.declare?sharedCtxObj.lhs:null}maybeGenerateSharedContextVar(value){if(1===value.priority&&value.retrievalLevel<this.bindingLevel){const sharedCtxObj=this.map.get("$$shared_ctx$$"+value.retrievalLevel);sharedCtxObj?sharedCtxObj.declare=!0:this.generateSharedContextVar(value.retrievalLevel)}}generateSharedContextVar(retrievalLevel){const lhs=variable("ctx"+this.freshReferenceName());this.map.set("$$shared_ctx$$"+retrievalLevel,{retrievalLevel:retrievalLevel,lhs:lhs,declareLocalCallback:(scope,relativeLevel)=>[lhs.set(generateNextContextExpr(relativeLevel)).toConstDecl()],declare:!1,priority:2,localRef:!1})}getComponentProperty(name){const componentValue=this.map.get("$$shared_ctx$$0");return componentValue.declare=!0,this.maybeRestoreView(0,!1),componentValue.lhs.prop(name)}maybeRestoreView(retrievalLevel,localRefLookup){this.isListenerScope()&&(retrievalLevel<this.bindingLevel||localRefLookup)&&(this.parent.restoreViewVariable||(this.parent.restoreViewVariable=variable(this.parent.freshReferenceName())),this.restoreViewVariable=this.parent.restoreViewVariable)}restoreViewStatement(){return this.restoreViewVariable?[compiler_instruction(null,Identifiers$1.restoreView,[this.restoreViewVariable]).toStmt()]:[]}viewSnapshotStatements(){const getCurrentViewInstruction=compiler_instruction(null,Identifiers$1.getCurrentView,[]);return this.restoreViewVariable?[this.restoreViewVariable.set(getCurrentViewInstruction).toConstDecl()]:[]}isListenerScope(){return this.parent&&this.parent.bindingLevel===this.bindingLevel}variableDeclarations(){let currentContextLevel=0;return Array.from(this.map.values()).filter(value=>value.declare).sort((a,b)=>b.retrievalLevel-a.retrievalLevel||b.priority-a.priority).reduce((stmts,value)=>{const levelDiff=this.bindingLevel-value.retrievalLevel,currStmts=value.declareLocalCallback(this,levelDiff-currentContextLevel);return currentContextLevel=levelDiff,stmts.concat(currStmts)},[])}freshReferenceName(){let current=this;for(;current.parent;)current=current.parent;return`_r${current.referenceNameIndex++}`}}function createCssSelector(elementName,attributes){const cssSelector=new CssSelector,elementNameNoNs=splitNsName(elementName)[1];return cssSelector.setElement(elementNameNoNs),Object.getOwnPropertyNames(attributes).forEach(name=>{const nameNoNs=splitNsName(name)[1],value=attributes[name];if(cssSelector.addAttribute(nameNoNs,value),"class"===name.toLowerCase()){value.trim().split(/\s+/).forEach(className=>cssSelector.addClassName(className))}}),cssSelector}function getPropertyInterpolationExpression(interpolation){switch(getInterpolationArgsLength(interpolation)){case 1:return Identifiers$1.propertyInterpolate;case 3:return Identifiers$1.propertyInterpolate1;case 5:return Identifiers$1.propertyInterpolate2;case 7:return Identifiers$1.propertyInterpolate3;case 9:return Identifiers$1.propertyInterpolate4;case 11:return Identifiers$1.propertyInterpolate5;case 13:return Identifiers$1.propertyInterpolate6;case 15:return Identifiers$1.propertyInterpolate7;case 17:return Identifiers$1.propertyInterpolate8;default:return Identifiers$1.propertyInterpolateV}}const elementRegistry=new DomElementSchemaRegistry;function makeBindingParser(interpolationConfig=DEFAULT_INTERPOLATION_CONFIG){return new BindingParser(new IvyParser(new Lexer),interpolationConfig,elementRegistry,null,[])}function resolveSanitizationFn(context,isAttribute){switch(context){case SecurityContext.HTML:return importExpr(Identifiers$1.sanitizeHtml);case SecurityContext.SCRIPT:return importExpr(Identifiers$1.sanitizeScript);case SecurityContext.STYLE:return isAttribute?importExpr(Identifiers$1.sanitizeStyle):null;case SecurityContext.URL:return importExpr(Identifiers$1.sanitizeUrl);case SecurityContext.RESOURCE_URL:return importExpr(Identifiers$1.sanitizeResourceUrl);default:return null}}function isTextNode(node){return node instanceof Text||node instanceof BoundText||node instanceof Icu}function hasTextChildrenOnly(children){return children.every(isTextNode)}function createClosureModeGuard(){return typeofExpr(variable("ngI18nClosureMode")).notIdentical(literal("undefined",STRING_TYPE)).and(variable("ngI18nClosureMode"))}const ATTR_REGEX=/attr\.([^\]]+)/;function baseDirectiveFields(meta,constantPool,bindingParser){const definitionMap=new DefinitionMap,selectors=parseSelectorToR3Selector(meta.selector);return definitionMap.set("type",meta.internalType),selectors.length>0&&definitionMap.set("selectors",asLiteral(selectors)),meta.queries.length>0&&definitionMap.set("contentQueries",function createContentQueriesFunction(queries,constantPool,name){const createStatements=[],updateStatements=[],tempAllocator=temporaryAllocator(updateStatements,"_t");for(const query of queries){const queryInstruction=query.static?Identifiers$1.staticContentQuery:Identifiers$1.contentQuery;createStatements.push(importExpr(queryInstruction).callFn([variable("dirIndex"),...prepareQueryParams(query,constantPool)]).toStmt());const temporary=tempAllocator(),getQueryList=importExpr(Identifiers$1.loadQuery).callFn([]),refresh=importExpr(Identifiers$1.queryRefresh).callFn([temporary.set(getQueryList)]),updateDirective=variable("ctx").prop(query.propertyName).set(query.first?temporary.prop("first"):temporary);updateStatements.push(refresh.and(updateDirective).toStmt())}const contentQueriesFnName=name?`${name}_ContentQueries`:null;return fn([new FnParam("rf",NUMBER_TYPE),new FnParam("ctx",null),new FnParam("dirIndex",null)],[renderFlagCheckIfStmt(1,createStatements),renderFlagCheckIfStmt(2,updateStatements)],INFERRED_TYPE,null,contentQueriesFnName)}(meta.queries,constantPool,meta.name)),meta.viewQueries.length&&definitionMap.set("viewQuery",function createViewQueriesFunction(viewQueries,constantPool,name){const createStatements=[],updateStatements=[],tempAllocator=temporaryAllocator(updateStatements,"_t");viewQueries.forEach(query=>{const queryDefinition=importExpr(query.static?Identifiers$1.staticViewQuery:Identifiers$1.viewQuery).callFn(prepareQueryParams(query,constantPool));createStatements.push(queryDefinition.toStmt());const temporary=tempAllocator(),getQueryList=importExpr(Identifiers$1.loadQuery).callFn([]),refresh=importExpr(Identifiers$1.queryRefresh).callFn([temporary.set(getQueryList)]),updateDirective=variable("ctx").prop(query.propertyName).set(query.first?temporary.prop("first"):temporary);updateStatements.push(refresh.and(updateDirective).toStmt())});const viewQueryFnName=name?`${name}_Query`:null;return fn([new FnParam("rf",NUMBER_TYPE),new FnParam("ctx",null)],[renderFlagCheckIfStmt(1,createStatements),renderFlagCheckIfStmt(2,updateStatements)],INFERRED_TYPE,null,viewQueryFnName)}(meta.viewQueries,constantPool,meta.name)),definitionMap.set("hostBindings",function createHostBindingsFunction(hostBindingsMetadata,typeSourceSpan,bindingParser,constantPool,selector,name,definitionMap){const bindingContext=variable("ctx"),styleBuilder=new StylingBuilder(bindingContext),{styleAttr:styleAttr,classAttr:classAttr}=hostBindingsMetadata.specialAttributes;void 0!==styleAttr&&styleBuilder.registerStyleAttr(styleAttr);void 0!==classAttr&&styleBuilder.registerClassAttr(classAttr);const createStatements=[],updateStatements=[],hostBindingSourceSpan=typeSourceSpan,directiveSummary=metadataAsSummary(hostBindingsMetadata),eventBindings=bindingParser.createDirectiveHostEventAsts(directiveSummary,hostBindingSourceSpan);if(eventBindings&&eventBindings.length){const listeners=function createHostListeners(eventBindings,name){const listeners=[],syntheticListeners=[],instructions=[];eventBindings.forEach(binding=>{let bindingName=binding.name&&sanitizeIdentifier(binding.name);const bindingFnName=1===binding.type?prepareSyntheticListenerFunctionName(bindingName,binding.targetOrPhase):bindingName,handlerName=name&&bindingName?`${name}_${bindingFnName}_HostBindingHandler`:null,params=prepareEventListenerParameters(BoundEvent.fromParsedEvent(binding),handlerName);1==binding.type?syntheticListeners.push(params):listeners.push(params)}),syntheticListeners.length>0&&instructions.push(chainedInstruction(Identifiers$1.componentHostSyntheticListener,syntheticListeners).toStmt());listeners.length>0&&instructions.push(chainedInstruction(Identifiers$1.listener,listeners).toStmt());return instructions}(eventBindings,name);createStatements.push(...listeners)}const bindings=bindingParser.createBoundHostProperties(directiveSummary,hostBindingSourceSpan),allOtherBindings=[];let valueConverter,totalHostVarsCount=0;bindings&&bindings.forEach(binding=>{const name=binding.name;styleBuilder.registerInputBasedOnName(name,binding.expression,binding.sourceSpan)?totalHostVarsCount+=2:(allOtherBindings.push(binding),totalHostVarsCount++)});const getValueConverter=()=>{if(!valueConverter){valueConverter=new ValueConverter(constantPool,()=>error("Unexpected node"),numSlots=>{const originalVarsCount=totalHostVarsCount;return totalHostVarsCount+=numSlots,originalVarsCount},()=>error("Unexpected pipe"))}return valueConverter},propertyBindings=[],attributeBindings=[],syntheticHostBindings=[];allOtherBindings.forEach(binding=>{const value=binding.expression.visit(getValueConverter()),bindingExpr=bindingFn(bindingContext,value),{bindingName:bindingName,instruction:instruction,isAttribute:isAttribute}=function getBindingNameAndInstruction(binding){let instruction,bindingName=binding.name;const attrMatches=bindingName.match(ATTR_REGEX);attrMatches?(bindingName=attrMatches[1],instruction=Identifiers$1.attribute):binding.isAnimation?(bindingName=prepareSyntheticPropertyName(bindingName),instruction=Identifiers$1.updateSyntheticHostBinding):instruction=Identifiers$1.hostProperty;return{bindingName:bindingName,instruction:instruction,isAttribute:!!attrMatches}}(binding),securityContexts=bindingParser.calcPossibleSecurityContexts(selector,bindingName,isAttribute).filter(context=>context!==SecurityContext.NONE);let sanitizerFn=null;securityContexts.length&&(sanitizerFn=2===securityContexts.length&&securityContexts.indexOf(SecurityContext.URL)>-1&&securityContexts.indexOf(SecurityContext.RESOURCE_URL)>-1?importExpr(Identifiers$1.sanitizeUrlOrResourceUrl):resolveSanitizationFn(securityContexts[0],isAttribute));const instructionParams=[literal(bindingName),bindingExpr.currValExpr];sanitizerFn&&instructionParams.push(sanitizerFn),updateStatements.push(...bindingExpr.stmts),instruction===Identifiers$1.hostProperty?propertyBindings.push(instructionParams):instruction===Identifiers$1.attribute?attributeBindings.push(instructionParams):instruction===Identifiers$1.updateSyntheticHostBinding?syntheticHostBindings.push(instructionParams):updateStatements.push(importExpr(instruction).callFn(instructionParams).toStmt())}),propertyBindings.length>0&&updateStatements.push(chainedInstruction(Identifiers$1.hostProperty,propertyBindings).toStmt());attributeBindings.length>0&&updateStatements.push(chainedInstruction(Identifiers$1.attribute,attributeBindings).toStmt());syntheticHostBindings.length>0&&updateStatements.push(chainedInstruction(Identifiers$1.updateSyntheticHostBinding,syntheticHostBindings).toStmt());const hostAttrs=function convertAttributesToExpressions(attributes){const values=[];for(let key of Object.getOwnPropertyNames(attributes)){const value=attributes[key];values.push(literal(key),value)}return values}(hostBindingsMetadata.attributes);styleBuilder.assignHostAttrs(hostAttrs,definitionMap),styleBuilder.hasBindings&&styleBuilder.buildUpdateLevelInstructions(getValueConverter()).forEach(instruction=>{if(instruction.calls.length>0){const calls=[];instruction.calls.forEach(call=>{totalHostVarsCount+=Math.max(call.allocateBindingSlots-2,0),calls.push(function convertStylingCall(call,bindingContext,bindingFn){return call.params(value=>bindingFn(bindingContext,value).currValExpr)}(call,bindingContext,bindingFn))}),updateStatements.push(chainedInstruction(instruction.reference,calls).toStmt())}});totalHostVarsCount&&definitionMap.set("hostVars",literal(totalHostVarsCount));if(createStatements.length>0||updateStatements.length>0){const hostBindingsFnName=name?`${name}_HostBindings`:null,statements=[];return createStatements.length>0&&statements.push(renderFlagCheckIfStmt(1,createStatements)),updateStatements.length>0&&statements.push(renderFlagCheckIfStmt(2,updateStatements)),fn([new FnParam("rf",NUMBER_TYPE),new FnParam("ctx",null)],statements,INFERRED_TYPE,null,hostBindingsFnName)}return null}(meta.host,meta.typeSourceSpan,bindingParser,constantPool,meta.selector||"",meta.name,definitionMap)),definitionMap.set("inputs",conditionallyCreateMapObjectLiteral(meta.inputs,!0)),definitionMap.set("outputs",conditionallyCreateMapObjectLiteral(meta.outputs)),null!==meta.exportAs&&definitionMap.set("exportAs",literalArr(meta.exportAs.map(e=>literal(e)))),definitionMap}function addFeatures(definitionMap,meta){const features=[],providers=meta.providers,viewProviders=meta.viewProviders;if(providers||viewProviders){const args=[providers||new LiteralArrayExpr([])];viewProviders&&args.push(viewProviders),features.push(importExpr(Identifiers$1.ProvidersFeature).callFn(args))}meta.usesInheritance&&features.push(importExpr(Identifiers$1.InheritDefinitionFeature)),meta.fullInheritance&&features.push(importExpr(Identifiers$1.CopyDefinitionFeature)),meta.lifecycle.usesOnChanges&&features.push(importExpr(Identifiers$1.NgOnChangesFeature)),features.length&&definitionMap.set("features",literalArr(features))}function compileDirectiveFromMetadata(meta,constantPool,bindingParser){const definitionMap=baseDirectiveFields(meta,constantPool,bindingParser);return addFeatures(definitionMap,meta),{expression:importExpr(Identifiers$1.defineDirective).callFn([definitionMap.toLiteralMap()]),type:createTypeForDef(meta,Identifiers$1.DirectiveDefWithMeta)}}function compileComponentFromMetadata(meta,constantPool,bindingParser){const definitionMap=baseDirectiveFields(meta,constantPool,bindingParser);addFeatures(definitionMap,meta);const selector=meta.selector&&CssSelector.parse(meta.selector),firstSelector=selector&&selector[0];if(firstSelector){const selectorAttributes=firstSelector.getAttrs();selectorAttributes.length&&definitionMap.set("attrs",constantPool.getConstLiteral(literalArr(selectorAttributes.map(value=>literal(null!=value?value:void 0))),!0))}let directiveMatcher=null;if(meta.directives.length>0){const matcher=new SelectorMatcher;for(const{selector:selector,expression:expression}of meta.directives)matcher.addSelectables(CssSelector.parse(selector),expression);directiveMatcher=matcher}const templateTypeName=meta.name,templateName=templateTypeName?`${templateTypeName}_Template`:null,directivesUsed=new Set,pipesUsed=new Set,changeDetection=meta.changeDetection,template=meta.template,templateBuilder=new TemplateDefinitionBuilder(constantPool,BindingScope.ROOT_SCOPE,0,templateTypeName,null,null,templateName,directiveMatcher,directivesUsed,meta.pipes,pipesUsed,Identifiers$1.namespaceHTML,meta.relativeContextFilePath,meta.i18nUseExternalIds),templateFunctionExpression=templateBuilder.buildTemplateFunction(template.nodes,[]),ngContentSelectors=templateBuilder.getNgContentSelectors();ngContentSelectors&&definitionMap.set("ngContentSelectors",ngContentSelectors),definitionMap.set("decls",literal(templateBuilder.getConstCount())),definitionMap.set("vars",literal(templateBuilder.getVarCount()));const consts=templateBuilder.getConsts();if(consts.length>0&&definitionMap.set("consts",literalArr(consts)),definitionMap.set("template",templateFunctionExpression),directivesUsed.size){let directivesExpr=literalArr(Array.from(directivesUsed));meta.wrapDirectivesAndPipesInClosure&&(directivesExpr=fn([],[new ReturnStatement(directivesExpr)])),definitionMap.set("directives",directivesExpr)}if(pipesUsed.size){let pipesExpr=literalArr(Array.from(pipesUsed));meta.wrapDirectivesAndPipesInClosure&&(pipesExpr=fn([],[new ReturnStatement(pipesExpr)])),definitionMap.set("pipes",pipesExpr)}if(null===meta.encapsulation&&(meta.encapsulation=ViewEncapsulation.Emulated),meta.styles&&meta.styles.length){const strings=(meta.encapsulation==ViewEncapsulation.Emulated?function compileStyles(styles,selector,hostSelector){const shadowCss=new ShadowCss;return styles.map(style=>shadowCss.shimCssText(style,selector,hostSelector))}(meta.styles,"_ngcontent-%COMP%","_nghost-%COMP%"):meta.styles).map(str=>literal(str));definitionMap.set("styles",literalArr(strings))}else meta.encapsulation===ViewEncapsulation.Emulated&&(meta.encapsulation=ViewEncapsulation.None);return meta.encapsulation!==ViewEncapsulation.Emulated&&definitionMap.set("encapsulation",literal(meta.encapsulation)),null!==meta.animations&&definitionMap.set("data",literalMap([{key:"animation",value:meta.animations,quoted:!1}])),null!=changeDetection&&changeDetection!==ChangeDetectionStrategy.Default&&definitionMap.set("changeDetection",literal(changeDetection)),{expression:importExpr(Identifiers$1.defineComponent).callFn([definitionMap.toLiteralMap()]),type:createTypeForDef(meta,Identifiers$1.ComponentDefWithMeta)}}function prepareQueryParams(query,constantPool){const parameters=[getQueryPredicate(query,constantPool),literal(query.descendants)];return query.read&&parameters.push(query.read),parameters}function stringMapAsType(map){return expressionType(literalMap(Object.keys(map).map(key=>({key:key,value:literal(Array.isArray(map[key])?map[key][0]:map[key]),quoted:!0}))))}function stringArrayAsType(arr){return arr.length>0?expressionType(literalArr(arr.map(value=>literal(value)))):NONE_TYPE}function createTypeForDef(meta,typeBase){const selectorForType=null!==meta.selector?meta.selector.replace(/\n/g,""):null;return expressionType(importExpr(typeBase,[typeWithParameters(meta.type.type,meta.typeArgumentCount),null!==selectorForType?(str=selectorForType,expressionType(literal(str))):NONE_TYPE,null!==meta.exportAs?stringArrayAsType(meta.exportAs):NONE_TYPE,stringMapAsType(meta.inputs),stringMapAsType(meta.outputs),stringArrayAsType(meta.queries.map(q=>q.propertyName))]));var str}function bindingFn(implicit,value){return convertPropertyBinding(null,implicit,value,"b",BindingForm.TrySimple,()=>error("Unexpected interpolation"))}function metadataAsSummary(meta){return{hostAttributes:{},hostListeners:meta.listeners,hostProperties:meta.properties}}const HOST_REG_EXP$1=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;class ResourceLoader{get(url){return""}}class CompilerFacadeImpl{constructor(jitEvaluator=new JitEvaluator){this.jitEvaluator=jitEvaluator,this.R3ResolvedDependencyType=R3ResolvedDependencyType,this.R3FactoryTarget=R3FactoryTarget,this.ResourceLoader=ResourceLoader,this.elementSchemaRegistry=new DomElementSchemaRegistry}compilePipe(angularCoreEnv,sourceMapUrl,facade){const res=compilePipeFromMetadata({name:facade.name,type:wrapReference$1(facade.type),internalType:new WrappedNodeExpr(facade.type),typeArgumentCount:facade.typeArgumentCount,deps:convertR3DependencyMetadataArray(facade.deps),pipeName:facade.pipeName,pure:facade.pure});return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,[])}compileInjectable(angularCoreEnv,sourceMapUrl,facade){const{expression:expression,statements:statements}=function compileInjectable(meta){let result=null;const factoryMeta={name:meta.name,type:meta.type,internalType:meta.internalType,typeArgumentCount:meta.typeArgumentCount,deps:[],injectFn:Identifiers.inject,target:R3FactoryTarget.Injectable};if(void 0!==meta.useClass){const useClassOnSelf=meta.useClass.isEquivalent(meta.internalType);let deps=void 0;void 0!==meta.userDeps&&(deps=meta.userDeps),result=void 0!==deps?compileFactoryFunction(Object.assign(Object.assign({},factoryMeta),{delegate:meta.useClass,delegateDeps:deps,delegateType:R3FactoryDelegateType.Class})):useClassOnSelf?compileFactoryFunction(factoryMeta):delegateToFactory(meta.type.value,meta.useClass)}else result=void 0!==meta.useFactory?void 0!==meta.userDeps?compileFactoryFunction(Object.assign(Object.assign({},factoryMeta),{delegate:meta.useFactory,delegateDeps:meta.userDeps||[],delegateType:R3FactoryDelegateType.Function})):{statements:[],factory:fn([],[new ReturnStatement(meta.useFactory.callFn([]))])}:void 0!==meta.useValue?compileFactoryFunction(Object.assign(Object.assign({},factoryMeta),{expression:meta.useValue})):void 0!==meta.useExisting?compileFactoryFunction(Object.assign(Object.assign({},factoryMeta),{expression:importExpr(Identifiers.inject).callFn([meta.useExisting])})):delegateToFactory(meta.type.value,meta.internalType);const injectableProps={token:meta.internalType,factory:result.factory};return null!==meta.providedIn.value&&(injectableProps.providedIn=meta.providedIn),{expression:importExpr(Identifiers.\u0275\u0275defineInjectable).callFn([mapToMapExpression(injectableProps)]),type:new ExpressionType(importExpr(Identifiers.InjectableDef,[typeWithParameters(meta.type.type,meta.typeArgumentCount)])),statements:result.statements}}({name:facade.name,type:wrapReference$1(facade.type),internalType:new WrappedNodeExpr(facade.type),typeArgumentCount:facade.typeArgumentCount,providedIn:computeProvidedIn(facade.providedIn),useClass:wrapExpression(facade,USE_CLASS),useFactory:wrapExpression(facade,USE_FACTORY),useValue:wrapExpression(facade,USE_VALUE),useExisting:wrapExpression(facade,USE_EXISTING),userDeps:convertR3DependencyMetadataArray(facade.userDeps)||void 0});return this.jitExpression(expression,angularCoreEnv,sourceMapUrl,statements)}compileInjector(angularCoreEnv,sourceMapUrl,facade){const res=function compileInjector(meta){const result=compileFactoryFunction({name:meta.name,type:meta.type,internalType:meta.internalType,typeArgumentCount:0,deps:meta.deps,injectFn:Identifiers$1.inject,target:R3FactoryTarget.NgModule}),definitionMap={factory:result.factory};return null!==meta.providers&&(definitionMap.providers=meta.providers),meta.imports.length>0&&(definitionMap.imports=literalArr(meta.imports)),{expression:importExpr(Identifiers$1.defineInjector).callFn([mapToMapExpression(definitionMap)]),type:new ExpressionType(importExpr(Identifiers$1.InjectorDef,[new ExpressionType(meta.type.type)])),statements:result.statements}}({name:facade.name,type:wrapReference$1(facade.type),internalType:new WrappedNodeExpr(facade.type),deps:convertR3DependencyMetadataArray(facade.deps),providers:new WrappedNodeExpr(facade.providers),imports:facade.imports.map(i=>new WrappedNodeExpr(i))});return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,res.statements)}compileNgModule(angularCoreEnv,sourceMapUrl,facade){const res=compileNgModule({type:wrapReference$1(facade.type),internalType:new WrappedNodeExpr(facade.type),adjacentType:new WrappedNodeExpr(facade.type),bootstrap:facade.bootstrap.map(wrapReference$1),declarations:facade.declarations.map(wrapReference$1),imports:facade.imports.map(wrapReference$1),exports:facade.exports.map(wrapReference$1),emitInline:!0,containsForwardDecls:!1,schemas:facade.schemas?facade.schemas.map(wrapReference$1):null,id:facade.id?new WrappedNodeExpr(facade.id):null});return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,[])}compileDirective(angularCoreEnv,sourceMapUrl,facade){const constantPool=new ConstantPool,bindingParser=makeBindingParser(),res=compileDirectiveFromMetadata(convertDirectiveFacadeToMetadata(facade),constantPool,bindingParser);return this.jitExpression(res.expression,angularCoreEnv,sourceMapUrl,constantPool.statements)}compileComponent(angularCoreEnv,sourceMapUrl,facade){const constantPool=new ConstantPool,interpolationConfig=facade.interpolation?InterpolationConfig.fromArray(facade.interpolation):DEFAULT_INTERPOLATION_CONFIG,template=function parseTemplate(template,templateUrl,options={}){const{interpolationConfig:interpolationConfig,preserveWhitespaces:preserveWhitespaces,enableI18nLegacyMessageIdFormat:enableI18nLegacyMessageIdFormat}=options,bindingParser=makeBindingParser(interpolationConfig),parseResult=(new HtmlParser).parse(template,templateUrl,Object.assign(Object.assign({leadingTriviaChars:LEADING_TRIVIA_CHARS},options),{tokenizeExpansionForms:!0}));if(parseResult.errors&&parseResult.errors.length>0)return{errors:parseResult.errors,nodes:[],styleUrls:[],styles:[]};let rootNodes=parseResult.rootNodes;const i18nMetaVisitor=new I18nMetaVisitor(interpolationConfig,!preserveWhitespaces,enableI18nLegacyMessageIdFormat);rootNodes=visitAll$1(i18nMetaVisitor,rootNodes),preserveWhitespaces||(rootNodes=visitAll$1(new WhitespaceVisitor,rootNodes),i18nMetaVisitor.hasI18nMeta&&(rootNodes=visitAll$1(new I18nMetaVisitor(interpolationConfig,!1),rootNodes)));const{nodes:nodes,errors:errors,styleUrls:styleUrls,styles:styles}=htmlAstToRender3Ast(rootNodes,bindingParser);return errors&&errors.length>0?{errors:errors,nodes:[],styleUrls:[],styles:[]}:{nodes:nodes,styleUrls:styleUrls,styles:styles}}(facade.template,sourceMapUrl,{preserveWhitespaces:facade.preserveWhitespaces,interpolationConfig:interpolationConfig});if(void 0!==template.errors){const errors=template.errors.map(err=>err.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${facade.name}: ${errors}`)}const res=compileComponentFromMetadata(Object.assign(Object.assign(Object.assign({},facade),convertDirectiveFacadeToMetadata(facade)),{selector:facade.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:template,wrapDirectivesAndPipesInClosure:!1,styles:[...facade.styles,...template.styles],encapsulation:facade.encapsulation,interpolation:interpolationConfig,changeDetection:facade.changeDetection,animations:null!=facade.animations?new WrappedNodeExpr(facade.animations):null,viewProviders:null!=facade.viewProviders?new WrappedNodeExpr(facade.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0}),constantPool,makeBindingParser(interpolationConfig)),jitExpressionSourceMap=`ng:///${facade.name}.js`;return this.jitExpression(res.expression,angularCoreEnv,jitExpressionSourceMap,constantPool.statements)}compileFactory(angularCoreEnv,sourceMapUrl,meta){const factoryRes=compileFactoryFunction({name:meta.name,type:wrapReference$1(meta.type),internalType:new WrappedNodeExpr(meta.type),typeArgumentCount:meta.typeArgumentCount,deps:convertR3DependencyMetadataArray(meta.deps),injectFn:"directiveInject"===meta.injectFn?Identifiers.directiveInject:Identifiers.inject,target:meta.target});return this.jitExpression(factoryRes.factory,angularCoreEnv,sourceMapUrl,factoryRes.statements)}createParseSourceSpan(kind,typeName,sourceUrl){return function r3JitTypeSourceSpan(kind,typeName,sourceUrl){const sourceFile=new ParseSourceFile("",`in ${kind} ${typeName} in ${sourceUrl}`);return new ParseSourceSpan(new ParseLocation(sourceFile,-1,-1,-1),new ParseLocation(sourceFile,-1,-1,-1))}(kind,typeName,sourceUrl)}jitExpression(def,context,sourceUrl,preStatements){const statements=[...preStatements,new DeclareVarStmt("$def",def,void 0,[StmtModifier.Exported])];return this.jitEvaluator.evaluateStatements(sourceUrl,statements,new R3JitReflector(context),!0).$def}}const USE_CLASS=Object.keys({useClass:null})[0],USE_FACTORY=Object.keys({useFactory:null})[0],USE_VALUE=Object.keys({useValue:null})[0],USE_EXISTING=Object.keys({useExisting:null})[0],wrapReference$1=function(value){const wrapped=new WrappedNodeExpr(value);return{value:wrapped,type:wrapped}};function convertToR3QueryMetadata(facade){return Object.assign(Object.assign({},facade),{predicate:Array.isArray(facade.predicate)?facade.predicate:new WrappedNodeExpr(facade.predicate),read:facade.read?new WrappedNodeExpr(facade.read):null,static:facade.static})}function convertDirectiveFacadeToMetadata(facade){const inputsFromMetadata=parseInputOutputs(facade.inputs||[]),outputsFromMetadata=parseInputOutputs(facade.outputs||[]),propMetadata=facade.propMetadata,inputsFromType={},outputsFromType={};for(const field in propMetadata)propMetadata.hasOwnProperty(field)&&propMetadata[field].forEach(ann=>{"Input"===ann.ngMetadataName?inputsFromType[field]=ann.bindingPropertyName?[ann.bindingPropertyName,field]:field:isOutput(ann)&&(outputsFromType[field]=ann.bindingPropertyName||field)});return Object.assign(Object.assign({},facade),{typeSourceSpan:facade.typeSourceSpan,type:wrapReference$1(facade.type),internalType:new WrappedNodeExpr(facade.type),deps:convertR3DependencyMetadataArray(facade.deps),host:extractHostBindings(facade.propMetadata,facade.typeSourceSpan,facade.host),inputs:Object.assign(Object.assign({},inputsFromMetadata),inputsFromType),outputs:Object.assign(Object.assign({},outputsFromMetadata),outputsFromType),queries:facade.queries.map(convertToR3QueryMetadata),providers:null!=facade.providers?new WrappedNodeExpr(facade.providers):null,viewQueries:facade.viewQueries.map(convertToR3QueryMetadata),fullInheritance:!1})}function wrapExpression(obj,property){return obj.hasOwnProperty(property)?new WrappedNodeExpr(obj[property]):void 0}function computeProvidedIn(providedIn){return null==providedIn||"string"==typeof providedIn?new LiteralExpr(providedIn):new WrappedNodeExpr(providedIn)}function convertR3DependencyMetadata(facade){let tokenExpr;return tokenExpr=null===facade.token?new LiteralExpr(null):facade.resolved===R3ResolvedDependencyType.Attribute?new LiteralExpr(facade.token):new WrappedNodeExpr(facade.token),{token:tokenExpr,resolved:facade.resolved,host:facade.host,optional:facade.optional,self:facade.self,skipSelf:facade.skipSelf}}function convertR3DependencyMetadataArray(facades){return null==facades?null:facades.map(convertR3DependencyMetadata)}function extractHostBindings(propMetadata,sourceSpan,host){const bindings=function parseHostBindings(host){const attributes={},listeners={},properties={},specialAttributes={};for(const key of Object.keys(host)){const value=host[key],matches=key.match(HOST_REG_EXP$1);if(null===matches)switch(key){case"class":if("string"!=typeof value)throw new Error("Class binding must be string");specialAttributes.classAttr=value;break;case"style":if("string"!=typeof value)throw new Error("Style binding must be string");specialAttributes.styleAttr=value;break;default:attributes[key]="string"==typeof value?literal(value):value}else if(null!=matches[1]){if("string"!=typeof value)throw new Error("Property binding must be string");properties[matches[1]]=value}else if(null!=matches[2]){if("string"!=typeof value)throw new Error("Event binding must be string");listeners[matches[2]]=value}}return{attributes:attributes,listeners:listeners,properties:properties,specialAttributes:specialAttributes}}(host||{}),errors=function verifyHostBindings(bindings,sourceSpan){const summary=metadataAsSummary(bindings),bindingParser=makeBindingParser();return bindingParser.createDirectiveHostEventAsts(summary,sourceSpan),bindingParser.createBoundHostProperties(summary,sourceSpan),bindingParser.errors}(bindings,sourceSpan);if(errors.length)throw new Error(errors.map(error=>error.msg).join("\n"));for(const field in propMetadata)propMetadata.hasOwnProperty(field)&&propMetadata[field].forEach(ann=>{"HostBinding"===ann.ngMetadataName?bindings.properties[ann.hostPropertyName||field]=field:isHostListener(ann)&&(bindings.listeners[ann.eventName||field]=`${field}(${(ann.args||[]).join(",")})`)});return bindings}function isHostListener(value){return"HostListener"===value.ngMetadataName}function isOutput(value){return"Output"===value.ngMetadataName}function parseInputOutputs(values){return values.reduce((map,value)=>{const[field,property]=value.split(",").map(piece=>piece.trim());return map[field]=property||field,map},{})}new class{constructor(full){this.full=full;const splits=full.split(".");this.major=splits[0],this.minor=splits[1],this.patch=splits.slice(2).join(".")}}("9.0.7");class CompilerConfig{constructor({defaultEncapsulation:defaultEncapsulation=ViewEncapsulation.Emulated,useJit:useJit=!0,jitDevMode:jitDevMode=!1,missingTranslation:missingTranslation=null,preserveWhitespaces:preserveWhitespaces,strictInjectionParameters:strictInjectionParameters}={}){this.defaultEncapsulation=defaultEncapsulation,this.useJit=!!useJit,this.jitDevMode=!!jitDevMode,this.missingTranslation=missingTranslation,this.preserveWhitespaces=preserveWhitespacesDefault(noUndefined(preserveWhitespaces)),this.strictInjectionParameters=!0===strictInjectionParameters}}function preserveWhitespacesDefault(preserveWhitespacesOption,defaultSetting=!1){return null===preserveWhitespacesOption?defaultSetting:preserveWhitespacesOption}class DirectiveNormalizer{constructor(_resourceLoader,_urlResolver,_htmlParser,_config){this._resourceLoader=_resourceLoader,this._urlResolver=_urlResolver,this._htmlParser=_htmlParser,this._config=_config,this._resourceLoaderCache=new Map}clearCache(){this._resourceLoaderCache.clear()}clearCacheFor(normalizedDirective){if(!normalizedDirective.isComponent)return;const template=normalizedDirective.template;this._resourceLoaderCache.delete(template.templateUrl),template.externalStylesheets.forEach(stylesheet=>{this._resourceLoaderCache.delete(stylesheet.moduleUrl)})}_fetch(url){let result=this._resourceLoaderCache.get(url);return result||(result=this._resourceLoader.get(url),this._resourceLoaderCache.set(url,result)),result}normalizeTemplate(prenormData){if(isDefined(prenormData.template)){if(isDefined(prenormData.templateUrl))throw syntaxError(`'${stringify(prenormData.componentType)}' component cannot define both template and templateUrl`);if("string"!=typeof prenormData.template)throw syntaxError(`The template specified for component ${stringify(prenormData.componentType)} is not a string`)}else{if(!isDefined(prenormData.templateUrl))throw syntaxError(`No template specified for component ${stringify(prenormData.componentType)}`);if("string"!=typeof prenormData.templateUrl)throw syntaxError(`The templateUrl specified for component ${stringify(prenormData.componentType)} is not a string`)}if(isDefined(prenormData.preserveWhitespaces)&&"boolean"!=typeof prenormData.preserveWhitespaces)throw syntaxError(`The preserveWhitespaces option for component ${stringify(prenormData.componentType)} must be a boolean`);return SyncAsync_then(this._preParseTemplate(prenormData),preparsedTemplate=>this._normalizeTemplateMetadata(prenormData,preparsedTemplate))}_preParseTemplate(prenomData){let template,templateUrl;return null!=prenomData.template?(template=prenomData.template,templateUrl=prenomData.moduleUrl):(templateUrl=this._urlResolver.resolve(prenomData.moduleUrl,prenomData.templateUrl),template=this._fetch(templateUrl)),SyncAsync_then(template,template=>this._preparseLoadedTemplate(prenomData,template,templateUrl))}_preparseLoadedTemplate(prenormData,template,templateAbsUrl){const isInline=!!prenormData.template,interpolationConfig=InterpolationConfig.fromArray(prenormData.interpolation),templateUrl=templateSourceUrl({reference:prenormData.ngModuleType},{type:{reference:prenormData.componentType}},{isInline:isInline,templateUrl:templateAbsUrl}),rootNodesAndErrors=this._htmlParser.parse(template,templateUrl,{tokenizeExpansionForms:!0,interpolationConfig:interpolationConfig});if(rootNodesAndErrors.errors.length>0){throw syntaxError(`Template parse errors:\n${rootNodesAndErrors.errors.join("\n")}`)}const templateMetadataStyles=this._normalizeStylesheet(new CompileStylesheetMetadata({styles:prenormData.styles,moduleUrl:prenormData.moduleUrl})),visitor=new TemplatePreparseVisitor;visitAll$1(visitor,rootNodesAndErrors.rootNodes);const templateStyles=this._normalizeStylesheet(new CompileStylesheetMetadata({styles:visitor.styles,styleUrls:visitor.styleUrls,moduleUrl:templateAbsUrl}));return{template:template,templateUrl:templateAbsUrl,isInline:isInline,htmlAst:rootNodesAndErrors,styles:templateMetadataStyles.styles.concat(templateStyles.styles),inlineStyleUrls:templateMetadataStyles.styleUrls.concat(templateStyles.styleUrls),styleUrls:this._normalizeStylesheet(new CompileStylesheetMetadata({styleUrls:prenormData.styleUrls,moduleUrl:prenormData.moduleUrl})).styleUrls,ngContentSelectors:visitor.ngContentSelectors}}_normalizeTemplateMetadata(prenormData,preparsedTemplate){return SyncAsync_then(this._loadMissingExternalStylesheets(preparsedTemplate.styleUrls.concat(preparsedTemplate.inlineStyleUrls)),externalStylesheets=>this._normalizeLoadedTemplateMetadata(prenormData,preparsedTemplate,externalStylesheets))}_normalizeLoadedTemplateMetadata(prenormData,preparsedTemplate,stylesheets){const styles=[...preparsedTemplate.styles];this._inlineStyles(preparsedTemplate.inlineStyleUrls,stylesheets,styles);const styleUrls=preparsedTemplate.styleUrls,externalStylesheets=styleUrls.map(styleUrl=>{const stylesheet=stylesheets.get(styleUrl),styles=[...stylesheet.styles];return this._inlineStyles(stylesheet.styleUrls,stylesheets,styles),new CompileStylesheetMetadata({moduleUrl:styleUrl,styles:styles})});let encapsulation=prenormData.encapsulation;return null==encapsulation&&(encapsulation=this._config.defaultEncapsulation),encapsulation===ViewEncapsulation.Emulated&&0===styles.length&&0===styleUrls.length&&(encapsulation=ViewEncapsulation.None),new CompileTemplateMetadata({encapsulation:encapsulation,template:preparsedTemplate.template,templateUrl:preparsedTemplate.templateUrl,htmlAst:preparsedTemplate.htmlAst,styles:styles,styleUrls:styleUrls,ngContentSelectors:preparsedTemplate.ngContentSelectors,animations:prenormData.animations,interpolation:prenormData.interpolation,isInline:preparsedTemplate.isInline,externalStylesheets:externalStylesheets,preserveWhitespaces:preserveWhitespacesDefault(prenormData.preserveWhitespaces,this._config.preserveWhitespaces)})}_inlineStyles(styleUrls,stylesheets,targetStyles){styleUrls.forEach(styleUrl=>{const stylesheet=stylesheets.get(styleUrl);stylesheet.styles.forEach(style=>targetStyles.push(style)),this._inlineStyles(stylesheet.styleUrls,stylesheets,targetStyles)})}_loadMissingExternalStylesheets(styleUrls,loadedStylesheets=new Map){return SyncAsync_then(SyncAsync_all(styleUrls.filter(styleUrl=>!loadedStylesheets.has(styleUrl)).map(styleUrl=>SyncAsync_then(this._fetch(styleUrl),loadedStyle=>{const stylesheet=this._normalizeStylesheet(new CompileStylesheetMetadata({styles:[loadedStyle],moduleUrl:styleUrl}));return loadedStylesheets.set(styleUrl,stylesheet),this._loadMissingExternalStylesheets(stylesheet.styleUrls,loadedStylesheets)}))),_=>loadedStylesheets)}_normalizeStylesheet(stylesheet){const moduleUrl=stylesheet.moduleUrl,allStyleUrls=stylesheet.styleUrls.filter(isStyleUrlResolvable).map(url=>this._urlResolver.resolve(moduleUrl,url)),allStyles=stylesheet.styles.map(style=>{const styleWithImports=function extractStyleUrls(resolver,baseUrl,cssText){const foundUrls=[],modifiedCssText=cssText.replace(CSS_STRIPPABLE_COMMENT_REGEXP,"").replace(CSS_IMPORT_REGEXP,(...m)=>{const url=m[1]||m[2];return isStyleUrlResolvable(url)?(foundUrls.push(resolver.resolve(baseUrl,url)),""):m[0]});return new StyleWithImports(modifiedCssText,foundUrls)}(this._urlResolver,moduleUrl,style);return allStyleUrls.push(...styleWithImports.styleUrls),styleWithImports.style});return new CompileStylesheetMetadata({styles:allStyles,styleUrls:allStyleUrls,moduleUrl:moduleUrl})}}class TemplatePreparseVisitor{constructor(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}visitElement(ast,context){const preparsedElement=preparseElement(ast);switch(preparsedElement.type){case PreparsedElementType.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(preparsedElement.selectAttr);break;case PreparsedElementType.STYLE:let textContent="";ast.children.forEach(child=>{child instanceof Text$3&&(textContent+=child.value)}),this.styles.push(textContent);break;case PreparsedElementType.STYLESHEET:this.styleUrls.push(preparsedElement.hrefAttr)}return preparsedElement.nonBindable&&this.ngNonBindableStackCount++,visitAll$1(this,ast.children),preparsedElement.nonBindable&&this.ngNonBindableStackCount--,null}visitExpansion(ast,context){visitAll$1(this,ast.cases)}visitExpansionCase(ast,context){visitAll$1(this,ast.expression)}visitComment(ast,context){return null}visitAttribute(ast,context){return null}visitText(ast,context){return null}}const QUERY_METADATA_IDENTIFIERS=[createViewChild,createViewChildren,createContentChild,createContentChildren];class DirectiveResolver{constructor(_reflector){this._reflector=_reflector}isDirective(type){const typeMetadata=this._reflector.annotations(resolveForwardRef(type));return typeMetadata&&typeMetadata.some(isDirectiveMetadata)}resolve(type,throwIfNotFound=!0){const typeMetadata=this._reflector.annotations(resolveForwardRef(type));if(typeMetadata){const metadata=findLast(typeMetadata,isDirectiveMetadata);if(metadata){const propertyMetadata=this._reflector.propMetadata(type),guards=this._reflector.guards(type);return this._mergeWithPropertyMetadata(metadata,propertyMetadata,guards,type)}}if(throwIfNotFound)throw new Error(`No Directive annotation found on ${stringify(type)}`);return null}_mergeWithPropertyMetadata(dm,propertyMetadata,guards,directiveType){const inputs=[],outputs=[],host={},queries={};return Object.keys(propertyMetadata).forEach(propName=>{const input=findLast(propertyMetadata[propName],a=>createInput.isTypeOf(a));input&&(input.bindingPropertyName?inputs.push(`${propName}: ${input.bindingPropertyName}`):inputs.push(propName));const output=findLast(propertyMetadata[propName],a=>createOutput.isTypeOf(a));output&&(output.bindingPropertyName?outputs.push(`${propName}: ${output.bindingPropertyName}`):outputs.push(propName)),propertyMetadata[propName].filter(a=>createHostBinding.isTypeOf(a)).forEach(hostBinding=>{if(hostBinding.hostPropertyName){const startWith=hostBinding.hostPropertyName[0];if("("===startWith)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===startWith)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");host[`[${hostBinding.hostPropertyName}]`]=propName}else host[`[${propName}]`]=propName}),propertyMetadata[propName].filter(a=>createHostListener.isTypeOf(a)).forEach(hostListener=>{const args=hostListener.args||[];host[`(${hostListener.eventName})`]=`${propName}(${args.join(",")})`});const query=findLast(propertyMetadata[propName],a=>QUERY_METADATA_IDENTIFIERS.some(i=>i.isTypeOf(a)));query&&(queries[propName]=query)}),this._merge(dm,inputs,outputs,host,queries,guards,directiveType)}_extractPublicName(def){return splitAtColon(def,[null,def])[1].trim()}_dedupeBindings(bindings){const names=new Set,publicNames=new Set,reversedResult=[];for(let i=bindings.length-1;i>=0;i--){const binding=bindings[i],name=this._extractPublicName(binding);publicNames.add(name),names.has(name)||(names.add(name),reversedResult.push(binding))}return reversedResult.reverse()}_merge(directive,inputs,outputs,host,queries,guards,directiveType){const mergedInputs=this._dedupeBindings(directive.inputs?directive.inputs.concat(inputs):inputs),mergedOutputs=this._dedupeBindings(directive.outputs?directive.outputs.concat(outputs):outputs),mergedHost=directive.host?Object.assign(Object.assign({},directive.host),host):host,mergedQueries=directive.queries?Object.assign(Object.assign({},directive.queries),queries):queries;if(createComponent.isTypeOf(directive)){const comp=directive;return createComponent({selector:comp.selector,inputs:mergedInputs,outputs:mergedOutputs,host:mergedHost,exportAs:comp.exportAs,moduleId:comp.moduleId,queries:mergedQueries,changeDetection:comp.changeDetection,providers:comp.providers,viewProviders:comp.viewProviders,entryComponents:comp.entryComponents,template:comp.template,templateUrl:comp.templateUrl,styles:comp.styles,styleUrls:comp.styleUrls,encapsulation:comp.encapsulation,animations:comp.animations,interpolation:comp.interpolation,preserveWhitespaces:directive.preserveWhitespaces})}return createDirective({selector:directive.selector,inputs:mergedInputs,outputs:mergedOutputs,host:mergedHost,exportAs:directive.exportAs,queries:mergedQueries,providers:directive.providers,guards:guards})}}function isDirectiveMetadata(type){return createDirective.isTypeOf(type)||createComponent.isTypeOf(type)}function findLast(arr,condition){for(let i=arr.length-1;i>=0;i--)if(condition(arr[i]))return arr[i];return null}class I18nError extends ParseError{constructor(span,msg){super(span,msg)}}const _I18N_COMMENT_PREFIX_REGEXP=/^i18n:?/;let i18nCommentsWarned=!1;class ExtractionResult{constructor(messages,errors){this.messages=messages,this.errors=errors}}var _VisitorMode;!function(_VisitorMode){_VisitorMode[_VisitorMode.Extract=0]="Extract",_VisitorMode[_VisitorMode.Merge=1]="Merge"}(_VisitorMode||(_VisitorMode={}));class _Visitor$2{constructor(_implicitTags,_implicitAttrs){this._implicitTags=_implicitTags,this._implicitAttrs=_implicitAttrs}extract(nodes,interpolationConfig){return this._init(_VisitorMode.Extract,interpolationConfig),nodes.forEach(node=>node.visit(this,null)),this._inI18nBlock&&this._reportError(nodes[nodes.length-1],"Unclosed block"),new ExtractionResult(this._messages,this._errors)}merge(nodes,translations,interpolationConfig){this._init(_VisitorMode.Merge,interpolationConfig),this._translations=translations;const translatedNode=new Element$1("wrapper",[],nodes,void 0,void 0,void 0).visit(this,null);return this._inI18nBlock&&this._reportError(nodes[nodes.length-1],"Unclosed block"),new ParseTreeResult(translatedNode.children,this._errors)}visitExpansionCase(icuCase,context){const expression=visitAll$1(this,icuCase.expression,context);if(this._mode===_VisitorMode.Merge)return new ExpansionCase(icuCase.value,expression,icuCase.sourceSpan,icuCase.valueSourceSpan,icuCase.expSourceSpan)}visitExpansion(icu,context){this._mayBeAddBlockChildren(icu);const wasInIcu=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([icu]),this._inIcu=!0);const cases=visitAll$1(this,icu.cases,context);return this._mode===_VisitorMode.Merge&&(icu=new Expansion(icu.switchValue,icu.type,cases,icu.sourceSpan,icu.switchValueSourceSpan)),this._inIcu=wasInIcu,icu}visitComment(comment,context){const isOpening=function _isOpeningComment(n){return!!(n instanceof Comment&&n.value&&n.value.startsWith("i18n"))}(comment);if(isOpening&&this._isInTranslatableSection)return void this._reportError(comment,"Could not start a block inside a translatable section");const isClosing=function _isClosingComment(n){return!!(n instanceof Comment&&n.value&&"/i18n"===n.value)}(comment);if(!isClosing||this._inI18nBlock){if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(isClosing){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(comment,this._blockChildren),this._inI18nBlock=!1;const message=this._addMessage(this._blockChildren,this._blockMeaningAndDesc);return visitAll$1(this,this._translateMessage(comment,message))}return void this._reportError(comment,"I18N blocks should not cross element boundaries")}}else if(isOpening){if(!i18nCommentsWarned&&console&&console.warn){i18nCommentsWarned=!0;const details=comment.sourceSpan.details?`, ${comment.sourceSpan.details}`:"";console.warn(`I18n comments are deprecated, use an <ng-container> element instead (${comment.sourceSpan.start}${details})`)}this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=comment.value.replace(_I18N_COMMENT_PREFIX_REGEXP,"").trim(),this._openTranslatableSection(comment)}}else this._reportError(comment,"Trying to close an unopened block")}visitText(text,context){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(text),text}visitElement(el,context){this._mayBeAddBlockChildren(el),this._depth++;const wasInI18nNode=this._inI18nNode,wasInImplicitNode=this._inImplicitNode;let childNodes=[],translatedChildNodes=void 0;const i18nAttr=function _getI18nAttr(p){return p.attrs.find(attr=>"i18n"===attr.name)||null}(el),i18nMeta=i18nAttr?i18nAttr.value:"",isImplicit=this._implicitTags.some(tag=>el.name===tag)&&!this._inIcu&&!this._isInTranslatableSection,isTopLevelImplicit=!wasInImplicitNode&&isImplicit;if(this._inImplicitNode=wasInImplicitNode||isImplicit,this._isInTranslatableSection||this._inIcu)(i18nAttr||isTopLevelImplicit)&&this._reportError(el,"Could not mark an element as translatable inside a translatable section"),this._mode==_VisitorMode.Extract&&visitAll$1(this,el.children);else{if(i18nAttr||isTopLevelImplicit){this._inI18nNode=!0;const message=this._addMessage(el.children,i18nMeta);translatedChildNodes=this._translateMessage(el,message)}if(this._mode==_VisitorMode.Extract){const isTranslatable=i18nAttr||isTopLevelImplicit;isTranslatable&&this._openTranslatableSection(el),visitAll$1(this,el.children),isTranslatable&&this._closeTranslatableSection(el,el.children)}}if(this._mode===_VisitorMode.Merge){(translatedChildNodes||el.children).forEach(child=>{const visited=child.visit(this,context);visited&&!this._isInTranslatableSection&&(childNodes=childNodes.concat(visited))})}if(this._visitAttributesOf(el),this._depth--,this._inI18nNode=wasInI18nNode,this._inImplicitNode=wasInImplicitNode,this._mode===_VisitorMode.Merge){const translatedAttrs=this._translateAttributes(el);return new Element$1(el.name,translatedAttrs,childNodes,el.sourceSpan,el.startSourceSpan,el.endSourceSpan)}return null}visitAttribute(attribute,context){throw new Error("unreachable code")}_init(mode,interpolationConfig){this._mode=mode,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=createI18nMessageFactory(interpolationConfig)}_visitAttributesOf(el){const explicitAttrNameToValue={},implicitAttrNames=this._implicitAttrs[el.name]||[];el.attrs.filter(attr=>attr.name.startsWith("i18n-")).forEach(attr=>explicitAttrNameToValue[attr.name.slice("i18n-".length)]=attr.value),el.attrs.forEach(attr=>{attr.name in explicitAttrNameToValue?this._addMessage([attr],explicitAttrNameToValue[attr.name]):implicitAttrNames.some(name=>attr.name===name)&&this._addMessage([attr])})}_addMessage(ast,msgMeta){if(0==ast.length||1==ast.length&&ast[0]instanceof Attribute&&!ast[0].value)return null;const{meaning:meaning,description:description,id:id}=_parseMessageMeta(msgMeta),message=this._createI18nMessage(ast,meaning,description,id);return this._messages.push(message),message}_translateMessage(el,message){if(message&&this._mode===_VisitorMode.Merge){const nodes=this._translations.get(message);if(nodes)return nodes;this._reportError(el,`Translation unavailable for message id="${this._translations.digest(message)}"`)}return[]}_translateAttributes(el){const attributes=el.attrs,i18nParsedMessageMeta={};attributes.forEach(attr=>{attr.name.startsWith("i18n-")&&(i18nParsedMessageMeta[attr.name.slice("i18n-".length)]=_parseMessageMeta(attr.value))});const translatedAttributes=[];return attributes.forEach(attr=>{if("i18n"!==attr.name&&!attr.name.startsWith("i18n-"))if(attr.value&&""!=attr.value&&i18nParsedMessageMeta.hasOwnProperty(attr.name)){const{meaning:meaning,description:description,id:id}=i18nParsedMessageMeta[attr.name],message=this._createI18nMessage([attr],meaning,description,id),nodes=this._translations.get(message);if(nodes)if(0==nodes.length)translatedAttributes.push(new Attribute(attr.name,"",attr.sourceSpan));else if(nodes[0]instanceof Text$3){const value=nodes[0].value;translatedAttributes.push(new Attribute(attr.name,value,attr.sourceSpan))}else this._reportError(el,`Unexpected translation for attribute "${attr.name}" (id="${id||this._translations.digest(message)}")`);else this._reportError(el,`Translation unavailable for attribute "${attr.name}" (id="${id||this._translations.digest(message)}")`)}else translatedAttributes.push(attr)}),translatedAttributes}_mayBeAddBlockChildren(node){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(node)}_openTranslatableSection(node){this._isInTranslatableSection?this._reportError(node,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length}get _isInTranslatableSection(){return void 0!==this._msgCountAtSectionStart}_closeTranslatableSection(node,directChildren){if(!this._isInTranslatableSection)return void this._reportError(node,"Unexpected section end");const startIndex=this._msgCountAtSectionStart;if(1==directChildren.reduce((count,node)=>count+(node instanceof Comment?0:1),0))for(let i=this._messages.length-1;i>=startIndex;i--){const ast=this._messages[i].nodes;if(!(1==ast.length&&ast[0]instanceof Text$1)){this._messages.splice(i,1);break}}this._msgCountAtSectionStart=void 0}_reportError(node,msg){this._errors.push(new I18nError(node.sourceSpan,msg))}}function _parseMessageMeta(i18n){if(!i18n)return{meaning:"",description:"",id:""};const idIndex=i18n.indexOf("@@"),descIndex=i18n.indexOf("|"),[meaningAndDesc,id]=idIndex>-1?[i18n.slice(0,idIndex),i18n.slice(idIndex+2)]:[i18n,""],[meaning,description]=descIndex>-1?[meaningAndDesc.slice(0,descIndex),meaningAndDesc.slice(descIndex+1)]:["",meaningAndDesc];return{meaning:meaning,description:description,id:id.trim()}}const _TAG_DEFINITION=new class{constructor(){this.closedByParent=!1,this.contentType=TagContentType.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}requireExtraParent(currentParent){return!1}isClosedByChild(name){return!1}};function getXmlTagDefinition(tagName){return _TAG_DEFINITION}class XmlParser extends Parser{constructor(){super(getXmlTagDefinition)}parse(source,url,options){return super.parse(source,url,options)}}class Xliff extends Serializer{write(messages,locale){const visitor=new _WriteVisitor,transUnits=[];messages.forEach(message=>{let contextTags=[];message.sources.forEach(source=>{let contextGroupTag=new Tag("context-group",{purpose:"location"});contextGroupTag.children.push(new CR(10),new Tag("context",{"context-type":"sourcefile"},[new Text$2(source.filePath)]),new CR(10),new Tag("context",{"context-type":"linenumber"},[new Text$2(`${source.startLine}`)]),new CR(8)),contextTags.push(new CR(8),contextGroupTag)});const transUnit=new Tag("trans-unit",{id:message.id,datatype:"html"});transUnit.children.push(new CR(8),new Tag("source",{},visitor.serialize(message.nodes)),...contextTags),message.description&&transUnit.children.push(new CR(8),new Tag("note",{priority:"1",from:"description"},[new Text$2(message.description)])),message.meaning&&transUnit.children.push(new CR(8),new Tag("note",{priority:"1",from:"meaning"},[new Text$2(message.meaning)])),transUnit.children.push(new CR(6)),transUnits.push(new CR(6),transUnit)});const body=new Tag("body",{},[...transUnits,new CR(4)]),file=new Tag("file",{"source-language":locale||"en",datatype:"plaintext",original:"ng2.template"},[new CR(4),body,new CR(2)]),xliff=new Tag("xliff",{version:"1.2",xmlns:"urn:oasis:names:tc:xliff:document:1.2"},[new CR(2),file,new CR]);return serialize([new Declaration({version:"1.0",encoding:"UTF-8"}),new CR,xliff,new CR])}load(content,url){const xliffParser=new XliffParser,{locale:locale,msgIdToHtml:msgIdToHtml,errors:errors}=xliffParser.parse(content,url),i18nNodesByMsgId={},converter=new XmlToI18n;if(Object.keys(msgIdToHtml).forEach(msgId=>{const{i18nNodes:i18nNodes,errors:e}=converter.convert(msgIdToHtml[msgId],url);errors.push(...e),i18nNodesByMsgId[msgId]=i18nNodes}),errors.length)throw new Error(`xliff parse errors:\n${errors.join("\n")}`);return{locale:locale,i18nNodesByMsgId:i18nNodesByMsgId}}digest(message){return digest(message)}}class _WriteVisitor{visitText(text,context){return[new Text$2(text.value)]}visitContainer(container,context){const nodes=[];return container.children.forEach(node=>nodes.push(...node.visit(this))),nodes}visitIcu(icu,context){const nodes=[new Text$2(`{${icu.expressionPlaceholder}, ${icu.type}, `)];return Object.keys(icu.cases).forEach(c=>{nodes.push(new Text$2(`${c} {`),...icu.cases[c].visit(this),new Text$2("} "))}),nodes.push(new Text$2("}")),nodes}visitTagPlaceholder(ph,context){const ctype=function getCtypeForTag(tag){switch(tag.toLowerCase()){case"br":return"lb";case"img":return"image";default:return`x-${tag}`}}(ph.tag);if(ph.isVoid)return[new Tag("x",{id:ph.startName,ctype:ctype,"equiv-text":`<${ph.tag}/>`})];const startTagPh=new Tag("x",{id:ph.startName,ctype:ctype,"equiv-text":`<${ph.tag}>`}),closeTagPh=new Tag("x",{id:ph.closeName,ctype:ctype,"equiv-text":`</${ph.tag}>`});return[startTagPh,...this.serialize(ph.children),closeTagPh]}visitPlaceholder(ph,context){return[new Tag("x",{id:ph.name,"equiv-text":`{{${ph.value}}}`})]}visitIcuPlaceholder(ph,context){const equivText=`{${ph.value.expression}, ${ph.value.type}, ${Object.keys(ph.value.cases).map(value=>value+" {...}").join(" ")}}`;return[new Tag("x",{id:ph.name,"equiv-text":equivText})]}serialize(nodes){return[].concat(...nodes.map(node=>node.visit(this)))}}class XliffParser{constructor(){this._locale=null}parse(xliff,url){this._unitMlString=null,this._msgIdToHtml={};const xml=(new XmlParser).parse(xliff,url);return this._errors=xml.errors,visitAll$1(this,xml.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(element,context){switch(element.name){case"trans-unit":this._unitMlString=null;const idAttr=element.attrs.find(attr=>"id"===attr.name);if(idAttr){const id=idAttr.value;this._msgIdToHtml.hasOwnProperty(id)?this._addError(element,`Duplicated translations for msg ${id}`):(visitAll$1(this,element.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[id]=this._unitMlString:this._addError(element,`Message ${id} misses a translation`))}else this._addError(element,'<trans-unit> misses the "id" attribute');break;case"source":case"seg-source":case"alt-trans":break;case"target":const innerTextStart=element.startSourceSpan.end.offset,innerTextEnd=element.endSourceSpan.start.offset,innerText=element.startSourceSpan.start.file.content.slice(innerTextStart,innerTextEnd);this._unitMlString=innerText;break;case"file":const localeAttr=element.attrs.find(attr=>"target-language"===attr.name);localeAttr&&(this._locale=localeAttr.value),visitAll$1(this,element.children,null);break;default:visitAll$1(this,element.children,null)}}visitAttribute(attribute,context){}visitText(text,context){}visitComment(comment,context){}visitExpansion(expansion,context){}visitExpansionCase(expansionCase,context){}_addError(node,message){this._errors.push(new I18nError(node.sourceSpan,message))}}class XmlToI18n{convert(message,url){const xmlIcu=(new XmlParser).parse(message,url,{tokenizeExpansionForms:!0});return this._errors=xmlIcu.errors,{i18nNodes:this._errors.length>0||0==xmlIcu.rootNodes.length?[]:[].concat(...visitAll$1(this,xmlIcu.rootNodes)),errors:this._errors}}visitText(text,context){return new Text$1(text.value,text.sourceSpan)}visitElement(el,context){if("x"===el.name){const nameAttr=el.attrs.find(attr=>"id"===attr.name);return nameAttr?new Placeholder("",nameAttr.value,el.sourceSpan):(this._addError(el,'<x> misses the "id" attribute'),null)}return"mrk"===el.name?[].concat(...visitAll$1(this,el.children)):(this._addError(el,"Unexpected tag"),null)}visitExpansion(icu,context){const caseMap={};return visitAll$1(this,icu.cases).forEach(c=>{caseMap[c.value]=new Container(c.nodes,icu.sourceSpan)}),new Icu$1(icu.switchValue,icu.type,caseMap,icu.sourceSpan)}visitExpansionCase(icuCase,context){return{value:icuCase.value,nodes:visitAll$1(this,icuCase.expression)}}visitComment(comment,context){}visitAttribute(attribute,context){}_addError(node,message){this._errors.push(new I18nError(node.sourceSpan,message))}}class Xliff2 extends Serializer{write(messages,locale){const visitor=new _WriteVisitor$1,units=[];messages.forEach(message=>{const unit=new Tag("unit",{id:message.id}),notes=new Tag("notes");(message.description||message.meaning)&&(message.description&&notes.children.push(new CR(8),new Tag("note",{category:"description"},[new Text$2(message.description)])),message.meaning&&notes.children.push(new CR(8),new Tag("note",{category:"meaning"},[new Text$2(message.meaning)]))),message.sources.forEach(source=>{notes.children.push(new CR(8),new Tag("note",{category:"location"},[new Text$2(`${source.filePath}:${source.startLine}${source.endLine!==source.startLine?","+source.endLine:""}`)]))}),notes.children.push(new CR(6)),unit.children.push(new CR(6),notes);const segment=new Tag("segment");segment.children.push(new CR(8),new Tag("source",{},visitor.serialize(message.nodes)),new CR(6)),unit.children.push(new CR(6),segment,new CR(4)),units.push(new CR(4),unit)});const file=new Tag("file",{original:"ng.template",id:"ngi18n"},[...units,new CR(2)]),xliff=new Tag("xliff",{version:"2.0",xmlns:"urn:oasis:names:tc:xliff:document:2.0",srcLang:locale||"en"},[new CR(2),file,new CR]);return serialize([new Declaration({version:"1.0",encoding:"UTF-8"}),new CR,xliff,new CR])}load(content,url){const xliff2Parser=new Xliff2Parser,{locale:locale,msgIdToHtml:msgIdToHtml,errors:errors}=xliff2Parser.parse(content,url),i18nNodesByMsgId={},converter=new XmlToI18n$1;if(Object.keys(msgIdToHtml).forEach(msgId=>{const{i18nNodes:i18nNodes,errors:e}=converter.convert(msgIdToHtml[msgId],url);errors.push(...e),i18nNodesByMsgId[msgId]=i18nNodes}),errors.length)throw new Error(`xliff2 parse errors:\n${errors.join("\n")}`);return{locale:locale,i18nNodesByMsgId:i18nNodesByMsgId}}digest(message){return decimalDigest(message)}}class _WriteVisitor$1{visitText(text,context){return[new Text$2(text.value)]}visitContainer(container,context){const nodes=[];return container.children.forEach(node=>nodes.push(...node.visit(this))),nodes}visitIcu(icu,context){const nodes=[new Text$2(`{${icu.expressionPlaceholder}, ${icu.type}, `)];return Object.keys(icu.cases).forEach(c=>{nodes.push(new Text$2(`${c} {`),...icu.cases[c].visit(this),new Text$2("} "))}),nodes.push(new Text$2("}")),nodes}visitTagPlaceholder(ph,context){const type=function getTypeForTag(tag){switch(tag.toLowerCase()){case"br":case"b":case"i":case"u":return"fmt";case"img":return"image";case"a":return"link";default:return"other"}}(ph.tag);if(ph.isVoid){return[new Tag("ph",{id:(this._nextPlaceholderId++).toString(),equiv:ph.startName,type:type,disp:`<${ph.tag}/>`})]}const tagPc=new Tag("pc",{id:(this._nextPlaceholderId++).toString(),equivStart:ph.startName,equivEnd:ph.closeName,type:type,dispStart:`<${ph.tag}>`,dispEnd:`</${ph.tag}>`}),nodes=[].concat(...ph.children.map(node=>node.visit(this)));return nodes.length?nodes.forEach(node=>tagPc.children.push(node)):tagPc.children.push(new Text$2("")),[tagPc]}visitPlaceholder(ph,context){const idStr=(this._nextPlaceholderId++).toString();return[new Tag("ph",{id:idStr,equiv:ph.name,disp:`{{${ph.value}}}`})]}visitIcuPlaceholder(ph,context){const cases=Object.keys(ph.value.cases).map(value=>value+" {...}").join(" "),idStr=(this._nextPlaceholderId++).toString();return[new Tag("ph",{id:idStr,equiv:ph.name,disp:`{${ph.value.expression}, ${ph.value.type}, ${cases}}`})]}serialize(nodes){return this._nextPlaceholderId=0,[].concat(...nodes.map(node=>node.visit(this)))}}class Xliff2Parser{constructor(){this._locale=null}parse(xliff,url){this._unitMlString=null,this._msgIdToHtml={};const xml=(new XmlParser).parse(xliff,url);return this._errors=xml.errors,visitAll$1(this,xml.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(element,context){switch(element.name){case"unit":this._unitMlString=null;const idAttr=element.attrs.find(attr=>"id"===attr.name);if(idAttr){const id=idAttr.value;this._msgIdToHtml.hasOwnProperty(id)?this._addError(element,`Duplicated translations for msg ${id}`):(visitAll$1(this,element.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[id]=this._unitMlString:this._addError(element,`Message ${id} misses a translation`))}else this._addError(element,'<unit> misses the "id" attribute');break;case"source":break;case"target":const innerTextStart=element.startSourceSpan.end.offset,innerTextEnd=element.endSourceSpan.start.offset,innerText=element.startSourceSpan.start.file.content.slice(innerTextStart,innerTextEnd);this._unitMlString=innerText;break;case"xliff":const localeAttr=element.attrs.find(attr=>"trgLang"===attr.name);localeAttr&&(this._locale=localeAttr.value);const versionAttr=element.attrs.find(attr=>"version"===attr.name);if(versionAttr){const version=versionAttr.value;"2.0"!==version?this._addError(element,`The XLIFF file version ${version} is not compatible with XLIFF 2.0 serializer`):visitAll$1(this,element.children,null)}break;default:visitAll$1(this,element.children,null)}}visitAttribute(attribute,context){}visitText(text,context){}visitComment(comment,context){}visitExpansion(expansion,context){}visitExpansionCase(expansionCase,context){}_addError(node,message){this._errors.push(new I18nError(node.sourceSpan,message))}}class XmlToI18n$1{convert(message,url){const xmlIcu=(new XmlParser).parse(message,url,{tokenizeExpansionForms:!0});return this._errors=xmlIcu.errors,{i18nNodes:this._errors.length>0||0==xmlIcu.rootNodes.length?[]:[].concat(...visitAll$1(this,xmlIcu.rootNodes)),errors:this._errors}}visitText(text,context){return new Text$1(text.value,text.sourceSpan)}visitElement(el,context){switch(el.name){case"ph":const nameAttr=el.attrs.find(attr=>"equiv"===attr.name);if(nameAttr)return[new Placeholder("",nameAttr.value,el.sourceSpan)];this._addError(el,'<ph> misses the "equiv" attribute');break;case"pc":const startAttr=el.attrs.find(attr=>"equivStart"===attr.name),endAttr=el.attrs.find(attr=>"equivEnd"===attr.name);if(startAttr){if(endAttr){const startId=startAttr.value,endId=endAttr.value;return[].concat(new Placeholder("",startId,el.sourceSpan),...el.children.map(node=>node.visit(this,null)),new Placeholder("",endId,el.sourceSpan))}this._addError(el,'<ph> misses the "equivEnd" attribute')}else this._addError(el,'<ph> misses the "equivStart" attribute');break;case"mrk":return[].concat(...visitAll$1(this,el.children));default:this._addError(el,"Unexpected tag")}return null}visitExpansion(icu,context){const caseMap={};return visitAll$1(this,icu.cases).forEach(c=>{caseMap[c.value]=new Container(c.nodes,icu.sourceSpan)}),new Icu$1(icu.switchValue,icu.type,caseMap,icu.sourceSpan)}visitExpansionCase(icuCase,context){return{value:icuCase.value,nodes:[].concat(...visitAll$1(this,icuCase.expression))}}visitComment(comment,context){}visitAttribute(attribute,context){}_addError(node,message){this._errors.push(new I18nError(node.sourceSpan,message))}}class Xtb extends Serializer{write(messages,locale){throw new Error("Unsupported")}load(content,url){const xtbParser=new XtbParser,{locale:locale,msgIdToHtml:msgIdToHtml,errors:errors}=xtbParser.parse(content,url),i18nNodesByMsgId={},converter=new XmlToI18n$2;if(Object.keys(msgIdToHtml).forEach(msgId=>{!function createLazyProperty(messages,id,valueFn){Object.defineProperty(messages,id,{configurable:!0,enumerable:!0,get:function(){const value=valueFn();return Object.defineProperty(messages,id,{enumerable:!0,value:value}),value},set:_=>{throw new Error("Could not overwrite an XTB translation")}})}(i18nNodesByMsgId,msgId,(function(){const{i18nNodes:i18nNodes,errors:errors}=converter.convert(msgIdToHtml[msgId],url);if(errors.length)throw new Error(`xtb parse errors:\n${errors.join("\n")}`);return i18nNodes}))}),errors.length)throw new Error(`xtb parse errors:\n${errors.join("\n")}`);return{locale:locale,i18nNodesByMsgId:i18nNodesByMsgId}}digest(message){return digest$1(message)}createNameMapper(message){return new SimplePlaceholderMapper(message,toPublicName)}}class XtbParser{constructor(){this._locale=null}parse(xtb,url){this._bundleDepth=0,this._msgIdToHtml={};const xml=(new XmlParser).parse(xtb,url);return this._errors=xml.errors,visitAll$1(this,xml.rootNodes),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(element,context){switch(element.name){case"translationbundle":this._bundleDepth++,this._bundleDepth>1&&this._addError(element,"<translationbundle> elements can not be nested");const langAttr=element.attrs.find(attr=>"lang"===attr.name);langAttr&&(this._locale=langAttr.value),visitAll$1(this,element.children,null),this._bundleDepth--;break;case"translation":const idAttr=element.attrs.find(attr=>"id"===attr.name);if(idAttr){const id=idAttr.value;if(this._msgIdToHtml.hasOwnProperty(id))this._addError(element,`Duplicated translations for msg ${id}`);else{const innerTextStart=element.startSourceSpan.end.offset,innerTextEnd=element.endSourceSpan.start.offset,innerText=element.startSourceSpan.start.file.content.slice(innerTextStart,innerTextEnd);this._msgIdToHtml[id]=innerText}}else this._addError(element,'<translation> misses the "id" attribute');break;default:this._addError(element,"Unexpected tag")}}visitAttribute(attribute,context){}visitText(text,context){}visitComment(comment,context){}visitExpansion(expansion,context){}visitExpansionCase(expansionCase,context){}_addError(node,message){this._errors.push(new I18nError(node.sourceSpan,message))}}class XmlToI18n$2{convert(message,url){const xmlIcu=(new XmlParser).parse(message,url,{tokenizeExpansionForms:!0});return this._errors=xmlIcu.errors,{i18nNodes:this._errors.length>0||0==xmlIcu.rootNodes.length?[]:visitAll$1(this,xmlIcu.rootNodes),errors:this._errors}}visitText(text,context){return new Text$1(text.value,text.sourceSpan)}visitExpansion(icu,context){const caseMap={};return visitAll$1(this,icu.cases).forEach(c=>{caseMap[c.value]=new Container(c.nodes,icu.sourceSpan)}),new Icu$1(icu.switchValue,icu.type,caseMap,icu.sourceSpan)}visitExpansionCase(icuCase,context){return{value:icuCase.value,nodes:visitAll$1(this,icuCase.expression)}}visitElement(el,context){if("ph"===el.name){const nameAttr=el.attrs.find(attr=>"name"===attr.name);if(nameAttr)return new Placeholder("",nameAttr.value,el.sourceSpan);this._addError(el,'<ph> misses the "name" attribute')}else this._addError(el,"Unexpected tag");return null}visitComment(comment,context){}visitAttribute(attribute,context){}_addError(node,message){this._errors.push(new I18nError(node.sourceSpan,message))}}class TranslationBundle{constructor(_i18nNodesByMsgId={},locale,digest,mapperFactory,missingTranslationStrategy=MissingTranslationStrategy.Warning,console){this._i18nNodesByMsgId=_i18nNodesByMsgId,this.digest=digest,this.mapperFactory=mapperFactory,this._i18nToHtml=new I18nToHtmlVisitor(_i18nNodesByMsgId,locale,digest,mapperFactory,missingTranslationStrategy,console)}static load(content,url,serializer,missingTranslationStrategy,console){const{locale:locale,i18nNodesByMsgId:i18nNodesByMsgId}=serializer.load(content,url);return new TranslationBundle(i18nNodesByMsgId,locale,m=>serializer.digest(m),m=>serializer.createNameMapper(m),missingTranslationStrategy,console)}get(srcMsg){const html=this._i18nToHtml.convert(srcMsg);if(html.errors.length)throw new Error(html.errors.join("\n"));return html.nodes}has(srcMsg){return this.digest(srcMsg)in this._i18nNodesByMsgId}}class I18nToHtmlVisitor{constructor(_i18nNodesByMsgId={},_locale,_digest,_mapperFactory,_missingTranslationStrategy,_console){this._i18nNodesByMsgId=_i18nNodesByMsgId,this._locale=_locale,this._digest=_digest,this._mapperFactory=_mapperFactory,this._missingTranslationStrategy=_missingTranslationStrategy,this._console=_console,this._contextStack=[],this._errors=[]}convert(srcMsg){this._contextStack.length=0,this._errors.length=0;const text=this._convertToText(srcMsg),url=srcMsg.nodes[0].sourceSpan.start.file.url,html=(new HtmlParser).parse(text,url,{tokenizeExpansionForms:!0});return{nodes:html.rootNodes,errors:[...this._errors,...html.errors]}}visitText(text,context){return escapeXml(text.value)}visitContainer(container,context){return container.children.map(n=>n.visit(this)).join("")}visitIcu(icu,context){const cases=Object.keys(icu.cases).map(k=>`${k} {${icu.cases[k].visit(this)}}`);return`{${this._srcMsg.placeholders.hasOwnProperty(icu.expression)?this._srcMsg.placeholders[icu.expression]:icu.expression}, ${icu.type}, ${cases.join(" ")}}`}visitPlaceholder(ph,context){const phName=this._mapper(ph.name);return this._srcMsg.placeholders.hasOwnProperty(phName)?this._srcMsg.placeholders[phName]:this._srcMsg.placeholderToMessage.hasOwnProperty(phName)?this._convertToText(this._srcMsg.placeholderToMessage[phName]):(this._addError(ph,`Unknown placeholder "${ph.name}"`),"")}visitTagPlaceholder(ph,context){const tag=`${ph.tag}`,attrs=Object.keys(ph.attrs).map(name=>`${name}="${ph.attrs[name]}"`).join(" ");return ph.isVoid?`<${tag} ${attrs}/>`:`<${tag} ${attrs}>${ph.children.map(c=>c.visit(this)).join("")}</${tag}>`}visitIcuPlaceholder(ph,context){return this._convertToText(this._srcMsg.placeholderToMessage[ph.name])}_convertToText(srcMsg){const id=this._digest(srcMsg),mapper=this._mapperFactory?this._mapperFactory(srcMsg):null;let nodes;if(this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=srcMsg,this._i18nNodesByMsgId.hasOwnProperty(id))nodes=this._i18nNodesByMsgId[id],this._mapper=name=>mapper?mapper.toInternalName(name):name;else{if(this._missingTranslationStrategy===MissingTranslationStrategy.Error){const ctx=this._locale?` for locale "${this._locale}"`:"";this._addError(srcMsg.nodes[0],`Missing translation for message "${id}"${ctx}`)}else if(this._console&&this._missingTranslationStrategy===MissingTranslationStrategy.Warning){const ctx=this._locale?` for locale "${this._locale}"`:"";this._console.warn(`Missing translation for message "${id}"${ctx}`)}nodes=srcMsg.nodes,this._mapper=name=>name}const text=nodes.map(node=>node.visit(this)).join(""),context=this._contextStack.pop();return this._srcMsg=context.msg,this._mapper=context.mapper,text}_addError(el,msg){this._errors.push(new I18nError(el.sourceSpan,msg))}}class I18NHtmlParser{constructor(_htmlParser,translations,translationsFormat,missingTranslation=MissingTranslationStrategy.Warning,console){if(this._htmlParser=_htmlParser,translations){const serializer=function createSerializer(format){switch(format=(format||"xlf").toLowerCase()){case"xmb":return new Xmb;case"xtb":return new Xtb;case"xliff2":case"xlf2":return new Xliff2;case"xliff":case"xlf":default:return new Xliff}}(translationsFormat);this._translationBundle=TranslationBundle.load(translations,"i18n",serializer,missingTranslation,console)}else this._translationBundle=new TranslationBundle({},null,digest,void 0,missingTranslation,console)}parse(source,url,options={}){const interpolationConfig=options.interpolationConfig||DEFAULT_INTERPOLATION_CONFIG,parseResult=this._htmlParser.parse(source,url,Object.assign({interpolationConfig:interpolationConfig},options));return parseResult.errors.length?new ParseTreeResult(parseResult.rootNodes,parseResult.errors):function mergeTranslations(nodes,translations,interpolationConfig,implicitTags,implicitAttrs){return new _Visitor$2(implicitTags,implicitAttrs).merge(nodes,translations,interpolationConfig)}(parseResult.rootNodes,this._translationBundle,interpolationConfig,[],{})}}function convertValueToOutputAst(ctx,value,type=null){return visitValue(value,new _ValueOutputAstTransformer(ctx),type)}class _ValueOutputAstTransformer{constructor(ctx){this.ctx=ctx}visitArray(arr,type){return literalArr(arr.map(value=>visitValue(value,this,null)),type)}visitStringMap(map,type){const entries=[],quotedSet=new Set(map&&map.$quoted$);return Object.keys(map).forEach(key=>{entries.push(new LiteralMapEntry(key,visitValue(map[key],this,null),quotedSet.has(key)))}),new LiteralMapExpr(entries,type)}visitPrimitive(value,type){return literal(value,type)}visitOther(value,type){return value instanceof Expression?value:this.ctx.importExpr(value)}}function ngfactoryFilePath(filePath,forceSourceFile=!1){const urlWithSuffix=splitTypescriptSuffix(filePath,forceSourceFile);return`${urlWithSuffix[0]}.ngfactory${normalizeGenFileSuffix(urlWithSuffix[1])}`}function splitTypescriptSuffix(path,forceSourceFile=!1){if(path.endsWith(".d.ts"))return[path.slice(0,-5),forceSourceFile?".ts":".d.ts"];const lastDot=path.lastIndexOf(".");return-1!==lastDot?[path.substring(0,lastDot),path.substring(lastDot)]:[path,""]}function normalizeGenFileSuffix(srcFileSuffix){return".tsx"===srcFileSuffix?".ts":srcFileSuffix}var LifecycleHooks;!function(LifecycleHooks){LifecycleHooks[LifecycleHooks.OnInit=0]="OnInit",LifecycleHooks[LifecycleHooks.OnDestroy=1]="OnDestroy",LifecycleHooks[LifecycleHooks.DoCheck=2]="DoCheck",LifecycleHooks[LifecycleHooks.OnChanges=3]="OnChanges",LifecycleHooks[LifecycleHooks.AfterContentInit=4]="AfterContentInit",LifecycleHooks[LifecycleHooks.AfterContentChecked=5]="AfterContentChecked",LifecycleHooks[LifecycleHooks.AfterViewInit=6]="AfterViewInit",LifecycleHooks[LifecycleHooks.AfterViewChecked=7]="AfterViewChecked"}(LifecycleHooks||(LifecycleHooks={}));const LIFECYCLE_HOOKS_VALUES=[LifecycleHooks.OnInit,LifecycleHooks.OnDestroy,LifecycleHooks.DoCheck,LifecycleHooks.OnChanges,LifecycleHooks.AfterContentInit,LifecycleHooks.AfterContentChecked,LifecycleHooks.AfterViewInit,LifecycleHooks.AfterViewChecked];function hasLifecycleHook(reflector,hook,token){return reflector.hasLifecycleHook(token,function getHookName(hook){switch(hook){case LifecycleHooks.OnInit:return"ngOnInit";case LifecycleHooks.OnDestroy:return"ngOnDestroy";case LifecycleHooks.DoCheck:return"ngDoCheck";case LifecycleHooks.OnChanges:return"ngOnChanges";case LifecycleHooks.AfterContentInit:return"ngAfterContentInit";case LifecycleHooks.AfterContentChecked:return"ngAfterContentChecked";case LifecycleHooks.AfterViewInit:return"ngAfterViewInit";case LifecycleHooks.AfterViewChecked:return"ngAfterViewChecked";default:throw new Error(`unexpected ${hook}`)}}(hook))}class CompileMetadataResolver{constructor(_config,_htmlParser,_ngModuleResolver,_directiveResolver,_pipeResolver,_summaryResolver,_schemaRegistry,_directiveNormalizer,_console,_staticSymbolCache,_reflector,_errorCollector){this._config=_config,this._htmlParser=_htmlParser,this._ngModuleResolver=_ngModuleResolver,this._directiveResolver=_directiveResolver,this._pipeResolver=_pipeResolver,this._summaryResolver=_summaryResolver,this._schemaRegistry=_schemaRegistry,this._directiveNormalizer=_directiveNormalizer,this._console=_console,this._staticSymbolCache=_staticSymbolCache,this._reflector=_reflector,this._errorCollector=_errorCollector,this._nonNormalizedDirectiveCache=new Map,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map,this._shallowModuleCache=new Map}getReflector(){return this._reflector}clearCacheFor(type){const dirMeta=this._directiveCache.get(type);this._directiveCache.delete(type),this._nonNormalizedDirectiveCache.delete(type),this._summaryCache.delete(type),this._pipeCache.delete(type),this._ngModuleOfTypes.delete(type),this._ngModuleCache.clear(),dirMeta&&this._directiveNormalizer.clearCacheFor(dirMeta)}clearCache(){this._directiveCache.clear(),this._nonNormalizedDirectiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()}_createProxyClass(baseType,name){let delegate=null;const proxyClass=function(){if(!delegate)throw new Error(`Illegal state: Class ${name} for type ${stringify(baseType)} is not compiled yet!`);return delegate.apply(this,arguments)};return proxyClass.setDelegate=d=>{delegate=d,proxyClass.prototype=d.prototype},proxyClass.overriddenName=name,proxyClass}getGeneratedClass(dirType,name){return dirType instanceof StaticSymbol?this._staticSymbolCache.get(ngfactoryFilePath(dirType.filePath),name):this._createProxyClass(dirType,name)}getComponentViewClass(dirType){return this.getGeneratedClass(dirType,viewClassName(dirType,0))}getHostComponentViewClass(dirType){return this.getGeneratedClass(dirType,function hostViewClassName(compType){return`HostView_${identifierName({reference:compType})}`}(dirType))}getHostComponentType(dirType){const name=`${identifierName({reference:dirType})}_Host`;return dirType instanceof StaticSymbol?this._staticSymbolCache.get(dirType.filePath,name):this._createProxyClass(dirType,name)}getRendererType(dirType){return dirType instanceof StaticSymbol?this._staticSymbolCache.get(ngfactoryFilePath(dirType.filePath),rendererTypeName(dirType)):{}}getComponentFactory(selector,dirType,inputs,outputs){if(dirType instanceof StaticSymbol)return this._staticSymbolCache.get(ngfactoryFilePath(dirType.filePath),componentFactoryName(dirType));{const hostView=this.getHostComponentViewClass(dirType);return this._reflector.resolveExternalReference(Identifiers.createComponentFactory)(selector,dirType,hostView,inputs,outputs,[])}}initComponentFactory(factory,ngContentSelectors){factory instanceof StaticSymbol||factory.ngContentSelectors.push(...ngContentSelectors)}_loadSummary(type,kind){let typeSummary=this._summaryCache.get(type);if(!typeSummary){const summary=this._summaryResolver.resolveSummary(type);typeSummary=summary?summary.type:null,this._summaryCache.set(type,typeSummary||null)}return typeSummary&&typeSummary.summaryKind===kind?typeSummary:null}getHostComponentMetadata(compMeta,hostViewType){const hostType=this.getHostComponentType(compMeta.type.reference);hostViewType||(hostViewType=this.getHostComponentViewClass(hostType));const template=CssSelector.parse(compMeta.selector)[0].getMatchingElementTemplate(),htmlAst=this._htmlParser.parse(template,"");return CompileDirectiveMetadata.create({isHost:!0,type:{reference:hostType,diDeps:[],lifecycleHooks:[]},template:new CompileTemplateMetadata({encapsulation:ViewEncapsulation.None,template:template,templateUrl:"",htmlAst:htmlAst,styles:[],styleUrls:[],ngContentSelectors:[],animations:[],isInline:!0,externalStylesheets:[],interpolation:null,preserveWhitespaces:!1}),exportAs:null,changeDetection:ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],guards:{},viewQueries:[],componentViewType:hostViewType,rendererType:{id:"__Host__",encapsulation:ViewEncapsulation.None,styles:[],data:{}},entryComponents:[],componentFactory:null})}loadDirectiveMetadata(ngModuleType,directiveType,isSync){if(this._directiveCache.has(directiveType))return null;directiveType=resolveForwardRef(directiveType);const{annotation:annotation,metadata:metadata}=this.getNonNormalizedDirectiveMetadata(directiveType),createDirectiveMetadata=templateMetadata=>{const normalizedDirMeta=new CompileDirectiveMetadata({isHost:!1,type:metadata.type,isComponent:metadata.isComponent,selector:metadata.selector,exportAs:metadata.exportAs,changeDetection:metadata.changeDetection,inputs:metadata.inputs,outputs:metadata.outputs,hostListeners:metadata.hostListeners,hostProperties:metadata.hostProperties,hostAttributes:metadata.hostAttributes,providers:metadata.providers,viewProviders:metadata.viewProviders,queries:metadata.queries,guards:metadata.guards,viewQueries:metadata.viewQueries,entryComponents:metadata.entryComponents,componentViewType:metadata.componentViewType,rendererType:metadata.rendererType,componentFactory:metadata.componentFactory,template:templateMetadata});return templateMetadata&&this.initComponentFactory(metadata.componentFactory,templateMetadata.ngContentSelectors),this._directiveCache.set(directiveType,normalizedDirMeta),this._summaryCache.set(directiveType,normalizedDirMeta.toSummary()),null};if(metadata.isComponent){const template=metadata.template,templateMeta=this._directiveNormalizer.normalizeTemplate({ngModuleType:ngModuleType,componentType:directiveType,moduleUrl:this._reflector.componentModuleUrl(directiveType,annotation),encapsulation:template.encapsulation,template:template.template,templateUrl:template.templateUrl,styles:template.styles,styleUrls:template.styleUrls,animations:template.animations,interpolation:template.interpolation,preserveWhitespaces:template.preserveWhitespaces});return isPromise(templateMeta)&&isSync?(this._reportError(function componentStillLoadingError(compType){const error=Error(`Can't compile synchronously as ${stringify(compType)} is still being loaded!`);return error.ngComponentType=compType,error}(directiveType),directiveType),null):SyncAsync_then(templateMeta,createDirectiveMetadata)}return createDirectiveMetadata(null),null}getNonNormalizedDirectiveMetadata(directiveType){if(!(directiveType=resolveForwardRef(directiveType)))return null;let cacheEntry=this._nonNormalizedDirectiveCache.get(directiveType);if(cacheEntry)return cacheEntry;const dirMeta=this._directiveResolver.resolve(directiveType,!1);if(!dirMeta)return null;let nonNormalizedTemplateMetadata=void 0;if(createComponent.isTypeOf(dirMeta)){const compMeta=dirMeta;assertArrayOfStrings("styles",compMeta.styles),assertArrayOfStrings("styleUrls",compMeta.styleUrls),assertInterpolationSymbols("interpolation",compMeta.interpolation);const animations=compMeta.animations;nonNormalizedTemplateMetadata=new CompileTemplateMetadata({encapsulation:noUndefined(compMeta.encapsulation),template:noUndefined(compMeta.template),templateUrl:noUndefined(compMeta.templateUrl),htmlAst:null,styles:compMeta.styles||[],styleUrls:compMeta.styleUrls||[],animations:animations||[],interpolation:noUndefined(compMeta.interpolation),isInline:!!compMeta.template,externalStylesheets:[],ngContentSelectors:[],preserveWhitespaces:noUndefined(dirMeta.preserveWhitespaces)})}let changeDetectionStrategy=null,viewProviders=[],entryComponentMetadata=[],selector=dirMeta.selector;if(createComponent.isTypeOf(dirMeta)){const compMeta=dirMeta;changeDetectionStrategy=compMeta.changeDetection,compMeta.viewProviders&&(viewProviders=this._getProvidersMetadata(compMeta.viewProviders,entryComponentMetadata,`viewProviders for "${stringifyType(directiveType)}"`,[],directiveType)),compMeta.entryComponents&&(entryComponentMetadata=flattenAndDedupeArray(compMeta.entryComponents).map(type=>this._getEntryComponentMetadata(type)).concat(entryComponentMetadata)),selector||(selector=this._schemaRegistry.getDefaultComponentElementName())}else selector||(selector=null);let providers=[];null!=dirMeta.providers&&(providers=this._getProvidersMetadata(dirMeta.providers,entryComponentMetadata,`providers for "${stringifyType(directiveType)}"`,[],directiveType));let queries=[],viewQueries=[];null!=dirMeta.queries&&(queries=this._getQueriesMetadata(dirMeta.queries,!1,directiveType),viewQueries=this._getQueriesMetadata(dirMeta.queries,!0,directiveType));const metadata=CompileDirectiveMetadata.create({isHost:!1,selector:selector,exportAs:noUndefined(dirMeta.exportAs),isComponent:!!nonNormalizedTemplateMetadata,type:this._getTypeMetadata(directiveType),template:nonNormalizedTemplateMetadata,changeDetection:changeDetectionStrategy,inputs:dirMeta.inputs||[],outputs:dirMeta.outputs||[],host:dirMeta.host||{},providers:providers||[],viewProviders:viewProviders||[],queries:queries||[],guards:dirMeta.guards||{},viewQueries:viewQueries||[],entryComponents:entryComponentMetadata,componentViewType:nonNormalizedTemplateMetadata?this.getComponentViewClass(directiveType):null,rendererType:nonNormalizedTemplateMetadata?this.getRendererType(directiveType):null,componentFactory:null});return nonNormalizedTemplateMetadata&&(metadata.componentFactory=this.getComponentFactory(selector,directiveType,metadata.inputs,metadata.outputs)),cacheEntry={metadata:metadata,annotation:dirMeta},this._nonNormalizedDirectiveCache.set(directiveType,cacheEntry),cacheEntry}getDirectiveMetadata(directiveType){const dirMeta=this._directiveCache.get(directiveType);return dirMeta||this._reportError(syntaxError(`Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive ${stringifyType(directiveType)}.`),directiveType),dirMeta}getDirectiveSummary(dirType){const dirSummary=this._loadSummary(dirType,CompileSummaryKind.Directive);return dirSummary||this._reportError(syntaxError(`Illegal state: Could not load the summary for directive ${stringifyType(dirType)}.`),dirType),dirSummary}isDirective(type){return!!this._loadSummary(type,CompileSummaryKind.Directive)||this._directiveResolver.isDirective(type)}isAbstractDirective(type){const summary=this._loadSummary(type,CompileSummaryKind.Directive);if(summary&&!summary.isComponent)return!summary.selector;const meta=this._directiveResolver.resolve(type,!1);return!(!meta||createComponent.isTypeOf(meta))&&!meta.selector}isPipe(type){return!!this._loadSummary(type,CompileSummaryKind.Pipe)||this._pipeResolver.isPipe(type)}isNgModule(type){return!!this._loadSummary(type,CompileSummaryKind.NgModule)||this._ngModuleResolver.isNgModule(type)}getNgModuleSummary(moduleType,alreadyCollecting=null){let moduleSummary=this._loadSummary(moduleType,CompileSummaryKind.NgModule);if(!moduleSummary){const moduleMeta=this.getNgModuleMetadata(moduleType,!1,alreadyCollecting);moduleSummary=moduleMeta?moduleMeta.toSummary():null,moduleSummary&&this._summaryCache.set(moduleType,moduleSummary)}return moduleSummary}loadNgModuleDirectiveAndPipeMetadata(moduleType,isSync,throwIfNotFound=!0){const ngModule=this.getNgModuleMetadata(moduleType,throwIfNotFound),loading=[];return ngModule&&(ngModule.declaredDirectives.forEach(id=>{const promise=this.loadDirectiveMetadata(moduleType,id.reference,isSync);promise&&loading.push(promise)}),ngModule.declaredPipes.forEach(id=>this._loadPipeMetadata(id.reference))),Promise.all(loading)}getShallowModuleMetadata(moduleType){let compileMeta=this._shallowModuleCache.get(moduleType);if(compileMeta)return compileMeta;const ngModuleMeta=findLast(this._reflector.shallowAnnotations(moduleType),createNgModule.isTypeOf);return compileMeta={type:this._getTypeMetadata(moduleType),rawExports:ngModuleMeta.exports,rawImports:ngModuleMeta.imports,rawProviders:ngModuleMeta.providers},this._shallowModuleCache.set(moduleType,compileMeta),compileMeta}getNgModuleMetadata(moduleType,throwIfNotFound=!0,alreadyCollecting=null){moduleType=resolveForwardRef(moduleType);let compileMeta=this._ngModuleCache.get(moduleType);if(compileMeta)return compileMeta;const meta=this._ngModuleResolver.resolve(moduleType,throwIfNotFound);if(!meta)return null;const declaredDirectives=[],exportedNonModuleIdentifiers=[],declaredPipes=[],importedModules=[],exportedModules=[],providers=[],entryComponents=[],bootstrapComponents=[],schemas=[];meta.imports&&flattenAndDedupeArray(meta.imports).forEach(importedType=>{let importedModuleType=void 0;if(isValidType(importedType))importedModuleType=importedType;else if(importedType&&importedType.ngModule){const moduleWithProviders=importedType;importedModuleType=moduleWithProviders.ngModule,moduleWithProviders.providers&&providers.push(...this._getProvidersMetadata(moduleWithProviders.providers,entryComponents,`provider for the NgModule '${stringifyType(importedModuleType)}'`,[],importedType))}if(importedModuleType){if(this._checkSelfImport(moduleType,importedModuleType))return;if(alreadyCollecting||(alreadyCollecting=new Set),alreadyCollecting.has(importedModuleType))return void this._reportError(syntaxError(`${this._getTypeDescriptor(importedModuleType)} '${stringifyType(importedType)}' is imported recursively by the module '${stringifyType(moduleType)}'.`),moduleType);alreadyCollecting.add(importedModuleType);const importedModuleSummary=this.getNgModuleSummary(importedModuleType,alreadyCollecting);if(alreadyCollecting.delete(importedModuleType),!importedModuleSummary)return void this._reportError(syntaxError(`Unexpected ${this._getTypeDescriptor(importedType)} '${stringifyType(importedType)}' imported by the module '${stringifyType(moduleType)}'. Please add a @NgModule annotation.`),moduleType);importedModules.push(importedModuleSummary)}else this._reportError(syntaxError(`Unexpected value '${stringifyType(importedType)}' imported by the module '${stringifyType(moduleType)}'`),moduleType)}),meta.exports&&flattenAndDedupeArray(meta.exports).forEach(exportedType=>{if(!isValidType(exportedType))return void this._reportError(syntaxError(`Unexpected value '${stringifyType(exportedType)}' exported by the module '${stringifyType(moduleType)}'`),moduleType);if(alreadyCollecting||(alreadyCollecting=new Set),alreadyCollecting.has(exportedType))return void this._reportError(syntaxError(`${this._getTypeDescriptor(exportedType)} '${stringify(exportedType)}' is exported recursively by the module '${stringifyType(moduleType)}'`),moduleType);alreadyCollecting.add(exportedType);const exportedModuleSummary=this.getNgModuleSummary(exportedType,alreadyCollecting);alreadyCollecting.delete(exportedType),exportedModuleSummary?exportedModules.push(exportedModuleSummary):exportedNonModuleIdentifiers.push(this._getIdentifierMetadata(exportedType))});const transitiveModule=this._getTransitiveNgModuleMetadata(importedModules,exportedModules);meta.declarations&&flattenAndDedupeArray(meta.declarations).forEach(declaredType=>{if(!isValidType(declaredType))return void this._reportError(syntaxError(`Unexpected value '${stringifyType(declaredType)}' declared by the module '${stringifyType(moduleType)}'`),moduleType);const declaredIdentifier=this._getIdentifierMetadata(declaredType);if(this.isDirective(declaredType))this.isAbstractDirective(declaredType)&&this._reportError(syntaxError(`Directive ${stringifyType(declaredType)} has no selector, please add it!`),declaredType),transitiveModule.addDirective(declaredIdentifier),declaredDirectives.push(declaredIdentifier),this._addTypeToModule(declaredType,moduleType);else{if(!this.isPipe(declaredType))return void this._reportError(syntaxError(`Unexpected ${this._getTypeDescriptor(declaredType)} '${stringifyType(declaredType)}' declared by the module '${stringifyType(moduleType)}'. Please add a @Pipe/@Directive/@Component annotation.`),moduleType);transitiveModule.addPipe(declaredIdentifier),transitiveModule.pipes.push(declaredIdentifier),declaredPipes.push(declaredIdentifier),this._addTypeToModule(declaredType,moduleType)}});const exportedDirectives=[],exportedPipes=[];return exportedNonModuleIdentifiers.forEach(exportedId=>{if(transitiveModule.directivesSet.has(exportedId.reference))exportedDirectives.push(exportedId),transitiveModule.addExportedDirective(exportedId);else{if(!transitiveModule.pipesSet.has(exportedId.reference))return void this._reportError(syntaxError(`Can't export ${this._getTypeDescriptor(exportedId.reference)} ${stringifyType(exportedId.reference)} from ${stringifyType(moduleType)} as it was neither declared nor imported!`),moduleType);exportedPipes.push(exportedId),transitiveModule.addExportedPipe(exportedId)}}),meta.providers&&providers.push(...this._getProvidersMetadata(meta.providers,entryComponents,`provider for the NgModule '${stringifyType(moduleType)}'`,[],moduleType)),meta.entryComponents&&entryComponents.push(...flattenAndDedupeArray(meta.entryComponents).map(type=>this._getEntryComponentMetadata(type))),meta.bootstrap&&flattenAndDedupeArray(meta.bootstrap).forEach(type=>{isValidType(type)?bootstrapComponents.push(this._getIdentifierMetadata(type)):this._reportError(syntaxError(`Unexpected value '${stringifyType(type)}' used in the bootstrap property of module '${stringifyType(moduleType)}'`),moduleType)}),entryComponents.push(...bootstrapComponents.map(type=>this._getEntryComponentMetadata(type.reference))),meta.schemas&&schemas.push(...flattenAndDedupeArray(meta.schemas)),compileMeta=new CompileNgModuleMetadata({type:this._getTypeMetadata(moduleType),providers:providers,entryComponents:entryComponents,bootstrapComponents:bootstrapComponents,schemas:schemas,declaredDirectives:declaredDirectives,exportedDirectives:exportedDirectives,declaredPipes:declaredPipes,exportedPipes:exportedPipes,importedModules:importedModules,exportedModules:exportedModules,transitiveModule:transitiveModule,id:meta.id||null}),entryComponents.forEach(id=>transitiveModule.addEntryComponent(id)),providers.forEach(provider=>transitiveModule.addProvider(provider,compileMeta.type)),transitiveModule.addModule(compileMeta.type),this._ngModuleCache.set(moduleType,compileMeta),compileMeta}_checkSelfImport(moduleType,importedModuleType){return moduleType===importedModuleType&&(this._reportError(syntaxError(`'${stringifyType(moduleType)}' module can't import itself`),moduleType),!0)}_getTypeDescriptor(type){if(isValidType(type)){if(this.isDirective(type))return"directive";if(this.isPipe(type))return"pipe";if(this.isNgModule(type))return"module"}return type.provide?"provider":"value"}_addTypeToModule(type,moduleType){const oldModule=this._ngModuleOfTypes.get(type);oldModule&&oldModule!==moduleType?this._reportError(syntaxError(`Type ${stringifyType(type)} is part of the declarations of 2 modules: ${stringifyType(oldModule)} and ${stringifyType(moduleType)}! `+`Please consider moving ${stringifyType(type)} to a higher module that imports ${stringifyType(oldModule)} and ${stringifyType(moduleType)}. `+`You can also create a new NgModule that exports and includes ${stringifyType(type)} then import that NgModule in ${stringifyType(oldModule)} and ${stringifyType(moduleType)}.`),moduleType):this._ngModuleOfTypes.set(type,moduleType)}_getTransitiveNgModuleMetadata(importedModules,exportedModules){const result=new TransitiveCompileNgModuleMetadata,modulesByToken=new Map;return importedModules.concat(exportedModules).forEach(modSummary=>{modSummary.modules.forEach(mod=>result.addModule(mod)),modSummary.entryComponents.forEach(comp=>result.addEntryComponent(comp));const addedTokens=new Set;modSummary.providers.forEach(entry=>{const tokenRef=tokenReference(entry.provider.token);let prevModules=modulesByToken.get(tokenRef);prevModules||(prevModules=new Set,modulesByToken.set(tokenRef,prevModules));const moduleRef=entry.module.reference;!addedTokens.has(tokenRef)&&prevModules.has(moduleRef)||(prevModules.add(moduleRef),addedTokens.add(tokenRef),result.addProvider(entry.provider,entry.module))})}),exportedModules.forEach(modSummary=>{modSummary.exportedDirectives.forEach(id=>result.addExportedDirective(id)),modSummary.exportedPipes.forEach(id=>result.addExportedPipe(id))}),importedModules.forEach(modSummary=>{modSummary.exportedDirectives.forEach(id=>result.addDirective(id)),modSummary.exportedPipes.forEach(id=>result.addPipe(id))}),result}_getIdentifierMetadata(type){return{reference:type=resolveForwardRef(type)}}isInjectable(type){return this._reflector.tryAnnotations(type).some(ann=>createInjectable.isTypeOf(ann))}getInjectableSummary(type){return{summaryKind:CompileSummaryKind.Injectable,type:this._getTypeMetadata(type,null,!1)}}getInjectableMetadata(type,dependencies=null,throwOnUnknownDeps=!0){const typeSummary=this._loadSummary(type,CompileSummaryKind.Injectable),typeMetadata=typeSummary?typeSummary.type:this._getTypeMetadata(type,dependencies,throwOnUnknownDeps),annotations=this._reflector.annotations(type).filter(ann=>createInjectable.isTypeOf(ann));if(0===annotations.length)return null;const meta=annotations[annotations.length-1];return{symbol:type,type:typeMetadata,providedIn:meta.providedIn,useValue:meta.useValue,useClass:meta.useClass,useExisting:meta.useExisting,useFactory:meta.useFactory,deps:meta.deps}}_getTypeMetadata(type,dependencies=null,throwOnUnknownDeps=!0){const identifier=this._getIdentifierMetadata(type);return{reference:identifier.reference,diDeps:this._getDependenciesMetadata(identifier.reference,dependencies,throwOnUnknownDeps),lifecycleHooks:(reflector=this._reflector,token=identifier.reference,LIFECYCLE_HOOKS_VALUES.filter(hook=>hasLifecycleHook(reflector,hook,token)))};var reflector,token}_getFactoryMetadata(factory,dependencies=null){return{reference:factory=resolveForwardRef(factory),diDeps:this._getDependenciesMetadata(factory,dependencies)}}getPipeMetadata(pipeType){const pipeMeta=this._pipeCache.get(pipeType);return pipeMeta||this._reportError(syntaxError(`Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe ${stringifyType(pipeType)}.`),pipeType),pipeMeta||null}getPipeSummary(pipeType){const pipeSummary=this._loadSummary(pipeType,CompileSummaryKind.Pipe);return pipeSummary||this._reportError(syntaxError(`Illegal state: Could not load the summary for pipe ${stringifyType(pipeType)}.`),pipeType),pipeSummary}getOrLoadPipeMetadata(pipeType){let pipeMeta=this._pipeCache.get(pipeType);return pipeMeta||(pipeMeta=this._loadPipeMetadata(pipeType)),pipeMeta}_loadPipeMetadata(pipeType){pipeType=resolveForwardRef(pipeType);const pipeAnnotation=this._pipeResolver.resolve(pipeType),pipeMeta=new CompilePipeMetadata({type:this._getTypeMetadata(pipeType),name:pipeAnnotation.name,pure:!!pipeAnnotation.pure});return this._pipeCache.set(pipeType,pipeMeta),this._summaryCache.set(pipeType,pipeMeta.toSummary()),pipeMeta}_getDependenciesMetadata(typeOrFunc,dependencies,throwOnUnknownDeps=!0){let hasUnknownDeps=!1;const dependenciesMetadata=(dependencies||this._reflector.parameters(typeOrFunc)||[]).map(param=>{let isAttribute=!1,isHost=!1,isSelf=!1,isSkipSelf=!1,isOptional=!1,token=null;return Array.isArray(param)?param.forEach(paramEntry=>{createHost.isTypeOf(paramEntry)?isHost=!0:createSelf.isTypeOf(paramEntry)?isSelf=!0:createSkipSelf.isTypeOf(paramEntry)?isSkipSelf=!0:createOptional.isTypeOf(paramEntry)?isOptional=!0:createAttribute.isTypeOf(paramEntry)?(isAttribute=!0,token=paramEntry.attributeName):createInject.isTypeOf(paramEntry)?token=paramEntry.token:createInjectionToken.isTypeOf(paramEntry)||paramEntry instanceof StaticSymbol?token=paramEntry:isValidType(paramEntry)&&null==token&&(token=paramEntry)}):token=param,null==token?(hasUnknownDeps=!0,{}):{isAttribute:isAttribute,isHost:isHost,isSelf:isSelf,isSkipSelf:isSkipSelf,isOptional:isOptional,token:this._getTokenMetadata(token)}});if(hasUnknownDeps){const depsTokens=dependenciesMetadata.map(dep=>dep.token?stringifyType(dep.token):"?").join(", "),message=`Can't resolve all parameters for ${stringifyType(typeOrFunc)}: (${depsTokens}).`;throwOnUnknownDeps||this._config.strictInjectionParameters?this._reportError(syntaxError(message),typeOrFunc):this._console.warn(`Warning: ${message} This will become an error in Angular v6.x`)}return dependenciesMetadata}_getTokenMetadata(token){let compileToken;return compileToken="string"==typeof(token=resolveForwardRef(token))?{value:token}:{identifier:{reference:token}},compileToken}_getProvidersMetadata(providers,targetEntryComponents,debugInfo,compileProviders=[],type){return providers.forEach((provider,providerIdx)=>{if(Array.isArray(provider))this._getProvidersMetadata(provider,targetEntryComponents,debugInfo,compileProviders);else{let providerMeta=void 0;if((provider=resolveForwardRef(provider))&&"object"==typeof provider&&provider.hasOwnProperty("provide"))this._validateProvider(provider),providerMeta=new ProviderMeta(provider.provide,provider);else{if(!isValidType(provider)){if(void 0===provider)return void this._reportError(syntaxError("Encountered undefined provider! Usually this means you have a circular dependencies. This might be caused by using 'barrel' index.ts files."));{const providersInfo=providers.reduce((soFar,seenProvider,seenProviderIdx)=>(seenProviderIdx<providerIdx?soFar.push(`${stringifyType(seenProvider)}`):seenProviderIdx==providerIdx?soFar.push(`?${stringifyType(seenProvider)}?`):seenProviderIdx==providerIdx+1&&soFar.push("..."),soFar),[]).join(", ");return void this._reportError(syntaxError(`Invalid ${debugInfo||"provider"} - only instances of Provider and Type are allowed, got: [${providersInfo}]`),type)}}providerMeta=new ProviderMeta(provider,{useClass:provider})}providerMeta.token===this._reflector.resolveExternalReference(Identifiers.ANALYZE_FOR_ENTRY_COMPONENTS)?targetEntryComponents.push(...this._getEntryComponentsFromProvider(providerMeta,type)):compileProviders.push(this.getProviderMetadata(providerMeta))}}),compileProviders}_validateProvider(provider){provider.hasOwnProperty("useClass")&&null==provider.useClass&&this._reportError(syntaxError(`Invalid provider for ${stringifyType(provider.provide)}. useClass cannot be ${provider.useClass}.\n           Usually it happens when:\n           1. There's a circular dependency (might be caused by using index.ts (barrel) files).\n           2. Class was used before it was declared. Use forwardRef in this case.`))}_getEntryComponentsFromProvider(provider,type){const components=[],collectedIdentifiers=[];return provider.useFactory||provider.useExisting||provider.useClass?(this._reportError(syntaxError("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),type),[]):provider.multi?(function extractIdentifiers(value,targetIdentifiers){visitValue(value,new _CompileValueConverter,targetIdentifiers)}(provider.useValue,collectedIdentifiers),collectedIdentifiers.forEach(identifier=>{const entry=this._getEntryComponentMetadata(identifier.reference,!1);entry&&components.push(entry)}),components):(this._reportError(syntaxError("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),type),[])}_getEntryComponentMetadata(dirType,throwIfNotFound=!0){const dirMeta=this.getNonNormalizedDirectiveMetadata(dirType);if(dirMeta&&dirMeta.metadata.isComponent)return{componentType:dirType,componentFactory:dirMeta.metadata.componentFactory};const dirSummary=this._loadSummary(dirType,CompileSummaryKind.Directive);if(dirSummary&&dirSummary.isComponent)return{componentType:dirType,componentFactory:dirSummary.componentFactory};if(throwIfNotFound)throw syntaxError(`${dirType.name} cannot be used as an entry component.`);return null}_getInjectableTypeMetadata(type,dependencies=null){const typeSummary=this._loadSummary(type,CompileSummaryKind.Injectable);return typeSummary?typeSummary.type:this._getTypeMetadata(type,dependencies)}getProviderMetadata(provider){let compileDeps=void 0,compileTypeMetadata=null,compileFactoryMetadata=null,token=this._getTokenMetadata(provider.token);return provider.useClass?(compileTypeMetadata=this._getInjectableTypeMetadata(provider.useClass,provider.dependencies),compileDeps=compileTypeMetadata.diDeps,provider.token===provider.useClass&&(token={identifier:compileTypeMetadata})):provider.useFactory&&(compileFactoryMetadata=this._getFactoryMetadata(provider.useFactory,provider.dependencies),compileDeps=compileFactoryMetadata.diDeps),{token:token,useClass:compileTypeMetadata,useValue:provider.useValue,useFactory:compileFactoryMetadata,useExisting:provider.useExisting?this._getTokenMetadata(provider.useExisting):void 0,deps:compileDeps,multi:provider.multi}}_getQueriesMetadata(queries,isViewQuery,directiveType){const res=[];return Object.keys(queries).forEach(propertyName=>{const query=queries[propertyName];query.isViewQuery===isViewQuery&&res.push(this._getQueryMetadata(query,propertyName,directiveType))}),res}_queryVarBindings(selector){return selector.split(/\s*,\s*/)}_getQueryMetadata(q,propertyName,typeOrFunc){let selectors;return"string"==typeof q.selector?selectors=this._queryVarBindings(q.selector).map(varName=>this._getTokenMetadata(varName)):q.selector?selectors=[this._getTokenMetadata(q.selector)]:(this._reportError(syntaxError(`Can't construct a query for the property "${propertyName}" of "${stringifyType(typeOrFunc)}" since the query selector wasn't defined.`),typeOrFunc),selectors=[]),{selectors:selectors,first:q.first,descendants:q.descendants,propertyName:propertyName,read:q.read?this._getTokenMetadata(q.read):null,static:q.static}}_reportError(error,type,otherType){if(!this._errorCollector)throw error;this._errorCollector(error,type),otherType&&this._errorCollector(error,otherType)}}function flattenAndDedupeArray(tree){return function dedupeArray(array){return array?Array.from(new Set(array)):[]}(function flattenArray(tree,out=[]){if(tree)for(let i=0;i<tree.length;i++){const item=resolveForwardRef(tree[i]);Array.isArray(item)?flattenArray(item,out):out.push(item)}return out}(tree))}function isValidType(value){return value instanceof StaticSymbol||value instanceof Type}class _CompileValueConverter extends ValueTransformer{visitOther(value,targetIdentifiers){targetIdentifiers.push({reference:value})}}function stringifyType(type){return type instanceof StaticSymbol?`${type.name} in ${type.filePath}`:stringify(type)}function providerDef(ctx,providerAst){let flags=0;providerAst.eager||(flags|=4096),providerAst.providerType===ProviderAstType.PrivateService&&(flags|=8192),providerAst.isModule&&(flags|=1073741824),providerAst.lifecycleHooks.forEach(lifecycleHook=>{lifecycleHook!==LifecycleHooks.OnDestroy&&providerAst.providerType!==ProviderAstType.Directive&&providerAst.providerType!==ProviderAstType.Component||(flags|=lifecycleHookToNodeFlag(lifecycleHook))});const{providerExpr:providerExpr,flags:providerFlags,depsExpr:depsExpr}=providerAst.multiProvider?function multiProviderDef(ctx,flags,providers){const allDepDefs=[],allParams=[],exprs=providers.map((provider,providerIndex)=>{let expr;if(provider.useClass){const depExprs=convertDeps(providerIndex,provider.deps||provider.useClass.diDeps);expr=ctx.importExpr(provider.useClass.reference).instantiate(depExprs)}else if(provider.useFactory){const depExprs=convertDeps(providerIndex,provider.deps||provider.useFactory.diDeps);expr=ctx.importExpr(provider.useFactory.reference).callFn(depExprs)}else if(provider.useExisting){expr=convertDeps(providerIndex,[{token:provider.useExisting}])[0]}else expr=convertValueToOutputAst(ctx,provider.useValue);return expr});return{providerExpr:fn(allParams,[new ReturnStatement(literalArr(exprs))],INFERRED_TYPE),flags:1024|flags,depsExpr:literalArr(allDepDefs)};function convertDeps(providerIndex,deps){return deps.map((dep,depIndex)=>{const paramName=`p${providerIndex}_${depIndex}`;return allParams.push(new FnParam(paramName,DYNAMIC_TYPE)),allDepDefs.push(depDef(ctx,dep)),variable(paramName)})}}(ctx,flags,providerAst.providers):singleProviderDef(ctx,flags,providerAst.providerType,providerAst.providers[0]);return{providerExpr:providerExpr,flags:providerFlags,depsExpr:depsExpr,tokenExpr:tokenExpr(ctx,providerAst.token)}}function singleProviderDef(ctx,flags,providerType,providerMeta){let providerExpr,deps;return providerType===ProviderAstType.Directive||providerType===ProviderAstType.Component?(providerExpr=ctx.importExpr(providerMeta.useClass.reference),flags|=16384,deps=providerMeta.deps||providerMeta.useClass.diDeps):providerMeta.useClass?(providerExpr=ctx.importExpr(providerMeta.useClass.reference),flags|=512,deps=providerMeta.deps||providerMeta.useClass.diDeps):providerMeta.useFactory?(providerExpr=ctx.importExpr(providerMeta.useFactory.reference),flags|=1024,deps=providerMeta.deps||providerMeta.useFactory.diDeps):providerMeta.useExisting?(providerExpr=NULL_EXPR,flags|=2048,deps=[{token:providerMeta.useExisting}]):(providerExpr=convertValueToOutputAst(ctx,providerMeta.useValue),flags|=256,deps=[]),{providerExpr:providerExpr,flags:flags,depsExpr:literalArr(deps.map(dep=>depDef(ctx,dep)))}}function tokenExpr(ctx,tokenMeta){return tokenMeta.identifier?ctx.importExpr(tokenMeta.identifier.reference):literal(tokenMeta.value)}function depDef(ctx,dep){const expr=dep.isValue?convertValueToOutputAst(ctx,dep.value):tokenExpr(ctx,dep.token);let flags=0;return dep.isSkipSelf&&(flags|=1),dep.isOptional&&(flags|=2),dep.isSelf&&(flags|=4),dep.isValue&&(flags|=8),0===flags?expr:literalArr([literal(flags),expr])}function lifecycleHookToNodeFlag(lifecycleHook){let nodeFlag=0;switch(lifecycleHook){case LifecycleHooks.AfterContentChecked:nodeFlag=2097152;break;case LifecycleHooks.AfterContentInit:nodeFlag=1048576;break;case LifecycleHooks.AfterViewChecked:nodeFlag=8388608;break;case LifecycleHooks.AfterViewInit:nodeFlag=4194304;break;case LifecycleHooks.DoCheck:nodeFlag=262144;break;case LifecycleHooks.OnChanges:nodeFlag=524288;break;case LifecycleHooks.OnDestroy:nodeFlag=131072;break;case LifecycleHooks.OnInit:nodeFlag=65536}return nodeFlag}function componentFactoryResolverProviderDef(reflector,ctx,flags,entryComponents){const entryComponentFactories=entryComponents.map(entryComponent=>ctx.importExpr(entryComponent.componentFactory)),token=createTokenForExternalReference(reflector,Identifiers.ComponentFactoryResolver),classMeta={diDeps:[{isValue:!0,value:literalArr(entryComponentFactories)},{token:token,isSkipSelf:!0,isOptional:!0},{token:createTokenForExternalReference(reflector,Identifiers.NgModuleRef)}],lifecycleHooks:[],reference:reflector.resolveExternalReference(Identifiers.CodegenComponentFactoryResolver)},{providerExpr:providerExpr,flags:providerFlags,depsExpr:depsExpr}=singleProviderDef(ctx,flags,ProviderAstType.PrivateService,{token:token,multi:!1,useClass:classMeta});return{providerExpr:providerExpr,flags:providerFlags,depsExpr:depsExpr,tokenExpr:tokenExpr(ctx,token)}}class NgModuleCompileResult{constructor(ngModuleFactoryVar){this.ngModuleFactoryVar=ngModuleFactoryVar}}const LOG_VAR=variable("_l");class NgModuleCompiler{constructor(reflector){this.reflector=reflector}compile(ctx,ngModuleMeta,extraProviders){const sourceSpan=function typeSourceSpan(kind,type){const moduleUrl=identifierModuleUrl(type),sourceFileName=null!=moduleUrl?`in ${kind} ${identifierName(type)} in ${moduleUrl}`:`in ${kind} ${identifierName(type)}`,sourceFile=new ParseSourceFile("",sourceFileName);return new ParseSourceSpan(new ParseLocation(sourceFile,-1,-1,-1),new ParseLocation(sourceFile,-1,-1,-1))}("NgModule",ngModuleMeta.type),entryComponentFactories=ngModuleMeta.transitiveModule.entryComponents,bootstrapComponents=ngModuleMeta.bootstrapComponents,providerParser=new NgModuleProviderAnalyzer(this.reflector,ngModuleMeta,extraProviders,sourceSpan),providerDefs=[componentFactoryResolverProviderDef(this.reflector,ctx,0,entryComponentFactories)].concat(providerParser.parse().map(provider=>providerDef(ctx,provider))).map(({providerExpr:providerExpr,depsExpr:depsExpr,flags:flags,tokenExpr:tokenExpr})=>importExpr(Identifiers.moduleProviderDef).callFn([literal(flags),tokenExpr,providerExpr,depsExpr])),ngModuleDef=importExpr(Identifiers.moduleDef).callFn([literalArr(providerDefs)]),ngModuleDefFactory=fn([new FnParam(LOG_VAR.name)],[new ReturnStatement(ngModuleDef)],INFERRED_TYPE),ngModuleFactoryVar=`${identifierName(ngModuleMeta.type)}NgFactory`;if(this._createNgModuleFactory(ctx,ngModuleMeta.type.reference,importExpr(Identifiers.createModuleFactory).callFn([ctx.importExpr(ngModuleMeta.type.reference),literalArr(bootstrapComponents.map(id=>ctx.importExpr(id.reference))),ngModuleDefFactory])),ngModuleMeta.id){const id="string"==typeof ngModuleMeta.id?literal(ngModuleMeta.id):ctx.importExpr(ngModuleMeta.id),registerFactoryStmt=importExpr(Identifiers.RegisterModuleFactoryFn).callFn([id,variable(ngModuleFactoryVar)]).toStmt();ctx.statements.push(registerFactoryStmt)}return new NgModuleCompileResult(ngModuleFactoryVar)}createStub(ctx,ngModuleReference){this._createNgModuleFactory(ctx,ngModuleReference,NULL_EXPR)}_createNgModuleFactory(ctx,reference,value){const ngModuleFactoryStmt=variable(`${identifierName({reference:reference})}NgFactory`).set(value).toDeclStmt(importType(Identifiers.NgModuleFactory,[expressionType(ctx.importExpr(reference))],[TypeModifier.Const]),[StmtModifier.Final,StmtModifier.Exported]);ctx.statements.push(ngModuleFactoryStmt)}}class NgModuleResolver{constructor(_reflector){this._reflector=_reflector}isNgModule(type){return this._reflector.annotations(type).some(createNgModule.isTypeOf)}resolve(type,throwIfNotFound=!0){const ngModuleMeta=findLast(this._reflector.annotations(type),createNgModule.isTypeOf);if(ngModuleMeta)return ngModuleMeta;if(throwIfNotFound)throw new Error(`No NgModule metadata found for '${stringify(type)}'.`);return null}}class _TsEmitterVisitor extends AbstractEmitterVisitor{constructor(referenceFilter,importFilter){super(!1),this.referenceFilter=referenceFilter,this.importFilter=importFilter,this.typeExpression=0,this.importsWithPrefixes=new Map,this.reexports=new Map}visitType(t,ctx,defaultType="any"){t?(this.typeExpression++,t.visitType(this,ctx),this.typeExpression--):ctx.print(null,defaultType)}visitLiteralExpr(ast,ctx){const value=ast.value;return null==value&&ast.type!=INFERRED_TYPE?(ctx.print(ast,`(${value} as any)`),null):super.visitLiteralExpr(ast,ctx)}visitLiteralArrayExpr(ast,ctx){0===ast.entries.length&&ctx.print(ast,"(");const result=super.visitLiteralArrayExpr(ast,ctx);return 0===ast.entries.length&&ctx.print(ast," as any[])"),result}visitExternalExpr(ast,ctx){return this._visitIdentifier(ast.value,ast.typeParams,ctx),null}visitAssertNotNullExpr(ast,ctx){const result=super.visitAssertNotNullExpr(ast,ctx);return ctx.print(ast,"!"),result}visitDeclareVarStmt(stmt,ctx){if(stmt.hasModifier(StmtModifier.Exported)&&stmt.value instanceof ExternalExpr&&!stmt.type){const{name:name,moduleName:moduleName}=stmt.value.value;if(moduleName){let reexports=this.reexports.get(moduleName);return reexports||(reexports=[],this.reexports.set(moduleName,reexports)),reexports.push({name:name,as:stmt.name}),null}}return stmt.hasModifier(StmtModifier.Exported)&&ctx.print(stmt,"export "),stmt.hasModifier(StmtModifier.Final)?ctx.print(stmt,"const"):ctx.print(stmt,"var"),ctx.print(stmt,` ${stmt.name}`),this._printColonType(stmt.type,ctx),stmt.value&&(ctx.print(stmt," = "),stmt.value.visitExpression(this,ctx)),ctx.println(stmt,";"),null}visitWrappedNodeExpr(ast,ctx){throw new Error("Cannot visit a WrappedNodeExpr when outputting Typescript.")}visitCastExpr(ast,ctx){return ctx.print(ast,"(<"),ast.type.visitType(this,ctx),ctx.print(ast,">"),ast.value.visitExpression(this,ctx),ctx.print(ast,")"),null}visitInstantiateExpr(ast,ctx){return ctx.print(ast,"new "),this.typeExpression++,ast.classExpr.visitExpression(this,ctx),this.typeExpression--,ctx.print(ast,"("),this.visitAllExpressions(ast.args,ctx,","),ctx.print(ast,")"),null}visitDeclareClassStmt(stmt,ctx){return ctx.pushClass(stmt),stmt.hasModifier(StmtModifier.Exported)&&ctx.print(stmt,"export "),ctx.print(stmt,`class ${stmt.name}`),null!=stmt.parent&&(ctx.print(stmt," extends "),this.typeExpression++,stmt.parent.visitExpression(this,ctx),this.typeExpression--),ctx.println(stmt," {"),ctx.incIndent(),stmt.fields.forEach(field=>this._visitClassField(field,ctx)),null!=stmt.constructorMethod&&this._visitClassConstructor(stmt,ctx),stmt.getters.forEach(getter=>this._visitClassGetter(getter,ctx)),stmt.methods.forEach(method=>this._visitClassMethod(method,ctx)),ctx.decIndent(),ctx.println(stmt,"}"),ctx.popClass(),null}_visitClassField(field,ctx){field.hasModifier(StmtModifier.Private)&&ctx.print(null,"/*private*/ "),field.hasModifier(StmtModifier.Static)&&ctx.print(null,"static "),ctx.print(null,field.name),this._printColonType(field.type,ctx),field.initializer&&(ctx.print(null," = "),field.initializer.visitExpression(this,ctx)),ctx.println(null,";")}_visitClassGetter(getter,ctx){getter.hasModifier(StmtModifier.Private)&&ctx.print(null,"private "),ctx.print(null,`get ${getter.name}()`),this._printColonType(getter.type,ctx),ctx.println(null," {"),ctx.incIndent(),this.visitAllStatements(getter.body,ctx),ctx.decIndent(),ctx.println(null,"}")}_visitClassConstructor(stmt,ctx){ctx.print(stmt,"constructor("),this._visitParams(stmt.constructorMethod.params,ctx),ctx.println(stmt,") {"),ctx.incIndent(),this.visitAllStatements(stmt.constructorMethod.body,ctx),ctx.decIndent(),ctx.println(stmt,"}")}_visitClassMethod(method,ctx){method.hasModifier(StmtModifier.Private)&&ctx.print(null,"private "),ctx.print(null,`${method.name}(`),this._visitParams(method.params,ctx),ctx.print(null,")"),this._printColonType(method.type,ctx,"void"),ctx.println(null," {"),ctx.incIndent(),this.visitAllStatements(method.body,ctx),ctx.decIndent(),ctx.println(null,"}")}visitFunctionExpr(ast,ctx){return ast.name&&(ctx.print(ast,"function "),ctx.print(ast,ast.name)),ctx.print(ast,"("),this._visitParams(ast.params,ctx),ctx.print(ast,")"),this._printColonType(ast.type,ctx,"void"),ast.name||ctx.print(ast," => "),ctx.println(ast,"{"),ctx.incIndent(),this.visitAllStatements(ast.statements,ctx),ctx.decIndent(),ctx.print(ast,"}"),null}visitDeclareFunctionStmt(stmt,ctx){return stmt.hasModifier(StmtModifier.Exported)&&ctx.print(stmt,"export "),ctx.print(stmt,`function ${stmt.name}(`),this._visitParams(stmt.params,ctx),ctx.print(stmt,")"),this._printColonType(stmt.type,ctx,"void"),ctx.println(stmt," {"),ctx.incIndent(),this.visitAllStatements(stmt.statements,ctx),ctx.decIndent(),ctx.println(stmt,"}"),null}visitTryCatchStmt(stmt,ctx){ctx.println(stmt,"try {"),ctx.incIndent(),this.visitAllStatements(stmt.bodyStmts,ctx),ctx.decIndent(),ctx.println(stmt,`} catch (${CATCH_ERROR_VAR$1.name}) {`),ctx.incIndent();const catchStmts=[CATCH_STACK_VAR$1.set(CATCH_ERROR_VAR$1.prop("stack",null)).toDeclStmt(null,[StmtModifier.Final])].concat(stmt.catchStmts);return this.visitAllStatements(catchStmts,ctx),ctx.decIndent(),ctx.println(stmt,"}"),null}visitBuiltinType(type,ctx){let typeStr;switch(type.name){case BuiltinTypeName.Bool:typeStr="boolean";break;case BuiltinTypeName.Dynamic:typeStr="any";break;case BuiltinTypeName.Function:typeStr="Function";break;case BuiltinTypeName.Number:case BuiltinTypeName.Int:typeStr="number";break;case BuiltinTypeName.String:typeStr="string";break;case BuiltinTypeName.None:typeStr="never";break;default:throw new Error(`Unsupported builtin type ${type.name}`)}return ctx.print(null,typeStr),null}visitExpressionType(ast,ctx){return ast.value.visitExpression(this,ctx),null!==ast.typeParams&&(ctx.print(null,"<"),this.visitAllObjects(type=>this.visitType(type,ctx),ast.typeParams,ctx,","),ctx.print(null,">")),null}visitArrayType(type,ctx){return this.visitType(type.of,ctx),ctx.print(null,"[]"),null}visitMapType(type,ctx){return ctx.print(null,"{[key: string]:"),this.visitType(type.valueType,ctx),ctx.print(null,"}"),null}getBuiltinMethodName(method){let name;switch(method){case BuiltinMethod.ConcatArray:name="concat";break;case BuiltinMethod.SubscribeObservable:name="subscribe";break;case BuiltinMethod.Bind:name="bind";break;default:throw new Error(`Unknown builtin method: ${method}`)}return name}_visitParams(params,ctx){this.visitAllObjects(param=>{ctx.print(null,param.name),this._printColonType(param.type,ctx)},params,ctx,",")}_visitIdentifier(value,typeParams,ctx){const{name:name,moduleName:moduleName}=value;if(this.referenceFilter&&this.referenceFilter(value))ctx.print(null,"(null as any)");else{if(moduleName&&(!this.importFilter||!this.importFilter(value))){let prefix=this.importsWithPrefixes.get(moduleName);null==prefix&&(prefix=`i${this.importsWithPrefixes.size}`,this.importsWithPrefixes.set(moduleName,prefix)),ctx.print(null,`${prefix}.`)}if(ctx.print(null,name),this.typeExpression>0){(typeParams||[]).length>0&&(ctx.print(null,"<"),this.visitAllObjects(type=>type.visitType(this,ctx),typeParams,ctx,","),ctx.print(null,">"))}}}_printColonType(type,ctx,defaultType){type!==INFERRED_TYPE&&(ctx.print(null,":"),this.visitType(type,ctx,defaultType))}}class PipeResolver{constructor(_reflector){this._reflector=_reflector}isPipe(type){const typeMetadata=this._reflector.annotations(resolveForwardRef(type));return typeMetadata&&typeMetadata.some(createPipe.isTypeOf)}resolve(type,throwIfNotFound=!0){const metas=this._reflector.annotations(resolveForwardRef(type));if(metas){const annotation=findLast(metas,createPipe.isTypeOf);if(annotation)return annotation}if(throwIfNotFound)throw new Error(`No Pipe decorator found on ${stringify(type)}`);return null}}new class{notifyImplicitReceiverUse(){}getLocal(name){return name===EventHandlerVars.event.name?variable("_any"):null}};class ViewCompileResult{constructor(viewClassVar,rendererTypeVar){this.viewClassVar=viewClassVar,this.rendererTypeVar=rendererTypeVar}}class ViewCompiler{constructor(_reflector){this._reflector=_reflector}compileComponent(outputCtx,component,template,styles,usedPipes){let embeddedViewCount=0,renderComponentVarName=void 0;if(!component.isHost){const template=component.template,customRenderData=[];template.animations&&template.animations.length&&customRenderData.push(new LiteralMapEntry("animation",convertValueToOutputAst(outputCtx,template.animations),!0));const renderComponentVar=variable(rendererTypeName(component.type.reference));renderComponentVarName=renderComponentVar.name,outputCtx.statements.push(renderComponentVar.set(importExpr(Identifiers.createRendererType2).callFn([new LiteralMapExpr([new LiteralMapEntry("encapsulation",literal(template.encapsulation),!1),new LiteralMapEntry("styles",styles,!1),new LiteralMapEntry("data",new LiteralMapExpr(customRenderData),!1)])])).toDeclStmt(importType(Identifiers.RendererType2),[StmtModifier.Final,StmtModifier.Exported]))}const viewBuilderFactory=parent=>{const embeddedViewIndex=embeddedViewCount++;return new ViewBuilder$1(this._reflector,outputCtx,parent,component,embeddedViewIndex,usedPipes,viewBuilderFactory)},visitor=viewBuilderFactory(null);return visitor.visitAll([],template),outputCtx.statements.push(...visitor.build()),new ViewCompileResult(visitor.viewName,renderComponentVarName)}}const LOG_VAR$1=variable("_l"),VIEW_VAR=variable("_v"),CHECK_VAR=variable("_ck"),COMP_VAR=variable("_co"),EVENT_NAME_VAR=variable("en"),ALLOW_DEFAULT_VAR=variable("ad");class ViewBuilder$1{constructor(reflector,outputCtx,parent,component,embeddedViewIndex,usedPipes,viewBuilderFactory){this.reflector=reflector,this.outputCtx=outputCtx,this.parent=parent,this.component=component,this.embeddedViewIndex=embeddedViewIndex,this.usedPipes=usedPipes,this.viewBuilderFactory=viewBuilderFactory,this.nodes=[],this.purePipeNodeIndices=Object.create(null),this.refNodeIndices=Object.create(null),this.variables=[],this.children=[],this.compType=this.embeddedViewIndex>0?DYNAMIC_TYPE:expressionType(outputCtx.importExpr(this.component.type.reference)),this.viewName=viewClassName(this.component.type.reference,this.embeddedViewIndex)}visitAll(variables,astNodes){this.variables=variables,this.parent||this.usedPipes.forEach(pipe=>{pipe.pure&&(this.purePipeNodeIndices[pipe.name]=this._createPipe(null,pipe))}),this.parent||this.component.viewQueries.forEach((query,queryIndex)=>{const queryId=queryIndex+1,bindingType=query.first?0:1,flags=134217728|calcStaticDynamicQueryFlags(query);this.nodes.push(()=>({sourceSpan:null,nodeFlags:flags,nodeDef:importExpr(Identifiers.queryDef).callFn([literal(flags),literal(queryId),new LiteralMapExpr([new LiteralMapEntry(query.propertyName,literal(bindingType),!1)])])}))}),templateVisitAll(this,astNodes),this.parent&&(0===astNodes.length||function needsAdditionalRootNode(astNodes){const lastAstNode=astNodes[astNodes.length-1];if(lastAstNode instanceof EmbeddedTemplateAst)return lastAstNode.hasViewContainer;if(lastAstNode instanceof ElementAst)return isNgContainer(lastAstNode.name)&&lastAstNode.children.length?needsAdditionalRootNode(lastAstNode.children):lastAstNode.hasViewContainer;return lastAstNode instanceof NgContentAst}(astNodes))&&this.nodes.push(()=>({sourceSpan:null,nodeFlags:1,nodeDef:importExpr(Identifiers.anchorDef).callFn([literal(0),NULL_EXPR,NULL_EXPR,literal(0)])}))}build(targetStatements=[]){this.children.forEach(child=>child.build(targetStatements));const{updateRendererStmts:updateRendererStmts,updateDirectivesStmts:updateDirectivesStmts,nodeDefExprs:nodeDefExprs}=this._createNodeExpressions(),updateRendererFn=this._createUpdateFn(updateRendererStmts),updateDirectivesFn=this._createUpdateFn(updateDirectivesStmts);let viewFlags=0;this.parent||this.component.changeDetection!==ChangeDetectionStrategy.OnPush||(viewFlags|=2);const viewFactory=new DeclareFunctionStmt(this.viewName,[new FnParam(LOG_VAR$1.name)],[new ReturnStatement(importExpr(Identifiers.viewDef).callFn([literal(viewFlags),literalArr(nodeDefExprs),updateDirectivesFn,updateRendererFn]))],importType(Identifiers.ViewDefinition),0===this.embeddedViewIndex?[StmtModifier.Exported]:[]);return targetStatements.push(viewFactory),targetStatements}_createUpdateFn(updateStmts){let updateFn;if(updateStmts.length>0){const preStmts=[];!this.component.isHost&&findReadVarNames(updateStmts).has(COMP_VAR.name)&&preStmts.push(COMP_VAR.set(VIEW_VAR.prop("component")).toDeclStmt(this.compType)),updateFn=fn([new FnParam(CHECK_VAR.name,INFERRED_TYPE),new FnParam(VIEW_VAR.name,INFERRED_TYPE)],[...preStmts,...updateStmts],INFERRED_TYPE)}else updateFn=NULL_EXPR;return updateFn}visitNgContent(ast,context){this.nodes.push(()=>({sourceSpan:ast.sourceSpan,nodeFlags:8,nodeDef:importExpr(Identifiers.ngContentDef).callFn([literal(ast.ngContentIndex),literal(ast.index)])}))}visitText(ast,context){this.nodes.push(()=>({sourceSpan:ast.sourceSpan,nodeFlags:2,nodeDef:importExpr(Identifiers.textDef).callFn([literal(-1),literal(ast.ngContentIndex),literalArr([literal(ast.value)])])}))}visitBoundText(ast,context){const nodeIndex=this.nodes.length;this.nodes.push(null);const inter=ast.value.ast,updateRendererExpressions=inter.expressions.map((expr,bindingIndex)=>this._preprocessUpdateExpression({nodeIndex:nodeIndex,bindingIndex:bindingIndex,sourceSpan:ast.sourceSpan,context:COMP_VAR,value:expr})),checkIndex=nodeIndex;this.nodes[nodeIndex]=()=>({sourceSpan:ast.sourceSpan,nodeFlags:2,nodeDef:importExpr(Identifiers.textDef).callFn([literal(checkIndex),literal(ast.ngContentIndex),literalArr(inter.strings.map(s=>literal(s)))]),updateRenderer:updateRendererExpressions})}visitEmbeddedTemplate(ast,context){const nodeIndex=this.nodes.length;this.nodes.push(null);const{flags:flags,queryMatchesExpr:queryMatchesExpr,hostEvents:hostEvents}=this._visitElementOrTemplate(nodeIndex,ast),childVisitor=this.viewBuilderFactory(this);this.children.push(childVisitor),childVisitor.visitAll(ast.variables,ast.children);const childCount=this.nodes.length-nodeIndex-1;this.nodes[nodeIndex]=()=>({sourceSpan:ast.sourceSpan,nodeFlags:1|flags,nodeDef:importExpr(Identifiers.anchorDef).callFn([literal(flags),queryMatchesExpr,literal(ast.ngContentIndex),literal(childCount),this._createElementHandleEventFn(nodeIndex,hostEvents),variable(childVisitor.viewName)])})}visitElement(ast,context){const nodeIndex=this.nodes.length;this.nodes.push(null);const elName=isNgContainer(ast.name)?null:ast.name,{flags:flags,usedEvents:usedEvents,queryMatchesExpr:queryMatchesExpr,hostBindings:dirHostBindings,hostEvents:hostEvents}=this._visitElementOrTemplate(nodeIndex,ast);let inputDefs=[],updateRendererExpressions=[],outputDefs=[];if(elName){const hostBindings=ast.inputs.map(inputAst=>({context:COMP_VAR,inputAst:inputAst,dirAst:null})).concat(dirHostBindings);hostBindings.length&&(updateRendererExpressions=hostBindings.map((hostBinding,bindingIndex)=>this._preprocessUpdateExpression({context:hostBinding.context,nodeIndex:nodeIndex,bindingIndex:bindingIndex,sourceSpan:hostBinding.inputAst.sourceSpan,value:hostBinding.inputAst.value})),inputDefs=hostBindings.map(hostBinding=>function elementBindingDef(inputAst,dirAst){const inputType=inputAst.type;switch(inputType){case 1:return literalArr([literal(1),literal(inputAst.name),literal(inputAst.securityContext)]);case 0:return literalArr([literal(8),literal(inputAst.name),literal(inputAst.securityContext)]);case 4:return literalArr([literal(8|(dirAst&&dirAst.directive.isComponent?32:16)),literal("@"+inputAst.name),literal(inputAst.securityContext)]);case 2:return literalArr([literal(2),literal(inputAst.name),NULL_EXPR]);case 3:return literalArr([literal(4),literal(inputAst.name),literal(inputAst.unit)]);default:throw new Error(`unexpected ${inputType}`)}}(hostBinding.inputAst,hostBinding.dirAst))),outputDefs=usedEvents.map(([target,eventName])=>literalArr([literal(target),literal(eventName)]))}templateVisitAll(this,ast.children);const childCount=this.nodes.length-nodeIndex-1,compAst=ast.directives.find(dirAst=>dirAst.directive.isComponent);let compRendererType=NULL_EXPR,compView=NULL_EXPR;compAst&&(compView=this.outputCtx.importExpr(compAst.directive.componentViewType),compRendererType=this.outputCtx.importExpr(compAst.directive.rendererType));const checkIndex=nodeIndex;this.nodes[nodeIndex]=()=>({sourceSpan:ast.sourceSpan,nodeFlags:1|flags,nodeDef:importExpr(Identifiers.elementDef).callFn([literal(checkIndex),literal(flags),queryMatchesExpr,literal(ast.ngContentIndex),literal(childCount),literal(elName),elName?fixedAttrsDef(ast):NULL_EXPR,inputDefs.length?literalArr(inputDefs):NULL_EXPR,outputDefs.length?literalArr(outputDefs):NULL_EXPR,this._createElementHandleEventFn(nodeIndex,hostEvents),compView,compRendererType]),updateRenderer:updateRendererExpressions})}_visitElementOrTemplate(nodeIndex,ast){let flags=0;ast.hasViewContainer&&(flags|=16777216);const usedEvents=new Map;ast.outputs.forEach(event=>{const{name:name,target:target}=elementEventNameAndTarget(event,null);usedEvents.set(elementEventFullName(target,name),[target,name])}),ast.directives.forEach(dirAst=>{dirAst.hostEvents.forEach(event=>{const{name:name,target:target}=elementEventNameAndTarget(event,dirAst);usedEvents.set(elementEventFullName(target,name),[target,name])})});const hostBindings=[],hostEvents=[];this._visitComponentFactoryResolverProvider(ast.directives),ast.providers.forEach(providerAst=>{let dirAst=void 0;if(ast.directives.forEach(localDirAst=>{localDirAst.directive.type.reference===tokenReference(providerAst.token)&&(dirAst=localDirAst)}),dirAst){const{hostBindings:dirHostBindings,hostEvents:dirHostEvents}=this._visitDirective(providerAst,dirAst,ast.references,ast.queryMatches,usedEvents);hostBindings.push(...dirHostBindings),hostEvents.push(...dirHostEvents)}else this._visitProvider(providerAst,ast.queryMatches)});let queryMatchExprs=[];return ast.queryMatches.forEach(match=>{let valueType=void 0;tokenReference(match.value)===this.reflector.resolveExternalReference(Identifiers.ElementRef)?valueType=0:tokenReference(match.value)===this.reflector.resolveExternalReference(Identifiers.ViewContainerRef)?valueType=3:tokenReference(match.value)===this.reflector.resolveExternalReference(Identifiers.TemplateRef)&&(valueType=2),null!=valueType&&queryMatchExprs.push(literalArr([literal(match.queryId),literal(valueType)]))}),ast.references.forEach(ref=>{let valueType=void 0;ref.value?tokenReference(ref.value)===this.reflector.resolveExternalReference(Identifiers.TemplateRef)&&(valueType=2):valueType=1,null!=valueType&&(this.refNodeIndices[ref.name]=nodeIndex,queryMatchExprs.push(literalArr([literal(ref.name),literal(valueType)])))}),ast.outputs.forEach(outputAst=>{hostEvents.push({context:COMP_VAR,eventAst:outputAst,dirAst:null})}),{flags:flags,usedEvents:Array.from(usedEvents.values()),queryMatchesExpr:queryMatchExprs.length?literalArr(queryMatchExprs):NULL_EXPR,hostBindings:hostBindings,hostEvents:hostEvents}}_visitDirective(providerAst,dirAst,refs,queryMatches,usedEvents){const nodeIndex=this.nodes.length;this.nodes.push(null),dirAst.directive.queries.forEach((query,queryIndex)=>{const queryId=dirAst.contentQueryStartId+queryIndex,flags=67108864|calcStaticDynamicQueryFlags(query),bindingType=query.first?0:1;this.nodes.push(()=>({sourceSpan:dirAst.sourceSpan,nodeFlags:flags,nodeDef:importExpr(Identifiers.queryDef).callFn([literal(flags),literal(queryId),new LiteralMapExpr([new LiteralMapEntry(query.propertyName,literal(bindingType),!1)])])}))});const childCount=this.nodes.length-nodeIndex-1;let{flags:flags,queryMatchExprs:queryMatchExprs,providerExpr:providerExpr,depsExpr:depsExpr}=this._visitProviderOrDirective(providerAst,queryMatches);refs.forEach(ref=>{ref.value&&tokenReference(ref.value)===tokenReference(providerAst.token)&&(this.refNodeIndices[ref.name]=nodeIndex,queryMatchExprs.push(literalArr([literal(ref.name),literal(4)])))}),dirAst.directive.isComponent&&(flags|=32768);const inputDefs=dirAst.inputs.map((inputAst,inputIndex)=>{const mapValue=literalArr([literal(inputIndex),literal(inputAst.directiveName)]);return new LiteralMapEntry(inputAst.directiveName,mapValue,!1)}),outputDefs=[],dirMeta=dirAst.directive;Object.keys(dirMeta.outputs).forEach(propName=>{const eventName=dirMeta.outputs[propName];usedEvents.has(eventName)&&outputDefs.push(new LiteralMapEntry(propName,literal(eventName),!1))});let updateDirectiveExpressions=[];(dirAst.inputs.length||(327680&flags)>0)&&(updateDirectiveExpressions=dirAst.inputs.map((input,bindingIndex)=>this._preprocessUpdateExpression({nodeIndex:nodeIndex,bindingIndex:bindingIndex,sourceSpan:input.sourceSpan,context:COMP_VAR,value:input.value})));const dirContextExpr=importExpr(Identifiers.nodeValue).callFn([VIEW_VAR,literal(nodeIndex)]),hostBindings=dirAst.hostProperties.map(inputAst=>({context:dirContextExpr,dirAst:dirAst,inputAst:inputAst})),hostEvents=dirAst.hostEvents.map(hostEventAst=>({context:dirContextExpr,eventAst:hostEventAst,dirAst:dirAst})),checkIndex=nodeIndex;return this.nodes[nodeIndex]=()=>({sourceSpan:dirAst.sourceSpan,nodeFlags:16384|flags,nodeDef:importExpr(Identifiers.directiveDef).callFn([literal(checkIndex),literal(flags),queryMatchExprs.length?literalArr(queryMatchExprs):NULL_EXPR,literal(childCount),providerExpr,depsExpr,inputDefs.length?new LiteralMapExpr(inputDefs):NULL_EXPR,outputDefs.length?new LiteralMapExpr(outputDefs):NULL_EXPR]),updateDirectives:updateDirectiveExpressions,directive:dirAst.directive.type}),{hostBindings:hostBindings,hostEvents:hostEvents}}_visitProvider(providerAst,queryMatches){this._addProviderNode(this._visitProviderOrDirective(providerAst,queryMatches))}_visitComponentFactoryResolverProvider(directives){const componentDirMeta=directives.find(dirAst=>dirAst.directive.isComponent);if(componentDirMeta&&componentDirMeta.directive.entryComponents.length){const{providerExpr:providerExpr,depsExpr:depsExpr,flags:flags,tokenExpr:tokenExpr}=componentFactoryResolverProviderDef(this.reflector,this.outputCtx,8192,componentDirMeta.directive.entryComponents);this._addProviderNode({providerExpr:providerExpr,depsExpr:depsExpr,flags:flags,tokenExpr:tokenExpr,queryMatchExprs:[],sourceSpan:componentDirMeta.sourceSpan})}}_addProviderNode(data){this.nodes.push(()=>({sourceSpan:data.sourceSpan,nodeFlags:data.flags,nodeDef:importExpr(Identifiers.providerDef).callFn([literal(data.flags),data.queryMatchExprs.length?literalArr(data.queryMatchExprs):NULL_EXPR,data.tokenExpr,data.providerExpr,data.depsExpr])}))}_visitProviderOrDirective(providerAst,queryMatches){let queryMatchExprs=[];queryMatches.forEach(match=>{tokenReference(match.value)===tokenReference(providerAst.token)&&queryMatchExprs.push(literalArr([literal(match.queryId),literal(4)]))});const{providerExpr:providerExpr,depsExpr:depsExpr,flags:providerFlags,tokenExpr:tokenExpr}=providerDef(this.outputCtx,providerAst);return{flags:0|providerFlags,queryMatchExprs:queryMatchExprs,providerExpr:providerExpr,depsExpr:depsExpr,tokenExpr:tokenExpr,sourceSpan:providerAst.sourceSpan}}getLocal(name){if(name==EventHandlerVars.event.name)return EventHandlerVars.event;let currViewExpr=VIEW_VAR;for(let currBuilder=this;currBuilder;currBuilder=currBuilder.parent,currViewExpr=currViewExpr.prop("parent").cast(DYNAMIC_TYPE)){const refNodeIndex=currBuilder.refNodeIndices[name];if(null!=refNodeIndex)return importExpr(Identifiers.nodeValue).callFn([currViewExpr,literal(refNodeIndex)]);const varAst=currBuilder.variables.find(varAst=>varAst.name===name);if(varAst){const varValue=varAst.value||"$implicit";return currViewExpr.prop("context").prop(varValue)}}return null}notifyImplicitReceiverUse(){}_createLiteralArrayConverter(sourceSpan,argCount){if(0===argCount){const valueExpr=importExpr(Identifiers.EMPTY_ARRAY);return()=>valueExpr}const checkIndex=this.nodes.length;return this.nodes.push(()=>({sourceSpan:sourceSpan,nodeFlags:32,nodeDef:importExpr(Identifiers.pureArrayDef).callFn([literal(checkIndex),literal(argCount)])})),args=>callCheckStmt(checkIndex,args)}_createLiteralMapConverter(sourceSpan,keys){if(0===keys.length){const valueExpr=importExpr(Identifiers.EMPTY_MAP);return()=>valueExpr}const map=literalMap(keys.map((e,i)=>Object.assign(Object.assign({},e),{value:literal(i)}))),checkIndex=this.nodes.length;return this.nodes.push(()=>({sourceSpan:sourceSpan,nodeFlags:64,nodeDef:importExpr(Identifiers.pureObjectDef).callFn([literal(checkIndex),map])})),args=>callCheckStmt(checkIndex,args)}_createPipeConverter(expression,name,argCount){const pipe=this.usedPipes.find(pipeSummary=>pipeSummary.name===name);if(pipe.pure){const checkIndex=this.nodes.length;this.nodes.push(()=>({sourceSpan:expression.sourceSpan,nodeFlags:128,nodeDef:importExpr(Identifiers.purePipeDef).callFn([literal(checkIndex),literal(argCount)])}));let compViewExpr=VIEW_VAR,compBuilder=this;for(;compBuilder.parent;)compBuilder=compBuilder.parent,compViewExpr=compViewExpr.prop("parent").cast(DYNAMIC_TYPE);const pipeNodeIndex=compBuilder.purePipeNodeIndices[name],pipeValueExpr=importExpr(Identifiers.nodeValue).callFn([compViewExpr,literal(pipeNodeIndex)]);return args=>callUnwrapValue(expression.nodeIndex,expression.bindingIndex,callCheckStmt(checkIndex,[pipeValueExpr].concat(args)))}{const nodeIndex=this._createPipe(expression.sourceSpan,pipe),nodeValueExpr=importExpr(Identifiers.nodeValue).callFn([VIEW_VAR,literal(nodeIndex)]);return args=>callUnwrapValue(expression.nodeIndex,expression.bindingIndex,nodeValueExpr.callMethod("transform",args))}}_createPipe(sourceSpan,pipe){const nodeIndex=this.nodes.length;let flags=0;pipe.type.lifecycleHooks.forEach(lifecycleHook=>{lifecycleHook===LifecycleHooks.OnDestroy&&(flags|=lifecycleHookToNodeFlag(lifecycleHook))});const depExprs=pipe.type.diDeps.map(diDep=>depDef(this.outputCtx,diDep));return this.nodes.push(()=>({sourceSpan:sourceSpan,nodeFlags:16,nodeDef:importExpr(Identifiers.pipeDef).callFn([literal(flags),this.outputCtx.importExpr(pipe.type.reference),literalArr(depExprs)])})),nodeIndex}_preprocessUpdateExpression(expression){return{nodeIndex:expression.nodeIndex,bindingIndex:expression.bindingIndex,sourceSpan:expression.sourceSpan,context:expression.context,value:convertPropertyBindingBuiltins({createLiteralArrayConverter:argCount=>this._createLiteralArrayConverter(expression.sourceSpan,argCount),createLiteralMapConverter:keys=>this._createLiteralMapConverter(expression.sourceSpan,keys),createPipeConverter:(name,argCount)=>this._createPipeConverter(expression,name,argCount)},expression.value)}}_createNodeExpressions(){const self=this;let updateBindingCount=0;const updateRendererStmts=[],updateDirectivesStmts=[],nodeDefExprs=this.nodes.map((factory,nodeIndex)=>{const{nodeDef:nodeDef,nodeFlags:nodeFlags,updateDirectives:updateDirectives,updateRenderer:updateRenderer,sourceSpan:sourceSpan}=factory();return updateRenderer&&updateRendererStmts.push(...createUpdateStatements(nodeIndex,sourceSpan,updateRenderer,!1)),updateDirectives&&updateDirectivesStmts.push(...createUpdateStatements(nodeIndex,sourceSpan,updateDirectives,(327680&nodeFlags)>0)),applySourceSpanToExpressionIfNeeded(3&nodeFlags?new CommaExpr([LOG_VAR$1.callFn([]).callFn([]),nodeDef]):nodeDef,sourceSpan)});return{updateRendererStmts:updateRendererStmts,updateDirectivesStmts:updateDirectivesStmts,nodeDefExprs:nodeDefExprs};function createUpdateStatements(nodeIndex,sourceSpan,expressions,allowEmptyExprs){const updateStmts=[],exprs=expressions.map(({sourceSpan:sourceSpan,context:context,value:value})=>{const bindingId=`${updateBindingCount++}`,nameResolver=context===COMP_VAR?self:null,{stmts:stmts,currValExpr:currValExpr}=convertPropertyBinding(nameResolver,context,value,bindingId,BindingForm.General);return updateStmts.push(...stmts.map(stmt=>applySourceSpanToStatementIfNeeded(stmt,sourceSpan))),applySourceSpanToExpressionIfNeeded(currValExpr,sourceSpan)});return(expressions.length||allowEmptyExprs)&&updateStmts.push(applySourceSpanToStatementIfNeeded(callCheckStmt(nodeIndex,exprs).toStmt(),sourceSpan)),updateStmts}}_createElementHandleEventFn(nodeIndex,handlers){const handleEventStmts=[];let handleEventFn,handleEventBindingCount=0;if(handlers.forEach(({context:context,eventAst:eventAst,dirAst:dirAst})=>{const bindingId=`${handleEventBindingCount++}`,nameResolver=context===COMP_VAR?this:null,{stmts:stmts,allowDefault:allowDefault}=convertActionBinding(nameResolver,context,eventAst.handler,bindingId),trueStmts=stmts;allowDefault&&trueStmts.push(ALLOW_DEFAULT_VAR.set(allowDefault.and(ALLOW_DEFAULT_VAR)).toStmt());const{target:eventTarget,name:eventName}=elementEventNameAndTarget(eventAst,dirAst),fullEventName=elementEventFullName(eventTarget,eventName);handleEventStmts.push(applySourceSpanToStatementIfNeeded(new IfStmt(literal(fullEventName).identical(EVENT_NAME_VAR),trueStmts),eventAst.sourceSpan))}),handleEventStmts.length>0){const preStmts=[ALLOW_DEFAULT_VAR.set(literal(!0)).toDeclStmt(BOOL_TYPE)];!this.component.isHost&&findReadVarNames(handleEventStmts).has(COMP_VAR.name)&&preStmts.push(COMP_VAR.set(VIEW_VAR.prop("component")).toDeclStmt(this.compType)),handleEventFn=fn([new FnParam(VIEW_VAR.name,INFERRED_TYPE),new FnParam(EVENT_NAME_VAR.name,INFERRED_TYPE),new FnParam(EventHandlerVars.event.name,INFERRED_TYPE)],[...preStmts,...handleEventStmts,new ReturnStatement(ALLOW_DEFAULT_VAR)],INFERRED_TYPE)}else handleEventFn=NULL_EXPR;return handleEventFn}visitDirective(ast,context){}visitDirectiveProperty(ast,context){}visitReference(ast,context){}visitVariable(ast,context){}visitEvent(ast,context){}visitElementProperty(ast,context){}visitAttr(ast,context){}}function fixedAttrsDef(elementAst){const mapResult=Object.create(null);return elementAst.attrs.forEach(attrAst=>{mapResult[attrAst.name]=attrAst.value}),elementAst.directives.forEach(dirAst=>{Object.keys(dirAst.directive.hostAttributes).forEach(name=>{const value=dirAst.directive.hostAttributes[name],prevValue=mapResult[name];mapResult[name]=null!=prevValue?function mergeAttributeValue(attrName,attrValue1,attrValue2){return"class"==attrName||"style"==attrName?`${attrValue1} ${attrValue2}`:attrValue2}(name,prevValue,value):value})}),literalArr(Object.keys(mapResult).sort().map(attrName=>literalArr([literal(attrName),literal(mapResult[attrName])])))}function callCheckStmt(nodeIndex,exprs){return exprs.length>10?CHECK_VAR.callFn([VIEW_VAR,literal(nodeIndex),literal(1),literalArr(exprs)]):CHECK_VAR.callFn([VIEW_VAR,literal(nodeIndex),literal(0),...exprs])}function callUnwrapValue(nodeIndex,bindingIdx,expr){return importExpr(Identifiers.unwrapValue).callFn([VIEW_VAR,literal(nodeIndex),literal(bindingIdx),expr])}function elementEventNameAndTarget(eventAst,dirAst){return eventAst.isAnimation?{name:`@${eventAst.name}.${eventAst.phase}`,target:dirAst&&dirAst.directive.isComponent?"component":null}:eventAst}function calcStaticDynamicQueryFlags(query){let flags=0;return query.first&&query.static?flags|=268435456:flags|=536870912,flags}function elementEventFullName(target,name){return target?`${target}:${name}`:name}new Set(["useValue","useFactory","data","id","loadChildren"]);class BindingScope$1{static build(){const current=new Map;return{define:function(name,value){return current.set(name,value),this},done:function(){return current.size>0?new PopulatedScope(current):BindingScope$1.empty}}}}BindingScope$1.missing={},BindingScope$1.empty={resolve:name=>BindingScope$1.missing};class PopulatedScope extends BindingScope$1{constructor(bindings){super(),this.bindings=bindings}resolve(name){return this.bindings.has(name)?this.bindings.get(name):BindingScope$1.missing}}class SummaryResolver{}class JitSummaryResolver{constructor(){this._summaries=new Map}isLibraryFile(){return!1}toSummaryFileName(fileName){return fileName}fromSummaryFileName(fileName){return fileName}resolveSummary(reference){return this._summaries.get(reference)||null}getSymbolsOf(){return[]}getImportAs(reference){return reference}getKnownModuleName(fileName){return null}addSummary(summary){this._summaries.set(summary.symbol,summary)}}function _executeFunctionStatements(varNames,varValues,statements,ctx,visitor){const childCtx=ctx.createChildWihtLocalVars();for(let i=0;i<varNames.length;i++)childCtx.vars.set(varNames[i],varValues[i]);const result=visitor.visitAllStatements(statements,childCtx);return result?result.value:null}class _ExecutionContext{constructor(parent,instance,className,vars){this.parent=parent,this.instance=instance,this.className=className,this.vars=vars,this.exports=[]}createChildWihtLocalVars(){return new _ExecutionContext(this,this.instance,this.className,new Map)}}class ReturnValue{constructor(value){this.value=value}}class StatementInterpreter{constructor(reflector){this.reflector=reflector}debugAst(ast){return function debugOutputAstAsTypeScript(ast){const converter=new _TsEmitterVisitor,ctx=EmitterVisitorContext.createRoot();return(Array.isArray(ast)?ast:[ast]).forEach(ast=>{if(ast instanceof Statement)ast.visitStatement(converter,ctx);else if(ast instanceof Expression)ast.visitExpression(converter,ctx);else{if(!(ast instanceof Type$1))throw new Error(`Don't know how to print debug info for ${ast}`);ast.visitType(converter,ctx)}}),ctx.toSource()}(ast)}visitDeclareVarStmt(stmt,ctx){const initialValue=stmt.value?stmt.value.visitExpression(this,ctx):void 0;return ctx.vars.set(stmt.name,initialValue),stmt.hasModifier(StmtModifier.Exported)&&ctx.exports.push(stmt.name),null}visitWriteVarExpr(expr,ctx){const value=expr.value.visitExpression(this,ctx);let currCtx=ctx;for(;null!=currCtx;){if(currCtx.vars.has(expr.name))return currCtx.vars.set(expr.name,value),value;currCtx=currCtx.parent}throw new Error(`Not declared variable ${expr.name}`)}visitWrappedNodeExpr(ast,ctx){throw new Error("Cannot interpret a WrappedNodeExpr.")}visitTypeofExpr(ast,ctx){throw new Error("Cannot interpret a TypeofExpr")}visitReadVarExpr(ast,ctx){let varName=ast.name;if(null!=ast.builtin)switch(ast.builtin){case BuiltinVar.Super:return Object.getPrototypeOf(ctx.instance);case BuiltinVar.This:return ctx.instance;case BuiltinVar.CatchError:varName=CATCH_ERROR_VAR$2;break;case BuiltinVar.CatchStack:varName=CATCH_STACK_VAR$2;break;default:throw new Error(`Unknown builtin variable ${ast.builtin}`)}let currCtx=ctx;for(;null!=currCtx;){if(currCtx.vars.has(varName))return currCtx.vars.get(varName);currCtx=currCtx.parent}throw new Error(`Not declared variable ${varName}`)}visitWriteKeyExpr(expr,ctx){const receiver=expr.receiver.visitExpression(this,ctx),index=expr.index.visitExpression(this,ctx),value=expr.value.visitExpression(this,ctx);return receiver[index]=value,value}visitWritePropExpr(expr,ctx){const receiver=expr.receiver.visitExpression(this,ctx),value=expr.value.visitExpression(this,ctx);return receiver[expr.name]=value,value}visitInvokeMethodExpr(expr,ctx){const receiver=expr.receiver.visitExpression(this,ctx),args=this.visitAllExpressions(expr.args,ctx);let result;if(null!=expr.builtin)switch(expr.builtin){case BuiltinMethod.ConcatArray:result=receiver.concat(...args);break;case BuiltinMethod.SubscribeObservable:result=receiver.subscribe({next:args[0]});break;case BuiltinMethod.Bind:result=receiver.bind(...args);break;default:throw new Error(`Unknown builtin method ${expr.builtin}`)}else result=receiver[expr.name].apply(receiver,args);return result}visitInvokeFunctionExpr(stmt,ctx){const args=this.visitAllExpressions(stmt.args,ctx),fnExpr=stmt.fn;if(fnExpr instanceof ReadVarExpr&&fnExpr.builtin===BuiltinVar.Super)return ctx.instance.constructor.prototype.constructor.apply(ctx.instance,args),null;return stmt.fn.visitExpression(this,ctx).apply(null,args)}visitReturnStmt(stmt,ctx){return new ReturnValue(stmt.value.visitExpression(this,ctx))}visitDeclareClassStmt(stmt,ctx){const clazz=function createDynamicClass(_classStmt,_ctx,_visitor){const propertyDescriptors={};_classStmt.getters.forEach(getter=>{propertyDescriptors[getter.name]={configurable:!1,get:function(){const instanceCtx=new _ExecutionContext(_ctx,this,_classStmt.name,_ctx.vars);return _executeFunctionStatements([],[],getter.body,instanceCtx,_visitor)}}}),_classStmt.methods.forEach((function(method){const paramNames=method.params.map(param=>param.name);propertyDescriptors[method.name]={writable:!1,configurable:!1,value:function(...args){const instanceCtx=new _ExecutionContext(_ctx,this,_classStmt.name,_ctx.vars);return _executeFunctionStatements(paramNames,args,method.body,instanceCtx,_visitor)}}}));const ctorParamNames=_classStmt.constructorMethod.params.map(param=>param.name),ctor=function(...args){const instanceCtx=new _ExecutionContext(_ctx,this,_classStmt.name,_ctx.vars);_classStmt.fields.forEach(field=>{this[field.name]=void 0}),_executeFunctionStatements(ctorParamNames,args,_classStmt.constructorMethod.body,instanceCtx,_visitor)},superClass=_classStmt.parent?_classStmt.parent.visitExpression(_visitor,_ctx):Object;return ctor.prototype=Object.create(superClass.prototype,propertyDescriptors),ctor}(stmt,ctx,this);return ctx.vars.set(stmt.name,clazz),stmt.hasModifier(StmtModifier.Exported)&&ctx.exports.push(stmt.name),null}visitExpressionStmt(stmt,ctx){return stmt.expr.visitExpression(this,ctx)}visitIfStmt(stmt,ctx){return stmt.condition.visitExpression(this,ctx)?this.visitAllStatements(stmt.trueCase,ctx):null!=stmt.falseCase?this.visitAllStatements(stmt.falseCase,ctx):null}visitTryCatchStmt(stmt,ctx){try{return this.visitAllStatements(stmt.bodyStmts,ctx)}catch(e){const childCtx=ctx.createChildWihtLocalVars();return childCtx.vars.set(CATCH_ERROR_VAR$2,e),childCtx.vars.set(CATCH_STACK_VAR$2,e.stack),this.visitAllStatements(stmt.catchStmts,childCtx)}}visitThrowStmt(stmt,ctx){throw stmt.error.visitExpression(this,ctx)}visitCommentStmt(stmt,context){return null}visitJSDocCommentStmt(stmt,context){return null}visitInstantiateExpr(ast,ctx){const args=this.visitAllExpressions(ast.args,ctx);return new(ast.classExpr.visitExpression(this,ctx))(...args)}visitLiteralExpr(ast,ctx){return ast.value}visitLocalizedString(ast,context){return null}visitExternalExpr(ast,ctx){return this.reflector.resolveExternalReference(ast.value)}visitConditionalExpr(ast,ctx){return ast.condition.visitExpression(this,ctx)?ast.trueCase.visitExpression(this,ctx):null!=ast.falseCase?ast.falseCase.visitExpression(this,ctx):null}visitNotExpr(ast,ctx){return!ast.condition.visitExpression(this,ctx)}visitAssertNotNullExpr(ast,ctx){return ast.condition.visitExpression(this,ctx)}visitCastExpr(ast,ctx){return ast.value.visitExpression(this,ctx)}visitFunctionExpr(ast,ctx){return _declareFn(ast.params.map(param=>param.name),ast.statements,ctx,this)}visitDeclareFunctionStmt(stmt,ctx){const paramNames=stmt.params.map(param=>param.name);return ctx.vars.set(stmt.name,_declareFn(paramNames,stmt.statements,ctx,this)),stmt.hasModifier(StmtModifier.Exported)&&ctx.exports.push(stmt.name),null}visitBinaryOperatorExpr(ast,ctx){const lhs=()=>ast.lhs.visitExpression(this,ctx),rhs=()=>ast.rhs.visitExpression(this,ctx);switch(ast.operator){case BinaryOperator.Equals:return lhs()==rhs();case BinaryOperator.Identical:return lhs()===rhs();case BinaryOperator.NotEquals:return lhs()!=rhs();case BinaryOperator.NotIdentical:return lhs()!==rhs();case BinaryOperator.And:return lhs()&&rhs();case BinaryOperator.Or:return lhs()||rhs();case BinaryOperator.Plus:return lhs()+rhs();case BinaryOperator.Minus:return lhs()-rhs();case BinaryOperator.Divide:return lhs()/rhs();case BinaryOperator.Multiply:return lhs()*rhs();case BinaryOperator.Modulo:return lhs()%rhs();case BinaryOperator.Lower:return lhs()<rhs();case BinaryOperator.LowerEquals:return lhs()<=rhs();case BinaryOperator.Bigger:return lhs()>rhs();case BinaryOperator.BiggerEquals:return lhs()>=rhs();default:throw new Error(`Unknown operator ${ast.operator}`)}}visitReadPropExpr(ast,ctx){let result;return result=ast.receiver.visitExpression(this,ctx)[ast.name],result}visitReadKeyExpr(ast,ctx){return ast.receiver.visitExpression(this,ctx)[ast.index.visitExpression(this,ctx)]}visitLiteralArrayExpr(ast,ctx){return this.visitAllExpressions(ast.entries,ctx)}visitLiteralMapExpr(ast,ctx){const result={};return ast.entries.forEach(entry=>result[entry.key]=entry.value.visitExpression(this,ctx)),result}visitCommaExpr(ast,context){const values=this.visitAllExpressions(ast.parts,context);return values[values.length-1]}visitAllExpressions(expressions,ctx){return expressions.map(expr=>expr.visitExpression(this,ctx))}visitAllStatements(statements,ctx){for(let i=0;i<statements.length;i++){const val=statements[i].visitStatement(this,ctx);if(val instanceof ReturnValue)return val}return null}}function _declareFn(varNames,statements,ctx,visitor){return(...args)=>_executeFunctionStatements(varNames,args,statements,ctx,visitor)}const CATCH_ERROR_VAR$2="error",CATCH_STACK_VAR$2="stack";class JitCompiler{constructor(_metadataResolver,_templateParser,_styleCompiler,_viewCompiler,_ngModuleCompiler,_summaryResolver,_reflector,_jitEvaluator,_compilerConfig,_console,getExtraNgModuleProviders){this._metadataResolver=_metadataResolver,this._templateParser=_templateParser,this._styleCompiler=_styleCompiler,this._viewCompiler=_viewCompiler,this._ngModuleCompiler=_ngModuleCompiler,this._summaryResolver=_summaryResolver,this._reflector=_reflector,this._jitEvaluator=_jitEvaluator,this._compilerConfig=_compilerConfig,this._console=_console,this.getExtraNgModuleProviders=getExtraNgModuleProviders,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._sharedStylesheetCount=0,this._addedAotSummaries=new Set}compileModuleSync(moduleType){return SyncAsync_assertSync(this._compileModuleAndComponents(moduleType,!0))}compileModuleAsync(moduleType){return Promise.resolve(this._compileModuleAndComponents(moduleType,!1))}compileModuleAndAllComponentsSync(moduleType){return SyncAsync_assertSync(this._compileModuleAndAllComponents(moduleType,!0))}compileModuleAndAllComponentsAsync(moduleType){return Promise.resolve(this._compileModuleAndAllComponents(moduleType,!1))}getComponentFactory(component){return this._metadataResolver.getDirectiveSummary(component).componentFactory}loadAotSummaries(summaries){this.clearCache(),this._addAotSummaries(summaries)}_addAotSummaries(fn){if(this._addedAotSummaries.has(fn))return;this._addedAotSummaries.add(fn);const summaries=fn();for(let i=0;i<summaries.length;i++){const entry=summaries[i];if("function"==typeof entry)this._addAotSummaries(entry);else{const summary=entry;this._summaryResolver.addSummary({symbol:summary.type.reference,metadata:null,type:summary})}}}hasAotSummary(ref){return!!this._summaryResolver.resolveSummary(ref)}_filterJitIdentifiers(ids){return ids.map(mod=>mod.reference).filter(ref=>!this.hasAotSummary(ref))}_compileModuleAndComponents(moduleType,isSync){return SyncAsync_then(this._loadModules(moduleType,isSync),()=>(this._compileComponents(moduleType,null),this._compileModule(moduleType)))}_compileModuleAndAllComponents(moduleType,isSync){return SyncAsync_then(this._loadModules(moduleType,isSync),()=>{const componentFactories=[];return this._compileComponents(moduleType,componentFactories),{ngModuleFactory:this._compileModule(moduleType),componentFactories:componentFactories}})}_loadModules(mainModule,isSync){const loading=[],mainNgModule=this._metadataResolver.getNgModuleMetadata(mainModule);return this._filterJitIdentifiers(mainNgModule.transitiveModule.modules).forEach(nestedNgModule=>{const moduleMeta=this._metadataResolver.getNgModuleMetadata(nestedNgModule);this._filterJitIdentifiers(moduleMeta.declaredDirectives).forEach(ref=>{const promise=this._metadataResolver.loadDirectiveMetadata(moduleMeta.type.reference,ref,isSync);promise&&loading.push(promise)}),this._filterJitIdentifiers(moduleMeta.declaredPipes).forEach(ref=>this._metadataResolver.getOrLoadPipeMetadata(ref))}),SyncAsync_all(loading)}_compileModule(moduleType){let ngModuleFactory=this._compiledNgModuleCache.get(moduleType);if(!ngModuleFactory){const moduleMeta=this._metadataResolver.getNgModuleMetadata(moduleType),extraProviders=this.getExtraNgModuleProviders(moduleMeta.type.reference),outputCtx=createOutputContext(),compileResult=this._ngModuleCompiler.compile(outputCtx,moduleMeta,extraProviders);ngModuleFactory=this._interpretOrJit(function ngModuleJitUrl(moduleMeta){return jitSourceUrl(`${identifierName(moduleMeta.type)}/module.ngfactory.js`)}(moduleMeta),outputCtx.statements)[compileResult.ngModuleFactoryVar],this._compiledNgModuleCache.set(moduleMeta.type.reference,ngModuleFactory)}return ngModuleFactory}_compileComponents(mainModule,allComponentFactories){const ngModule=this._metadataResolver.getNgModuleMetadata(mainModule),moduleByJitDirective=new Map,templates=new Set,transJitModules=this._filterJitIdentifiers(ngModule.transitiveModule.modules);transJitModules.forEach(localMod=>{const localModuleMeta=this._metadataResolver.getNgModuleMetadata(localMod);this._filterJitIdentifiers(localModuleMeta.declaredDirectives).forEach(dirRef=>{moduleByJitDirective.set(dirRef,localModuleMeta);const dirMeta=this._metadataResolver.getDirectiveMetadata(dirRef);if(dirMeta.isComponent&&(templates.add(this._createCompiledTemplate(dirMeta,localModuleMeta)),allComponentFactories)){const template=this._createCompiledHostTemplate(dirMeta.type.reference,localModuleMeta);templates.add(template),allComponentFactories.push(dirMeta.componentFactory)}})}),transJitModules.forEach(localMod=>{const localModuleMeta=this._metadataResolver.getNgModuleMetadata(localMod);this._filterJitIdentifiers(localModuleMeta.declaredDirectives).forEach(dirRef=>{const dirMeta=this._metadataResolver.getDirectiveMetadata(dirRef);dirMeta.isComponent&&dirMeta.entryComponents.forEach(entryComponentType=>{const moduleMeta=moduleByJitDirective.get(entryComponentType.componentType);templates.add(this._createCompiledHostTemplate(entryComponentType.componentType,moduleMeta))})}),localModuleMeta.entryComponents.forEach(entryComponentType=>{if(!this.hasAotSummary(entryComponentType.componentType)){const moduleMeta=moduleByJitDirective.get(entryComponentType.componentType);templates.add(this._createCompiledHostTemplate(entryComponentType.componentType,moduleMeta))}})}),templates.forEach(template=>this._compileTemplate(template))}clearCacheFor(type){this._compiledNgModuleCache.delete(type),this._metadataResolver.clearCacheFor(type),this._compiledHostTemplateCache.delete(type),this._compiledTemplateCache.get(type)&&this._compiledTemplateCache.delete(type)}clearCache(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()}_createCompiledHostTemplate(compType,ngModule){if(!ngModule)throw new Error(`Component ${stringify(compType)} is not part of any NgModule or the module has not been imported into your module.`);let compiledTemplate=this._compiledHostTemplateCache.get(compType);if(!compiledTemplate){const compMeta=this._metadataResolver.getDirectiveMetadata(compType);assertComponent(compMeta);const hostMeta=this._metadataResolver.getHostComponentMetadata(compMeta,compMeta.componentFactory.viewDefFactory);compiledTemplate=new CompiledTemplate(!0,compMeta.type,hostMeta,ngModule,[compMeta.type]),this._compiledHostTemplateCache.set(compType,compiledTemplate)}return compiledTemplate}_createCompiledTemplate(compMeta,ngModule){let compiledTemplate=this._compiledTemplateCache.get(compMeta.type.reference);return compiledTemplate||(assertComponent(compMeta),compiledTemplate=new CompiledTemplate(!1,compMeta.type,compMeta,ngModule,ngModule.transitiveModule.directives),this._compiledTemplateCache.set(compMeta.type.reference,compiledTemplate)),compiledTemplate}_compileTemplate(template){if(template.isCompiled)return;const compMeta=template.compMeta,externalStylesheetsByModuleUrl=new Map,outputContext=createOutputContext(),componentStylesheet=this._styleCompiler.compileComponent(outputContext,compMeta);compMeta.template.externalStylesheets.forEach(stylesheetMeta=>{const compiledStylesheet=this._styleCompiler.compileStyles(createOutputContext(),compMeta,stylesheetMeta);externalStylesheetsByModuleUrl.set(stylesheetMeta.moduleUrl,compiledStylesheet)}),this._resolveStylesCompileResult(componentStylesheet,externalStylesheetsByModuleUrl);template.ngModule.transitiveModule.pipes.map(pipe=>this._metadataResolver.getPipeSummary(pipe.reference));const{template:parsedTemplate,pipes:usedPipes}=this._parseTemplate(compMeta,template.ngModule,template.directives),compileResult=this._viewCompiler.compileComponent(outputContext,compMeta,parsedTemplate,variable(componentStylesheet.stylesVar),usedPipes),evalResult=this._interpretOrJit(function templateJitUrl(ngModuleType,compMeta){return jitSourceUrl(`${identifierName(ngModuleType)}/${identifierName(compMeta.type)}.ngfactory.js`)}(template.ngModule.type,template.compMeta),outputContext.statements),viewClass=evalResult[compileResult.viewClassVar],rendererType=evalResult[compileResult.rendererTypeVar];template.compiled(viewClass,rendererType)}_parseTemplate(compMeta,ngModule,directiveIdentifiers){const preserveWhitespaces=compMeta.template.preserveWhitespaces,directives=directiveIdentifiers.map(dir=>this._metadataResolver.getDirectiveSummary(dir.reference)),pipes=ngModule.transitiveModule.pipes.map(pipe=>this._metadataResolver.getPipeSummary(pipe.reference));return this._templateParser.parse(compMeta,compMeta.template.htmlAst,directives,pipes,ngModule.schemas,templateSourceUrl(ngModule.type,compMeta,compMeta.template),preserveWhitespaces)}_resolveStylesCompileResult(result,externalStylesheetsByModuleUrl){result.dependencies.forEach((dep,i)=>{const nestedCompileResult=externalStylesheetsByModuleUrl.get(dep.moduleUrl),nestedStylesArr=this._resolveAndEvalStylesCompileResult(nestedCompileResult,externalStylesheetsByModuleUrl);dep.setValue(nestedStylesArr)})}_resolveAndEvalStylesCompileResult(result,externalStylesheetsByModuleUrl){return this._resolveStylesCompileResult(result,externalStylesheetsByModuleUrl),this._interpretOrJit(function sharedStylesheetJitUrl(meta,id){const pathParts=meta.moduleUrl.split(/\/\\/g);return jitSourceUrl(`css/${id}${pathParts[pathParts.length-1]}.ngstyle.js`)}(result.meta,this._sharedStylesheetCount++),result.outputCtx.statements)[result.stylesVar]}_interpretOrJit(sourceUrl,statements){return this._compilerConfig.useJit?this._jitEvaluator.evaluateStatements(sourceUrl,statements,this._reflector,this._compilerConfig.jitDevMode):function interpretStatements(statements,reflector){const ctx=new _ExecutionContext(null,null,null,new Map);new StatementInterpreter(reflector).visitAllStatements(statements,ctx);const result={};return ctx.exports.forEach(exportName=>{result[exportName]=ctx.vars.get(exportName)}),result}(statements,this._reflector)}}class CompiledTemplate{constructor(isHost,compType,compMeta,ngModule,directives){this.isHost=isHost,this.compType=compType,this.compMeta=compMeta,this.ngModule=ngModule,this.directives=directives,this._viewClass=null,this.isCompiled=!1}compiled(viewClass,rendererType){this._viewClass=viewClass,this.compMeta.componentViewType.setDelegate(viewClass);for(let prop in rendererType)this.compMeta.rendererType[prop]=rendererType[prop];this.isCompiled=!0}}function assertComponent(meta){if(!meta.isComponent)throw new Error(`Could not compile '${identifierName(meta.type)}' because it is not a component.`)}function createOutputContext(){return{statements:[],genFilePath:"",importExpr:symbol=>importExpr({name:identifierName(symbol),moduleName:null,runtime:symbol}),constantPool:new ConstantPool}}class CompileReflector{}const UrlResolver=class{constructor(_packagePrefix=null){this._packagePrefix=_packagePrefix}resolve(baseUrl,url){let resolvedUrl=url;null!=baseUrl&&baseUrl.length>0&&(resolvedUrl=function _resolveUrl(base,url){const parts=_split(encodeURI(url)),baseParts=_split(base);if(null!=parts[_ComponentIndex.Scheme])return _joinAndCanonicalizePath(parts);parts[_ComponentIndex.Scheme]=baseParts[_ComponentIndex.Scheme];for(let i=_ComponentIndex.Scheme;i<=_ComponentIndex.Port;i++)null==parts[i]&&(parts[i]=baseParts[i]);if("/"==parts[_ComponentIndex.Path][0])return _joinAndCanonicalizePath(parts);let path=baseParts[_ComponentIndex.Path];null==path&&(path="/");const index=path.lastIndexOf("/");return path=path.substring(0,index+1)+parts[_ComponentIndex.Path],parts[_ComponentIndex.Path]=path,_joinAndCanonicalizePath(parts)}(baseUrl,resolvedUrl));const resolvedParts=_split(resolvedUrl);let prefix=this._packagePrefix;if(null!=prefix&&null!=resolvedParts&&"package"==resolvedParts[_ComponentIndex.Scheme]){let path=resolvedParts[_ComponentIndex.Path];return prefix=prefix.replace(/\/+$/,""),path=path.replace(/^\/+/,""),`${prefix}/${path}`}return resolvedUrl}};const _splitRe=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");var _ComponentIndex;function _split(uri){return uri.match(_splitRe)}function _joinAndCanonicalizePath(parts){let path=parts[_ComponentIndex.Path];return path=null==path?"":function _removeDotSegments(path){if("/"==path)return"/";const leadingSlash="/"==path[0]?"/":"",trailingSlash="/"===path[path.length-1]?"/":"",segments=path.split("/"),out=[];let up=0;for(let pos=0;pos<segments.length;pos++){const segment=segments[pos];switch(segment){case"":case".":break;case"..":out.length>0?out.pop():up++;break;default:out.push(segment)}}if(""==leadingSlash){for(;up-- >0;)out.unshift("..");0===out.length&&out.push(".")}return leadingSlash+out.join("/")+trailingSlash}(path),parts[_ComponentIndex.Path]=path,function _buildFromEncodedParts(opt_scheme,opt_userInfo,opt_domain,opt_port,opt_path,opt_queryData,opt_fragment){const out=[];return null!=opt_scheme&&out.push(opt_scheme+":"),null!=opt_domain&&(out.push("//"),null!=opt_userInfo&&out.push(opt_userInfo+"@"),out.push(opt_domain),null!=opt_port&&out.push(":"+opt_port)),null!=opt_path&&out.push(opt_path),null!=opt_queryData&&out.push("?"+opt_queryData),null!=opt_fragment&&out.push("#"+opt_fragment),out.join("")}(parts[_ComponentIndex.Scheme],parts[_ComponentIndex.UserInfo],parts[_ComponentIndex.Domain],parts[_ComponentIndex.Port],path,parts[_ComponentIndex.QueryData],parts[_ComponentIndex.Fragment])}!function(_ComponentIndex){_ComponentIndex[_ComponentIndex.Scheme=1]="Scheme",_ComponentIndex[_ComponentIndex.UserInfo=2]="UserInfo",_ComponentIndex[_ComponentIndex.Domain=3]="Domain",_ComponentIndex[_ComponentIndex.Port=4]="Port",_ComponentIndex[_ComponentIndex.Path=5]="Path",_ComponentIndex[_ComponentIndex.QueryData=6]="QueryData",_ComponentIndex[_ComponentIndex.Fragment=7]="Fragment"}(_ComponentIndex||(_ComponentIndex={}));!function publishFacade(global){(global.ng||(global.ng={})).\u0275compilerFacade=new CompilerFacadeImpl}(_global);const builtinExternalReferences=function createBuiltinExternalReferencesMap(){const map=new Map;return map.set(Identifiers.ANALYZE_FOR_ENTRY_COMPONENTS,core.ANALYZE_FOR_ENTRY_COMPONENTS),map.set(Identifiers.ElementRef,core.ElementRef),map.set(Identifiers.NgModuleRef,core.NgModuleRef),map.set(Identifiers.ViewContainerRef,core.ViewContainerRef),map.set(Identifiers.ChangeDetectorRef,core.ChangeDetectorRef),map.set(Identifiers.Renderer2,core.Renderer2),map.set(Identifiers.QueryList,core.QueryList),map.set(Identifiers.TemplateRef,core.TemplateRef),map.set(Identifiers.CodegenComponentFactoryResolver,core["\u0275CodegenComponentFactoryResolver"]),map.set(Identifiers.ComponentFactoryResolver,core.ComponentFactoryResolver),map.set(Identifiers.ComponentFactory,core.ComponentFactory),map.set(Identifiers.ComponentRef,core.ComponentRef),map.set(Identifiers.NgModuleFactory,core.NgModuleFactory),map.set(Identifiers.createModuleFactory,core["\u0275cmf"]),map.set(Identifiers.moduleDef,core["\u0275mod"]),map.set(Identifiers.moduleProviderDef,core["\u0275mpd"]),map.set(Identifiers.RegisterModuleFactoryFn,core["\u0275registerModuleFactory"]),map.set(Identifiers.Injector,core.Injector),map.set(Identifiers.ViewEncapsulation,core.ViewEncapsulation),map.set(Identifiers.ChangeDetectionStrategy,core.ChangeDetectionStrategy),map.set(Identifiers.SecurityContext,core.SecurityContext),map.set(Identifiers.LOCALE_ID,core.LOCALE_ID),map.set(Identifiers.TRANSLATIONS_FORMAT,core.TRANSLATIONS_FORMAT),map.set(Identifiers.inlineInterpolate,core["\u0275inlineInterpolate"]),map.set(Identifiers.interpolate,core["\u0275interpolate"]),map.set(Identifiers.EMPTY_ARRAY,core["\u0275EMPTY_ARRAY"]),map.set(Identifiers.EMPTY_MAP,core["\u0275EMPTY_MAP"]),map.set(Identifiers.viewDef,core["\u0275vid"]),map.set(Identifiers.elementDef,core["\u0275eld"]),map.set(Identifiers.anchorDef,core["\u0275and"]),map.set(Identifiers.textDef,core["\u0275ted"]),map.set(Identifiers.directiveDef,core["\u0275did"]),map.set(Identifiers.providerDef,core["\u0275prd"]),map.set(Identifiers.queryDef,core["\u0275qud"]),map.set(Identifiers.pureArrayDef,core["\u0275pad"]),map.set(Identifiers.pureObjectDef,core["\u0275pod"]),map.set(Identifiers.purePipeDef,core["\u0275ppd"]),map.set(Identifiers.pipeDef,core["\u0275pid"]),map.set(Identifiers.nodeValue,core["\u0275nov"]),map.set(Identifiers.ngContentDef,core["\u0275ncd"]),map.set(Identifiers.unwrapValue,core["\u0275unv"]),map.set(Identifiers.createRendererType2,core["\u0275crt"]),map.set(Identifiers.createComponentFactory,core["\u0275ccf"]),map}();const ERROR_COLLECTOR_TOKEN=new core.InjectionToken("ErrorCollector"),DEFAULT_PACKAGE_URL_PROVIDER={provide:core.PACKAGE_ROOT_URL,useValue:"/"},_NO_RESOURCE_LOADER={get(url){throw new Error(`No ResourceLoader implementation has been provided. Can't read the url "${url}"`)}},baseHtmlParser=new core.InjectionToken("HtmlParser");const platform_browser_dynamic_0=new class{constructor(){this.reflectionCapabilities=new core["\u0275ReflectionCapabilities"]}componentModuleUrl(type,cmpMetadata){const moduleId=cmpMetadata.moduleId;if("string"==typeof moduleId){return function getUrlScheme(url){const match=_split(url);return match&&match[_ComponentIndex.Scheme]||""}(moduleId)?moduleId:`package:${moduleId}`}if(null!=moduleId)throw syntaxError(`moduleId should be a string in "${Object(core["\u0275stringify"])(type)}". See https://goo.gl/wIDDiL for more information.\n`+"If you're using Webpack you should inline the template and the styles, see https://goo.gl/X2J8zc.");return`./${Object(core["\u0275stringify"])(type)}`}parameters(typeOrFunc){return this.reflectionCapabilities.parameters(typeOrFunc)}tryAnnotations(typeOrFunc){return this.annotations(typeOrFunc)}annotations(typeOrFunc){return this.reflectionCapabilities.annotations(typeOrFunc)}shallowAnnotations(typeOrFunc){throw new Error("Not supported in JIT mode")}propMetadata(typeOrFunc){return this.reflectionCapabilities.propMetadata(typeOrFunc)}hasLifecycleHook(type,lcProperty){return this.reflectionCapabilities.hasLifecycleHook(type,lcProperty)}guards(type){return this.reflectionCapabilities.guards(type)}resolveExternalReference(ref){return builtinExternalReferences.get(ref)||ref.runtime}},platform_browser_dynamic_1=_NO_RESOURCE_LOADER,\u02753=new CompilerConfig,COMPILER_PROVIDERS=(core["\u0275Console"],new core.Optional,new core.Inject(core.TRANSLATIONS),new core.Optional,new core.Inject(core.TRANSLATIONS_FORMAT),core["\u0275Console"],core["\u0275Console"],core["\u0275Console"],core.Optional,core.Optional,core.Compiler,core.Injector,core["\u0275Console"],core.PACKAGE_ROOT_URL,[{provide:core.Compiler,useFactory:()=>new core.Compiler}]);function _lastDefined(args){for(let i=args.length-1;i>=0;i--)if(void 0!==args[i])return args[i]}function _mergeArrays(parts){const result=[];return parts.forEach(part=>part&&result.push(...part)),result}const platformCoreDynamic=Object(core.createPlatformFactory)(core.platformCore,"coreDynamic",[{provide:core.COMPILER_OPTIONS,useValue:{},multi:!0},{provide:core.CompilerFactory,useClass:class{constructor(defaultOptions){const compilerOptions={useJit:!0,defaultEncapsulation:core.ViewEncapsulation.Emulated,missingTranslation:core.MissingTranslationStrategy.Warning};this._defaultOptions=[compilerOptions,...defaultOptions]}createCompiler(options=[]){const opts=function _mergeOptions(optionsArr){return{useJit:_lastDefined(optionsArr.map(options=>options.useJit)),defaultEncapsulation:_lastDefined(optionsArr.map(options=>options.defaultEncapsulation)),providers:_mergeArrays(optionsArr.map(options=>options.providers)),missingTranslation:_lastDefined(optionsArr.map(options=>options.missingTranslation)),preserveWhitespaces:_lastDefined(optionsArr.map(options=>options.preserveWhitespaces))}}(this._defaultOptions.concat(options));return core.Injector.create([COMPILER_PROVIDERS,{provide:CompilerConfig,useFactory:()=>new CompilerConfig({useJit:opts.useJit,jitDevMode:Object(core.isDevMode)(),defaultEncapsulation:opts.defaultEncapsulation,missingTranslation:opts.missingTranslation,preserveWhitespaces:opts.preserveWhitespaces}),deps:[]},opts.providers]).get(core.Compiler)}},deps:[core.COMPILER_OPTIONS]}]);class platform_browser_dynamic_ResourceLoaderImpl extends ResourceLoader{get(url){let resolve,reject;const promise=new Promise((res,rej)=>{resolve=res,reject=rej}),xhr=new XMLHttpRequest;return xhr.open("GET",url,!0),xhr.responseType="text",xhr.onload=function(){const response=xhr.response||xhr.responseText;let status=1223===xhr.status?204:xhr.status;0===status&&(status=response?200:0),200<=status&&status<=300?resolve(response):reject(`Failed to load ${url}`)},xhr.onerror=function(){reject(`Failed to load ${url}`)},xhr.send(),promise}}platform_browser_dynamic_ResourceLoaderImpl.\u0275fac=function ResourceLoaderImpl_Factory(t){return \u0275ResourceLoaderImpl_BaseFactory(t||platform_browser_dynamic_ResourceLoaderImpl)},platform_browser_dynamic_ResourceLoaderImpl.\u0275prov=core["\u0275\u0275defineInjectable"]({token:platform_browser_dynamic_ResourceLoaderImpl,factory:platform_browser_dynamic_ResourceLoaderImpl.\u0275fac});const \u0275ResourceLoaderImpl_BaseFactory=core["\u0275\u0275getInheritedFactory"](platform_browser_dynamic_ResourceLoaderImpl),\u02750$2={providers:[{provide:ResourceLoader,useClass:platform_browser_dynamic_ResourceLoaderImpl,deps:[]}]},\u02751$1=common["\u0275PLATFORM_BROWSER_ID"],INTERNAL_BROWSER_DYNAMIC_PLATFORM_PROVIDERS=[platform_browser["\u0275INTERNAL_BROWSER_PLATFORM_PROVIDERS"],{provide:core.COMPILER_OPTIONS,useValue:\u02750$2,multi:!0},{provide:core.PLATFORM_ID,useValue:\u02751$1}];new core.Version("9.0.7"),Object(core.createPlatformFactory)(platformCoreDynamic,"browserDynamic",INTERNAL_BROWSER_DYNAMIC_PLATFORM_PROVIDERS);class animations_BrowserAnimationBuilder extends AnimationBuilder{constructor(rootRenderer,doc){super(),this._nextAnimationId=0;const typeData={id:"0",encapsulation:core.ViewEncapsulation.None,styles:[],data:{animation:[]}};this._renderer=rootRenderer.createRenderer(doc.body,typeData)}build(animation){const id=this._nextAnimationId.toString();this._nextAnimationId++;const entry=Array.isArray(animation)?sequence(animation):animation;return issueAnimationCommand(this._renderer,null,id,"register",[entry]),new animations_BrowserAnimationFactory(id,this._renderer)}}animations_BrowserAnimationBuilder.\u0275fac=function BrowserAnimationBuilder_Factory(t){return new(t||animations_BrowserAnimationBuilder)(core["\u0275\u0275inject"](core.RendererFactory2),core["\u0275\u0275inject"](common.DOCUMENT))},animations_BrowserAnimationBuilder.\u0275prov=core["\u0275\u0275defineInjectable"]({token:animations_BrowserAnimationBuilder,factory:animations_BrowserAnimationBuilder.\u0275fac}),animations_BrowserAnimationBuilder.ctorParameters=()=>[{type:core.RendererFactory2},{type:void 0,decorators:[{type:core.Inject,args:[common.DOCUMENT]}]}];class animations_BrowserAnimationFactory extends class{}{constructor(_id,_renderer){super(),this._id=_id,this._renderer=_renderer}create(element,options){return new RendererAnimationPlayer(this._id,element,options||{},this._renderer)}}class RendererAnimationPlayer{constructor(id,element,options,_renderer){this.id=id,this.element=element,this._renderer=_renderer,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",options)}_listen(eventName,callback){return this._renderer.listen(this.element,`@@${this.id}:${eventName}`,callback)}_command(command,...args){return issueAnimationCommand(this._renderer,this.element,this.id,command,args)}onDone(fn){this._listen("done",fn)}onStart(fn){this._listen("start",fn)}onDestroy(fn){this._listen("destroy",fn)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(p){this._command("setPosition",p)}getPosition(){return 0}}function issueAnimationCommand(renderer,element,id,command,args){return renderer.setProperty(element,`@@${id}:${command}`,args)}class AnimationRendererFactory{constructor(delegate,engine,_zone){this.delegate=delegate,this.engine=engine,this._zone=_zone,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),engine.onRemovalComplete=(element,delegate)=>{delegate&&delegate.parentNode(element)&&delegate.removeChild(element.parentNode,element)}}createRenderer(hostElement,type){const delegate=this.delegate.createRenderer(hostElement,type);if(!(hostElement&&type&&type.data&&type.data.animation)){let renderer=this._rendererCache.get(delegate);return renderer||(renderer=new BaseAnimationRenderer("",delegate,this.engine),this._rendererCache.set(delegate,renderer)),renderer}const componentId=type.id,namespaceId=type.id+"-"+this._currentId;this._currentId++,this.engine.register(namespaceId,hostElement);const registerTrigger=trigger=>{Array.isArray(trigger)?trigger.forEach(registerTrigger):this.engine.registerTrigger(componentId,namespaceId,hostElement,trigger.name,trigger)};return type.data.animation.forEach(registerTrigger),new AnimationRenderer(this,namespaceId,delegate,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(count,fn,data){count>=0&&count<this._microtaskId?this._zone.run(()=>fn(data)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(tuple=>{const[fn,data]=tuple;fn(data)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([fn,data]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}AnimationRendererFactory.\u0275fac=function AnimationRendererFactory_Factory(t){return new(t||AnimationRendererFactory)(core["\u0275\u0275inject"](core.RendererFactory2),core["\u0275\u0275inject"](AnimationEngine),core["\u0275\u0275inject"](core.NgZone))},AnimationRendererFactory.\u0275prov=core["\u0275\u0275defineInjectable"]({token:AnimationRendererFactory,factory:AnimationRendererFactory.\u0275fac}),AnimationRendererFactory.ctorParameters=()=>[{type:core.RendererFactory2},{type:AnimationEngine},{type:core.NgZone}];class BaseAnimationRenderer{constructor(namespaceId,delegate,engine){this.namespaceId=namespaceId,this.delegate=delegate,this.engine=engine,this.destroyNode=this.delegate.destroyNode?n=>delegate.destroyNode(n):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(name,namespace){return this.delegate.createElement(name,namespace)}createComment(value){return this.delegate.createComment(value)}createText(value){return this.delegate.createText(value)}appendChild(parent,newChild){this.delegate.appendChild(parent,newChild),this.engine.onInsert(this.namespaceId,newChild,parent,!1)}insertBefore(parent,newChild,refChild){this.delegate.insertBefore(parent,newChild,refChild),this.engine.onInsert(this.namespaceId,newChild,parent,!0)}removeChild(parent,oldChild,isHostElement){this.engine.onRemove(this.namespaceId,oldChild,this.delegate,isHostElement)}selectRootElement(selectorOrNode,preserveContent){return this.delegate.selectRootElement(selectorOrNode,preserveContent)}parentNode(node){return this.delegate.parentNode(node)}nextSibling(node){return this.delegate.nextSibling(node)}setAttribute(el,name,value,namespace){this.delegate.setAttribute(el,name,value,namespace)}removeAttribute(el,name,namespace){this.delegate.removeAttribute(el,name,namespace)}addClass(el,name){this.delegate.addClass(el,name)}removeClass(el,name){this.delegate.removeClass(el,name)}setStyle(el,style,value,flags){this.delegate.setStyle(el,style,value,flags)}removeStyle(el,style,flags){this.delegate.removeStyle(el,style,flags)}setProperty(el,name,value){"@"==name.charAt(0)&&"@.disabled"==name?this.disableAnimations(el,!!value):this.delegate.setProperty(el,name,value)}setValue(node,value){this.delegate.setValue(node,value)}listen(target,eventName,callback){return this.delegate.listen(target,eventName,callback)}disableAnimations(element,value){this.engine.disableAnimations(element,value)}}class AnimationRenderer extends BaseAnimationRenderer{constructor(factory,namespaceId,delegate,engine){super(namespaceId,delegate,engine),this.factory=factory,this.namespaceId=namespaceId}setProperty(el,name,value){"@"==name.charAt(0)?"."==name.charAt(1)&&"@.disabled"==name?(value=void 0===value||!!value,this.disableAnimations(el,value)):this.engine.process(this.namespaceId,el,name.substr(1),value):this.delegate.setProperty(el,name,value)}listen(target,eventName,callback){if("@"==eventName.charAt(0)){const element=function resolveElementFromTarget(target){switch(target){case"body":return document.body;case"document":return document;case"window":return window;default:return target}}(target);let name=eventName.substr(1),phase="";return"@"!=name.charAt(0)&&([name,phase]=function parseTriggerCallbackName(triggerName){const dotIndex=triggerName.indexOf("."),trigger=triggerName.substring(0,dotIndex),phase=triggerName.substr(dotIndex+1);return[trigger,phase]}(name)),this.engine.listen(this.namespaceId,element,name,phase,event=>{const countId=event._data||-1;this.factory.scheduleListenerCallback(countId,callback,event)})}return this.delegate.listen(target,eventName,callback)}}class animations_InjectableAnimationEngine extends AnimationEngine{constructor(doc,driver,normalizer){super(doc.body,driver,normalizer)}}animations_InjectableAnimationEngine.\u0275fac=function InjectableAnimationEngine_Factory(t){return new(t||animations_InjectableAnimationEngine)(core["\u0275\u0275inject"](common.DOCUMENT),core["\u0275\u0275inject"](AnimationDriver),core["\u0275\u0275inject"](AnimationStyleNormalizer))},animations_InjectableAnimationEngine.\u0275prov=core["\u0275\u0275defineInjectable"]({token:animations_InjectableAnimationEngine,factory:animations_InjectableAnimationEngine.\u0275fac}),animations_InjectableAnimationEngine.ctorParameters=()=>[{type:void 0,decorators:[{type:core.Inject,args:[common.DOCUMENT]}]},{type:AnimationDriver},{type:AnimationStyleNormalizer}];const ANIMATION_MODULE_TYPE=new core.InjectionToken("AnimationModuleType"),SHARED_ANIMATION_PROVIDERS=[{provide:AnimationBuilder,useClass:animations_BrowserAnimationBuilder},{provide:AnimationStyleNormalizer,useFactory:function instantiateDefaultStyleNormalizer(){return new WebAnimationsStyleNormalizer}},{provide:AnimationEngine,useClass:animations_InjectableAnimationEngine},{provide:core.RendererFactory2,useFactory:function instantiateRendererFactory(renderer,engine,zone){return new AnimationRendererFactory(renderer,engine,zone)},deps:[platform_browser["\u0275DomRendererFactory2"],AnimationEngine,core.NgZone]}],BROWSER_ANIMATIONS_PROVIDERS=[{provide:AnimationDriver,useFactory:function instantiateSupportedAnimationDriver(){return function supportsWebAnimations(){return"function"==typeof getElementAnimateFn()}()?new WebAnimationsDriver:new CssKeyframesDriver}},{provide:ANIMATION_MODULE_TYPE,useValue:"BrowserAnimations"},...SHARED_ANIMATION_PROVIDERS],BROWSER_NOOP_ANIMATIONS_PROVIDERS=[{provide:AnimationDriver,useClass:browser_NoopAnimationDriver},{provide:ANIMATION_MODULE_TYPE,useValue:"NoopAnimations"},...SHARED_ANIMATION_PROVIDERS];class BrowserAnimationsModule{}BrowserAnimationsModule.\u0275mod=core["\u0275\u0275defineNgModule"]({type:BrowserAnimationsModule}),BrowserAnimationsModule.\u0275inj=core["\u0275\u0275defineInjector"]({factory:function BrowserAnimationsModule_Factory(t){return new(t||BrowserAnimationsModule)},providers:BROWSER_ANIMATIONS_PROVIDERS,imports:[platform_browser.BrowserModule]});class NoopAnimationsModule{}NoopAnimationsModule.\u0275mod=core["\u0275\u0275defineNgModule"]({type:NoopAnimationsModule}),NoopAnimationsModule.\u0275inj=core["\u0275\u0275defineInjector"]({factory:function NoopAnimationsModule_Factory(t){return new(t||NoopAnimationsModule)},providers:BROWSER_NOOP_ANIMATIONS_PROVIDERS,imports:[platform_browser.BrowserModule]});var Subject=__webpack_require__("XNiG"),external_url_=__webpack_require__("bzos"),operators_first=__webpack_require__("SxV6");__webpack_require__.d(__webpack_exports__,"BEFORE_APP_SERIALIZED",(function(){return BEFORE_APP_SERIALIZED})),__webpack_require__.d(__webpack_exports__,"INITIAL_CONFIG",(function(){return INITIAL_CONFIG})),__webpack_require__.d(__webpack_exports__,"PlatformState",(function(){return PlatformState})),__webpack_require__.d(__webpack_exports__,"ServerModule",(function(){return ServerModule})),__webpack_require__.d(__webpack_exports__,"ServerTransferStateModule",(function(){return ServerTransferStateModule})),__webpack_require__.d(__webpack_exports__,"VERSION",(function(){return platform_server_VERSION})),__webpack_require__.d(__webpack_exports__,"platformDynamicServer",(function(){return platformDynamicServer})),__webpack_require__.d(__webpack_exports__,"platformServer",(function(){return platformServer})),__webpack_require__.d(__webpack_exports__,"renderModule",(function(){return renderModule})),__webpack_require__.d(__webpack_exports__,"renderModuleFactory",(function(){return renderModuleFactory})),__webpack_require__.d(__webpack_exports__,"\u0275INTERNAL_SERVER_PLATFORM_PROVIDERS",(function(){return INTERNAL_SERVER_PLATFORM_PROVIDERS})),__webpack_require__.d(__webpack_exports__,"\u0275SERVER_RENDER_PROVIDERS",(function(){return SERVER_RENDER_PROVIDERS})),__webpack_require__.d(__webpack_exports__,"\u0275ServerRendererFactory2",(function(){return platform_server_ServerRendererFactory2})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_server_platform_server_a",(function(){return instantiateServerRendererFactory})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_server_platform_server_b",(function(){return serializeTransferStateFactory})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_server_platform_server_c",(function(){return platform_server_ServerStylesHost})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_server_platform_server_d",(function(){return platform_server_ServerEventManagerPlugin})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_server_platform_server_e",(function(){return ServerXhr})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_server_platform_server_f",(function(){return zoneWrappedInterceptingHandler})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_server_platform_server_g",(function(){return SERVER_HTTP_PROVIDERS}));const domino=__webpack_require__("owBI");function _notImplemented(methodName){return new Error("This method is not implemented in DominoAdapter: "+methodName)}function parseDocument(html,url="/"){return domino.createWindow(html,url).document}class platform_server_DominoAdapter extends platform_browser["\u0275BrowserDomAdapter"]{static makeCurrent(){!function setDomTypes(){Object.assign(global,domino.impl),global.KeyboardEvent=domino.impl.Event}(),Object(common["\u0275setRootDomAdapter"])(new platform_server_DominoAdapter)}log(error){console.log(error)}logGroup(error){console.error(error)}logGroupEnd(){}supportsDOMEvents(){return!1}createHtmlDocument(){return parseDocument("<html><head><title>fakeTitle</title></head><body></body></html>")}getDefaultDocument(){return platform_server_DominoAdapter.defaultDoc||(platform_server_DominoAdapter.defaultDoc=domino.createDocument()),platform_server_DominoAdapter.defaultDoc}isElementNode(node){return!!node&&node.nodeType===platform_server_DominoAdapter.defaultDoc.ELEMENT_NODE}isShadowRoot(node){return node.shadowRoot==node}getProperty(el,name){return"href"===name?el.getAttribute("href"):"innerText"===name?el.textContent:el[name]}getGlobalEventTarget(doc,target){return"window"===target?doc.defaultView:"document"===target?doc:"body"===target?doc.body:null}getBaseHref(doc){const base=doc.documentElement.querySelector("base");let href="";return base&&(href=base.getAttribute("href")),href}dispatchEvent(el,evt){el.dispatchEvent(evt);const win=(el.ownerDocument||el).defaultView;win&&win.dispatchEvent(evt)}getHistory(){throw _notImplemented("getHistory")}getLocation(){throw _notImplemented("getLocation")}getUserAgent(){return"Fake user agent"}performanceNow(){return Date.now()}supportsCookies(){return!1}getCookie(name){throw _notImplemented("getCookie")}}class PlatformState{constructor(_doc){this._doc=_doc}renderToString(){return function serializeDocument(doc){return doc.serialize()}(this._doc)}getDocument(){return this._doc}}PlatformState.\u0275fac=function PlatformState_Factory(t){return new(t||PlatformState)(core["\u0275\u0275inject"](common.DOCUMENT))},PlatformState.\u0275prov=core["\u0275\u0275defineInjectable"]({token:PlatformState,factory:PlatformState.\u0275fac}),PlatformState.ctorParameters=()=>[{type:void 0,decorators:[{type:core.Inject,args:[common.DOCUMENT]}]}];const xhr2=__webpack_require__("VzHR");class ServerXhr{build(){return new xhr2.XMLHttpRequest}}ServerXhr.\u0275fac=function ServerXhr_Factory(t){return new(t||ServerXhr)},ServerXhr.\u0275prov=core["\u0275\u0275defineInjectable"]({token:ServerXhr,factory:ServerXhr.\u0275fac});class ZoneClientBackend extends class{wrap(request){return new Observable.a(observer=>{let task=null,scheduled=!1,sub=null,savedResult=null,savedError=null;return(_task=>{task=_task,scheduled=!0;const delegate=this.delegate(request);sub=delegate.subscribe(res=>savedResult=res,err=>{if(!scheduled)throw new Error("An http observable was completed twice. This shouldn't happen, please file a bug.");savedError=err,scheduled=!1,task.invoke()},()=>{if(!scheduled)throw new Error("An http observable was completed twice. This shouldn't happen, please file a bug.");scheduled=!1,task.invoke()})})(Zone.current.scheduleMacroTask("ZoneMacroTaskWrapper.subscribe",()=>{null!==savedError?observer.error(savedError):(observer.next(savedResult),observer.complete())},{},()=>null,_task=>{scheduled&&(scheduled=!1,sub&&(sub.unsubscribe(),sub=null))})),()=>{scheduled&&task&&(task.zone.cancelTask(task),scheduled=!1),sub&&(sub.unsubscribe(),sub=null)}})}}{constructor(backend){super(),this.backend=backend}handle(request){return this.wrap(request)}delegate(request){return this.backend.handle(request)}}function zoneWrappedInterceptingHandler(backend,injector){const realBackend=new HttpInterceptingHandler(backend,injector);return new ZoneClientBackend(realBackend)}const SERVER_HTTP_PROVIDERS=[{provide:XhrFactory,useClass:ServerXhr},{provide:HttpHandler,useFactory:zoneWrappedInterceptingHandler,deps:[HttpBackend,core.Injector]}];const INITIAL_CONFIG=new core.InjectionToken("Server.INITIAL_CONFIG"),BEFORE_APP_SERIALIZED=new core.InjectionToken("Server.RENDER_MODULE_HOOK");function parseUrl(urlStr){const parsedUrl=Object(external_url_.parse)(urlStr);return{hostname:parsedUrl.hostname||"",protocol:parsedUrl.protocol||"",port:parsedUrl.port||"",pathname:parsedUrl.pathname||"",search:parsedUrl.search||"",hash:parsedUrl.hash||""}}class platform_server_ServerPlatformLocation{constructor(_doc,_config){this._doc=_doc,this.href="/",this.hostname="/",this.protocol="/",this.port="/",this.pathname="/",this.search="",this.hash="",this._hashUpdate=new Subject.a;const config=_config;if(config&&config.url){const parsedUrl=parseUrl(config.url);this.hostname=parsedUrl.hostname,this.protocol=parsedUrl.protocol,this.port=parsedUrl.port,this.pathname=parsedUrl.pathname,this.search=parsedUrl.search,this.hash=parsedUrl.hash}}getBaseHrefFromDOM(){return Object(common["\u0275getDOM"])().getBaseHref(this._doc)}onPopState(fn){}onHashChange(fn){this._hashUpdate.subscribe(fn)}get url(){return`${this.pathname}${this.search}${this.hash}`}setHash(value,oldUrl){if(this.hash===value)return;this.hash=value;const newUrl=this.url;!function platform_server_scheduleMicroTask(fn){Zone.current.scheduleMicroTask("scheduleMicrotask",fn)}(()=>this._hashUpdate.next({type:"hashchange",state:null,oldUrl:oldUrl,newUrl:newUrl}))}replaceState(state,title,newUrl){const oldUrl=this.url,parsedUrl=parseUrl(newUrl);this.pathname=parsedUrl.pathname,this.search=parsedUrl.search,this.setHash(parsedUrl.hash,oldUrl)}pushState(state,title,newUrl){this.replaceState(state,title,newUrl)}forward(){throw new Error("Not implemented")}back(){throw new Error("Not implemented")}getState(){}}platform_server_ServerPlatformLocation.\u0275fac=function ServerPlatformLocation_Factory(t){return new(t||platform_server_ServerPlatformLocation)(core["\u0275\u0275inject"](common.DOCUMENT),core["\u0275\u0275inject"](INITIAL_CONFIG,8))},platform_server_ServerPlatformLocation.\u0275prov=core["\u0275\u0275defineInjectable"]({token:platform_server_ServerPlatformLocation,factory:platform_server_ServerPlatformLocation.\u0275fac}),platform_server_ServerPlatformLocation.ctorParameters=()=>[{type:void 0,decorators:[{type:core.Inject,args:[common.DOCUMENT]}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Inject,args:[INITIAL_CONFIG]}]}];class platform_server_ServerEventManagerPlugin{constructor(doc){this.doc=doc}supports(eventName){return!0}addEventListener(element,eventName,handler){return Object(common["\u0275getDOM"])().onAndCancel(element,eventName,handler)}addGlobalEventListener(element,eventName,handler){const target=Object(common["\u0275getDOM"])().getGlobalEventTarget(this.doc,element);if(!target)throw new Error(`Unsupported event target ${target} for event ${eventName}`);return this.addEventListener(target,eventName,handler)}}platform_server_ServerEventManagerPlugin.\u0275fac=function ServerEventManagerPlugin_Factory(t){return new(t||platform_server_ServerEventManagerPlugin)(core["\u0275\u0275inject"](common.DOCUMENT))},platform_server_ServerEventManagerPlugin.\u0275prov=core["\u0275\u0275defineInjectable"]({token:platform_server_ServerEventManagerPlugin,factory:platform_server_ServerEventManagerPlugin.\u0275fac}),platform_server_ServerEventManagerPlugin.ctorParameters=()=>[{type:void 0,decorators:[{type:core.Inject,args:[common.DOCUMENT]}]}];const platform_server_EMPTY_ARRAY=[],DEFAULT_SCHEMA=new DomElementSchemaRegistry;class platform_server_ServerRendererFactory2{constructor(eventManager,ngZone,document,sharedStylesHost){this.eventManager=eventManager,this.ngZone=ngZone,this.document=document,this.sharedStylesHost=sharedStylesHost,this.rendererByCompId=new Map,this.schema=DEFAULT_SCHEMA,this.defaultRenderer=new platform_server_DefaultServerRenderer2(eventManager,document,ngZone,this.schema)}createRenderer(element,type){if(!element||!type)return this.defaultRenderer;switch(type.encapsulation){case core.ViewEncapsulation.Native:case core.ViewEncapsulation.Emulated:{let renderer=this.rendererByCompId.get(type.id);return renderer||(renderer=new platform_server_EmulatedEncapsulationServerRenderer2(this.eventManager,this.document,this.ngZone,this.sharedStylesHost,this.schema,type),this.rendererByCompId.set(type.id,renderer)),renderer.applyToHost(element),renderer}default:if(!this.rendererByCompId.has(type.id)){const styles=Object(platform_browser["\u0275flattenStyles"])(type.id,type.styles,[]);this.sharedStylesHost.addStyles(styles),this.rendererByCompId.set(type.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}platform_server_ServerRendererFactory2.\u0275fac=function ServerRendererFactory2_Factory(t){return new(t||platform_server_ServerRendererFactory2)(core["\u0275\u0275inject"](platform_browser.EventManager),core["\u0275\u0275inject"](core.NgZone),core["\u0275\u0275inject"](common.DOCUMENT),core["\u0275\u0275inject"](platform_browser["\u0275SharedStylesHost"]))},platform_server_ServerRendererFactory2.\u0275prov=core["\u0275\u0275defineInjectable"]({token:platform_server_ServerRendererFactory2,factory:platform_server_ServerRendererFactory2.\u0275fac}),platform_server_ServerRendererFactory2.ctorParameters=()=>[{type:platform_browser.EventManager},{type:core.NgZone},{type:void 0,decorators:[{type:core.Inject,args:[common.DOCUMENT]}]},{type:platform_browser["\u0275SharedStylesHost"]}];class platform_server_DefaultServerRenderer2{constructor(eventManager,document,ngZone,schema){this.eventManager=eventManager,this.document=document,this.ngZone=ngZone,this.schema=schema,this.data=Object.create(null)}destroy(){}createElement(name,namespace,debugInfo){if(namespace){return(this.document||Object(common["\u0275getDOM"])().getDefaultDocument()).createElementNS(platform_browser["\u0275NAMESPACE_URIS"][namespace],name)}return Object(common["\u0275getDOM"])().createElement(name,this.document)}createComment(value,debugInfo){return Object(common["\u0275getDOM"])().getDefaultDocument().createComment(value)}createText(value,debugInfo){return Object(common["\u0275getDOM"])().getDefaultDocument().createTextNode(value)}appendChild(parent,newChild){parent.appendChild(newChild)}insertBefore(parent,newChild,refChild){parent&&parent.insertBefore(newChild,refChild)}removeChild(parent,oldChild){parent&&parent.removeChild(oldChild)}selectRootElement(selectorOrNode,debugInfo){let el;if("string"==typeof selectorOrNode){if(el=this.document.querySelector(selectorOrNode),!el)throw new Error(`The selector "${selectorOrNode}" did not match any elements`)}else el=selectorOrNode;for(;el.firstChild;)el.removeChild(el.firstChild);return el}parentNode(node){return node.parentNode}nextSibling(node){return node.nextSibling}setAttribute(el,name,value,namespace){namespace?el.setAttributeNS(platform_browser["\u0275NAMESPACE_URIS"][namespace],namespace+":"+name,value):el.setAttribute(name,value)}removeAttribute(el,name,namespace){namespace?el.removeAttributeNS(platform_browser["\u0275NAMESPACE_URIS"][namespace],name):el.removeAttribute(name)}addClass(el,name){el.classList.add(name)}removeClass(el,name){el.classList.remove(name)}setStyle(el,style,value,flags){style=style.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const styleMap=function _readStyleAttribute(element){const styleMap={},styleAttribute=element.getAttribute("style");if(styleAttribute){const styleList=styleAttribute.split(/;+/g);for(let i=0;i<styleList.length;i++){const style=styleList[i].trim();if(style.length>0){const colonIndex=style.indexOf(":");if(-1===colonIndex)throw new Error(`Invalid CSS style: ${style}`);const name=style.substr(0,colonIndex).trim();styleMap[name]=style.substr(colonIndex+1).trim()}}}return styleMap}(el);styleMap[style]=null==value?"":value,function _writeStyleAttribute(element,styleMap){let styleAttrValue="";for(const key in styleMap){null!=styleMap[key]&&(styleAttrValue+=key+":"+styleMap[key]+";")}element.setAttribute("style",styleAttrValue)}(el,styleMap)}removeStyle(el,style,flags){this.setStyle(el,style,"",flags)}_isSafeToReflectProperty(tagName,propertyName){return this.schema.securityContext(tagName,propertyName,!0)===this.schema.securityContext(tagName,propertyName,!1)}setProperty(el,name,value){checkNoSyntheticProp(name,"property"),"innerText"===name&&(el.textContent=value),el[name]=value;const tagName=el.tagName.toLowerCase();null!=value&&("number"==typeof value||"string"==typeof value)&&"innerhtml"!==name.toLowerCase()&&this.schema.hasElement(tagName,platform_server_EMPTY_ARRAY)&&this.schema.hasProperty(tagName,name,platform_server_EMPTY_ARRAY)&&this._isSafeToReflectProperty(tagName,name)&&this.setAttribute(el,name,value.toString())}setValue(node,value){node.textContent=value}listen(target,eventName,callback){return checkNoSyntheticProp(eventName,"listener"),"string"==typeof target?this.eventManager.addGlobalEventListener(target,eventName,this.decoratePreventDefault(callback)):this.eventManager.addEventListener(target,eventName,this.decoratePreventDefault(callback))}decoratePreventDefault(eventHandler){return event=>{if(event===Function)return eventHandler;!1===this.ngZone.runGuarded(()=>eventHandler(event))&&(event.preventDefault(),event.returnValue=!1)}}}const AT_CHARCODE="@".charCodeAt(0);function checkNoSyntheticProp(name,nameKind){if(name.charCodeAt(0)===AT_CHARCODE)throw new Error(`Found the synthetic ${nameKind} ${name}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class platform_server_EmulatedEncapsulationServerRenderer2 extends platform_server_DefaultServerRenderer2{constructor(eventManager,document,ngZone,sharedStylesHost,schema,component){super(eventManager,document,ngZone,schema),this.component=component;const componentId="s"+component.id,styles=Object(platform_browser["\u0275flattenStyles"])(componentId,component.styles,[]);sharedStylesHost.addStyles(styles),this.contentAttr=Object(platform_browser["\u0275shimContentAttribute"])(componentId),this.hostAttr=Object(platform_browser["\u0275shimHostAttribute"])(componentId)}applyToHost(element){super.setAttribute(element,this.hostAttr,"")}createElement(parent,name){const el=super.createElement(parent,name,this.document);return super.setAttribute(el,this.contentAttr,""),el}}class platform_server_ServerStylesHost extends platform_browser["\u0275SharedStylesHost"]{constructor(doc,transitionId){super(),this.doc=doc,this.transitionId=transitionId,this.head=null,this.head=doc.getElementsByTagName("head")[0]}_addStyle(style){const el=Object(common["\u0275getDOM"])().createElement("style");el.textContent=style,this.transitionId&&el.setAttribute("ng-transition",this.transitionId),this.head.appendChild(el)}onStylesAdded(additions){additions.forEach(style=>this._addStyle(style))}}platform_server_ServerStylesHost.\u0275fac=function ServerStylesHost_Factory(t){return new(t||platform_server_ServerStylesHost)(core["\u0275\u0275inject"](common.DOCUMENT),core["\u0275\u0275inject"](platform_browser["\u0275TRANSITION_ID"],8))},platform_server_ServerStylesHost.\u0275prov=core["\u0275\u0275defineInjectable"]({token:platform_server_ServerStylesHost,factory:platform_server_ServerStylesHost.\u0275fac}),platform_server_ServerStylesHost.ctorParameters=()=>[{type:void 0,decorators:[{type:core.Inject,args:[common.DOCUMENT]}]},{type:String,decorators:[{type:core.Optional},{type:core.Inject,args:[platform_browser["\u0275TRANSITION_ID"]]}]}];const INTERNAL_SERVER_PLATFORM_PROVIDERS=[{provide:common.DOCUMENT,useFactory:function _document(injector){let config=injector.get(INITIAL_CONFIG,null);const document=config&&config.document?parseDocument(config.document,config.url):Object(common["\u0275getDOM"])().createHtmlDocument();return Object(core["\u0275setDocument"])(document),document},deps:[core.Injector]},{provide:core.PLATFORM_ID,useValue:common["\u0275PLATFORM_SERVER_ID"]},{provide:core.PLATFORM_INITIALIZER,useFactory:function initDominoAdapter(injector){return()=>{platform_server_DominoAdapter.makeCurrent()}},multi:!0,deps:[core.Injector]},{provide:common.PlatformLocation,useClass:platform_server_ServerPlatformLocation,deps:[common.DOCUMENT,[core.Optional,INITIAL_CONFIG]]},{provide:PlatformState,deps:[common.DOCUMENT]},{provide:core["\u0275ALLOW_MULTIPLE_PLATFORMS"],useValue:!0}];function instantiateServerRendererFactory(renderer,engine,zone){return new AnimationRendererFactory(renderer,engine,zone)}const SERVER_RENDER_PROVIDERS=[platform_server_ServerRendererFactory2,{provide:core.RendererFactory2,useFactory:instantiateServerRendererFactory,deps:[platform_server_ServerRendererFactory2,AnimationEngine,core.NgZone]},platform_server_ServerStylesHost,{provide:platform_browser["\u0275SharedStylesHost"],useExisting:platform_server_ServerStylesHost},{provide:platform_browser.EVENT_MANAGER_PLUGINS,multi:!0,useClass:platform_server_ServerEventManagerPlugin}];class ServerModule{}ServerModule.\u0275mod=core["\u0275\u0275defineNgModule"]({type:ServerModule}),ServerModule.\u0275inj=core["\u0275\u0275defineInjector"]({factory:function ServerModule_Factory(t){return new(t||ServerModule)},providers:[SERVER_RENDER_PROVIDERS,SERVER_HTTP_PROVIDERS,{provide:core.Testability,useValue:null},{provide:common.ViewportScroller,useClass:common["\u0275NullViewportScroller"]}],imports:[[HttpClientModule,NoopAnimationsModule],platform_browser.BrowserModule]});const platformServer=Object(core.createPlatformFactory)(core.platformCore,"server",INTERNAL_SERVER_PLATFORM_PROVIDERS),platformDynamicServer=Object(core.createPlatformFactory)(platformCoreDynamic,"serverDynamic",INTERNAL_SERVER_PLATFORM_PROVIDERS);function serializeTransferStateFactory(doc,appId,transferStore){return()=>{const script=doc.createElement("script");script.id=appId+"-state",script.setAttribute("type","application/json"),script.textContent=Object(platform_browser["\u0275escapeHtml"])(transferStore.toJson()),doc.body.appendChild(script)}}class ServerTransferStateModule{}function _getPlatform(platformFactory,options){const extraProviders=options.extraProviders?options.extraProviders:[];return platformFactory([{provide:INITIAL_CONFIG,useValue:{document:options.document,url:options.url}},extraProviders])}function _render(platform,moduleRefPromise){return moduleRefPromise.then(moduleRef=>{if(!moduleRef.injector.get(platform_browser["\u0275TRANSITION_ID"],null))throw new Error("renderModule[Factory]() requires the use of BrowserModule.withServerTransition() to ensure\nthe server-rendered app can be properly bootstrapped into a client app.");return moduleRef.injector.get(core.ApplicationRef).isStable.pipe(Object(operators_first.a)(isStable=>isStable)).toPromise().then(()=>{const platformState=platform.injector.get(PlatformState),asyncPromises=[],callbacks=moduleRef.injector.get(BEFORE_APP_SERIALIZED,null);if(callbacks)for(const callback of callbacks)try{const callbackResult=callback();Object(core["\u0275isPromise"])(callbackResult)&&asyncPromises.push(callbackResult)}catch(e){console.warn("Ignoring BEFORE_APP_SERIALIZED Exception: ",e)}const complete=()=>{const output=platformState.renderToString();return platform.destroy(),output};return 0===asyncPromises.length?complete():Promise.all(asyncPromises.map(asyncPromise=>asyncPromise.catch(e=>{console.warn("Ignoring BEFORE_APP_SERIALIZED Exception: ",e)}))).then(complete)})})}function renderModule(module,options){const platform=_getPlatform(platformDynamicServer,options);return _render(platform,platform.bootstrapModule(module))}function renderModuleFactory(moduleFactory,options){const platform=_getPlatform(platformServer,options);return _render(platform,platform.bootstrapModuleFactory(moduleFactory))}ServerTransferStateModule.\u0275mod=core["\u0275\u0275defineNgModule"]({type:ServerTransferStateModule}),ServerTransferStateModule.\u0275inj=core["\u0275\u0275defineInjector"]({factory:function ServerTransferStateModule_Factory(t){return new(t||ServerTransferStateModule)},providers:[platform_browser.TransferState,{provide:BEFORE_APP_SERIALIZED,useFactory:serializeTransferStateFactory,deps:[common.DOCUMENT,core.APP_ID,platform_browser.TransferState],multi:!0}]});const platform_server_VERSION=new core.Version("9.0.7")},"C+Lp":function(module,exports,__webpack_require__){"use strict";var UIEvent=__webpack_require__("V+5d");function MouseEvent(){UIEvent.call(this),this.screenX=this.screenY=this.clientX=this.clientY=0,this.ctrlKey=this.altKey=this.shiftKey=this.metaKey=!1,this.button=0,this.buttons=1,this.relatedTarget=null}module.exports=MouseEvent,MouseEvent.prototype=Object.create(UIEvent.prototype,{constructor:{value:MouseEvent},initMouseEvent:{value:function(type,bubbles,cancelable,view,detail,screenX,screenY,clientX,clientY,ctrlKey,altKey,shiftKey,metaKey,button,relatedTarget){switch(this.initEvent(type,bubbles,cancelable,view,detail),this.screenX=screenX,this.screenY=screenY,this.clientX=clientX,this.clientY=clientY,this.ctrlKey=ctrlKey,this.altKey=altKey,this.shiftKey=shiftKey,this.metaKey=metaKey,this.button=button,button){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2;break;default:this.buttons=0}this.relatedTarget=relatedTarget}},getModifierState:{value:function(key){switch(key){case"Alt":return this.altKey;case"Control":return this.ctrlKey;case"Shift":return this.shiftKey;case"Meta":return this.metaKey;default:return!1}}}})},"C/lp":function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__("Wo4J"),LinkedList=module.exports={valid:function(a){return utils.assert(a,"list falsy"),utils.assert(a._previousSibling,"previous falsy"),utils.assert(a._nextSibling,"next falsy"),!0},insertBefore:function(a,b){utils.assert(LinkedList.valid(a)&&LinkedList.valid(b));var a_first=a,a_last=a._previousSibling,b_first=b,b_last=b._previousSibling;a_first._previousSibling=b_last,a_last._nextSibling=b_first,b_last._nextSibling=a_first,b_first._previousSibling=a_last,utils.assert(LinkedList.valid(a)&&LinkedList.valid(b))},replace:function(a,b){utils.assert(LinkedList.valid(a)&&(null===b||LinkedList.valid(b))),null!==b&&LinkedList.insertBefore(b,a),LinkedList.remove(a),utils.assert(LinkedList.valid(a)&&(null===b||LinkedList.valid(b)))},remove:function(a){utils.assert(LinkedList.valid(a));var prev=a._previousSibling;if(prev!==a){var next=a._nextSibling;prev._nextSibling=next,next._previousSibling=prev,a._previousSibling=a._nextSibling=a,utils.assert(LinkedList.valid(a))}}}},CCM7:function(module,exports,__webpack_require__){"use strict";exports.isValidName=function isValidName(s){if(simplename.test(s))return!0;if(name.test(s))return!0;if(!hassurrogates.test(s))return!1;if(!surrogatename.test(s))return!1;var chars=s.match(surrogatechars),pairs=s.match(surrogatepairs);return null!==pairs&&2*pairs.length===chars.length},exports.isValidQName=function isValidQName(s){if(simpleqname.test(s))return!0;if(qname.test(s))return!0;if(!hassurrogates.test(s))return!1;if(!surrogateqname.test(s))return!1;var chars=s.match(surrogatechars),pairs=s.match(surrogatepairs);return null!==pairs&&2*pairs.length===chars.length};var simplename=/^[_:A-Za-z][-.:\w]+$/,simpleqname=/^([_A-Za-z][-.\w]+|[_A-Za-z][-.\w]+:[_A-Za-z][-.\w]+)$/,ncnamestartchars="_A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd",ncnamechars="-._A-Za-z0-9\xb7\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0300-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd",ncname="["+ncnamestartchars+"]["+ncnamechars+"]*",namestartchars=ncnamestartchars+":",namechars=ncnamechars+":",name=new RegExp("^["+namestartchars+"]["+namechars+"]*$"),qname=new RegExp("^("+ncname+"|"+ncname+":"+ncname+")$"),hassurrogates=/[\uD800-\uDB7F\uDC00-\uDFFF]/,surrogatechars=/[\uD800-\uDB7F\uDC00-\uDFFF]/g,surrogatepairs=/[\uD800-\uDB7F][\uDC00-\uDFFF]/g;ncname="["+(ncnamestartchars+="\ud800-\udb7f\udc00-\udfff")+"]["+(ncnamechars+="\ud800-\udb7f\udc00-\udfff")+"]*",namestartchars=ncnamestartchars+":",namechars=ncnamechars+":";var surrogatename=new RegExp("^["+namestartchars+"]["+namechars+"]*$"),surrogateqname=new RegExp("^("+ncname+"|"+ncname+":"+ncname+")$")},CbxZ:function(module,exports,__webpack_require__){"use strict";var URL=__webpack_require__("dPIN"),URLUtils=__webpack_require__("VvZs");function Location(window,href){this._window=window,this._href=href}module.exports=Location,Location.prototype=Object.create(URLUtils.prototype,{constructor:{value:Location},href:{get:function(){return this._href},set:function(v){this.assign(v)}},assign:{value:function(url){var newurl=new URL(this._href).resolve(url);this._href=newurl}},replace:{value:function(url){this.assign(url)}},reload:{value:function(){this.assign(this.href)}},toString:{value:function(){return this.href}}})},Cfvw:function(module,__webpack_exports__,__webpack_require__){"use strict";var Observable=__webpack_require__("HDdC"),subscribeTo=__webpack_require__("SeVD"),Subscription=__webpack_require__("quSY"),symbol_observable=__webpack_require__("kJWO");var scheduleArray=__webpack_require__("jZKg"),symbol_iterator=__webpack_require__("Lhse");var isPromise=__webpack_require__("c2HN"),isArrayLike=__webpack_require__("I55L");function scheduled(input,scheduler){if(null!=input){if(function isInteropObservable(input){return input&&"function"==typeof input[symbol_observable.a]}(input))return function scheduleObservable(input,scheduler){return new Observable.a(subscriber=>{const sub=new Subscription.a;return sub.add(scheduler.schedule(()=>{const observable=input[symbol_observable.a]();sub.add(observable.subscribe({next(value){sub.add(scheduler.schedule(()=>subscriber.next(value)))},error(err){sub.add(scheduler.schedule(()=>subscriber.error(err)))},complete(){sub.add(scheduler.schedule(()=>subscriber.complete()))}}))})),sub})}(input,scheduler);if(Object(isPromise.a)(input))return function schedulePromise(input,scheduler){return new Observable.a(subscriber=>{const sub=new Subscription.a;return sub.add(scheduler.schedule(()=>input.then(value=>{sub.add(scheduler.schedule(()=>{subscriber.next(value),sub.add(scheduler.schedule(()=>subscriber.complete()))}))},err=>{sub.add(scheduler.schedule(()=>subscriber.error(err)))}))),sub})}(input,scheduler);if(Object(isArrayLike.a)(input))return Object(scheduleArray.a)(input,scheduler);if(function isIterable(input){return input&&"function"==typeof input[symbol_iterator.a]}(input)||"string"==typeof input)return function scheduleIterable(input,scheduler){if(!input)throw new Error("Iterable cannot be null");return new Observable.a(subscriber=>{const sub=new Subscription.a;let iterator;return sub.add(()=>{iterator&&"function"==typeof iterator.return&&iterator.return()}),sub.add(scheduler.schedule(()=>{iterator=input[symbol_iterator.a](),sub.add(scheduler.schedule((function(){if(subscriber.closed)return;let value,done;try{const result=iterator.next();value=result.value,done=result.done}catch(err){return void subscriber.error(err)}done?subscriber.complete():(subscriber.next(value),this.schedule())})))})),sub})}(input,scheduler)}throw new TypeError((null!==input&&typeof input||input)+" is not observable")}function from(input,scheduler){return scheduler?scheduled(input,scheduler):input instanceof Observable.a?input:new Observable.a(Object(subscribeTo.a)(input))}__webpack_require__.d(__webpack_exports__,"a",(function(){return from}))},Cj8W:function(module,exports,__webpack_require__){"use strict";module.exports=DOMImplementation;var Document=__webpack_require__("2cVh"),DocumentType=__webpack_require__("e1qY"),HTMLParser=__webpack_require__("y1on"),utils=__webpack_require__("Wo4J"),xml=__webpack_require__("CCM7");function DOMImplementation(contextObject){this.contextObject=contextObject}var supportedFeatures={xml:{"":!0,"1.0":!0,"2.0":!0},core:{"":!0,"2.0":!0},html:{"":!0,"1.0":!0,"2.0":!0},xhtml:{"":!0,"1.0":!0,"2.0":!0}};DOMImplementation.prototype={hasFeature:function hasFeature(feature,version){var f=supportedFeatures[(feature||"").toLowerCase()];return f&&f[version||""]||!1},createDocumentType:function createDocumentType(qualifiedName,publicId,systemId){return xml.isValidQName(qualifiedName)||utils.InvalidCharacterError(),new DocumentType(this.contextObject,qualifiedName,publicId,systemId)},createDocument:function createDocument(namespace,qualifiedName,doctype){var e,d=new Document(!1,null);return e=qualifiedName?d.createElementNS(namespace,qualifiedName):null,doctype&&d.appendChild(doctype),e&&d.appendChild(e),namespace===utils.NAMESPACE.HTML?d._contentType="application/xhtml+xml":namespace===utils.NAMESPACE.SVG?d._contentType="image/svg+xml":d._contentType="application/xml",d},createHTMLDocument:function createHTMLDocument(titleText){var d=new Document(!0,null);d.appendChild(new DocumentType(d,"html"));var html=d.createElement("html");d.appendChild(html);var head=d.createElement("head");if(html.appendChild(head),void 0!==titleText){var title=d.createElement("title");head.appendChild(title),title.appendChild(d.createTextNode(titleText))}return html.appendChild(d.createElement("body")),d.modclock=1,d},mozSetOutputMutationHandler:function(doc,handler){doc.mutationHandler=handler},mozGetInputMutationHandler:function(doc){utils.nyi()},mozHTMLParser:HTMLParser}},DH7j:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return isArray}));const isArray=Array.isArray||(x=>x&&"number"==typeof x.length)},EY2u:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return EMPTY})),__webpack_require__.d(__webpack_exports__,"b",(function(){return empty}));var _Observable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("HDdC");const EMPTY=new _Observable__WEBPACK_IMPORTED_MODULE_0__.a(subscriber=>subscriber.complete());function empty(scheduler){return scheduler?function emptyScheduled(scheduler){return new _Observable__WEBPACK_IMPORTED_MODULE_0__.a(subscriber=>scheduler.schedule(()=>subscriber.complete()))}(scheduler):EMPTY}},HDdC:function(module,__webpack_exports__,__webpack_require__){"use strict";var Subscriber=__webpack_require__("7o/Q");var rxSubscriber=__webpack_require__("2QA8"),Observer=__webpack_require__("gRHU");var observable=__webpack_require__("kJWO"),pipe=__webpack_require__("mCNh"),config=__webpack_require__("2fFW");__webpack_require__.d(__webpack_exports__,"a",(function(){return Observable_Observable}));class Observable_Observable{constructor(subscribe){this._isScalar=!1,subscribe&&(this._subscribe=subscribe)}lift(operator){const observable=new Observable_Observable;return observable.source=this,observable.operator=operator,observable}subscribe(observerOrNext,error,complete){const{operator:operator}=this,sink=function toSubscriber(nextOrObserver,error,complete){if(nextOrObserver){if(nextOrObserver instanceof Subscriber.a)return nextOrObserver;if(nextOrObserver[rxSubscriber.a])return nextOrObserver[rxSubscriber.a]()}return nextOrObserver||error||complete?new Subscriber.a(nextOrObserver,error,complete):new Subscriber.a(Observer.a)}(observerOrNext,error,complete);if(operator?sink.add(operator.call(sink,this.source)):sink.add(this.source||config.a.useDeprecatedSynchronousErrorHandling&&!sink.syncErrorThrowable?this._subscribe(sink):this._trySubscribe(sink)),config.a.useDeprecatedSynchronousErrorHandling&&sink.syncErrorThrowable&&(sink.syncErrorThrowable=!1,sink.syncErrorThrown))throw sink.syncErrorValue;return sink}_trySubscribe(sink){try{return this._subscribe(sink)}catch(err){config.a.useDeprecatedSynchronousErrorHandling&&(sink.syncErrorThrown=!0,sink.syncErrorValue=err),!function canReportError(observer){for(;observer;){const{closed:closed,destination:destination,isStopped:isStopped}=observer;if(closed||isStopped)return!1;observer=destination&&destination instanceof Subscriber.a?destination:null}return!0}(sink)?console.warn(err):sink.error(err)}}forEach(next,promiseCtor){return new(promiseCtor=getPromiseCtor(promiseCtor))((resolve,reject)=>{let subscription;subscription=this.subscribe(value=>{try{next(value)}catch(err){reject(err),subscription&&subscription.unsubscribe()}},reject,resolve)})}_subscribe(subscriber){const{source:source}=this;return source&&source.subscribe(subscriber)}[observable.a](){return this}pipe(...operations){return 0===operations.length?this:Object(pipe.b)(operations)(this)}toPromise(promiseCtor){return new(promiseCtor=getPromiseCtor(promiseCtor))((resolve,reject)=>{let value;this.subscribe(x=>value=x,err=>reject(err),()=>resolve(value))})}}function getPromiseCtor(promiseCtor){if(promiseCtor||(promiseCtor=config.a.Promise||Promise),!promiseCtor)throw new Error("no Promise impl found");return promiseCtor}Observable_Observable.create=subscribe=>new Observable_Observable(subscribe)},I55L:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return isArrayLike}));const isArrayLike=x=>x&&"number"==typeof x.length&&"function"!=typeof x},Igrf:function(module,exports,__webpack_require__){"use strict";var NodeList;try{NodeList=__webpack_require__("0Zqx")}catch(e){NodeList=__webpack_require__("aCac")}module.exports=NodeList},IzEk:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return take}));var _Subscriber__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7o/Q"),_util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("4I5i"),_observable_empty__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("EY2u");function take(count){return source=>0===count?Object(_observable_empty__WEBPACK_IMPORTED_MODULE_2__.b)():source.lift(new TakeOperator(count))}class TakeOperator{constructor(total){if(this.total=total,this.total<0)throw new _util_ArgumentOutOfRangeError__WEBPACK_IMPORTED_MODULE_1__.a}call(subscriber,source){return source.subscribe(new TakeSubscriber(subscriber,this.total))}}class TakeSubscriber extends _Subscriber__WEBPACK_IMPORTED_MODULE_0__.a{constructor(destination,total){super(destination),this.total=total,this.count=0}_next(value){const total=this.total,count=++this.count;count<=total&&(this.destination.next(value),count===total&&(this.destination.complete(),this.unsubscribe()))}}},JPTf:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const i0=__webpack_require__("fXoL");class AppShellComponent{constructor(){}ngOnInit(){}}exports.AppShellComponent=AppShellComponent,AppShellComponent.\u0275fac=function AppShellComponent_Factory(t){return new(t||AppShellComponent)},AppShellComponent.\u0275cmp=i0.\u0275\u0275defineComponent({type:AppShellComponent,selectors:[["app-app-shell"]],decls:4,vars:0,consts:[[1,"app-loading"],[1,"logo"],["viewBox","25 25 50 50",1,"spinner"],["cx","50","cy","50","r","8","fill","none","stroke-width","2","stroke-miterlimit","10",1,"path"]],template:function AppShellComponent_Template(rf,ctx){1&rf&&(i0.\u0275\u0275elementStart(0,"div",0),i0.\u0275\u0275elementStart(1,"div",1),i0.\u0275\u0275namespaceSVG(),i0.\u0275\u0275elementStart(2,"svg",2),i0.\u0275\u0275element(3,"circle",3),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd())},styles:[".app-loading[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;margin-top:20%;margin-bottom:20%}.app-loading[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:64px;height:64px;background:url(universal-tutorial.6a3e1f30e3bc0b77c867.png) 50% no-repeat;background-size:cover}.app-loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:200px;width:200px;-webkit-animation:rotate 1s linear infinite;animation:rotate 1s linear infinite;transform-origin:center center;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.app-loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;-webkit-animation:dash 1s ease-in-out infinite;animation:dash 1s ease-in-out infinite;stroke-linecap:round;stroke:#0065a3}@-webkit-keyframes rotate{to{transform:rotate(1turn)}}@keyframes rotate{to{transform:rotate(1turn)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}"]})},JSbx:function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__("Wo4J");exports.property=function(attr){if(Array.isArray(attr.type)){var valid=Object.create(null);attr.type.forEach((function(val){valid[val.value||val]=val.alias||val}));var missingValueDefault=attr.missing;void 0===missingValueDefault&&(missingValueDefault=null);var invalidValueDefault=attr.invalid;return void 0===invalidValueDefault&&(invalidValueDefault=missingValueDefault),{get:function(){var v=this._getattr(attr.name);return null===v?missingValueDefault:void 0!==(v=valid[v.toLowerCase()])?v:null!==invalidValueDefault?invalidValueDefault:v},set:function(v){this._setattr(attr.name,v)}}}if(attr.type===Boolean)return{get:function(){return this.hasAttribute(attr.name)},set:function(v){v?this._setattr(attr.name,""):this.removeAttribute(attr.name)}};if(attr.type===Number||"long"===attr.type||"unsigned long"===attr.type||"limited unsigned long with fallback"===attr.type)return function numberPropDesc(a){var def;def="function"==typeof a.default?a.default:"number"==typeof a.default?function(){return a.default}:function(){utils.assert(!1,typeof a.default)};var unsigned_long="unsigned long"===a.type,signed_long="long"===a.type,unsigned_fallback="limited unsigned long with fallback"===a.type,min=a.min,max=a.max,setmin=a.setmin;void 0===min&&(unsigned_long&&(min=0),signed_long&&(min=-2147483648),unsigned_fallback&&(min=1));void 0===max&&(unsigned_long||signed_long||unsigned_fallback)&&(max=2147483647);return{get:function(){var v=this._getattr(a.name),n=a.float?parseFloat(v):parseInt(v,10);if(null===v||!isFinite(n)||void 0!==min&&n<min||void 0!==max&&n>max)return def.call(this);if(unsigned_long||signed_long||unsigned_fallback){if(!/^[ \t\n\f\r]*[-+]?[0-9]/.test(v))return def.call(this);n|=0}return n},set:function(v){a.float||(v=Math.floor(v)),void 0!==setmin&&v<setmin&&utils.IndexSizeError(a.name+" set to "+v),unsigned_long?v=v<0||v>2147483647?def.call(this):0|v:unsigned_fallback?v=v<1||v>2147483647?def.call(this):0|v:signed_long&&(v=v<-2147483648||v>2147483647?def.call(this):0|v),this._setattr(a.name,String(v))}}}(attr);if(!attr.type||attr.type===String)return{get:function(){return this._getattr(attr.name)||""},set:function(v){attr.treatNullAsEmptyString&&null===v&&(v=""),this._setattr(attr.name,v)}};if("function"==typeof attr.type)return attr.type(attr.name,attr);throw new Error("Invalid attribute definition")},exports.registerChangeHandler=function(c,name,handler){var p=c.prototype;Object.prototype.hasOwnProperty.call(p,"_attributeChangeHandlers")||(p._attributeChangeHandlers=Object.create(p._attributeChangeHandlers||null)),p._attributeChangeHandlers[name]=handler}},K011:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const core_1=__webpack_require__("fXoL");__webpack_require__("AytR").environment.production&&core_1.enableProdMode();var app_server_module_1=__webpack_require__("24aS");exports.AppServerModule=app_server_module_1.AppServerModule;var platform_server_1=__webpack_require__("BHFI");exports.renderModule=platform_server_1.renderModule,exports.renderModuleFactory=platform_server_1.renderModuleFactory},KEll:function(module,exports){module.exports=require("http")},KUlC:function(module,exports,__webpack_require__){"use strict";function Event(type,dictionary){if(this.type="",this.target=null,this.currentTarget=null,this.eventPhase=Event.AT_TARGET,this.bubbles=!1,this.cancelable=!1,this.isTrusted=!1,this.defaultPrevented=!1,this.timeStamp=Date.now(),this._propagationStopped=!1,this._immediatePropagationStopped=!1,this._initialized=!0,this._dispatching=!1,type&&(this.type=type),dictionary)for(var p in dictionary)this[p]=dictionary[p]}module.exports=Event,Event.CAPTURING_PHASE=1,Event.AT_TARGET=2,Event.BUBBLING_PHASE=3,Event.prototype=Object.create(Object.prototype,{constructor:{value:Event},stopPropagation:{value:function stopPropagation(){this._propagationStopped=!0}},stopImmediatePropagation:{value:function stopImmediatePropagation(){this._propagationStopped=!0,this._immediatePropagationStopped=!0}},preventDefault:{value:function preventDefault(){this.cancelable&&(this.defaultPrevented=!0)}},initEvent:{value:function initEvent(type,bubbles,cancelable){this._initialized=!0,this._dispatching||(this._propagationStopped=!1,this._immediatePropagationStopped=!1,this.defaultPrevented=!1,this.isTrusted=!1,this.target=null,this.type=type,this.bubbles=bubbles,this.cancelable=cancelable)}}})},KqMX:function(module,exports,__webpack_require__){"use strict";module.exports=CharacterData;var Leaf=__webpack_require__("zmfh"),utils=__webpack_require__("Wo4J"),ChildNode=__webpack_require__("g/dZ"),NonDocumentTypeChildNode=__webpack_require__("O+/d");function CharacterData(){Leaf.call(this)}CharacterData.prototype=Object.create(Leaf.prototype,{substringData:{value:function substringData(offset,count){if(arguments.length<2)throw new TypeError("Not enough arguments");return count>>>=0,((offset>>>=0)>this.data.length||offset<0||count<0)&&utils.IndexSizeError(),this.data.substring(offset,offset+count)}},appendData:{value:function appendData(data){if(arguments.length<1)throw new TypeError("Not enough arguments");this.data+=String(data)}},insertData:{value:function insertData(offset,data){return this.replaceData(offset,0,data)}},deleteData:{value:function deleteData(offset,count){return this.replaceData(offset,count,"")}},replaceData:{value:function replaceData(offset,count,data){var curtext=this.data,len=curtext.length;offset>>>=0,count>>>=0,data=String(data),(offset>len||offset<0)&&utils.IndexSizeError(),offset+count>len&&(count=len-offset);var prefix=curtext.substring(0,offset),suffix=curtext.substring(offset+count);this.data=prefix+data+suffix}},isEqual:{value:function isEqual(n){return this._data===n._data}},length:{get:function(){return this.data.length}}}),Object.defineProperties(CharacterData.prototype,ChildNode),Object.defineProperties(CharacterData.prototype,NonDocumentTypeChildNode)},LRne:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return of}));var _util_isScheduler__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("z+Ro"),_fromArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("yCtX"),_scheduled_scheduleArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("jZKg");function of(...args){let scheduler=args[args.length-1];return Object(_util_isScheduler__WEBPACK_IMPORTED_MODULE_0__.a)(scheduler)?(args.pop(),Object(_scheduled_scheduleArray__WEBPACK_IMPORTED_MODULE_2__.a)(args,scheduler)):Object(_fromArray__WEBPACK_IMPORTED_MODULE_1__.a)(args)}},Lhse:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return iterator}));const iterator=function getSymbolIterator(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},NJ4a:function(module,__webpack_exports__,__webpack_require__){"use strict";function hostReportError(err){setTimeout(()=>{throw err},0)}__webpack_require__.d(__webpack_exports__,"a",(function(){return hostReportError}))},NgqP:function(module,exports,__webpack_require__){"use strict";module.exports=NamedNodeMap;var utils=__webpack_require__("Wo4J");function NamedNodeMap(element){this.element=element}Object.defineProperties(NamedNodeMap.prototype,{length:{get:utils.shouldOverride},item:{value:utils.shouldOverride},getNamedItem:{value:function getNamedItem(qualifiedName){return this.element.getAttributeNode(qualifiedName)}},getNamedItemNS:{value:function getNamedItemNS(namespace,localName){return this.element.getAttributeNodeNS(namespace,localName)}},setNamedItem:{value:utils.nyi},setNamedItemNS:{value:utils.nyi},removeNamedItem:{value:function removeNamedItem(qualifiedName){var attr=this.element.getAttributeNode(qualifiedName);if(attr)return this.element.removeAttribute(qualifiedName),attr;utils.NotFoundError()}},removeNamedItemNS:{value:function removeNamedItemNS(ns,lname){var attr=this.element.getAttributeNodeNS(ns,lname);if(attr)return this.element.removeAttributeNS(ns,lname),attr;utils.NotFoundError()}}})},"O+/d":function(module,exports,__webpack_require__){"use strict";var Node=__webpack_require__("P6n3"),NonDocumentTypeChildNode={nextElementSibling:{get:function(){if(this.parentNode)for(var kid=this.nextSibling;null!==kid;kid=kid.nextSibling)if(kid.nodeType===Node.ELEMENT_NODE)return kid;return null}},previousElementSibling:{get:function(){if(this.parentNode)for(var kid=this.previousSibling;null!==kid;kid=kid.previousSibling)if(kid.nodeType===Node.ELEMENT_NODE)return kid;return null}}};module.exports=NonDocumentTypeChildNode},P6n3:function(module,exports,__webpack_require__){"use strict";module.exports=Node;var EventTarget=__webpack_require__("zOVX"),LinkedList=__webpack_require__("C/lp"),NodeUtils=__webpack_require__("VUyW"),utils=__webpack_require__("Wo4J");function Node(){EventTarget.call(this),this.parentNode=null,this._nextSibling=this._previousSibling=this,this._index=void 0}var ELEMENT_NODE=Node.ELEMENT_NODE=1,ATTRIBUTE_NODE=Node.ATTRIBUTE_NODE=2,TEXT_NODE=Node.TEXT_NODE=3,CDATA_SECTION_NODE=Node.CDATA_SECTION_NODE=4,ENTITY_REFERENCE_NODE=Node.ENTITY_REFERENCE_NODE=5,ENTITY_NODE=Node.ENTITY_NODE=6,PROCESSING_INSTRUCTION_NODE=Node.PROCESSING_INSTRUCTION_NODE=7,COMMENT_NODE=Node.COMMENT_NODE=8,DOCUMENT_NODE=Node.DOCUMENT_NODE=9,DOCUMENT_TYPE_NODE=Node.DOCUMENT_TYPE_NODE=10,DOCUMENT_FRAGMENT_NODE=Node.DOCUMENT_FRAGMENT_NODE=11,NOTATION_NODE=Node.NOTATION_NODE=12,DOCUMENT_POSITION_DISCONNECTED=Node.DOCUMENT_POSITION_DISCONNECTED=1,DOCUMENT_POSITION_PRECEDING=Node.DOCUMENT_POSITION_PRECEDING=2,DOCUMENT_POSITION_FOLLOWING=Node.DOCUMENT_POSITION_FOLLOWING=4,DOCUMENT_POSITION_CONTAINS=Node.DOCUMENT_POSITION_CONTAINS=8,DOCUMENT_POSITION_CONTAINED_BY=Node.DOCUMENT_POSITION_CONTAINED_BY=16,DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;Node.prototype=Object.create(EventTarget.prototype,{baseURI:{get:utils.nyi},parentElement:{get:function(){return this.parentNode&&this.parentNode.nodeType===ELEMENT_NODE?this.parentNode:null}},hasChildNodes:{value:utils.shouldOverride},firstChild:{get:utils.shouldOverride},lastChild:{get:utils.shouldOverride},previousSibling:{get:function(){var parent=this.parentNode;return parent?this===parent.firstChild?null:this._previousSibling:null}},nextSibling:{get:function(){var parent=this.parentNode,next=this._nextSibling;return parent?next===parent.firstChild?null:next:null}},textContent:{get:function(){return null},set:function(v){}},_countChildrenOfType:{value:function(type){for(var sum=0,kid=this.firstChild;null!==kid;kid=kid.nextSibling)kid.nodeType===type&&sum++;return sum}},_ensureInsertValid:{value:function _ensureInsertValid(node,child,isPreinsert){var i,kid;if(!node.nodeType)throw new TypeError("not a node");switch(this.nodeType){case DOCUMENT_NODE:case DOCUMENT_FRAGMENT_NODE:case ELEMENT_NODE:break;default:utils.HierarchyRequestError()}switch(node.isAncestor(this)&&utils.HierarchyRequestError(),null===child&&isPreinsert||child.parentNode!==this&&utils.NotFoundError(),node.nodeType){case DOCUMENT_FRAGMENT_NODE:case DOCUMENT_TYPE_NODE:case ELEMENT_NODE:case TEXT_NODE:case PROCESSING_INSTRUCTION_NODE:case COMMENT_NODE:break;default:utils.HierarchyRequestError()}if(this.nodeType===DOCUMENT_NODE)switch(node.nodeType){case TEXT_NODE:utils.HierarchyRequestError();break;case DOCUMENT_FRAGMENT_NODE:switch(node._countChildrenOfType(TEXT_NODE)>0&&utils.HierarchyRequestError(),node._countChildrenOfType(ELEMENT_NODE)){case 0:break;case 1:if(null!==child)for(isPreinsert&&child.nodeType===DOCUMENT_TYPE_NODE&&utils.HierarchyRequestError(),kid=child.nextSibling;null!==kid;kid=kid.nextSibling)kid.nodeType===DOCUMENT_TYPE_NODE&&utils.HierarchyRequestError();i=this._countChildrenOfType(ELEMENT_NODE),isPreinsert?i>0&&utils.HierarchyRequestError():(i>1||1===i&&child.nodeType!==ELEMENT_NODE)&&utils.HierarchyRequestError();break;default:utils.HierarchyRequestError()}break;case ELEMENT_NODE:if(null!==child)for(isPreinsert&&child.nodeType===DOCUMENT_TYPE_NODE&&utils.HierarchyRequestError(),kid=child.nextSibling;null!==kid;kid=kid.nextSibling)kid.nodeType===DOCUMENT_TYPE_NODE&&utils.HierarchyRequestError();i=this._countChildrenOfType(ELEMENT_NODE),isPreinsert?i>0&&utils.HierarchyRequestError():(i>1||1===i&&child.nodeType!==ELEMENT_NODE)&&utils.HierarchyRequestError();break;case DOCUMENT_TYPE_NODE:if(null===child)this._countChildrenOfType(ELEMENT_NODE)&&utils.HierarchyRequestError();else for(kid=this.firstChild;null!==kid&&kid!==child;kid=kid.nextSibling)kid.nodeType===ELEMENT_NODE&&utils.HierarchyRequestError();i=this._countChildrenOfType(DOCUMENT_TYPE_NODE),isPreinsert?i>0&&utils.HierarchyRequestError():(i>1||1===i&&child.nodeType!==DOCUMENT_TYPE_NODE)&&utils.HierarchyRequestError()}else node.nodeType===DOCUMENT_TYPE_NODE&&utils.HierarchyRequestError()}},insertBefore:{value:function insertBefore(node,child){this._ensureInsertValid(node,child,!0);var refChild=child;return refChild===node&&(refChild=node.nextSibling),this.doc.adoptNode(node),node._insertOrReplace(this,refChild,!1),node}},appendChild:{value:function(child){return this.insertBefore(child,null)}},_appendChild:{value:function(child){child._insertOrReplace(this,null,!1)}},removeChild:{value:function removeChild(child){if(!child.nodeType)throw new TypeError("not a node");return child.parentNode!==this&&utils.NotFoundError(),child.remove(),child}},replaceChild:{value:function replaceChild(node,child){return this._ensureInsertValid(node,child,!1),node.doc!==this.doc&&this.doc.adoptNode(node),node._insertOrReplace(this,child,!0),child}},contains:{value:function contains(node){return null!==node&&(this===node||0!=(this.compareDocumentPosition(node)&DOCUMENT_POSITION_CONTAINED_BY))}},compareDocumentPosition:{value:function compareDocumentPosition(that){if(this===that)return 0;if(this.doc!==that.doc||this.rooted!==that.rooted)return DOCUMENT_POSITION_DISCONNECTED+DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC;for(var these=[],those=[],n=this;null!==n;n=n.parentNode)these.push(n);for(n=that;null!==n;n=n.parentNode)those.push(n);if(these.reverse(),those.reverse(),these[0]!==those[0])return DOCUMENT_POSITION_DISCONNECTED+DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC;n=Math.min(these.length,those.length);for(var i=1;i<n;i++)if(these[i]!==those[i])return these[i].index<those[i].index?DOCUMENT_POSITION_FOLLOWING:DOCUMENT_POSITION_PRECEDING;return these.length<those.length?DOCUMENT_POSITION_FOLLOWING+DOCUMENT_POSITION_CONTAINED_BY:DOCUMENT_POSITION_PRECEDING+DOCUMENT_POSITION_CONTAINS}},isSameNode:{value:function isSameNode(node){return this===node}},isEqualNode:{value:function isEqualNode(node){if(!node)return!1;if(node.nodeType!==this.nodeType)return!1;if(!this.isEqual(node))return!1;for(var c1=this.firstChild,c2=node.firstChild;c1&&c2;c1=c1.nextSibling,c2=c2.nextSibling)if(!c1.isEqualNode(c2))return!1;return null===c1&&null===c2}},cloneNode:{value:function(deep){var clone=this.clone();if(deep)for(var kid=this.firstChild;null!==kid;kid=kid.nextSibling)clone._appendChild(kid.cloneNode(!0));return clone}},lookupPrefix:{value:function lookupPrefix(ns){var e;if(""===ns||null==ns)return null;switch(this.nodeType){case ELEMENT_NODE:return this._lookupNamespacePrefix(ns,this);case DOCUMENT_NODE:return(e=this.documentElement)?e.lookupPrefix(ns):null;case ENTITY_NODE:case NOTATION_NODE:case DOCUMENT_FRAGMENT_NODE:case DOCUMENT_TYPE_NODE:return null;case ATTRIBUTE_NODE:return(e=this.ownerElement)?e.lookupPrefix(ns):null;default:return(e=this.parentElement)?e.lookupPrefix(ns):null}}},lookupNamespaceURI:{value:function lookupNamespaceURI(prefix){var e;switch(""!==prefix&&void 0!==prefix||(prefix=null),this.nodeType){case ELEMENT_NODE:return utils.shouldOverride();case DOCUMENT_NODE:return(e=this.documentElement)?e.lookupNamespaceURI(prefix):null;case ENTITY_NODE:case NOTATION_NODE:case DOCUMENT_TYPE_NODE:case DOCUMENT_FRAGMENT_NODE:return null;case ATTRIBUTE_NODE:return(e=this.ownerElement)?e.lookupNamespaceURI(prefix):null;default:return(e=this.parentElement)?e.lookupNamespaceURI(prefix):null}}},isDefaultNamespace:{value:function isDefaultNamespace(ns){return""!==ns&&void 0!==ns||(ns=null),this.lookupNamespaceURI(null)===ns}},index:{get:function(){var parent=this.parentNode;if(this===parent.firstChild)return 0;var kids=parent.childNodes;if(void 0===this._index||kids[this._index]!==this){for(var i=0;i<kids.length;i++)kids[i]._index=i;utils.assert(kids[this._index]===this)}return this._index}},isAncestor:{value:function(that){if(this.doc!==that.doc)return!1;if(this.rooted!==that.rooted)return!1;for(var e=that;e;e=e.parentNode)if(e===this)return!0;return!1}},ensureSameDoc:{value:function(that){null===that.ownerDocument?that.ownerDocument=this.doc:that.ownerDocument!==this.doc&&utils.WrongDocumentError()}},removeChildren:{value:utils.shouldOverride},_insertOrReplace:{value:function _insertOrReplace(parent,before,isReplace){var before_index,i;(this.nodeType===DOCUMENT_FRAGMENT_NODE&&this.rooted&&utils.HierarchyRequestError(),parent._childNodes)&&(before_index=null===before?parent._childNodes.length:before.index,this.parentNode===parent&&this.index<before_index&&before_index--);isReplace&&(before.rooted&&before.doc.mutateRemove(before),before.parentNode=null);var n=before;null===n&&(n=parent.firstChild);var bothRooted=this.rooted&&parent.rooted;if(this.nodeType===DOCUMENT_FRAGMENT_NODE){for(var next,spliceArgs=[0,isReplace?1:0],kid=this.firstChild;null!==kid;kid=next)next=kid.nextSibling,spliceArgs.push(kid),kid.parentNode=parent;var len=spliceArgs.length;if(isReplace?LinkedList.replace(n,len>2?spliceArgs[2]:null):len>2&&null!==n&&LinkedList.insertBefore(spliceArgs[2],n),parent._childNodes)for(spliceArgs[0]=null===before?parent._childNodes.length:before._index,parent._childNodes.splice.apply(parent._childNodes,spliceArgs),i=2;i<len;i++)spliceArgs[i]._index=spliceArgs[0]+(i-2);else parent._firstChild===before&&(len>2?parent._firstChild=spliceArgs[2]:isReplace&&(parent._firstChild=null));if(this._childNodes?this._childNodes.length=0:this._firstChild=null,parent.rooted)for(parent.modify(),i=2;i<len;i++)parent.doc.mutateInsert(spliceArgs[i])}else{if(before===this)return;bothRooted?this._remove():this.parentNode&&this.remove(),this.parentNode=parent,isReplace?(LinkedList.replace(n,this),parent._childNodes?(this._index=before_index,parent._childNodes[before_index]=this):parent._firstChild===before&&(parent._firstChild=this)):(null!==n&&LinkedList.insertBefore(this,n),parent._childNodes?(this._index=before_index,parent._childNodes.splice(before_index,0,this)):parent._firstChild===before&&(parent._firstChild=this)),bothRooted?(parent.modify(),parent.doc.mutateMove(this)):parent.rooted&&(parent.modify(),parent.doc.mutateInsert(this))}}},lastModTime:{get:function(){return this._lastModTime||(this._lastModTime=this.doc.modclock),this._lastModTime}},modify:{value:function(){if(this.doc.modclock)for(var time=++this.doc.modclock,n=this;n;n=n.parentElement)n._lastModTime&&(n._lastModTime=time)}},doc:{get:function(){return this.ownerDocument||this}},rooted:{get:function(){return!!this._nid}},normalize:{value:function(){for(var next,child=this.firstChild;null!==child;child=next)if(next=child.nextSibling,child.normalize&&child.normalize(),child.nodeType===Node.TEXT_NODE)if(""!==child.nodeValue){var prevChild=child.previousSibling;null!==prevChild&&prevChild.nodeType===Node.TEXT_NODE&&(prevChild.appendData(child.nodeValue),this.removeChild(child))}else this.removeChild(child)}},serialize:{value:function(){for(var s="",kid=this.firstChild;null!==kid;kid=kid.nextSibling)s+=NodeUtils.serializeOne(kid,this);return s}},outerHTML:{get:function(){return NodeUtils.serializeOne(this,{nodeType:0})},set:utils.nyi},ELEMENT_NODE:{value:ELEMENT_NODE},ATTRIBUTE_NODE:{value:ATTRIBUTE_NODE},TEXT_NODE:{value:TEXT_NODE},CDATA_SECTION_NODE:{value:CDATA_SECTION_NODE},ENTITY_REFERENCE_NODE:{value:ENTITY_REFERENCE_NODE},ENTITY_NODE:{value:ENTITY_NODE},PROCESSING_INSTRUCTION_NODE:{value:PROCESSING_INSTRUCTION_NODE},COMMENT_NODE:{value:COMMENT_NODE},DOCUMENT_NODE:{value:DOCUMENT_NODE},DOCUMENT_TYPE_NODE:{value:DOCUMENT_TYPE_NODE},DOCUMENT_FRAGMENT_NODE:{value:DOCUMENT_FRAGMENT_NODE},NOTATION_NODE:{value:NOTATION_NODE},DOCUMENT_POSITION_DISCONNECTED:{value:DOCUMENT_POSITION_DISCONNECTED},DOCUMENT_POSITION_PRECEDING:{value:DOCUMENT_POSITION_PRECEDING},DOCUMENT_POSITION_FOLLOWING:{value:DOCUMENT_POSITION_FOLLOWING},DOCUMENT_POSITION_CONTAINS:{value:DOCUMENT_POSITION_CONTAINS},DOCUMENT_POSITION_CONTAINED_BY:{value:DOCUMENT_POSITION_CONTAINED_BY},DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:{value:DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC}})},PA30:function(module,exports,__webpack_require__){"use strict";module.exports={nextSkippingChildren:function nextSkippingChildren(node,stayWithin){if(node===stayWithin)return null;if(null!==node.nextSibling)return node.nextSibling;return nextAncestorSibling(node,stayWithin)},nextAncestorSibling:nextAncestorSibling,next:function next(node,stayWithin){var n;if(null!==(n=node.firstChild))return n;if(node===stayWithin)return null;if(null!==(n=node.nextSibling))return n;return nextAncestorSibling(node,stayWithin)},previous:function previous(node,stayWithin){var p;if(null!==(p=node.previousSibling))return deepLastChild(p);if((p=node.parentNode)===stayWithin)return null;return p},deepLastChild:deepLastChild};function nextAncestorSibling(node,stayWithin){for(node=node.parentNode;null!==node;node=node.parentNode){if(node===stayWithin)return null;if(null!==node.nextSibling)return node.nextSibling}return null}function deepLastChild(node){for(;node.lastChild;)node=node.lastChild;return node}},PK97:function(module,exports,__webpack_require__){"use strict";module.exports=NodeIterator;var NodeFilter=__webpack_require__("243a"),NodeTraversal=__webpack_require__("PA30"),utils=__webpack_require__("Wo4J");function move(node,stayWithin,directionIsNext){return directionIsNext?NodeTraversal.next(node,stayWithin):node===stayWithin?null:NodeTraversal.previous(node,null)}function isInclusiveAncestor(node,possibleChild){for(;possibleChild;possibleChild=possibleChild.parentNode)if(node===possibleChild)return!0;return!1}function traverse(ni,directionIsNext){var node,beforeNode;for(node=ni._referenceNode,beforeNode=ni._pointerBeforeReferenceNode;;){if(beforeNode===directionIsNext)beforeNode=!beforeNode;else if(null===(node=move(node,ni._root,directionIsNext)))return null;if(ni._internalFilter(node)===NodeFilter.FILTER_ACCEPT)break}return ni._referenceNode=node,ni._pointerBeforeReferenceNode=beforeNode,node}function NodeIterator(root,whatToShow,filter){root&&root.nodeType||utils.NotSupportedError(),this._root=root,this._referenceNode=root,this._pointerBeforeReferenceNode=!0,this._whatToShow=Number(whatToShow)||0,this._filter=filter||null,this._active=!1,root.doc._attachNodeIterator(this)}Object.defineProperties(NodeIterator.prototype,{root:{get:function root(){return this._root}},referenceNode:{get:function referenceNode(){return this._referenceNode}},pointerBeforeReferenceNode:{get:function pointerBeforeReferenceNode(){return this._pointerBeforeReferenceNode}},whatToShow:{get:function whatToShow(){return this._whatToShow}},filter:{get:function filter(){return this._filter}},_internalFilter:{value:function _internalFilter(node){var result,filter;if(this._active&&utils.InvalidStateError(),!(1<<node.nodeType-1&this._whatToShow))return NodeFilter.FILTER_SKIP;if(null===(filter=this._filter))result=NodeFilter.FILTER_ACCEPT;else{this._active=!0;try{result="function"==typeof filter?filter(node):filter.acceptNode(node)}finally{this._active=!1}}return+result}},_preremove:{value:function _preremove(toBeRemovedNode){if(!isInclusiveAncestor(toBeRemovedNode,this._root)&&isInclusiveAncestor(toBeRemovedNode,this._referenceNode)){if(this._pointerBeforeReferenceNode){for(var next=toBeRemovedNode;next.lastChild;)next=next.lastChild;if(next=NodeTraversal.next(next,this.root))return void(this._referenceNode=next);this._pointerBeforeReferenceNode=!1}var lastChild;if(null===toBeRemovedNode.previousSibling)this._referenceNode=toBeRemovedNode.parentNode;else for(this._referenceNode=toBeRemovedNode.previousSibling,lastChild=this._referenceNode.lastChild;lastChild;lastChild=this._referenceNode.lastChild)this._referenceNode=lastChild}}},nextNode:{value:function nextNode(){return traverse(this,!0)}},previousNode:{value:function previousNode(){return traverse(this,!1)}},detach:{value:function detach(){}},toString:{value:function toString(){return"[object NodeIterator]"}}})},Pd6R:function(module,exports){exports.isApiWritable=!global.__domino_frozen__},QA3H:function(module,exports,__webpack_require__){"use strict";module.exports=TreeWalker;var Node=__webpack_require__("P6n3"),NodeFilter=__webpack_require__("243a"),NodeTraversal=__webpack_require__("PA30"),utils=__webpack_require__("Wo4J"),mapChild={first:"firstChild",last:"lastChild",next:"firstChild",previous:"lastChild"},mapSibling={first:"nextSibling",last:"previousSibling",next:"nextSibling",previous:"previousSibling"};function traverseChildren(tw,type){var child,node,parent,result,sibling;for(node=tw._currentNode[mapChild[type]];null!==node;){if((result=tw._internalFilter(node))===NodeFilter.FILTER_ACCEPT)return tw._currentNode=node,node;if(result!==NodeFilter.FILTER_SKIP||null===(child=node[mapChild[type]]))for(;null!==node;){if(null!==(sibling=node[mapSibling[type]])){node=sibling;break}if(null===(parent=node.parentNode)||parent===tw.root||parent===tw._currentNode)return null;node=parent}else node=child}return null}function traverseSiblings(tw,type){var node,result,sibling;if((node=tw._currentNode)===tw.root)return null;for(;;){for(sibling=node[mapSibling[type]];null!==sibling;){if(node=sibling,(result=tw._internalFilter(node))===NodeFilter.FILTER_ACCEPT)return tw._currentNode=node,node;sibling=node[mapChild[type]],result!==NodeFilter.FILTER_REJECT&&null!==sibling||(sibling=node[mapSibling[type]])}if(null===(node=node.parentNode)||node===tw.root)return null;if(tw._internalFilter(node)===NodeFilter.FILTER_ACCEPT)return null}}function TreeWalker(root,whatToShow,filter){root&&root.nodeType||utils.NotSupportedError(),this._root=root,this._whatToShow=Number(whatToShow)||0,this._filter=filter||null,this._active=!1,this._currentNode=root}Object.defineProperties(TreeWalker.prototype,{root:{get:function(){return this._root}},whatToShow:{get:function(){return this._whatToShow}},filter:{get:function(){return this._filter}},currentNode:{get:function currentNode(){return this._currentNode},set:function setCurrentNode(v){if(!(v instanceof Node))throw new TypeError("Not a Node");this._currentNode=v}},_internalFilter:{value:function _internalFilter(node){var result,filter;if(this._active&&utils.InvalidStateError(),!(1<<node.nodeType-1&this._whatToShow))return NodeFilter.FILTER_SKIP;if(null===(filter=this._filter))result=NodeFilter.FILTER_ACCEPT;else{this._active=!0;try{result="function"==typeof filter?filter(node):filter.acceptNode(node)}finally{this._active=!1}}return+result}},parentNode:{value:function parentNode(){for(var node=this._currentNode;node!==this.root;){if(null===(node=node.parentNode))return null;if(this._internalFilter(node)===NodeFilter.FILTER_ACCEPT)return this._currentNode=node,node}return null}},firstChild:{value:function firstChild(){return traverseChildren(this,"first")}},lastChild:{value:function lastChild(){return traverseChildren(this,"last")}},previousSibling:{value:function previousSibling(){return traverseSiblings(this,"previous")}},nextSibling:{value:function nextSibling(){return traverseSiblings(this,"next")}},previousNode:{value:function previousNode(){var node,result,previousSibling,lastChild;for(node=this._currentNode;node!==this._root;){for(previousSibling=node.previousSibling;previousSibling;previousSibling=node.previousSibling)if(node=previousSibling,(result=this._internalFilter(node))!==NodeFilter.FILTER_REJECT){for(lastChild=node.lastChild;lastChild&&(node=lastChild,(result=this._internalFilter(node))!==NodeFilter.FILTER_REJECT);lastChild=node.lastChild);if(result===NodeFilter.FILTER_ACCEPT)return this._currentNode=node,node}if(node===this.root||null===node.parentNode)return null;if(node=node.parentNode,this._internalFilter(node)===NodeFilter.FILTER_ACCEPT)return this._currentNode=node,node}return null}},nextNode:{value:function nextNode(){var node,result,firstChild,nextSibling;node=this._currentNode,result=NodeFilter.FILTER_ACCEPT;CHILDREN:for(;;){for(firstChild=node.firstChild;firstChild;firstChild=node.firstChild){if(node=firstChild,(result=this._internalFilter(node))===NodeFilter.FILTER_ACCEPT)return this._currentNode=node,node;if(result===NodeFilter.FILTER_REJECT)break}for(nextSibling=NodeTraversal.nextSkippingChildren(node,this.root);nextSibling;nextSibling=NodeTraversal.nextSkippingChildren(node,this.root)){if(node=nextSibling,(result=this._internalFilter(node))===NodeFilter.FILTER_ACCEPT)return this._currentNode=node,node;if(result===NodeFilter.FILTER_SKIP)continue CHILDREN}return null}}},toString:{value:function toString(){return"[object TreeWalker]"}}})},SeVD:function(module,__webpack_exports__,__webpack_require__){"use strict";var subscribeToArray=__webpack_require__("ngJS"),hostReportError=__webpack_require__("NJ4a");var symbol_iterator=__webpack_require__("Lhse");var observable=__webpack_require__("kJWO");var isArrayLike=__webpack_require__("I55L"),isPromise=__webpack_require__("c2HN"),isObject=__webpack_require__("XoHu");__webpack_require__.d(__webpack_exports__,"a",(function(){return subscribeTo}));const subscribeTo=result=>{if(result&&"function"==typeof result[observable.a])return obj=result,subscriber=>{const obs=obj[observable.a]();if("function"!=typeof obs.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return obs.subscribe(subscriber)};if(Object(isArrayLike.a)(result))return Object(subscribeToArray.a)(result);if(Object(isPromise.a)(result))return promise=result,subscriber=>(promise.then(value=>{subscriber.closed||(subscriber.next(value),subscriber.complete())},err=>subscriber.error(err)).then(null,hostReportError.a),subscriber);if(result&&"function"==typeof result[symbol_iterator.a])return iterable=result,subscriber=>{const iterator=iterable[symbol_iterator.a]();for(;;){const item=iterator.next();if(item.done){subscriber.complete();break}if(subscriber.next(item.value),subscriber.closed)break}return"function"==typeof iterator.return&&subscriber.add(()=>{iterator.return&&iterator.return()}),subscriber};{const value=Object(isObject.a)(result)?"an invalid object":`'${result}'`;throw new TypeError(`You provided ${value} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var iterable,promise,obj}},SpAZ:function(module,__webpack_exports__,__webpack_require__){"use strict";function identity(x){return x}__webpack_require__.d(__webpack_exports__,"a",(function(){return identity}))},SxV6:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return first}));var _util_EmptyError__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("sVev"),_filter__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("pLZG"),_take__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("IzEk"),_defaultIfEmpty__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("xbPD"),_throwIfEmpty__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("XDbj"),_util_identity__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("SpAZ");function first(predicate,defaultValue){const hasDefaultValue=arguments.length>=2;return source=>source.pipe(predicate?Object(_filter__WEBPACK_IMPORTED_MODULE_1__.a)((v,i)=>predicate(v,i,source)):_util_identity__WEBPACK_IMPORTED_MODULE_5__.a,Object(_take__WEBPACK_IMPORTED_MODULE_2__.a)(1),hasDefaultValue?Object(_defaultIfEmpty__WEBPACK_IMPORTED_MODULE_3__.a)(defaultValue):Object(_throwIfEmpty__WEBPACK_IMPORTED_MODULE_4__.a)(()=>new _util_EmptyError__WEBPACK_IMPORTED_MODULE_0__.a))}},Sy1n:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const i0=__webpack_require__("fXoL"),i1=__webpack_require__("tyNb");class AppComponent{constructor(){this.title="universal-tutorial-with-app-shell"}}exports.AppComponent=AppComponent,AppComponent.\u0275fac=function AppComponent_Factory(t){return new(t||AppComponent)},AppComponent.\u0275cmp=i0.\u0275\u0275defineComponent({type:AppComponent,selectors:[["app-root"]],decls:9,vars:0,consts:[[1,"navbar","navbar-expand-sm","bg-light"],[1,"navbar-nav"],[1,"nav-item"],["href","/home",1,"nav-link"],["href","/tutorials",1,"nav-link"]],template:function AppComponent_Template(rf,ctx){1&rf&&(i0.\u0275\u0275elementStart(0,"nav",0),i0.\u0275\u0275elementStart(1,"ul",1),i0.\u0275\u0275elementStart(2,"li",2),i0.\u0275\u0275elementStart(3,"a",3),i0.\u0275\u0275text(4,"Home"),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementStart(5,"li",2),i0.\u0275\u0275elementStart(6,"a",4),i0.\u0275\u0275text(7,"Tutorials"),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275element(8,"router-outlet"))},directives:[i1.RouterOutlet],styles:[".home-page[_ngcontent-%COMP%]{width:100%;height:100%;background-color:green;color:#fff}"]})},UQIz:function(module,exports,__webpack_require__){"use strict";module.exports=ContainerNode;var Node=__webpack_require__("P6n3"),NodeList=__webpack_require__("Igrf");function ContainerNode(){Node.call(this),this._firstChild=this._childNodes=null}ContainerNode.prototype=Object.create(Node.prototype,{hasChildNodes:{value:function(){return this._childNodes?this._childNodes.length>0:null!==this._firstChild}},childNodes:{get:function(){return this._ensureChildNodes(),this._childNodes}},firstChild:{get:function(){return this._childNodes?0===this._childNodes.length?null:this._childNodes[0]:this._firstChild}},lastChild:{get:function(){var first,kids=this._childNodes;return kids?0===kids.length?null:kids[kids.length-1]:null===(first=this._firstChild)?null:first._previousSibling}},_ensureChildNodes:{value:function(){if(!this._childNodes){var first=this._firstChild,kid=first,childNodes=this._childNodes=new NodeList;if(first)do{childNodes.push(kid),kid=kid._nextSibling}while(kid!==first);this._firstChild=null}}},removeChildren:{value:function removeChildren(){for(var kid,root=this.rooted?this.ownerDocument:null,next=this.firstChild;null!==next;)next=(kid=next).nextSibling,root&&root.mutateRemove(kid),kid.parentNode=null;this._childNodes?this._childNodes.length=0:this._firstChild=null,this.modify()}}})},"V+5d":function(module,exports,__webpack_require__){"use strict";var Event=__webpack_require__("KUlC");function UIEvent(){Event.call(this),this.view=null,this.detail=0}module.exports=UIEvent,UIEvent.prototype=Object.create(Event.prototype,{constructor:{value:UIEvent},initUIEvent:{value:function(type,bubbles,cancelable,view,detail){this.initEvent(type,bubbles,cancelable),this.view=view,this.detail=detail}}})},VUyW:function(module,exports,__webpack_require__){"use strict";module.exports={serializeOne:function serializeOne(kid,parent){var s="";switch(kid.nodeType){case 1:var ns=kid.namespaceURI,html=ns===NAMESPACE.HTML,tagname=html||ns===NAMESPACE.SVG||ns===NAMESPACE.MATHML?kid.localName:kid.tagName;s+="<"+tagname;for(var j=0,k=kid._numattrs;j<k;j++){var a=kid._attr(j);s+=" "+attrname(a),void 0!==a.value&&(s+='="'+escapeAttr(a.value)+'"')}if(s+=">",!html||!emptyElements[tagname]){var ss=kid.serialize();html&&extraNewLine[tagname]&&"\n"===ss.charAt(0)&&(s+="\n"),s+=ss,s+="</"+tagname+">"}break;case 3:case 4:var parenttag;parenttag=1===parent.nodeType&&parent.namespaceURI===NAMESPACE.HTML?parent.tagName:"",hasRawContent[parenttag]||"NOSCRIPT"===parenttag&&parent.ownerDocument._scripting_enabled?s+=kid.data:s+=function escape(s){return s.replace(/[&<>\u00A0]/g,(function(c){switch(c){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case"\xa0":return"&nbsp;"}}))}(kid.data);break;case 8:s+="\x3c!--"+kid.data+"--\x3e";break;case 7:s+="<?"+kid.target+" "+kid.data+"?>";break;case 10:s+="<!DOCTYPE "+kid.name,s+=">";break;default:utils.InvalidStateError()}return s}};var utils=__webpack_require__("Wo4J"),NAMESPACE=utils.NAMESPACE,hasRawContent={STYLE:!0,SCRIPT:!0,XMP:!0,IFRAME:!0,NOEMBED:!0,NOFRAMES:!0,PLAINTEXT:!0},emptyElements={area:!0,base:!0,basefont:!0,bgsound:!0,br:!0,col:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},extraNewLine={};function escapeAttr(s){var toEscape=/[&"\u00A0]/g;return toEscape.test(s)?s.replace(toEscape,(function(c){switch(c){case"&":return"&amp;";case'"':return"&quot;";case"\xa0":return"&nbsp;"}})):s}function attrname(a){var ns=a.namespaceURI;return ns?ns===NAMESPACE.XML?"xml:"+a.localName:ns===NAMESPACE.XLINK?"xlink:"+a.localName:ns===NAMESPACE.XMLNS?"xmlns"===a.localName?"xmlns":"xmlns:"+a.localName:a.name:a.localName}},VvZs:function(module,exports,__webpack_require__){"use strict";var URL=__webpack_require__("dPIN");function URLUtils(){}module.exports=URLUtils,URLUtils.prototype=Object.create(Object.prototype,{_url:{get:function(){return new URL(this.href)}},protocol:{get:function(){var url=this._url;return url&&url.scheme?url.scheme+":":":"},set:function(v){var output=this.href,url=new URL(output);url.isAbsolute()&&(v=(v=v.replace(/:+$/,"")).replace(/[^-+\.a-zA-Z0-9]/g,URL.percentEncode)).length>0&&(url.scheme=v,output=url.toString()),this.href=output}},host:{get:function(){var url=this._url;return url.isAbsolute()&&url.isAuthorityBased()?url.host+(url.port?":"+url.port:""):""},set:function(v){var output=this.href,url=new URL(output);url.isAbsolute()&&url.isAuthorityBased()&&(v=v.replace(/[^-+\._~!$&'()*,;:=a-zA-Z0-9]/g,URL.percentEncode)).length>0&&(url.host=v,delete url.port,output=url.toString()),this.href=output}},hostname:{get:function(){var url=this._url;return url.isAbsolute()&&url.isAuthorityBased()?url.host:""},set:function(v){var output=this.href,url=new URL(output);url.isAbsolute()&&url.isAuthorityBased()&&(v=(v=v.replace(/^\/+/,"")).replace(/[^-+\._~!$&'()*,;:=a-zA-Z0-9]/g,URL.percentEncode)).length>0&&(url.host=v,output=url.toString()),this.href=output}},port:{get:function(){var url=this._url;return url.isAbsolute()&&url.isAuthorityBased()&&void 0!==url.port?url.port:""},set:function(v){var output=this.href,url=new URL(output);url.isAbsolute()&&url.isAuthorityBased()&&(0===(v=(v=(v=""+v).replace(/[^0-9].*$/,"")).replace(/^0+/,"")).length&&(v="0"),parseInt(v,10)<=65535&&(url.port=v,output=url.toString())),this.href=output}},pathname:{get:function(){var url=this._url;return url.isAbsolute()&&url.isHierarchical()?url.path:""},set:function(v){var output=this.href,url=new URL(output);url.isAbsolute()&&url.isHierarchical()&&("/"!==v.charAt(0)&&(v="/"+v),v=v.replace(/[^-+\._~!$&'()*,;:=@\/a-zA-Z0-9]/g,URL.percentEncode),url.path=v,output=url.toString()),this.href=output}},search:{get:function(){var url=this._url;return url.isAbsolute()&&url.isHierarchical()&&void 0!==url.query?"?"+url.query:""},set:function(v){var output=this.href,url=new URL(output);url.isAbsolute()&&url.isHierarchical()&&("?"===v.charAt(0)&&(v=v.substring(1)),v=v.replace(/[^-+\._~!$&'()*,;:=@\/?a-zA-Z0-9]/g,URL.percentEncode),url.query=v,output=url.toString()),this.href=output}},hash:{get:function(){var url=this._url;return null==url||null==url.fragment||""===url.fragment?"":"#"+url.fragment},set:function(v){var output=this.href,url=new URL(output);"#"===v.charAt(0)&&(v=v.substring(1)),v=v.replace(/[^-+\._~!$&'()*,;:=@\/?a-zA-Z0-9]/g,URL.percentEncode),url.fragment=v,output=url.toString(),this.href=output}},username:{get:function(){return this._url.username||""},set:function(v){var output=this.href,url=new URL(output);url.isAbsolute()&&(v=v.replace(/[\x00-\x1F\x7F-\uFFFF "#<>?`\/@\\:]/g,URL.percentEncode),url.username=v,output=url.toString()),this.href=output}},password:{get:function(){return this._url.password||""},set:function(v){var output=this.href,url=new URL(output);url.isAbsolute()&&(""===v?url.password=null:(v=v.replace(/[\x00-\x1F\x7F-\uFFFF "#<>?`\/@\\]/g,URL.percentEncode),url.password=v),output=url.toString()),this.href=output}},origin:{get:function(){var url=this._url;if(null==url)return"";var originForPort=function(defaultPort){var origin=[url.scheme,url.host,+url.port||defaultPort];return origin[0]+"://"+origin[1]+(origin[2]===defaultPort?"":":"+origin[2])};switch(url.scheme){case"ftp":return originForPort(21);case"gopher":return originForPort(70);case"http":case"ws":return originForPort(80);case"https":case"wss":return originForPort(443);default:return url.scheme+"://"}}}}),URLUtils._inherit=function(proto){Object.getOwnPropertyNames(URLUtils.prototype).forEach((function(p){if("constructor"!==p&&"href"!==p){var desc=Object.getOwnPropertyDescriptor(URLUtils.prototype,p);Object.defineProperty(proto,p,desc)}}))}},VzHR:function(module,exports,__webpack_require__){(function(){var InvalidStateError,NetworkError,ProgressEvent,SecurityError,SyntaxError,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload,http,https,os,url,extend=function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;XMLHttpRequestEventTarget=function(){function XMLHttpRequestEventTarget(){this.onloadstart=null,this.onprogress=null,this.onabort=null,this.onerror=null,this.onload=null,this.ontimeout=null,this.onloadend=null,this._listeners={}}return XMLHttpRequestEventTarget.prototype.onloadstart=null,XMLHttpRequestEventTarget.prototype.onprogress=null,XMLHttpRequestEventTarget.prototype.onabort=null,XMLHttpRequestEventTarget.prototype.onerror=null,XMLHttpRequestEventTarget.prototype.onload=null,XMLHttpRequestEventTarget.prototype.ontimeout=null,XMLHttpRequestEventTarget.prototype.onloadend=null,XMLHttpRequestEventTarget.prototype.addEventListener=function(eventType,listener){var base;eventType=eventType.toLowerCase(),(base=this._listeners)[eventType]||(base[eventType]=[]),this._listeners[eventType].push(listener)},XMLHttpRequestEventTarget.prototype.removeEventListener=function(eventType,listener){var index;eventType=eventType.toLowerCase(),this._listeners[eventType]&&-1!==(index=this._listeners[eventType].indexOf(listener))&&this._listeners[eventType].splice(index,1)},XMLHttpRequestEventTarget.prototype.dispatchEvent=function(event){var eventType,j,len,listener,listeners;if(event.currentTarget=event.target=this,eventType=event.type,listeners=this._listeners[eventType])for(j=0,len=listeners.length;j<len;j++)(listener=listeners[j]).call(this,event);(listener=this["on"+eventType])&&listener.call(this,event)},XMLHttpRequestEventTarget}(),http=__webpack_require__("KEll"),https=__webpack_require__("7WL4"),os=__webpack_require__("jle/"),url=__webpack_require__("bzos"),XMLHttpRequest=function(superClass){function XMLHttpRequest(options){XMLHttpRequest.__super__.constructor.call(this),this.onreadystatechange=null,this._anonymous=options&&options.anon,this.readyState=XMLHttpRequest.UNSENT,this.response=null,this.responseText="",this.responseType="",this.responseURL="",this.status=0,this.statusText="",this.timeout=0,this.upload=new XMLHttpRequestUpload(this),this._method=null,this._url=null,this._sync=!1,this._headers=null,this._loweredHeaders=null,this._mimeOverride=null,this._request=null,this._response=null,this._responseParts=null,this._responseHeaders=null,this._aborting=null,this._error=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1}return extend(XMLHttpRequest,superClass),XMLHttpRequest.prototype.onreadystatechange=null,XMLHttpRequest.prototype.readyState=null,XMLHttpRequest.prototype.response=null,XMLHttpRequest.prototype.responseText=null,XMLHttpRequest.prototype.responseType=null,XMLHttpRequest.prototype.status=null,XMLHttpRequest.prototype.timeout=null,XMLHttpRequest.prototype.upload=null,XMLHttpRequest.prototype.open=function(method,url,async,user,password){var xhrUrl;if((method=method.toUpperCase())in this._restrictedMethods)throw new SecurityError("HTTP method "+method+" is not allowed in XHR");switch(xhrUrl=this._parseUrl(url),void 0===async&&(async=!0),this.readyState){case XMLHttpRequest.UNSENT:case XMLHttpRequest.OPENED:case XMLHttpRequest.DONE:break;case XMLHttpRequest.HEADERS_RECEIVED:case XMLHttpRequest.LOADING:}this._method=method,this._url=xhrUrl,this._sync=!async,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(XMLHttpRequest.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1},XMLHttpRequest.prototype.setRequestHeader=function(name,value){var loweredName;if(this.readyState!==XMLHttpRequest.OPENED)throw new InvalidStateError("XHR readyState must be OPENED");loweredName=name.toLowerCase(),this._restrictedHeaders[loweredName]||/^sec\-/.test(loweredName)||/^proxy-/.test(loweredName)?console.warn('Refused to set unsafe header "'+name+'"'):(value=value.toString(),loweredName in this._loweredHeaders?(name=this._loweredHeaders[loweredName],this._headers[name]=this._headers[name]+", "+value):(this._loweredHeaders[loweredName]=name,this._headers[name]=value))},XMLHttpRequest.prototype.send=function(data){if(this.readyState!==XMLHttpRequest.OPENED)throw new InvalidStateError("XHR readyState must be OPENED");if(this._request)throw new InvalidStateError("send() already called");switch(this._url.protocol){case"file:":this._sendFile(data);break;case"http:":case"https:":this._sendHttp(data);break;default:throw new NetworkError("Unsupported protocol "+this._url.protocol)}},XMLHttpRequest.prototype.abort=function(){this._request&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))},XMLHttpRequest.prototype.getResponseHeader=function(name){var loweredName;return this._responseHeaders&&(loweredName=name.toLowerCase())in this._responseHeaders?this._responseHeaders[loweredName]:null},XMLHttpRequest.prototype.getAllResponseHeaders=function(){var name,value;return this._responseHeaders?(function(){var ref,results;for(name in results=[],ref=this._responseHeaders)value=ref[name],results.push(name+": "+value);return results}).call(this).join("\r\n"):""},XMLHttpRequest.prototype.overrideMimeType=function(newMimeType){if(this.readyState===XMLHttpRequest.LOADING||this.readyState===XMLHttpRequest.DONE)throw new InvalidStateError("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=newMimeType.toLowerCase()},XMLHttpRequest.prototype.nodejsSet=function(options){var baseUrl;if("httpAgent"in options&&(this.nodejsHttpAgent=options.httpAgent),"httpsAgent"in options&&(this.nodejsHttpsAgent=options.httpsAgent),"baseUrl"in options){if(null!==(baseUrl=options.baseUrl)&&!url.parse(baseUrl,!1,!0).protocol)throw new SyntaxError("baseUrl must be an absolute URL");this.nodejsBaseUrl=baseUrl}},XMLHttpRequest.nodejsSet=function(options){XMLHttpRequest.prototype.nodejsSet(options)},XMLHttpRequest.prototype.UNSENT=0,XMLHttpRequest.UNSENT=0,XMLHttpRequest.prototype.OPENED=1,XMLHttpRequest.OPENED=1,XMLHttpRequest.prototype.HEADERS_RECEIVED=2,XMLHttpRequest.HEADERS_RECEIVED=2,XMLHttpRequest.prototype.LOADING=3,XMLHttpRequest.LOADING=3,XMLHttpRequest.prototype.DONE=4,XMLHttpRequest.DONE=4,XMLHttpRequest.prototype.nodejsHttpAgent=http.globalAgent,XMLHttpRequest.prototype.nodejsHttpsAgent=https.globalAgent,XMLHttpRequest.prototype.nodejsBaseUrl=null,XMLHttpRequest.prototype._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},XMLHttpRequest.prototype._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0},XMLHttpRequest.prototype._privateHeaders={"set-cookie":!0,"set-cookie2":!0},XMLHttpRequest.prototype._userAgent="Mozilla/5.0 ("+os.type()+" "+os.arch()+") node.js/"+process.versions.node+" v8/"+process.versions.v8,XMLHttpRequest.prototype._setReadyState=function(newReadyState){var event;this.readyState=newReadyState,event=new ProgressEvent("readystatechange"),this.dispatchEvent(event)},XMLHttpRequest.prototype._sendFile=function(){if("GET"!==this._url.method)throw new NetworkError("The file protocol only supports GET");throw new Error("Protocol file: not implemented")},XMLHttpRequest.prototype._sendHttp=function(data){if(this._sync)throw new Error("Synchronous XHR processing not implemented");null==data||"GET"!==this._method&&"HEAD"!==this._method?data||(data=""):(console.warn("Discarding entity body for "+this._method+" requests"),data=null),this.upload._setData(data),this._finalizeHeaders(),this._sendHxxpRequest()},XMLHttpRequest.prototype._sendHxxpRequest=function(){var agent,hxxp,request,_this;"http:"===this._url.protocol?(hxxp=http,agent=this.nodejsHttpAgent):(hxxp=https,agent=this.nodejsHttpsAgent),request=hxxp.request({hostname:this._url.hostname,port:this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:agent}),this._request=request,this.timeout&&request.setTimeout(this.timeout,(_this=this,function(){return _this._onHttpTimeout(request)})),request.on("response",function(_this){return function(response){return _this._onHttpResponse(request,response)}}(this)),request.on("error",function(_this){return function(error){return _this._onHttpRequestError(request,error)}}(this)),this.upload._startUpload(request),this._request===request&&this._dispatchProgress("loadstart")},XMLHttpRequest.prototype._finalizeHeaders=function(){this._headers.Connection="keep-alive",this._headers.Host=this._url.host,this._anonymous&&(this._headers.Referer="about:blank"),this._headers["User-Agent"]=this._userAgent,this.upload._finalizeHeaders(this._headers,this._loweredHeaders)},XMLHttpRequest.prototype._onHttpResponse=function(request,response){var lengthString;if(this._request===request){switch(response.statusCode){case 301:case 302:case 303:case 307:case 308:return this._url=this._parseUrl(response.headers.location),this._method="GET","content-type"in this._loweredHeaders&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),"Content-Type"in this._headers&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),void this._sendHxxpRequest()}var _this;return this._response=response,this._response.on("data",(_this=this,function(data){return _this._onHttpResponseData(response,data)})),this._response.on("end",function(_this){return function(){return _this._onHttpResponseEnd(response)}}(this)),this._response.on("close",function(_this){return function(){return _this._onHttpResponseClose(response)}}(this)),this.responseURL=this._url.href.split("#")[0],this.status=this._response.statusCode,this.statusText=http.STATUS_CODES[this.status],this._parseResponseHeaders(response),(lengthString=this._responseHeaders["content-length"])?(this._totalBytes=parseInt(lengthString),this._lengthComputable=!0):this._lengthComputable=!1,this._setReadyState(XMLHttpRequest.HEADERS_RECEIVED)}},XMLHttpRequest.prototype._onHttpResponseData=function(response,data){if(this._response===response)return this._responseParts.push(data),this._loadedBytes+=data.length,this.readyState!==XMLHttpRequest.LOADING&&this._setReadyState(XMLHttpRequest.LOADING),this._dispatchProgress("progress")},XMLHttpRequest.prototype._onHttpResponseEnd=function(response){if(this._response===response)return this._parseResponse(),this._request=null,this._response=null,this._setReadyState(XMLHttpRequest.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend")},XMLHttpRequest.prototype._onHttpResponseClose=function(response){var request;if(this._response===response)return request=this._request,this._setError(),request.abort(),this._setReadyState(XMLHttpRequest.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")},XMLHttpRequest.prototype._onHttpTimeout=function(request){if(this._request===request)return this._setError(),request.abort(),this._setReadyState(XMLHttpRequest.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend")},XMLHttpRequest.prototype._onHttpRequestError=function(request,error){if(this._request===request)return this._setError(),request.abort(),this._setReadyState(XMLHttpRequest.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")},XMLHttpRequest.prototype._dispatchProgress=function(eventType){var event;(event=new ProgressEvent(eventType)).lengthComputable=this._lengthComputable,event.loaded=this._loadedBytes,event.total=this._totalBytes,this.dispatchEvent(event)},XMLHttpRequest.prototype._setError=function(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null},XMLHttpRequest.prototype._parseUrl=function(urlString){var absoluteUrlString,index,password,user,xhrUrl;return absoluteUrlString=null===this.nodejsBaseUrl?urlString:url.resolve(this.nodejsBaseUrl,urlString),(xhrUrl=url.parse(absoluteUrlString,!1,!0)).hash=null,!xhrUrl.auth||null==user&&null==password||(-1===(index=xhrUrl.auth.indexOf(":"))?user||(user=xhrUrl.auth):(user||(user=xhrUrl.substring(0,index)),password||(password=xhrUrl.substring(index+1)))),(user||password)&&(xhrUrl.auth=user+":"+password),xhrUrl},XMLHttpRequest.prototype._parseResponseHeaders=function(response){var loweredName,name,ref,value;for(name in this._responseHeaders={},ref=response.headers)value=ref[name],loweredName=name.toLowerCase(),this._privateHeaders[loweredName]||(null!==this._mimeOverride&&"content-type"===loweredName&&(value=this._mimeOverride),this._responseHeaders[loweredName]=value);null===this._mimeOverride||"content-type"in this._responseHeaders||(this._responseHeaders["content-type"]=this._mimeOverride)},XMLHttpRequest.prototype._parseResponse=function(){var arrayBuffer,buffer,i,j,ref,view;switch(buffer=Buffer.concat?Buffer.concat(this._responseParts):this._concatBuffers(this._responseParts),this._responseParts=null,this.responseType){case"text":this._parseTextResponse(buffer);break;case"json":this.responseText=null;try{this.response=JSON.parse(buffer.toString("utf-8"))}catch(error1){error1,this.response=null}break;case"buffer":this.responseText=null,this.response=buffer;break;case"arraybuffer":for(this.responseText=null,arrayBuffer=new ArrayBuffer(buffer.length),view=new Uint8Array(arrayBuffer),i=j=0,ref=buffer.length;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j)view[i]=buffer[i];this.response=arrayBuffer;break;default:this._parseTextResponse(buffer)}},XMLHttpRequest.prototype._parseTextResponse=function(buffer){try{this.responseText=buffer.toString(this._parseResponseEncoding())}catch(error1){error1,this.responseText=buffer.toString("binary")}this.response=this.responseText},XMLHttpRequest.prototype._parseResponseEncoding=function(){var contentType,match;return null,(contentType=this._responseHeaders["content-type"])&&(match=/\;\s*charset\=(.*)$/.exec(contentType))?match[1]:"utf-8"},XMLHttpRequest.prototype._concatBuffers=function(buffers){var buffer,j,k,len,len1,length,target;if(0===buffers.length)return new Buffer(0);if(1===buffers.length)return buffers[0];for(length=0,j=0,len=buffers.length;j<len;j++)length+=(buffer=buffers[j]).length;for(target=new Buffer(length),length=0,k=0,len1=buffers.length;k<len1;k++)(buffer=buffers[k]).copy(target,length),length+=buffer.length;return target},XMLHttpRequest}(XMLHttpRequestEventTarget),module.exports=XMLHttpRequest,XMLHttpRequest.XMLHttpRequest=XMLHttpRequest,SecurityError=function(superClass){function SecurityError(){SecurityError.__super__.constructor.apply(this,arguments)}return extend(SecurityError,superClass),SecurityError}(Error),XMLHttpRequest.SecurityError=SecurityError,InvalidStateError=function(superClass){function InvalidStateError(){InvalidStateError.__super__.constructor.apply(this,arguments)}return extend(InvalidStateError,superClass),InvalidStateError}(Error),InvalidStateError=function(superClass){function InvalidStateError(){return InvalidStateError.__super__.constructor.apply(this,arguments)}return extend(InvalidStateError,superClass),InvalidStateError}(Error),XMLHttpRequest.InvalidStateError=InvalidStateError,NetworkError=function(superClass){function NetworkError(){NetworkError.__super__.constructor.apply(this,arguments)}return extend(NetworkError,superClass),NetworkError}(Error),XMLHttpRequest.SyntaxError=SyntaxError,SyntaxError=function(superClass){function SyntaxError(){SyntaxError.__super__.constructor.apply(this,arguments)}return extend(SyntaxError,superClass),SyntaxError}(Error),ProgressEvent=function(){function ProgressEvent(type){this.type=type,this.target=null,this.currentTarget=null,this.lengthComputable=!1,this.loaded=0,this.total=0}return ProgressEvent.prototype.bubbles=!1,ProgressEvent.prototype.cancelable=!1,ProgressEvent.prototype.target=null,ProgressEvent.prototype.loaded=null,ProgressEvent.prototype.lengthComputable=null,ProgressEvent.prototype.total=null,ProgressEvent}(),XMLHttpRequest.ProgressEvent=ProgressEvent,XMLHttpRequestUpload=function(superClass){function XMLHttpRequestUpload(request){XMLHttpRequestUpload.__super__.constructor.call(this),this._request=request,this._reset()}return extend(XMLHttpRequestUpload,superClass),XMLHttpRequestUpload.prototype._reset=function(){this._contentType=null,this._body=null},XMLHttpRequestUpload.prototype._setData=function(data){var body,i,j,k,offset,ref,ref1,view;if(null!=data)if("string"==typeof data)0!==data.length&&(this._contentType="text/plain;charset=UTF-8"),this._body=new Buffer(data,"utf8");else if(Buffer.isBuffer(data))this._body=data;else if(data instanceof ArrayBuffer){for(body=new Buffer(data.byteLength),view=new Uint8Array(data),i=j=0,ref=data.byteLength;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j)body[i]=view[i];this._body=body}else{if(!(data.buffer&&data.buffer instanceof ArrayBuffer))throw new Error("Unsupported send() data "+data);for(body=new Buffer(data.byteLength),offset=data.byteOffset,view=new Uint8Array(data.buffer),i=k=0,ref1=data.byteLength;0<=ref1?k<ref1:k>ref1;i=0<=ref1?++k:--k)body[i]=view[i+offset];this._body=body}},XMLHttpRequestUpload.prototype._finalizeHeaders=function(headers,loweredHeaders){this._contentType&&("content-type"in loweredHeaders||(headers["Content-Type"]=this._contentType)),this._body&&(headers["Content-Length"]=this._body.length.toString())},XMLHttpRequestUpload.prototype._startUpload=function(request){this._body&&request.write(this._body),request.end()},XMLHttpRequestUpload}(XMLHttpRequestEventTarget),XMLHttpRequest.XMLHttpRequestUpload=XMLHttpRequestUpload}).call(this)},WG2O:function(module,exports,__webpack_require__){"use strict";module.exports=FilteredElementList;var Node=__webpack_require__("P6n3");function FilteredElementList(root,filter){this.root=root,this.filter=filter,this.lastModTime=root.lastModTime,this.done=!1,this.cache=[],this.traverse()}FilteredElementList.prototype=Object.create(Object.prototype,{length:{get:function(){return this.checkcache(),this.done||this.traverse(),this.cache.length}},item:{value:function(n){return this.checkcache(),!this.done&&n>=this.cache.length&&this.traverse(),this.cache[n]}},checkcache:{value:function(){if(this.lastModTime!==this.root.lastModTime){for(var i=this.cache.length-1;i>=0;i--)this[i]=void 0;this.cache.length=0,this.done=!1,this.lastModTime=this.root.lastModTime}}},traverse:{value:function(n){var elt;for(void 0!==n&&n++;null!==(elt=this.next());)if(this[this.cache.length]=elt,this.cache.push(elt),n&&this.cache.length===n)return;this.done=!0}},next:{value:function(){var elt,start=0===this.cache.length?this.root:this.cache[this.cache.length-1];for(elt=start.nodeType===Node.DOCUMENT_NODE?start.documentElement:start.nextElement(this.root);elt;){if(this.filter(elt))return elt;elt=elt.nextElement(this.root)}return null}}})},Wo4J:function(module,exports,__webpack_require__){"use strict";var DOMException=__webpack_require__("28gj"),ERR=DOMException,isApiWritable=__webpack_require__("Pd6R").isApiWritable;exports.NAMESPACE={HTML:"http://www.w3.org/1999/xhtml",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink"},exports.IndexSizeError=function(){throw new DOMException(ERR.INDEX_SIZE_ERR)},exports.HierarchyRequestError=function(){throw new DOMException(ERR.HIERARCHY_REQUEST_ERR)},exports.WrongDocumentError=function(){throw new DOMException(ERR.WRONG_DOCUMENT_ERR)},exports.InvalidCharacterError=function(){throw new DOMException(ERR.INVALID_CHARACTER_ERR)},exports.NoModificationAllowedError=function(){throw new DOMException(ERR.NO_MODIFICATION_ALLOWED_ERR)},exports.NotFoundError=function(){throw new DOMException(ERR.NOT_FOUND_ERR)},exports.NotSupportedError=function(){throw new DOMException(ERR.NOT_SUPPORTED_ERR)},exports.InvalidStateError=function(){throw new DOMException(ERR.INVALID_STATE_ERR)},exports.SyntaxError=function(){throw new DOMException(ERR.SYNTAX_ERR)},exports.InvalidModificationError=function(){throw new DOMException(ERR.INVALID_MODIFICATION_ERR)},exports.NamespaceError=function(){throw new DOMException(ERR.NAMESPACE_ERR)},exports.InvalidAccessError=function(){throw new DOMException(ERR.INVALID_ACCESS_ERR)},exports.TypeMismatchError=function(){throw new DOMException(ERR.TYPE_MISMATCH_ERR)},exports.SecurityError=function(){throw new DOMException(ERR.SECURITY_ERR)},exports.NetworkError=function(){throw new DOMException(ERR.NETWORK_ERR)},exports.AbortError=function(){throw new DOMException(ERR.ABORT_ERR)},exports.UrlMismatchError=function(){throw new DOMException(ERR.URL_MISMATCH_ERR)},exports.QuotaExceededError=function(){throw new DOMException(ERR.QUOTA_EXCEEDED_ERR)},exports.TimeoutError=function(){throw new DOMException(ERR.TIMEOUT_ERR)},exports.InvalidNodeTypeError=function(){throw new DOMException(ERR.INVALID_NODE_TYPE_ERR)},exports.DataCloneError=function(){throw new DOMException(ERR.DATA_CLONE_ERR)},exports.nyi=function(){throw new Error("NotYetImplemented")},exports.shouldOverride=function(){throw new Error("Abstract function; should be overriding in subclass.")},exports.assert=function(expr,msg){if(!expr)throw new Error("Assertion failed: "+(msg||"")+"\n"+(new Error).stack)},exports.expose=function(src,c){for(var n in src)Object.defineProperty(c.prototype,n,{value:src[n],writable:isApiWritable})},exports.merge=function(a,b){for(var n in b)a[n]=b[n]},exports.documentOrder=function(n,m){return 3-(6&n.compareDocumentPosition(m))},exports.toASCIILowerCase=function(s){return s.replace(/[A-Z]+/g,(function(c){return c.toLowerCase()}))},exports.toASCIIUpperCase=function(s){return s.replace(/[a-z]+/g,(function(c){return c.toUpperCase()}))}},XDbj:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return throwIfEmpty}));var _util_EmptyError__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("sVev"),_Subscriber__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("7o/Q");function throwIfEmpty(errorFactory=defaultErrorFactory){return source=>source.lift(new ThrowIfEmptyOperator(errorFactory))}class ThrowIfEmptyOperator{constructor(errorFactory){this.errorFactory=errorFactory}call(subscriber,source){return source.subscribe(new ThrowIfEmptySubscriber(subscriber,this.errorFactory))}}class ThrowIfEmptySubscriber extends _Subscriber__WEBPACK_IMPORTED_MODULE_1__.a{constructor(destination,errorFactory){super(destination),this.errorFactory=errorFactory,this.hasValue=!1}_next(value){this.hasValue=!0,this.destination.next(value)}_complete(){if(this.hasValue)return this.destination.complete();{let err;try{err=this.errorFactory()}catch(e){err=e}this.destination.error(err)}}}function defaultErrorFactory(){return new _util_EmptyError__WEBPACK_IMPORTED_MODULE_0__.a}},XNiG:function(module,__webpack_exports__,__webpack_require__){"use strict";var Observable=__webpack_require__("HDdC"),Subscriber=__webpack_require__("7o/Q"),Subscription=__webpack_require__("quSY"),ObjectUnsubscribedError=__webpack_require__("9ppp");class SubjectSubscription_SubjectSubscription extends Subscription.a{constructor(subject,subscriber){super(),this.subject=subject,this.subscriber=subscriber,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const subject=this.subject,observers=subject.observers;if(this.subject=null,!observers||0===observers.length||subject.isStopped||subject.closed)return;const subscriberIndex=observers.indexOf(this.subscriber);-1!==subscriberIndex&&observers.splice(subscriberIndex,1)}}var rxSubscriber=__webpack_require__("2QA8");__webpack_require__.d(__webpack_exports__,"b",(function(){return Subject_SubjectSubscriber})),__webpack_require__.d(__webpack_exports__,"a",(function(){return Subject_Subject}));class Subject_SubjectSubscriber extends Subscriber.a{constructor(destination){super(destination),this.destination=destination}}class Subject_Subject extends Observable.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[rxSubscriber.a](){return new Subject_SubjectSubscriber(this)}lift(operator){const subject=new Subject_AnonymousSubject(this,this);return subject.operator=operator,subject}next(value){if(this.closed)throw new ObjectUnsubscribedError.a;if(!this.isStopped){const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].next(value)}}error(err){if(this.closed)throw new ObjectUnsubscribedError.a;this.hasError=!0,this.thrownError=err,this.isStopped=!0;const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].error(err);this.observers.length=0}complete(){if(this.closed)throw new ObjectUnsubscribedError.a;this.isStopped=!0;const{observers:observers}=this,len=observers.length,copy=observers.slice();for(let i=0;i<len;i++)copy[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(subscriber){if(this.closed)throw new ObjectUnsubscribedError.a;return super._trySubscribe(subscriber)}_subscribe(subscriber){if(this.closed)throw new ObjectUnsubscribedError.a;return this.hasError?(subscriber.error(this.thrownError),Subscription.a.EMPTY):this.isStopped?(subscriber.complete(),Subscription.a.EMPTY):(this.observers.push(subscriber),new SubjectSubscription_SubjectSubscription(this,subscriber))}asObservable(){const observable=new Observable.a;return observable.source=this,observable}}Subject_Subject.create=(destination,source)=>new Subject_AnonymousSubject(destination,source);class Subject_AnonymousSubject extends Subject_Subject{constructor(destination,source){super(),this.destination=destination,this.source=source}next(value){const{destination:destination}=this;destination&&destination.next&&destination.next(value)}error(err){const{destination:destination}=this;destination&&destination.error&&this.destination.error(err)}complete(){const{destination:destination}=this;destination&&destination.complete&&this.destination.complete()}_subscribe(subscriber){const{source:source}=this;return source?this.source.subscribe(subscriber):Subscription.a.EMPTY}}},XoHu:function(module,__webpack_exports__,__webpack_require__){"use strict";function isObject(x){return null!==x&&"object"==typeof x}__webpack_require__.d(__webpack_exports__,"a",(function(){return isObject}))},ZAI4:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const platform_browser_1=__webpack_require__("jhN1"),app_routing_module_1=__webpack_require__("vY5A"),app_component_1=__webpack_require__("Sy1n"),router_1=__webpack_require__("tyNb"),i0=__webpack_require__("fXoL");__webpack_require__("jhN1");class AppModule{}exports.AppModule=AppModule,AppModule.\u0275mod=i0.\u0275\u0275defineNgModule({type:AppModule,bootstrap:[app_component_1.AppComponent]}),AppModule.\u0275inj=i0.\u0275\u0275defineInjector({factory:function AppModule_Factory(t){return new(t||AppModule)},providers:[],imports:[[platform_browser_1.BrowserModule.withServerTransition({appId:"serverApp"}),app_routing_module_1.AppRoutingModule,router_1.RouterModule]]})},ZUHj:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return subscribeToResult}));var _InnerSubscriber__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("51Dv"),_subscribeTo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("SeVD"),_Observable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("HDdC");function subscribeToResult(outerSubscriber,result,outerValue,outerIndex,innerSubscriber=new _InnerSubscriber__WEBPACK_IMPORTED_MODULE_0__.a(outerSubscriber,outerValue,outerIndex)){if(!innerSubscriber.closed)return result instanceof _Observable__WEBPACK_IMPORTED_MODULE_2__.a?result.subscribe(innerSubscriber):Object(_subscribeTo__WEBPACK_IMPORTED_MODULE_1__.a)(result)(innerSubscriber)}},aCac:function(module,exports,__webpack_require__){"use strict";function item(i){return this[i]||null}module.exports=function NodeList(a){return a||(a=[]),a.item=item,a}},bHdf:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return mergeAll}));var _mergeMap__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5+tZ"),_util_identity__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("SpAZ");function mergeAll(concurrent=Number.POSITIVE_INFINITY){return Object(_mergeMap__WEBPACK_IMPORTED_MODULE_0__.a)(_util_identity__WEBPACK_IMPORTED_MODULE_1__.a,concurrent)}},bOdf:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return concatMap}));var _mergeMap__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5+tZ");function concatMap(project,resultSelector){return Object(_mergeMap__WEBPACK_IMPORTED_MODULE_0__.a)(project,resultSelector,1)}},bzos:function(module,exports){module.exports=require("url")},c2HN:function(module,__webpack_exports__,__webpack_require__){"use strict";function isPromise(value){return!!value&&"function"!=typeof value.subscribe&&"function"==typeof value.then}__webpack_require__.d(__webpack_exports__,"a",(function(){return isPromise}))},dPIN:function(module,exports,__webpack_require__){"use strict";function URL(url){if(!url)return Object.create(URL.prototype);this.url=url.replace(/^[ \t\n\r\f]+|[ \t\n\r\f]+$/g,"");var match=URL.pattern.exec(this.url);if(match){if(match[2]&&(this.scheme=match[2]),match[4]){var userinfo=match[4].match(URL.userinfoPattern);if(userinfo&&(this.username=userinfo[1],this.password=userinfo[3],match[4]=match[4].substring(userinfo[0].length)),match[4].match(URL.portPattern)){var pos=match[4].lastIndexOf(":");this.host=match[4].substring(0,pos),this.port=match[4].substring(pos+1)}else this.host=match[4]}match[5]&&(this.path=match[5]),match[6]&&(this.query=match[7]),match[8]&&(this.fragment=match[9])}}module.exports=URL,URL.pattern=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,URL.userinfoPattern=/^([^@:]*)(:([^@]*))?@/,URL.portPattern=/:\d+$/,URL.authorityPattern=/^[^:\/?#]+:\/\//,URL.hierarchyPattern=/^[^:\/?#]+:\//,URL.percentEncode=function percentEncode(s){var c=s.charCodeAt(0);if(c<256)return"%"+c.toString(16);throw Error("can't percent-encode codepoints > 255 yet")},URL.prototype={constructor:URL,isAbsolute:function(){return!!this.scheme},isAuthorityBased:function(){return URL.authorityPattern.test(this.url)},isHierarchical:function(){return URL.hierarchyPattern.test(this.url)},toString:function(){var s="";return void 0!==this.scheme&&(s+=this.scheme+":"),this.isAbsolute()&&(s+="//",(this.username||this.password)&&(s+=this.username||"",this.password&&(s+=":"+this.password),s+="@"),this.host&&(s+=this.host)),void 0!==this.port&&(s+=":"+this.port),void 0!==this.path&&(s+=this.path),void 0!==this.query&&(s+="?"+this.query),void 0!==this.fragment&&(s+="#"+this.fragment),s},resolve:function(relative){var base=this,r=new URL(relative),t=new URL;return void 0!==r.scheme?(t.scheme=r.scheme,t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=remove_dot_segments(r.path),t.query=r.query):(t.scheme=base.scheme,void 0!==r.host?(t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=remove_dot_segments(r.path),t.query=r.query):(t.username=base.username,t.password=base.password,t.host=base.host,t.port=base.port,r.path?("/"===r.path.charAt(0)?t.path=remove_dot_segments(r.path):(t.path=function merge(basepath,refpath){if(void 0!==base.host&&!base.path)return"/"+refpath;var lastslash=basepath.lastIndexOf("/");return-1===lastslash?refpath:basepath.substring(0,lastslash+1)+refpath}(base.path,r.path),t.path=remove_dot_segments(t.path)),t.query=r.query):(t.path=base.path,void 0!==r.query?t.query=r.query:t.query=base.query))),t.fragment=r.fragment,t.toString();function remove_dot_segments(path){if(!path)return path;for(var output="";path.length>0;){if("."===path||".."===path){path="";break}var twochars=path.substring(0,2),threechars=path.substring(0,3),fourchars=path.substring(0,4);if("../"===threechars)path=path.substring(3);else if("./"===twochars)path=path.substring(2);else if("/./"===threechars)path="/"+path.substring(3);else if("/."===twochars&&2===path.length)path="/";else if("/../"===fourchars||"/.."===threechars&&3===path.length)path="/"+path.substring(4),output=output.replace(/\/?[^\/]*$/,"");else{var segment=path.match(/(\/?([^\/]*))/)[0];output+=segment,path=path.substring(segment.length)}}return output}}}},ddNv:function(module,exports,__webpack_require__){"use strict";var window=Object.create(null,{location:{get:function(){throw new Error("window.location is not supported.")}}}),order=function(a,b){return 2&function(a,b){return a.compareDocumentPosition(b)}(a,b)?1:-1},next=function(el){for(;(el=el.nextSibling)&&1!==el.nodeType;);return el},prev=function(el){for(;(el=el.previousSibling)&&1!==el.nodeType;);return el},child=function(el){if(el=el.firstChild)for(;1!==el.nodeType&&(el=el.nextSibling););return el},lastChild=function(el){if(el=el.lastChild)for(;1!==el.nodeType&&(el=el.previousSibling););return el},parentIsElement=function(n){if(!n.parentNode)return!1;var nodeType=n.parentNode.nodeType;return 1===nodeType||9===nodeType},unquote=function(str){if(!str)return str;var ch=str[0];return'"'===ch||"'"===ch?(str=str[str.length-1]===ch?str.slice(1,-1):str.slice(1)).replace(rules.str_escape,(function(s){var m=/^\\(?:([0-9A-Fa-f]+)|([\r\n\f]+))/.exec(s);if(!m)return s.slice(1);if(m[2])return"";var cp=parseInt(m[1],16);return String.fromCodePoint?String.fromCodePoint(cp):String.fromCharCode(cp)})):rules.ident.test(str)?decodeid(str):str},decodeid=function(str){return str.replace(rules.escape,(function(s){var m=/^\\([0-9A-Fa-f]+)/.exec(s);if(!m)return s[1];var cp=parseInt(m[1],16);return String.fromCodePoint?String.fromCodePoint(cp):String.fromCharCode(cp)}))},indexOf=Array.prototype.indexOf?Array.prototype.indexOf:function(obj,item){for(var i=this.length;i--;)if(this[i]===item)return i;return-1},makeInside=function(start,end){var regex=rules.inside.source.replace(/</g,start).replace(/>/g,end);return new RegExp(regex)},replace=function(regex,name,val){return regex=(regex=regex.source).replace(name,val.source||val),new RegExp(regex)},truncateUrl=function(url,num){return url.replace(/^(?:\w+:\/\/|\/+)/,"").replace(/(?:\/+|\/*#.*?)$/,"").split("/",num).join("/")},nth=function(param_,test,last){var param=function(param_,test){var cap,param=param_.replace(/\s+/g,"");return"even"===param?param="2n+0":"odd"===param?param="2n+1":-1===param.indexOf("n")&&(param="0n"+param),{group:"-"===(cap=/^([+-])?(\d+)?n([+-])?(\d+)?$/.exec(param))[1]?-(cap[2]||1):+(cap[2]||1),offset:cap[4]?"-"===cap[3]?-cap[4]:+cap[4]:0}}(param_),group=param.group,offset=param.offset,find=last?lastChild:child,advance=last?prev:next;return function(el){if(parentIsElement(el))for(var rel=find(el.parentNode),pos=0;rel;){if(test(rel,el)&&pos++,rel===el)return pos-=offset,group&&pos?pos%group==0&&pos<0==group<0:!pos;rel=advance(rel)}}},selectors={"*":function(){return!0},type:function(type){return type=type.toLowerCase(),function(el){return el.nodeName.toLowerCase()===type}},attr:function(key,op,val,i){return op=operators[op],function(el){var attr;switch(key){case"for":attr=el.htmlFor;break;case"class":""===(attr=el.className)&&null==el.getAttribute("class")&&(attr=null);break;case"href":case"src":attr=el.getAttribute(key,2);break;case"title":attr=el.getAttribute("title")||null;break;case"id":case"lang":case"dir":case"accessKey":case"hidden":case"tabIndex":case"style":if(el.getAttribute){attr=el.getAttribute(key);break}default:if(el.hasAttribute&&!el.hasAttribute(key))break;attr=null!=el[key]?el[key]:el.getAttribute&&el.getAttribute(key)}if(null!=attr)return attr+="",i&&(attr=attr.toLowerCase(),val=val.toLowerCase()),op(attr,val)}},":first-child":function(el){return!prev(el)&&parentIsElement(el)},":last-child":function(el){return!next(el)&&parentIsElement(el)},":only-child":function(el){return!prev(el)&&!next(el)&&parentIsElement(el)},":nth-child":function(param,last){return nth(param,(function(){return!0}),last)},":nth-last-child":function(param){return selectors[":nth-child"](param,!0)},":root":function(el){return el.ownerDocument.documentElement===el},":empty":function(el){return!el.firstChild},":not":function(sel){var test=compileGroup(sel);return function(el){return!test(el)}},":first-of-type":function(el){if(parentIsElement(el)){for(var type=el.nodeName;el=prev(el);)if(el.nodeName===type)return;return!0}},":last-of-type":function(el){if(parentIsElement(el)){for(var type=el.nodeName;el=next(el);)if(el.nodeName===type)return;return!0}},":only-of-type":function(el){return selectors[":first-of-type"](el)&&selectors[":last-of-type"](el)},":nth-of-type":function(param,last){return nth(param,(function(rel,el){return rel.nodeName===el.nodeName}),last)},":nth-last-of-type":function(param){return selectors[":nth-of-type"](param,!0)},":checked":function(el){return!(!el.checked&&!el.selected)},":indeterminate":function(el){return!selectors[":checked"](el)},":enabled":function(el){return!el.disabled&&"hidden"!==el.type},":disabled":function(el){return!!el.disabled},":target":function(el){return el.id===window.location.hash.substring(1)},":focus":function(el){return el===el.ownerDocument.activeElement},":is":function(sel){return compileGroup(sel)},":matches":function(sel){return selectors[":is"](sel)},":nth-match":function(param,last){var args=param.split(/\s*,\s*/),arg=args.shift(),test=compileGroup(args.join(","));return nth(arg,test,last)},":nth-last-match":function(param){return selectors[":nth-match"](param,!0)},":links-here":function(el){return el+""==window.location+""},":lang":function(param){return function(el){for(;el;){if(el.lang)return 0===el.lang.indexOf(param);el=el.parentNode}}},":dir":function(param){return function(el){for(;el;){if(el.dir)return el.dir===param;el=el.parentNode}}},":scope":function(el,con){var context=con||el.ownerDocument;return 9===context.nodeType?el===context.documentElement:el===context},":any-link":function(el){return"string"==typeof el.href},":local-link":function(el){if(el.nodeName)return el.href&&el.host===window.location.host;var param=+el+1;return function(el){if(el.href){var url=window.location+"",href=el+"";return truncateUrl(url,param)===truncateUrl(href,param)}}},":default":function(el){return!!el.defaultSelected},":valid":function(el){return el.willValidate||el.validity&&el.validity.valid},":invalid":function(el){return!selectors[":valid"](el)},":in-range":function(el){return el.value>el.min&&el.value<=el.max},":out-of-range":function(el){return!selectors[":in-range"](el)},":required":function(el){return!!el.required},":optional":function(el){return!el.required},":read-only":function(el){if(el.readOnly)return!0;var attr=el.getAttribute("contenteditable"),prop=el.contentEditable,name=el.nodeName.toLowerCase();return((name="input"!==name&&"textarea"!==name)||el.disabled)&&null==attr&&"true"!==prop},":read-write":function(el){return!selectors[":read-only"](el)},":hover":function(){throw new Error(":hover is not supported.")},":active":function(){throw new Error(":active is not supported.")},":link":function(){throw new Error(":link is not supported.")},":visited":function(){throw new Error(":visited is not supported.")},":column":function(){throw new Error(":column is not supported.")},":nth-column":function(){throw new Error(":nth-column is not supported.")},":nth-last-column":function(){throw new Error(":nth-last-column is not supported.")},":current":function(){throw new Error(":current is not supported.")},":past":function(){throw new Error(":past is not supported.")},":future":function(){throw new Error(":future is not supported.")},":contains":function(param){return function(el){return-1!==(el.innerText||el.textContent||el.value||"").indexOf(param)}},":has":function(param){return function(el){return find(param,el).length>0}}},operators={"-":function(){return!0},"=":function(attr,val){return attr===val},"*=":function(attr,val){return-1!==attr.indexOf(val)},"~=":function(attr,val){var i,s,f,l;for(s=0;;s=i+1){if(-1===(i=attr.indexOf(val,s)))return!1;if(f=attr[i-1],l=attr[i+val.length],!(f&&" "!==f||l&&" "!==l))return!0}},"|=":function(attr,val){var l,i=attr.indexOf(val);if(0===i)return"-"===(l=attr[i+val.length])||!l},"^=":function(attr,val){return 0===attr.indexOf(val)},"$=":function(attr,val){var i=attr.lastIndexOf(val);return-1!==i&&i+val.length===attr.length},"!=":function(attr,val){return attr!==val}},combinators={" ":function(test){return function(el){for(;el=el.parentNode;)if(test(el))return el}},">":function(test){return function(el){if(el=el.parentNode)return test(el)&&el}},"+":function(test){return function(el){if(el=prev(el))return test(el)&&el}},"~":function(test){return function(el){for(;el=prev(el);)if(test(el))return el}},noop:function(test){return function(el){return test(el)&&el}},ref:function(test,name){var node;function ref(el){for(var nodes=el.ownerDocument.getElementsByTagName("*"),i=nodes.length;i--;)if(node=nodes[i],ref.test(el))return node=null,!0;node=null}return ref.combinator=function(el){if(node&&node.getAttribute){var attr=node.getAttribute(name)||"";return"#"===attr[0]&&(attr=attr.substring(1)),attr===el.id&&test(node)?node:void 0}},ref}},rules={escape:/\\(?:[^0-9A-Fa-f\r\n]|[0-9A-Fa-f]{1,6}[\r\n\t ]?)/g,str_escape:/(escape)|\\(\n|\r\n?|\f)/g,nonascii:/[\u00A0-\uFFFF]/,cssid:/(?:(?!-?[0-9])(?:escape|nonascii|[-_a-zA-Z0-9])+)/,qname:/^ *(cssid|\*)/,simple:/^(?:([.#]cssid)|pseudo|attr)/,ref:/^ *\/(cssid)\/ */,combinator:/^(?: +([^ \w*.#\\]) +|( )+|([^ \w*.#\\]))(?! *$)/,attr:/^\[(cssid)(?:([^\w]?=)(inside))?\]/,pseudo:/^(:cssid)(?:\((inside)\))?/,inside:/(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|<[^"'>]*>|\\["'>]|[^"'>])*/,ident:/^(cssid)$/};rules.cssid=replace(rules.cssid,"nonascii",rules.nonascii),rules.cssid=replace(rules.cssid,"escape",rules.escape),rules.qname=replace(rules.qname,"cssid",rules.cssid),rules.simple=replace(rules.simple,"cssid",rules.cssid),rules.ref=replace(rules.ref,"cssid",rules.cssid),rules.attr=replace(rules.attr,"cssid",rules.cssid),rules.pseudo=replace(rules.pseudo,"cssid",rules.cssid),rules.inside=replace(rules.inside,"[^\"'>]*",rules.inside),rules.attr=replace(rules.attr,"inside",makeInside("\\[","\\]")),rules.pseudo=replace(rules.pseudo,"inside",makeInside("\\(","\\)")),rules.simple=replace(rules.simple,"pseudo",rules.pseudo),rules.simple=replace(rules.simple,"attr",rules.attr),rules.ident=replace(rules.ident,"cssid",rules.cssid),rules.str_escape=replace(rules.str_escape,"escape",rules.escape);var compile=function(sel_){for(var test,subject,qname,cap,op,ref,sel=sel_.replace(/^\s+|\s+$/g,""),filter=[],buff=[];sel;){if(cap=rules.qname.exec(sel))sel=sel.substring(cap[0].length),qname=decodeid(cap[1]),buff.push(tok(qname,!0));else{if(!(cap=rules.simple.exec(sel)))throw new SyntaxError("Invalid selector.");sel=sel.substring(cap[0].length),qname="*",buff.push(tok(qname,!0)),buff.push(tok(cap))}for(;cap=rules.simple.exec(sel);)sel=sel.substring(cap[0].length),buff.push(tok(cap));if("!"===sel[0]&&(sel=sel.substring(1),(subject=makeSubject()).qname=qname,buff.push(subject.simple)),cap=rules.ref.exec(sel))sel=sel.substring(cap[0].length),ref=combinators.ref(makeSimple(buff),decodeid(cap[1])),filter.push(ref.combinator),buff=[];else{if(cap=rules.combinator.exec(sel)){if(sel=sel.substring(cap[0].length),","===(op=cap[1]||cap[2]||cap[3])){filter.push(combinators.noop(makeSimple(buff)));break}}else op="noop";if(!combinators[op])throw new SyntaxError("Bad combinator.");filter.push(combinators[op](makeSimple(buff))),buff=[]}}return(test=makeTest(filter)).qname=qname,test.sel=sel,subject&&(subject.lname=test.qname,subject.test=test,subject.qname=subject.qname,subject.sel=test.sel,test=subject),ref&&(ref.test=test,ref.qname=test.qname,ref.sel=test.sel,test=ref),test},tok=function(cap,qname){if(qname)return"*"===cap?selectors["*"]:selectors.type(cap);if(cap[1])return"."===cap[1][0]?selectors.attr("class","~=",decodeid(cap[1].substring(1)),!1):selectors.attr("id","=",decodeid(cap[1].substring(1)),!1);if(cap[2])return cap[3]?selectors[decodeid(cap[2])](unquote(cap[3])):selectors[decodeid(cap[2])];if(cap[4]){var value=cap[6],i=/["'\s]\s*I$/i.test(value);return i&&(value=value.replace(/\s*I$/i,"")),selectors.attr(decodeid(cap[4]),cap[5]||"-",unquote(value),i)}throw new SyntaxError("Unknown Selector.")},makeSimple=function(func){var i,l=func.length;return l<2?func[0]:function(el){if(el){for(i=0;i<l;i++)if(!func[i](el))return;return!0}}},makeTest=function(func){return func.length<2?function(el){return!!func[0](el)}:function(el){for(var i=func.length;i--;)if(!(el=func[i](el)))return;return!0}},makeSubject=function(){var target;function subject(el){for(var scope=el.ownerDocument.getElementsByTagName(subject.lname),i=scope.length;i--;)if(subject.test(scope[i])&&target===el)return target=null,!0;target=null}return subject.simple=function(el){return target=el,!0},subject},compileGroup=function(sel){for(var test=compile(sel),tests=[test];test.sel;)test=compile(test.sel),tests.push(test);return tests.length<2?test:function(el){for(var l=tests.length,i=0;i<l;i++)if(tests[i](el))return!0}},find=function(sel,node){for(var el,results=[],test=compile(sel),scope=node.getElementsByTagName(test.qname),i=0;el=scope[i++];)test(el)&&results.push(el);if(test.sel){for(;test.sel;)for(test=compile(test.sel),scope=node.getElementsByTagName(test.qname),i=0;el=scope[i++];)test(el)&&-1===indexOf.call(results,el)&&results.push(el);results.sort(order)}return results};module.exports=exports=function(sel,context){var id,r;if(11!==context.nodeType&&-1===sel.indexOf(" ")){if("#"===sel[0]&&context.rooted&&/^#[A-Z_][-A-Z0-9_]*$/i.test(sel)&&context.doc._hasMultipleElementsWithId&&(id=sel.substring(1),!context.doc._hasMultipleElementsWithId(id)))return(r=context.doc.getElementById(id))?[r]:[];if("."===sel[0]&&/^\.\w+$/.test(sel))return context.getElementsByClassName(sel.substring(1));if(/^\w+$/.test(sel))return context.getElementsByTagName(sel)}return find(sel,context)},exports.selectors=selectors,exports.operators=operators,exports.combinators=combinators,exports.matches=function(el,sel){var test={sel:sel};do{if((test=compile(test.sel))(el))return!0}while(test.sel);return!1}},e1qY:function(module,exports,__webpack_require__){"use strict";module.exports=DocumentType;var Node=__webpack_require__("P6n3"),Leaf=__webpack_require__("zmfh"),ChildNode=__webpack_require__("g/dZ");function DocumentType(ownerDocument,name,publicId,systemId){Leaf.call(this),this.nodeType=Node.DOCUMENT_TYPE_NODE,this.ownerDocument=ownerDocument||null,this.name=name,this.publicId=publicId||"",this.systemId=systemId||""}DocumentType.prototype=Object.create(Leaf.prototype,{nodeName:{get:function(){return this.name}},nodeValue:{get:function(){return null},set:function(){}},clone:{value:function clone(){return new DocumentType(this.ownerDocument,this.name,this.publicId,this.systemId)}},isEqual:{value:function isEqual(n){return this.name===n.name&&this.publicId===n.publicId&&this.systemId===n.systemId}}}),Object.defineProperties(DocumentType.prototype,ChildNode)},eHbt:function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__("Wo4J");exports=module.exports={CSSStyleDeclaration:__webpack_require__("4CHZ"),CharacterData:__webpack_require__("KqMX"),Comment:__webpack_require__("5bTs"),DOMException:__webpack_require__("28gj"),DOMImplementation:__webpack_require__("Cj8W"),DOMTokenList:__webpack_require__("7SXX"),Document:__webpack_require__("2cVh"),DocumentFragment:__webpack_require__("rbP0"),DocumentType:__webpack_require__("e1qY"),Element:__webpack_require__("ryL4"),HTMLParser:__webpack_require__("y1on"),NamedNodeMap:__webpack_require__("NgqP"),Node:__webpack_require__("P6n3"),NodeList:__webpack_require__("Igrf"),NodeFilter:__webpack_require__("243a"),ProcessingInstruction:__webpack_require__("jMmm"),Text:__webpack_require__("kqfC"),Window:__webpack_require__("AF4J")},utils.merge(exports,__webpack_require__("5rAD")),utils.merge(exports,__webpack_require__("fcJ+").elements),utils.merge(exports,__webpack_require__("2nQd").elements)},f8Sz:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const i0=__webpack_require__("fXoL"),i1=__webpack_require__("ofXK");function TutorialsComponent_div_4_Template(rf,ctx){if(1&rf&&(i0.\u0275\u0275elementStart(0,"div",4),i0.\u0275\u0275elementStart(1,"div",5),i0.\u0275\u0275element(2,"img",6),i0.\u0275\u0275elementStart(3,"div",7),i0.\u0275\u0275elementStart(4,"p",8),i0.\u0275\u0275text(5),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementStart(6,"div",9),i0.\u0275\u0275elementStart(7,"div",10),i0.\u0275\u0275elementStart(8,"a",11),i0.\u0275\u0275text(9,"Go to Tutorial"),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementStart(10,"small",12),i0.\u0275\u0275text(11),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd()),2&rf){const tutorial_r3=ctx.$implicit;i0.\u0275\u0275advance(2),i0.\u0275\u0275propertyInterpolate("src",tutorial_r3.imageUrl,i0.\u0275\u0275sanitizeUrl),i0.\u0275\u0275advance(3),i0.\u0275\u0275textInterpolate(tutorial_r3.title),i0.\u0275\u0275advance(3),i0.\u0275\u0275propertyInterpolate("href",tutorial_r3.url,i0.\u0275\u0275sanitizeUrl),i0.\u0275\u0275advance(3),i0.\u0275\u0275textInterpolate1("",tutorial_r3.time_required," mins")}}class TutorialsComponent{constructor(){this.universal_tutorials=[{url:"https://www.universal-tutorial.com/angular-tutorials/whats-new-in-angular-9",title:"What's new in Angular 9",imageUrl:"https://www.universal-tutorial.com/media/angular-tutorials/angular_9/Angular_9.png",time_required:15},{url:"https://www.universal-tutorial.com/angular-tutorials/angular-typography",title:"Setup Typography using Angular Material",imageUrl:"https://universal-tutorial.com/media/angular-tutorials/angular-typography/angular-typography-banner_w1800.png",time_required:9},{url:"https://www.universal-tutorial.com/general-tutorials/code-formatting-using-prettier-and-husky",title:"How to format your code in Angular",imageUrl:"https://universal-tutorial.com/media/general-tutorials/prettier-code-format/prettier-code-format-banner_w1800.png",time_required:6}]}ngOnInit(){}}exports.TutorialsComponent=TutorialsComponent,TutorialsComponent.\u0275fac=function TutorialsComponent_Factory(t){return new(t||TutorialsComponent)},TutorialsComponent.\u0275cmp=i0.\u0275\u0275defineComponent({type:TutorialsComponent,selectors:[["app-tutorials"]],decls:5,vars:1,consts:[[1,"container","pt-4"],[1,"jumbotron-heading","text-center"],[1,"row","pt-4"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card","mb-4","box-shadow"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-group"],["target","_window",1,"btn","btn-primary",3,"href"],[1,"text-muted"]],template:function TutorialsComponent_Template(rf,ctx){1&rf&&(i0.\u0275\u0275elementStart(0,"div",0),i0.\u0275\u0275elementStart(1,"h1",1),i0.\u0275\u0275text(2,"Useful tutorials from Universal Tutorial"),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementStart(3,"div",2),i0.\u0275\u0275template(4,TutorialsComponent_div_4_Template,12,4,"div",3),i0.\u0275\u0275elementEnd(),i0.\u0275\u0275elementEnd()),2&rf&&(i0.\u0275\u0275advance(4),i0.\u0275\u0275property("ngForOf",ctx.universal_tutorials))},directives:[i1.NgForOf],styles:[""]})},fXoL:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var Subject=__webpack_require__("XNiG"),Subscription=__webpack_require__("quSY"),Observable=__webpack_require__("HDdC"),isScheduler=__webpack_require__("z+Ro"),mergeAll=__webpack_require__("bHdf"),fromArray=__webpack_require__("yCtX");var Subscriber=__webpack_require__("7o/Q");function refCount(){return function refCountOperatorFunction(source){return source.lift(new RefCountOperator(source))}}class RefCountOperator{constructor(connectable){this.connectable=connectable}call(subscriber,source){const{connectable:connectable}=this;connectable._refCount++;const refCounter=new refCount_RefCountSubscriber(subscriber,connectable),subscription=source.subscribe(refCounter);return refCounter.closed||(refCounter.connection=connectable.connect()),subscription}}class refCount_RefCountSubscriber extends Subscriber.a{constructor(destination,connectable){super(destination),this.connectable=connectable}_unsubscribe(){const{connectable:connectable}=this;if(!connectable)return void(this.connection=null);this.connectable=null;const refCount=connectable._refCount;if(refCount<=0)return void(this.connection=null);if(connectable._refCount=refCount-1,refCount>1)return void(this.connection=null);const{connection:connection}=this,sharedConnection=connectable._connection;this.connection=null,!sharedConnection||connection&&sharedConnection!==connection||sharedConnection.unsubscribe()}}class ConnectableObservable_ConnectableObservable extends Observable.a{constructor(source,subjectFactory){super(),this.source=source,this.subjectFactory=subjectFactory,this._refCount=0,this._isComplete=!1}_subscribe(subscriber){return this.getSubject().subscribe(subscriber)}getSubject(){const subject=this._subject;return subject&&!subject.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let connection=this._connection;return connection||(this._isComplete=!1,connection=this._connection=new Subscription.a,connection.add(this.source.subscribe(new ConnectableObservable_ConnectableSubscriber(this.getSubject(),this))),connection.closed&&(this._connection=null,connection=Subscription.a.EMPTY)),connection}refCount(){return refCount()(this)}}const connectableObservableDescriptor=(()=>{const connectableProto=ConnectableObservable_ConnectableObservable.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:connectableProto._subscribe},_isComplete:{value:connectableProto._isComplete,writable:!0},getSubject:{value:connectableProto.getSubject},connect:{value:connectableProto.connect},refCount:{value:connectableProto.refCount}}})();class ConnectableObservable_ConnectableSubscriber extends Subject.b{constructor(destination,connectable){super(destination),this.connectable=connectable}_error(err){this._unsubscribe(),super._error(err)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const connectable=this.connectable;if(connectable){this.connectable=null;const connection=connectable._connection;connectable._refCount=0,connectable._subject=null,connectable._connection=null,connection&&connection.unsubscribe()}}}Subscriber.a;class MulticastOperator{constructor(subjectFactory,selector){this.subjectFactory=subjectFactory,this.selector=selector}call(subscriber,source){const{selector:selector}=this,subject=this.subjectFactory(),subscription=selector(subject).subscribe(subscriber);return subscription.add(source.subscribe(subject)),subscription}}function shareSubjectFactory(){return new Subject.a}function share(){return source=>refCount()(function multicast(subjectOrSubjectFactory,selector){return function multicastOperatorFunction(source){let subjectFactory;if(subjectFactory="function"==typeof subjectOrSubjectFactory?subjectOrSubjectFactory:function subjectFactory(){return subjectOrSubjectFactory},"function"==typeof selector)return source.lift(new MulticastOperator(subjectFactory,selector));const connectable=Object.create(source,connectableObservableDescriptor);return connectable.source=source,connectable.subjectFactory=subjectFactory,connectable}}(shareSubjectFactory)(source))}function noSideEffects(fn){return{toString:fn}.toString()}__webpack_require__.d(__webpack_exports__,"ANALYZE_FOR_ENTRY_COMPONENTS",(function(){return ANALYZE_FOR_ENTRY_COMPONENTS})),__webpack_require__.d(__webpack_exports__,"APP_BOOTSTRAP_LISTENER",(function(){return APP_BOOTSTRAP_LISTENER})),__webpack_require__.d(__webpack_exports__,"APP_ID",(function(){return APP_ID})),__webpack_require__.d(__webpack_exports__,"APP_INITIALIZER",(function(){return APP_INITIALIZER})),__webpack_require__.d(__webpack_exports__,"ApplicationInitStatus",(function(){return ApplicationInitStatus})),__webpack_require__.d(__webpack_exports__,"ApplicationModule",(function(){return ApplicationModule})),__webpack_require__.d(__webpack_exports__,"ApplicationRef",(function(){return core_ApplicationRef})),__webpack_require__.d(__webpack_exports__,"Attribute",(function(){return Attribute})),__webpack_require__.d(__webpack_exports__,"COMPILER_OPTIONS",(function(){return COMPILER_OPTIONS})),__webpack_require__.d(__webpack_exports__,"CUSTOM_ELEMENTS_SCHEMA",(function(){return CUSTOM_ELEMENTS_SCHEMA})),__webpack_require__.d(__webpack_exports__,"ChangeDetectionStrategy",(function(){return ChangeDetectionStrategy})),__webpack_require__.d(__webpack_exports__,"ChangeDetectorRef",(function(){return ChangeDetectorRef})),__webpack_require__.d(__webpack_exports__,"Compiler",(function(){return Compiler})),__webpack_require__.d(__webpack_exports__,"CompilerFactory",(function(){return CompilerFactory})),__webpack_require__.d(__webpack_exports__,"Component",(function(){return Component})),__webpack_require__.d(__webpack_exports__,"ComponentFactory",(function(){return ComponentFactory})),__webpack_require__.d(__webpack_exports__,"ComponentFactoryResolver",(function(){return ComponentFactoryResolver})),__webpack_require__.d(__webpack_exports__,"ComponentRef",(function(){return ComponentRef})),__webpack_require__.d(__webpack_exports__,"ContentChild",(function(){return ContentChild})),__webpack_require__.d(__webpack_exports__,"ContentChildren",(function(){return ContentChildren})),__webpack_require__.d(__webpack_exports__,"DEFAULT_CURRENCY_CODE",(function(){return DEFAULT_CURRENCY_CODE})),__webpack_require__.d(__webpack_exports__,"DebugElement",(function(){return DebugElement})),__webpack_require__.d(__webpack_exports__,"DebugEventListener",(function(){return DebugEventListener})),__webpack_require__.d(__webpack_exports__,"DebugNode",(function(){return DebugNode$1})),__webpack_require__.d(__webpack_exports__,"DefaultIterableDiffer",(function(){return DefaultIterableDiffer})),__webpack_require__.d(__webpack_exports__,"Directive",(function(){return Directive})),__webpack_require__.d(__webpack_exports__,"ElementRef",(function(){return ElementRef})),__webpack_require__.d(__webpack_exports__,"EmbeddedViewRef",(function(){return EmbeddedViewRef})),__webpack_require__.d(__webpack_exports__,"ErrorHandler",(function(){return ErrorHandler})),__webpack_require__.d(__webpack_exports__,"EventEmitter",(function(){return core_EventEmitter})),__webpack_require__.d(__webpack_exports__,"Host",(function(){return Host})),__webpack_require__.d(__webpack_exports__,"HostBinding",(function(){return HostBinding})),__webpack_require__.d(__webpack_exports__,"HostListener",(function(){return HostListener})),__webpack_require__.d(__webpack_exports__,"INJECTOR",(function(){return INJECTOR})),__webpack_require__.d(__webpack_exports__,"Inject",(function(){return Inject})),__webpack_require__.d(__webpack_exports__,"InjectFlags",(function(){return InjectFlags})),__webpack_require__.d(__webpack_exports__,"Injectable",(function(){return Injectable})),__webpack_require__.d(__webpack_exports__,"InjectionToken",(function(){return InjectionToken})),__webpack_require__.d(__webpack_exports__,"Injector",(function(){return Injector})),__webpack_require__.d(__webpack_exports__,"Input",(function(){return Input})),__webpack_require__.d(__webpack_exports__,"IterableDiffers",(function(){return IterableDiffers})),__webpack_require__.d(__webpack_exports__,"KeyValueDiffers",(function(){return KeyValueDiffers})),__webpack_require__.d(__webpack_exports__,"LOCALE_ID",(function(){return LOCALE_ID$1})),__webpack_require__.d(__webpack_exports__,"MissingTranslationStrategy",(function(){return MissingTranslationStrategy})),__webpack_require__.d(__webpack_exports__,"ModuleWithComponentFactories",(function(){return ModuleWithComponentFactories})),__webpack_require__.d(__webpack_exports__,"NO_ERRORS_SCHEMA",(function(){return NO_ERRORS_SCHEMA})),__webpack_require__.d(__webpack_exports__,"NgModule",(function(){return NgModule})),__webpack_require__.d(__webpack_exports__,"NgModuleFactory",(function(){return NgModuleFactory})),__webpack_require__.d(__webpack_exports__,"NgModuleFactoryLoader",(function(){return NgModuleFactoryLoader})),__webpack_require__.d(__webpack_exports__,"NgModuleRef",(function(){return NgModuleRef})),__webpack_require__.d(__webpack_exports__,"NgProbeToken",(function(){return NgProbeToken})),__webpack_require__.d(__webpack_exports__,"NgZone",(function(){return NgZone})),__webpack_require__.d(__webpack_exports__,"Optional",(function(){return Optional})),__webpack_require__.d(__webpack_exports__,"Output",(function(){return Output})),__webpack_require__.d(__webpack_exports__,"PACKAGE_ROOT_URL",(function(){return PACKAGE_ROOT_URL})),__webpack_require__.d(__webpack_exports__,"PLATFORM_ID",(function(){return PLATFORM_ID})),__webpack_require__.d(__webpack_exports__,"PLATFORM_INITIALIZER",(function(){return PLATFORM_INITIALIZER})),__webpack_require__.d(__webpack_exports__,"Pipe",(function(){return Pipe})),__webpack_require__.d(__webpack_exports__,"PlatformRef",(function(){return PlatformRef})),__webpack_require__.d(__webpack_exports__,"Query",(function(){return Query})),__webpack_require__.d(__webpack_exports__,"QueryList",(function(){return QueryList})),__webpack_require__.d(__webpack_exports__,"ReflectiveInjector",(function(){return ReflectiveInjector})),__webpack_require__.d(__webpack_exports__,"ReflectiveKey",(function(){return ReflectiveKey})),__webpack_require__.d(__webpack_exports__,"Renderer2",(function(){return Renderer2})),__webpack_require__.d(__webpack_exports__,"RendererFactory2",(function(){return RendererFactory2})),__webpack_require__.d(__webpack_exports__,"RendererStyleFlags2",(function(){return RendererStyleFlags2})),__webpack_require__.d(__webpack_exports__,"ResolvedReflectiveFactory",(function(){return ResolvedReflectiveFactory})),__webpack_require__.d(__webpack_exports__,"Sanitizer",(function(){return Sanitizer})),__webpack_require__.d(__webpack_exports__,"SecurityContext",(function(){return SecurityContext})),__webpack_require__.d(__webpack_exports__,"Self",(function(){return Self})),__webpack_require__.d(__webpack_exports__,"SimpleChange",(function(){return SimpleChange})),__webpack_require__.d(__webpack_exports__,"SkipSelf",(function(){return SkipSelf})),__webpack_require__.d(__webpack_exports__,"SystemJsNgModuleLoader",(function(){return SystemJsNgModuleLoader})),__webpack_require__.d(__webpack_exports__,"SystemJsNgModuleLoaderConfig",(function(){return SystemJsNgModuleLoaderConfig})),__webpack_require__.d(__webpack_exports__,"TRANSLATIONS",(function(){return TRANSLATIONS})),__webpack_require__.d(__webpack_exports__,"TRANSLATIONS_FORMAT",(function(){return TRANSLATIONS_FORMAT})),__webpack_require__.d(__webpack_exports__,"TemplateRef",(function(){return TemplateRef})),__webpack_require__.d(__webpack_exports__,"Testability",(function(){return Testability})),__webpack_require__.d(__webpack_exports__,"TestabilityRegistry",(function(){return TestabilityRegistry})),__webpack_require__.d(__webpack_exports__,"Type",(function(){return Type})),__webpack_require__.d(__webpack_exports__,"VERSION",(function(){return VERSION})),__webpack_require__.d(__webpack_exports__,"Version",(function(){return Version})),__webpack_require__.d(__webpack_exports__,"ViewChild",(function(){return ViewChild})),__webpack_require__.d(__webpack_exports__,"ViewChildren",(function(){return ViewChildren})),__webpack_require__.d(__webpack_exports__,"ViewContainerRef",(function(){return ViewContainerRef})),__webpack_require__.d(__webpack_exports__,"ViewEncapsulation",(function(){return ViewEncapsulation$1})),__webpack_require__.d(__webpack_exports__,"ViewRef",(function(){return ViewRef$1})),__webpack_require__.d(__webpack_exports__,"WrappedValue",(function(){return WrappedValue})),__webpack_require__.d(__webpack_exports__,"asNativeElements",(function(){return asNativeElements})),__webpack_require__.d(__webpack_exports__,"assertPlatform",(function(){return assertPlatform})),__webpack_require__.d(__webpack_exports__,"createPlatform",(function(){return createPlatform})),__webpack_require__.d(__webpack_exports__,"createPlatformFactory",(function(){return createPlatformFactory})),__webpack_require__.d(__webpack_exports__,"defineInjectable",(function(){return defineInjectable})),__webpack_require__.d(__webpack_exports__,"destroyPlatform",(function(){return destroyPlatform})),__webpack_require__.d(__webpack_exports__,"enableProdMode",(function(){return enableProdMode})),__webpack_require__.d(__webpack_exports__,"forwardRef",(function(){return forwardRef})),__webpack_require__.d(__webpack_exports__,"getDebugNode",(function(){return getDebugNode$1})),__webpack_require__.d(__webpack_exports__,"getModuleFactory",(function(){return getModuleFactory})),__webpack_require__.d(__webpack_exports__,"getPlatform",(function(){return getPlatform})),__webpack_require__.d(__webpack_exports__,"inject",(function(){return inject})),__webpack_require__.d(__webpack_exports__,"isDevMode",(function(){return isDevMode})),__webpack_require__.d(__webpack_exports__,"platformCore",(function(){return platformCore})),__webpack_require__.d(__webpack_exports__,"resolveForwardRef",(function(){return resolveForwardRef})),__webpack_require__.d(__webpack_exports__,"setTestabilityGetter",(function(){return setTestabilityGetter})),__webpack_require__.d(__webpack_exports__,"\u0275ALLOW_MULTIPLE_PLATFORMS",(function(){return ALLOW_MULTIPLE_PLATFORMS})),__webpack_require__.d(__webpack_exports__,"\u0275APP_ID_RANDOM_PROVIDER",(function(){return APP_ID_RANDOM_PROVIDER})),__webpack_require__.d(__webpack_exports__,"\u0275ChangeDetectorStatus",(function(){return ChangeDetectorStatus})),__webpack_require__.d(__webpack_exports__,"\u0275CodegenComponentFactoryResolver",(function(){return CodegenComponentFactoryResolver})),__webpack_require__.d(__webpack_exports__,"\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__",(function(){return Compiler_compileModuleAndAllComponentsAsync__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__",(function(){return Compiler_compileModuleAndAllComponentsSync__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275Compiler_compileModuleAsync__POST_R3__",(function(){return Compiler_compileModuleAsync__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275Compiler_compileModuleSync__POST_R3__",(function(){return Compiler_compileModuleSync__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275ComponentFactory",(function(){return ComponentFactory})),__webpack_require__.d(__webpack_exports__,"\u0275Console",(function(){return Console})),__webpack_require__.d(__webpack_exports__,"\u0275DEFAULT_LOCALE_ID",(function(){return DEFAULT_LOCALE_ID})),__webpack_require__.d(__webpack_exports__,"\u0275EMPTY_ARRAY",(function(){return EMPTY_ARRAY$4})),__webpack_require__.d(__webpack_exports__,"\u0275EMPTY_MAP",(function(){return EMPTY_MAP})),__webpack_require__.d(__webpack_exports__,"\u0275INJECTOR_IMPL__POST_R3__",(function(){return INJECTOR_IMPL__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275INJECTOR_SCOPE",(function(){return INJECTOR_SCOPE})),__webpack_require__.d(__webpack_exports__,"\u0275LifecycleHooksFeature",(function(){return LifecycleHooksFeature})),__webpack_require__.d(__webpack_exports__,"\u0275LocaleDataIndex",(function(){return LocaleDataIndex})),__webpack_require__.d(__webpack_exports__,"\u0275NG_COMP_DEF",(function(){return NG_COMP_DEF})),__webpack_require__.d(__webpack_exports__,"\u0275NG_DIR_DEF",(function(){return NG_DIR_DEF})),__webpack_require__.d(__webpack_exports__,"\u0275NG_ELEMENT_ID",(function(){return NG_ELEMENT_ID})),__webpack_require__.d(__webpack_exports__,"\u0275NG_INJ_DEF",(function(){return NG_INJ_DEF})),__webpack_require__.d(__webpack_exports__,"\u0275NG_MOD_DEF",(function(){return NG_MOD_DEF})),__webpack_require__.d(__webpack_exports__,"\u0275NG_PIPE_DEF",(function(){return NG_PIPE_DEF})),__webpack_require__.d(__webpack_exports__,"\u0275NG_PROV_DEF",(function(){return NG_PROV_DEF})),__webpack_require__.d(__webpack_exports__,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",(function(){return NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR})),__webpack_require__.d(__webpack_exports__,"\u0275NO_CHANGE",(function(){return NO_CHANGE})),__webpack_require__.d(__webpack_exports__,"\u0275NgModuleFactory",(function(){return NgModuleFactory$1})),__webpack_require__.d(__webpack_exports__,"\u0275NoopNgZone",(function(){return NoopNgZone})),__webpack_require__.d(__webpack_exports__,"\u0275ReflectionCapabilities",(function(){return ReflectionCapabilities})),__webpack_require__.d(__webpack_exports__,"\u0275Render3ComponentFactory",(function(){return ComponentFactory$1})),__webpack_require__.d(__webpack_exports__,"\u0275Render3ComponentRef",(function(){return ComponentRef$1})),__webpack_require__.d(__webpack_exports__,"\u0275Render3NgModuleRef",(function(){return NgModuleRef$1})),__webpack_require__.d(__webpack_exports__,"\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__",(function(){return SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275SWITCH_COMPILE_COMPONENT__POST_R3__",(function(){return SWITCH_COMPILE_COMPONENT__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__",(function(){return SWITCH_COMPILE_DIRECTIVE__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__",(function(){return SWITCH_COMPILE_INJECTABLE__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275SWITCH_COMPILE_NGMODULE__POST_R3__",(function(){return SWITCH_COMPILE_NGMODULE__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275SWITCH_COMPILE_PIPE__POST_R3__",(function(){return SWITCH_COMPILE_PIPE__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__",(function(){return SWITCH_ELEMENT_REF_FACTORY__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275SWITCH_IVY_ENABLED__POST_R3__",(function(){return SWITCH_IVY_ENABLED__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275SWITCH_RENDERER2_FACTORY__POST_R3__",(function(){return SWITCH_RENDERER2_FACTORY__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__",(function(){return SWITCH_TEMPLATE_REF_FACTORY__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__",(function(){return SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275_sanitizeHtml",(function(){return _sanitizeHtml})),__webpack_require__.d(__webpack_exports__,"\u0275_sanitizeStyle",(function(){return _sanitizeStyle})),__webpack_require__.d(__webpack_exports__,"\u0275_sanitizeUrl",(function(){return _sanitizeUrl})),__webpack_require__.d(__webpack_exports__,"\u0275allowSanitizationBypassAndThrow",(function(){return allowSanitizationBypassAndThrow})),__webpack_require__.d(__webpack_exports__,"\u0275and",(function(){return anchorDef})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_a",(function(){return isForwardRef})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_b",(function(){return injectInjectorOnly})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_ba",(function(){return getLView})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_bb",(function(){return getPreviousOrParentTNode})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_bc",(function(){return getBindingRoot})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_bd",(function(){return nextContextImpl})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_bf",(function(){return pureFunction1Internal})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_bg",(function(){return pureFunction2Internal})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_bh",(function(){return pureFunction3Internal})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_bi",(function(){return pureFunction4Internal})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_bj",(function(){return pureFunctionVInternal})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_bk",(function(){return getUrlSanitizer})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_bl",(function(){return makeParamDecorator})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_bm",(function(){return makePropDecorator})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_bn",(function(){return getClosureSafeProperty})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_bo",(function(){return noSideEffects})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_bq",(function(){return getRootContext})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_c",(function(){return NullInjector})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_d",(function(){return ReflectiveInjector_})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_e",(function(){return ReflectiveDependency})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_f",(function(){return resolveReflectiveProviders})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_g",(function(){return _appIdRandomProviderFactory})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_h",(function(){return createElementRef})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_i",(function(){return createTemplateRef})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_j",(function(){return getModuleFactory__PRE_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_k",(function(){return DebugNode__PRE_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_l",(function(){return DebugElement__PRE_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_m",(function(){return getDebugNodeR2__PRE_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_n",(function(){return DefaultIterableDifferFactory})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_o",(function(){return DefaultKeyValueDifferFactory})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_p",(function(){return _iterableDiffersFactory})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_q",(function(){return _keyValueDiffersFactory})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_r",(function(){return _localeFactory})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_s",(function(){return APPLICATION_MODULE_PROVIDERS})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_t",(function(){return zoneSchedulerFactory})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_u",(function(){return USD_CURRENCY_CODE})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_v",(function(){return _def})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_w",(function(){return DebugContext})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_x",(function(){return SCHEDULER})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_y",(function(){return injectAttributeImpl})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_core_core_z",(function(){return instructionState})),__webpack_require__.d(__webpack_exports__,"\u0275bypassSanitizationTrustHtml",(function(){return bypassSanitizationTrustHtml})),__webpack_require__.d(__webpack_exports__,"\u0275bypassSanitizationTrustResourceUrl",(function(){return bypassSanitizationTrustResourceUrl})),__webpack_require__.d(__webpack_exports__,"\u0275bypassSanitizationTrustScript",(function(){return bypassSanitizationTrustScript})),__webpack_require__.d(__webpack_exports__,"\u0275bypassSanitizationTrustStyle",(function(){return bypassSanitizationTrustStyle})),__webpack_require__.d(__webpack_exports__,"\u0275bypassSanitizationTrustUrl",(function(){return bypassSanitizationTrustUrl})),__webpack_require__.d(__webpack_exports__,"\u0275ccf",(function(){return createComponentFactory})),__webpack_require__.d(__webpack_exports__,"\u0275clearOverrides",(function(){return clearOverrides})),__webpack_require__.d(__webpack_exports__,"\u0275clearResolutionOfComponentResourcesQueue",(function(){return clearResolutionOfComponentResourcesQueue})),__webpack_require__.d(__webpack_exports__,"\u0275cmf",(function(){return createNgModuleFactory})),__webpack_require__.d(__webpack_exports__,"\u0275compileComponent",(function(){return compileComponent})),__webpack_require__.d(__webpack_exports__,"\u0275compileDirective",(function(){return compileDirective})),__webpack_require__.d(__webpack_exports__,"\u0275compileNgModule",(function(){return compileNgModule})),__webpack_require__.d(__webpack_exports__,"\u0275compileNgModuleDefs",(function(){return compileNgModuleDefs})),__webpack_require__.d(__webpack_exports__,"\u0275compileNgModuleFactory__POST_R3__",(function(){return compileNgModuleFactory__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275compilePipe",(function(){return compilePipe})),__webpack_require__.d(__webpack_exports__,"\u0275createInjector",(function(){return createInjector})),__webpack_require__.d(__webpack_exports__,"\u0275crt",(function(){return createRendererType2})),__webpack_require__.d(__webpack_exports__,"\u0275defaultIterableDiffers",(function(){return defaultIterableDiffers})),__webpack_require__.d(__webpack_exports__,"\u0275defaultKeyValueDiffers",(function(){return defaultKeyValueDiffers})),__webpack_require__.d(__webpack_exports__,"\u0275detectChanges",(function(){return detectChanges})),__webpack_require__.d(__webpack_exports__,"\u0275devModeEqual",(function(){return devModeEqual$1})),__webpack_require__.d(__webpack_exports__,"\u0275did",(function(){return directiveDef})),__webpack_require__.d(__webpack_exports__,"\u0275eld",(function(){return elementDef})),__webpack_require__.d(__webpack_exports__,"\u0275findLocaleData",(function(){return findLocaleData})),__webpack_require__.d(__webpack_exports__,"\u0275flushModuleScopingQueueAsMuchAsPossible",(function(){return flushModuleScopingQueueAsMuchAsPossible})),__webpack_require__.d(__webpack_exports__,"\u0275getComponentViewDefinitionFactory",(function(){return getComponentViewDefinitionFactory})),__webpack_require__.d(__webpack_exports__,"\u0275getDebugNodeR2",(function(){return getDebugNodeR2})),__webpack_require__.d(__webpack_exports__,"\u0275getDebugNode__POST_R3__",(function(){return getDebugNode__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275getDirectives",(function(){return getDirectives})),__webpack_require__.d(__webpack_exports__,"\u0275getHostElement",(function(){return getHostElement})),__webpack_require__.d(__webpack_exports__,"\u0275getInjectableDef",(function(){return getInjectableDef})),__webpack_require__.d(__webpack_exports__,"\u0275getLContext",(function(){return getLContext})),__webpack_require__.d(__webpack_exports__,"\u0275getLocaleCurrencyCode",(function(){return getLocaleCurrencyCode})),__webpack_require__.d(__webpack_exports__,"\u0275getLocalePluralCase",(function(){return getLocalePluralCase})),__webpack_require__.d(__webpack_exports__,"\u0275getModuleFactory__POST_R3__",(function(){return getModuleFactory__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275getSanitizationBypassType",(function(){return getSanitizationBypassType})),__webpack_require__.d(__webpack_exports__,"\u0275global",(function(){return _global})),__webpack_require__.d(__webpack_exports__,"\u0275initServicesIfNeeded",(function(){return initServicesIfNeeded})),__webpack_require__.d(__webpack_exports__,"\u0275inlineInterpolate",(function(){return inlineInterpolate})),__webpack_require__.d(__webpack_exports__,"\u0275interpolate",(function(){return interpolate})),__webpack_require__.d(__webpack_exports__,"\u0275isBoundToModule__POST_R3__",(function(){return isBoundToModule__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275isDefaultChangeDetectionStrategy",(function(){return isDefaultChangeDetectionStrategy})),__webpack_require__.d(__webpack_exports__,"\u0275isListLikeIterable",(function(){return isListLikeIterable$1})),__webpack_require__.d(__webpack_exports__,"\u0275isObservable",(function(){return isObservable})),__webpack_require__.d(__webpack_exports__,"\u0275isPromise",(function(){return isPromise})),__webpack_require__.d(__webpack_exports__,"\u0275ivyEnabled",(function(){return ivyEnabled})),__webpack_require__.d(__webpack_exports__,"\u0275looseIdentical",(function(){return looseIdentical})),__webpack_require__.d(__webpack_exports__,"\u0275makeDecorator",(function(){return makeDecorator})),__webpack_require__.d(__webpack_exports__,"\u0275markDirty",(function(){return markDirty})),__webpack_require__.d(__webpack_exports__,"\u0275mod",(function(){return moduleDef})),__webpack_require__.d(__webpack_exports__,"\u0275mpd",(function(){return moduleProvideDef})),__webpack_require__.d(__webpack_exports__,"\u0275ncd",(function(){return ngContentDef})),__webpack_require__.d(__webpack_exports__,"\u0275nov",(function(){return nodeValue})),__webpack_require__.d(__webpack_exports__,"\u0275overrideComponentView",(function(){return overrideComponentView})),__webpack_require__.d(__webpack_exports__,"\u0275overrideProvider",(function(){return overrideProvider})),__webpack_require__.d(__webpack_exports__,"\u0275pad",(function(){return pureArrayDef})),__webpack_require__.d(__webpack_exports__,"\u0275patchComponentDefWithScope",(function(){return patchComponentDefWithScope})),__webpack_require__.d(__webpack_exports__,"\u0275pid",(function(){return pipeDef})),__webpack_require__.d(__webpack_exports__,"\u0275pod",(function(){return pureObjectDef})),__webpack_require__.d(__webpack_exports__,"\u0275ppd",(function(){return purePipeDef})),__webpack_require__.d(__webpack_exports__,"\u0275prd",(function(){return providerDef})),__webpack_require__.d(__webpack_exports__,"\u0275publishDefaultGlobalUtils",(function(){return publishDefaultGlobalUtils})),__webpack_require__.d(__webpack_exports__,"\u0275publishGlobalUtil",(function(){return publishGlobalUtil})),__webpack_require__.d(__webpack_exports__,"\u0275qud",(function(){return queryDef})),__webpack_require__.d(__webpack_exports__,"\u0275registerLocaleData",(function(){return registerLocaleData})),__webpack_require__.d(__webpack_exports__,"\u0275registerModuleFactory",(function(){return registerModuleFactory})),__webpack_require__.d(__webpack_exports__,"\u0275registerNgModuleType",(function(){return registerNgModuleType})),__webpack_require__.d(__webpack_exports__,"\u0275renderComponent",(function(){return renderComponent$1})),__webpack_require__.d(__webpack_exports__,"\u0275resetCompiledComponents",(function(){return resetCompiledComponents})),__webpack_require__.d(__webpack_exports__,"\u0275resolveComponentResources",(function(){return resolveComponentResources})),__webpack_require__.d(__webpack_exports__,"\u0275setClassMetadata",(function(){return setClassMetadata})),__webpack_require__.d(__webpack_exports__,"\u0275setCurrentInjector",(function(){return setCurrentInjector})),__webpack_require__.d(__webpack_exports__,"\u0275setDocument",(function(){return setDocument})),__webpack_require__.d(__webpack_exports__,"\u0275setLocaleId",(function(){return setLocaleId})),__webpack_require__.d(__webpack_exports__,"\u0275store",(function(){return store})),__webpack_require__.d(__webpack_exports__,"\u0275stringify",(function(){return stringify})),__webpack_require__.d(__webpack_exports__,"\u0275ted",(function(){return textDef})),__webpack_require__.d(__webpack_exports__,"\u0275transitiveScopesFor",(function(){return transitiveScopesFor})),__webpack_require__.d(__webpack_exports__,"\u0275unregisterLocaleData",(function(){return unregisterAllLocaleData})),__webpack_require__.d(__webpack_exports__,"\u0275unv",(function(){return unwrapValue})),__webpack_require__.d(__webpack_exports__,"\u0275unwrapSafeValue",(function(){return unwrapSafeValue})),__webpack_require__.d(__webpack_exports__,"\u0275vid",(function(){return viewDef})),__webpack_require__.d(__webpack_exports__,"\u0275whenRendered",(function(){return whenRendered})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275CopyDefinitionFeature",(function(){return \u0275\u0275CopyDefinitionFeature})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275InheritDefinitionFeature",(function(){return \u0275\u0275InheritDefinitionFeature})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275NgOnChangesFeature",(function(){return \u0275\u0275NgOnChangesFeature})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275ProvidersFeature",(function(){return \u0275\u0275ProvidersFeature})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275advance",(function(){return \u0275\u0275advance})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275attribute",(function(){return \u0275\u0275attribute})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275attributeInterpolate1",(function(){return \u0275\u0275attributeInterpolate1})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275attributeInterpolate2",(function(){return \u0275\u0275attributeInterpolate2})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275attributeInterpolate3",(function(){return \u0275\u0275attributeInterpolate3})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275attributeInterpolate4",(function(){return \u0275\u0275attributeInterpolate4})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275attributeInterpolate5",(function(){return \u0275\u0275attributeInterpolate5})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275attributeInterpolate6",(function(){return \u0275\u0275attributeInterpolate6})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275attributeInterpolate7",(function(){return \u0275\u0275attributeInterpolate7})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275attributeInterpolate8",(function(){return \u0275\u0275attributeInterpolate8})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275attributeInterpolateV",(function(){return \u0275\u0275attributeInterpolateV})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275classMap",(function(){return \u0275\u0275classMap})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275classMapInterpolate1",(function(){return \u0275\u0275classMapInterpolate1})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275classMapInterpolate2",(function(){return \u0275\u0275classMapInterpolate2})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275classMapInterpolate3",(function(){return \u0275\u0275classMapInterpolate3})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275classMapInterpolate4",(function(){return \u0275\u0275classMapInterpolate4})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275classMapInterpolate5",(function(){return \u0275\u0275classMapInterpolate5})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275classMapInterpolate6",(function(){return \u0275\u0275classMapInterpolate6})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275classMapInterpolate7",(function(){return \u0275\u0275classMapInterpolate7})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275classMapInterpolate8",(function(){return \u0275\u0275classMapInterpolate8})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275classMapInterpolateV",(function(){return \u0275\u0275classMapInterpolateV})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275classProp",(function(){return \u0275\u0275classProp})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275componentHostSyntheticListener",(function(){return \u0275\u0275componentHostSyntheticListener})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275container",(function(){return \u0275\u0275container})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275containerRefreshEnd",(function(){return \u0275\u0275containerRefreshEnd})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275containerRefreshStart",(function(){return \u0275\u0275containerRefreshStart})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275contentQuery",(function(){return \u0275\u0275contentQuery})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275defaultStyleSanitizer",(function(){return \u0275\u0275defaultStyleSanitizer})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275defineComponent",(function(){return \u0275\u0275defineComponent})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275defineDirective",(function(){return \u0275\u0275defineDirective})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275defineInjectable",(function(){return \u0275\u0275defineInjectable})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275defineInjector",(function(){return \u0275\u0275defineInjector})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275defineNgModule",(function(){return \u0275\u0275defineNgModule})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275definePipe",(function(){return \u0275\u0275definePipe})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275directiveInject",(function(){return \u0275\u0275directiveInject})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275disableBindings",(function(){return \u0275\u0275disableBindings})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275element",(function(){return \u0275\u0275element})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275elementContainer",(function(){return \u0275\u0275elementContainer})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275elementContainerEnd",(function(){return \u0275\u0275elementContainerEnd})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275elementContainerStart",(function(){return \u0275\u0275elementContainerStart})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275elementEnd",(function(){return \u0275\u0275elementEnd})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275elementStart",(function(){return \u0275\u0275elementStart})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275embeddedViewEnd",(function(){return \u0275\u0275embeddedViewEnd})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275embeddedViewStart",(function(){return \u0275\u0275embeddedViewStart})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275enableBindings",(function(){return \u0275\u0275enableBindings})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275getCurrentView",(function(){return \u0275\u0275getCurrentView})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275getFactoryOf",(function(){return \u0275\u0275getFactoryOf})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275getInheritedFactory",(function(){return \u0275\u0275getInheritedFactory})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275hostProperty",(function(){return \u0275\u0275hostProperty})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275i18n",(function(){return \u0275\u0275i18n})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275i18nApply",(function(){return \u0275\u0275i18nApply})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275i18nAttributes",(function(){return \u0275\u0275i18nAttributes})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275i18nEnd",(function(){return \u0275\u0275i18nEnd})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275i18nExp",(function(){return \u0275\u0275i18nExp})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275i18nPostprocess",(function(){return \u0275\u0275i18nPostprocess})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275i18nStart",(function(){return \u0275\u0275i18nStart})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275inject",(function(){return \u0275\u0275inject})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275injectAttribute",(function(){return \u0275\u0275injectAttribute})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275injectPipeChangeDetectorRef",(function(){return \u0275\u0275injectPipeChangeDetectorRef})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275invalidFactory",(function(){return \u0275\u0275invalidFactory})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275invalidFactoryDep",(function(){return \u0275\u0275invalidFactoryDep})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275listener",(function(){return \u0275\u0275listener})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275loadQuery",(function(){return \u0275\u0275loadQuery})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275namespaceHTML",(function(){return \u0275\u0275namespaceHTML})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275namespaceMathML",(function(){return \u0275\u0275namespaceMathML})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275namespaceSVG",(function(){return \u0275\u0275namespaceSVG})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275nextContext",(function(){return \u0275\u0275nextContext})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275pipe",(function(){return \u0275\u0275pipe})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275pipeBind1",(function(){return \u0275\u0275pipeBind1})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275pipeBind2",(function(){return \u0275\u0275pipeBind2})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275pipeBind3",(function(){return \u0275\u0275pipeBind3})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275pipeBind4",(function(){return \u0275\u0275pipeBind4})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275pipeBindV",(function(){return \u0275\u0275pipeBindV})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275projection",(function(){return \u0275\u0275projection})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275projectionDef",(function(){return \u0275\u0275projectionDef})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275property",(function(){return \u0275\u0275property})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275propertyInterpolate",(function(){return \u0275\u0275propertyInterpolate})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275propertyInterpolate1",(function(){return \u0275\u0275propertyInterpolate1})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275propertyInterpolate2",(function(){return \u0275\u0275propertyInterpolate2})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275propertyInterpolate3",(function(){return \u0275\u0275propertyInterpolate3})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275propertyInterpolate4",(function(){return \u0275\u0275propertyInterpolate4})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275propertyInterpolate5",(function(){return \u0275\u0275propertyInterpolate5})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275propertyInterpolate6",(function(){return \u0275\u0275propertyInterpolate6})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275propertyInterpolate7",(function(){return \u0275\u0275propertyInterpolate7})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275propertyInterpolate8",(function(){return \u0275\u0275propertyInterpolate8})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275propertyInterpolateV",(function(){return \u0275\u0275propertyInterpolateV})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275pureFunction0",(function(){return \u0275\u0275pureFunction0})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275pureFunction1",(function(){return \u0275\u0275pureFunction1})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275pureFunction2",(function(){return \u0275\u0275pureFunction2})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275pureFunction3",(function(){return \u0275\u0275pureFunction3})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275pureFunction4",(function(){return \u0275\u0275pureFunction4})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275pureFunction5",(function(){return \u0275\u0275pureFunction5})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275pureFunction6",(function(){return \u0275\u0275pureFunction6})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275pureFunction7",(function(){return \u0275\u0275pureFunction7})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275pureFunction8",(function(){return \u0275\u0275pureFunction8})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275pureFunctionV",(function(){return \u0275\u0275pureFunctionV})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275queryRefresh",(function(){return \u0275\u0275queryRefresh})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275reference",(function(){return \u0275\u0275reference})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275resolveBody",(function(){return \u0275\u0275resolveBody})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275resolveDocument",(function(){return \u0275\u0275resolveDocument})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275resolveWindow",(function(){return \u0275\u0275resolveWindow})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275restoreView",(function(){return \u0275\u0275restoreView})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275sanitizeHtml",(function(){return \u0275\u0275sanitizeHtml})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275sanitizeResourceUrl",(function(){return \u0275\u0275sanitizeResourceUrl})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275sanitizeScript",(function(){return \u0275\u0275sanitizeScript})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275sanitizeStyle",(function(){return \u0275\u0275sanitizeStyle})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275sanitizeUrl",(function(){return \u0275\u0275sanitizeUrl})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275sanitizeUrlOrResourceUrl",(function(){return \u0275\u0275sanitizeUrlOrResourceUrl})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275select",(function(){return \u0275\u0275select})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275setComponentScope",(function(){return \u0275\u0275setComponentScope})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275setNgModuleScope",(function(){return \u0275\u0275setNgModuleScope})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275staticContentQuery",(function(){return \u0275\u0275staticContentQuery})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275staticViewQuery",(function(){return \u0275\u0275staticViewQuery})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275styleMap",(function(){return \u0275\u0275styleMap})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275styleMapInterpolate1",(function(){return \u0275\u0275styleMapInterpolate1})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275styleMapInterpolate2",(function(){return \u0275\u0275styleMapInterpolate2})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275styleMapInterpolate3",(function(){return \u0275\u0275styleMapInterpolate3})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275styleMapInterpolate4",(function(){return \u0275\u0275styleMapInterpolate4})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275styleMapInterpolate5",(function(){return \u0275\u0275styleMapInterpolate5})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275styleMapInterpolate6",(function(){return \u0275\u0275styleMapInterpolate6})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275styleMapInterpolate7",(function(){return \u0275\u0275styleMapInterpolate7})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275styleMapInterpolate8",(function(){return \u0275\u0275styleMapInterpolate8})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275styleMapInterpolateV",(function(){return \u0275\u0275styleMapInterpolateV})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275styleProp",(function(){return \u0275\u0275styleProp})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275stylePropInterpolate1",(function(){return \u0275\u0275stylePropInterpolate1})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275stylePropInterpolate2",(function(){return \u0275\u0275stylePropInterpolate2})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275stylePropInterpolate3",(function(){return \u0275\u0275stylePropInterpolate3})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275stylePropInterpolate4",(function(){return \u0275\u0275stylePropInterpolate4})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275stylePropInterpolate5",(function(){return \u0275\u0275stylePropInterpolate5})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275stylePropInterpolate6",(function(){return \u0275\u0275stylePropInterpolate6})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275stylePropInterpolate7",(function(){return \u0275\u0275stylePropInterpolate7})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275stylePropInterpolate8",(function(){return \u0275\u0275stylePropInterpolate8})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275stylePropInterpolateV",(function(){return \u0275\u0275stylePropInterpolateV})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275styleSanitizer",(function(){return \u0275\u0275styleSanitizer})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275template",(function(){return \u0275\u0275template})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275templateRefExtractor",(function(){return \u0275\u0275templateRefExtractor})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275text",(function(){return \u0275\u0275text})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275textInterpolate",(function(){return \u0275\u0275textInterpolate})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275textInterpolate1",(function(){return \u0275\u0275textInterpolate1})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275textInterpolate2",(function(){return \u0275\u0275textInterpolate2})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275textInterpolate3",(function(){return \u0275\u0275textInterpolate3})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275textInterpolate4",(function(){return \u0275\u0275textInterpolate4})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275textInterpolate5",(function(){return \u0275\u0275textInterpolate5})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275textInterpolate6",(function(){return \u0275\u0275textInterpolate6})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275textInterpolate7",(function(){return \u0275\u0275textInterpolate7})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275textInterpolate8",(function(){return \u0275\u0275textInterpolate8})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275textInterpolateV",(function(){return \u0275\u0275textInterpolateV})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275updateSyntheticHostBinding",(function(){return \u0275\u0275updateSyntheticHostBinding})),__webpack_require__.d(__webpack_exports__,"\u0275\u0275viewQuery",(function(){return \u0275\u0275viewQuery}));const ANNOTATIONS="__annotations__",PARAMETERS="__parameters__",PROP_METADATA="__prop__metadata__";function makeDecorator(name,props,parentClass,additionalProcessing,typeFn){return noSideEffects(()=>{const metaCtor=makeMetadataCtor(props);function DecoratorFactory(...args){if(this instanceof DecoratorFactory)return metaCtor.call(this,...args),this;const annotationInstance=new DecoratorFactory(...args);return function TypeDecorator(cls){return typeFn&&typeFn(cls,...args),(cls.hasOwnProperty(ANNOTATIONS)?cls[ANNOTATIONS]:Object.defineProperty(cls,ANNOTATIONS,{value:[]})[ANNOTATIONS]).push(annotationInstance),additionalProcessing&&additionalProcessing(cls),cls}}return parentClass&&(DecoratorFactory.prototype=Object.create(parentClass.prototype)),DecoratorFactory.prototype.ngMetadataName=name,DecoratorFactory.annotationCls=DecoratorFactory,DecoratorFactory})}function makeMetadataCtor(props){return function ctor(...args){if(props){const values=props(...args);for(const propName in values)this[propName]=values[propName]}}}function makeParamDecorator(name,props,parentClass){return noSideEffects(()=>{const metaCtor=makeMetadataCtor(props);function ParamDecoratorFactory(...args){if(this instanceof ParamDecoratorFactory)return metaCtor.apply(this,args),this;const annotationInstance=new ParamDecoratorFactory(...args);return ParamDecorator.annotation=annotationInstance,ParamDecorator;function ParamDecorator(cls,unusedKey,index){const parameters=cls.hasOwnProperty(PARAMETERS)?cls[PARAMETERS]:Object.defineProperty(cls,PARAMETERS,{value:[]})[PARAMETERS];for(;parameters.length<=index;)parameters.push(null);return(parameters[index]=parameters[index]||[]).push(annotationInstance),cls}}return parentClass&&(ParamDecoratorFactory.prototype=Object.create(parentClass.prototype)),ParamDecoratorFactory.prototype.ngMetadataName=name,ParamDecoratorFactory.annotationCls=ParamDecoratorFactory,ParamDecoratorFactory})}function makePropDecorator(name,props,parentClass,additionalProcessing){return noSideEffects(()=>{const metaCtor=makeMetadataCtor(props);function PropDecoratorFactory(...args){if(this instanceof PropDecoratorFactory)return metaCtor.apply(this,args),this;const decoratorInstance=new PropDecoratorFactory(...args);return function PropDecorator(target,name){const constructor=target.constructor,meta=constructor.hasOwnProperty(PROP_METADATA)?constructor[PROP_METADATA]:Object.defineProperty(constructor,PROP_METADATA,{value:{}})[PROP_METADATA];meta[name]=meta.hasOwnProperty(name)&&meta[name]||[],meta[name].unshift(decoratorInstance),additionalProcessing&&additionalProcessing(target,name,...args)}}return parentClass&&(PropDecoratorFactory.prototype=Object.create(parentClass.prototype)),PropDecoratorFactory.prototype.ngMetadataName=name,PropDecoratorFactory.annotationCls=PropDecoratorFactory,PropDecoratorFactory})}const Inject=makeParamDecorator("Inject",token=>({token:token}));const Optional=makeParamDecorator("Optional");const Self=makeParamDecorator("Self");const SkipSelf=makeParamDecorator("SkipSelf");const Host=makeParamDecorator("Host");const Attribute=makeParamDecorator("Attribute",attributeName=>({attributeName:attributeName}));var InjectFlags;function getClosureSafeProperty(objWithPropertyToExtract){for(let key in objWithPropertyToExtract)if(objWithPropertyToExtract[key]===getClosureSafeProperty)return key;throw Error("Could not find renamed property on target object.")}function fillProperties(target,source){for(const key in source)source.hasOwnProperty(key)&&!target.hasOwnProperty(key)&&(target[key]=source[key])}function \u0275\u0275defineInjectable(opts){return{token:opts.token,providedIn:opts.providedIn||null,factory:opts.factory,value:void 0}}!function(InjectFlags){InjectFlags[InjectFlags.Default=0]="Default",InjectFlags[InjectFlags.Host=1]="Host",InjectFlags[InjectFlags.Self=2]="Self",InjectFlags[InjectFlags.SkipSelf=4]="SkipSelf",InjectFlags[InjectFlags.Optional=8]="Optional"}(InjectFlags||(InjectFlags={}));const defineInjectable=\u0275\u0275defineInjectable;function \u0275\u0275defineInjector(options){return{factory:options.factory,providers:options.providers||[],imports:options.imports||[]}}function getInjectableDef(type){return getOwnDefinition(type,type[NG_PROV_DEF])||getOwnDefinition(type,type[NG_INJECTABLE_DEF])}function getOwnDefinition(type,def){return def&&def.token===type?def:null}function getInjectorDef(type){return type&&(type.hasOwnProperty(NG_INJ_DEF)||type.hasOwnProperty(NG_INJECTOR_DEF))?type[NG_INJ_DEF]:null}const NG_PROV_DEF=getClosureSafeProperty({"\u0275prov":getClosureSafeProperty}),NG_INJ_DEF=getClosureSafeProperty({"\u0275inj":getClosureSafeProperty}),NG_PROV_DEF_FALLBACK=getClosureSafeProperty({"\u0275provFallback":getClosureSafeProperty}),NG_INJECTABLE_DEF=getClosureSafeProperty({ngInjectableDef:getClosureSafeProperty}),NG_INJECTOR_DEF=getClosureSafeProperty({ngInjectorDef:getClosureSafeProperty});function stringify(token){if("string"==typeof token)return token;if(Array.isArray(token))return"["+token.map(stringify).join(", ")+"]";if(null==token)return""+token;if(token.overriddenName)return`${token.overriddenName}`;if(token.name)return`${token.name}`;const res=token.toString();if(null==res)return""+res;const newLineIndex=res.indexOf("\n");return-1===newLineIndex?res:res.substring(0,newLineIndex)}function concatStringsWithSpace(before,after){return null==before||""===before?null===after?"":after:null==after||""===after?before:before+" "+after}const __forward_ref__=getClosureSafeProperty({__forward_ref__:getClosureSafeProperty});function forwardRef(forwardRefFn){return forwardRefFn.__forward_ref__=forwardRef,forwardRefFn.toString=function(){return stringify(this())},forwardRefFn}function resolveForwardRef(type){return isForwardRef(type)?type():type}function isForwardRef(fn){return"function"==typeof fn&&fn.hasOwnProperty(__forward_ref__)&&fn.__forward_ref__===forwardRef}const __globalThis="undefined"!=typeof globalThis&&globalThis,__window="undefined"!=typeof window&&window,__self="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,__global="undefined"!=typeof global&&global,_global=__globalThis||__global||__window||__self;var R3ResolvedDependencyType,R3FactoryTarget,ViewEncapsulation;function getCompilerFacade(){const globalNg=_global.ng;if(!globalNg||!globalNg.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return globalNg.\u0275compilerFacade}!function(R3ResolvedDependencyType){R3ResolvedDependencyType[R3ResolvedDependencyType.Token=0]="Token",R3ResolvedDependencyType[R3ResolvedDependencyType.Attribute=1]="Attribute",R3ResolvedDependencyType[R3ResolvedDependencyType.ChangeDetectorRef=2]="ChangeDetectorRef",R3ResolvedDependencyType[R3ResolvedDependencyType.Invalid=3]="Invalid"}(R3ResolvedDependencyType||(R3ResolvedDependencyType={})),function(R3FactoryTarget){R3FactoryTarget[R3FactoryTarget.Directive=0]="Directive",R3FactoryTarget[R3FactoryTarget.Component=1]="Component",R3FactoryTarget[R3FactoryTarget.Injectable=2]="Injectable",R3FactoryTarget[R3FactoryTarget.Pipe=3]="Pipe",R3FactoryTarget[R3FactoryTarget.NgModule=4]="NgModule"}(R3FactoryTarget||(R3FactoryTarget={})),function(ViewEncapsulation){ViewEncapsulation[ViewEncapsulation.Emulated=0]="Emulated",ViewEncapsulation[ViewEncapsulation.Native=1]="Native",ViewEncapsulation[ViewEncapsulation.None=2]="None",ViewEncapsulation[ViewEncapsulation.ShadowDom=3]="ShadowDom"}(ViewEncapsulation||(ViewEncapsulation={}));const NG_COMP_DEF=getClosureSafeProperty({"\u0275cmp":getClosureSafeProperty}),NG_DIR_DEF=getClosureSafeProperty({"\u0275dir":getClosureSafeProperty}),NG_PIPE_DEF=getClosureSafeProperty({"\u0275pipe":getClosureSafeProperty}),NG_MOD_DEF=getClosureSafeProperty({"\u0275mod":getClosureSafeProperty}),NG_LOC_ID_DEF=getClosureSafeProperty({"\u0275loc":getClosureSafeProperty}),NG_FACTORY_DEF=getClosureSafeProperty({"\u0275fac":getClosureSafeProperty}),NG_ELEMENT_ID=getClosureSafeProperty({__NG_ELEMENT_ID__:getClosureSafeProperty});class InjectionToken{constructor(_desc,options){this._desc=_desc,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof options?this.__NG_ELEMENT_ID__=options:void 0!==options&&(this.\u0275prov=\u0275\u0275defineInjectable({token:this,providedIn:options.providedIn||"root",factory:options.factory}))}toString(){return`InjectionToken ${this._desc}`}}const INJECTOR=new InjectionToken("INJECTOR",-1),THROW_IF_NOT_FOUND={},NEW_LINE=/\n/gm,USE_VALUE=getClosureSafeProperty({provide:String,useValue:getClosureSafeProperty});let _injectImplementation,_currentInjector=void 0;function setCurrentInjector(injector){const former=_currentInjector;return _currentInjector=injector,former}function setInjectImplementation(impl){const previous=_injectImplementation;return _injectImplementation=impl,previous}function injectInjectorOnly(token,flags=InjectFlags.Default){if(void 0===_currentInjector)throw new Error("inject() must be called from an injection context");return null===_currentInjector?injectRootLimpMode(token,void 0,flags):_currentInjector.get(token,flags&InjectFlags.Optional?null:void 0,flags)}function \u0275\u0275inject(token,flags=InjectFlags.Default){return(_injectImplementation||injectInjectorOnly)(resolveForwardRef(token),flags)}function \u0275\u0275invalidFactoryDep(index){throw new Error("invalid")}const inject=\u0275\u0275inject;function injectRootLimpMode(token,notFoundValue,flags){const injectableDef=getInjectableDef(token);if(injectableDef&&"root"==injectableDef.providedIn)return void 0===injectableDef.value?injectableDef.value=injectableDef.factory():injectableDef.value;if(flags&InjectFlags.Optional)return null;if(void 0!==notFoundValue)return notFoundValue;throw new Error(`Injector: NOT_FOUND [${stringify(token)}]`)}function injectArgs(types){const args=[];for(let i=0;i<types.length;i++){const arg=resolveForwardRef(types[i]);if(Array.isArray(arg)){if(0===arg.length)throw new Error("Arguments array must have arguments.");let type=void 0,flags=InjectFlags.Default;for(let j=0;j<arg.length;j++){const meta=arg[j];meta instanceof Optional||"Optional"===meta.ngMetadataName||meta===Optional?flags|=InjectFlags.Optional:meta instanceof SkipSelf||"SkipSelf"===meta.ngMetadataName||meta===SkipSelf?flags|=InjectFlags.SkipSelf:meta instanceof Self||"Self"===meta.ngMetadataName||meta===Self?flags|=InjectFlags.Self:type=meta instanceof Inject||meta===Inject?meta.token:meta}args.push(\u0275\u0275inject(type,flags))}else args.push(\u0275\u0275inject(arg))}return args}class NullInjector{get(token,notFoundValue=THROW_IF_NOT_FOUND){if(notFoundValue===THROW_IF_NOT_FOUND){const error=new Error(`NullInjectorError: No provider for ${stringify(token)}!`);throw error.name="NullInjectorError",error}return notFoundValue}}function catchInjectorError(e,token,injectorErrorName,source){const tokenPath=e.ngTempTokenPath;throw token.__source&&tokenPath.unshift(token.__source),e.message=formatError("\n"+e.message,tokenPath,injectorErrorName,source),e.ngTokenPath=tokenPath,e.ngTempTokenPath=null,e}function formatError(text,obj,injectorErrorName,source=null){text=text&&"\n"===text.charAt(0)&&"\u0275"==text.charAt(1)?text.substr(2):text;let context=stringify(obj);if(Array.isArray(obj))context=obj.map(stringify).join(" -> ");else if("object"==typeof obj){let parts=[];for(let key in obj)if(obj.hasOwnProperty(key)){let value=obj[key];parts.push(key+":"+("string"==typeof value?JSON.stringify(value):stringify(value)))}context=`{${parts.join(", ")}}`}return`${injectorErrorName}${source?"("+source+")":""}[${context}]: ${text.replace(NEW_LINE,"\n  ")}`}const angularCoreDiEnv={"\u0275\u0275defineInjectable":\u0275\u0275defineInjectable,"\u0275\u0275defineInjector":\u0275\u0275defineInjector,"\u0275\u0275inject":\u0275\u0275inject,"\u0275\u0275getFactoryOf":function getFactoryOf(type){const typeAny=type;if(isForwardRef(type))return()=>{const factory=getFactoryOf(resolveForwardRef(typeAny));return factory?factory():null};const def=getInjectableDef(typeAny)||getInjectorDef(typeAny);if(!def||void 0===def.factory)return null;return def.factory},"\u0275\u0275invalidFactoryDep":\u0275\u0275invalidFactoryDep};class NgModuleRef{}class NgModuleFactory{}function assertDefined(actual,msg){null==actual&&throwError(msg,actual,null,"!=")}function throwError(msg,actual,expected,comparison){throw new Error(`ASSERTION ERROR: ${msg}`+(null==comparison?"":` [Expected=> ${expected} ${comparison} ${actual} <=Actual]`))}function addAllToArray(items,arr){for(let i=0;i<items.length;i++)arr.push(items[i])}function flatten(list,dst){void 0===dst&&(dst=list);for(let i=0;i<list.length;i++){let item=list[i];Array.isArray(item)?(dst===list&&(dst=list.slice(0,i)),flatten(item,dst)):dst!==list&&dst.push(item)}return dst}function deepForEach(input,fn){input.forEach(value=>Array.isArray(value)?deepForEach(value,fn):fn(value))}function addToArray(arr,index,value){index>=arr.length?arr.push(value):arr.splice(index,0,value)}function removeFromArray(arr,index){return index>=arr.length-1?arr.pop():arr.splice(index,1)[0]}function newArray(size,value){const list=[];for(let i=0;i<size;i++)list.push(value);return list}function keyValueArraySet(keyValueArray,key,value){let index=keyValueArrayIndexOf(keyValueArray,key);return index>=0?keyValueArray[1|index]=value:(index=~index,function arrayInsert2(array,index,value1,value2){let end=array.length;if(end==index)array.push(value1,value2);else if(1===end)array.push(value2,array[0]),array[0]=value1;else{for(end--,array.push(array[end-1],array[end]);end>index;){const previousEnd=end-2;array[end]=array[previousEnd],end--}array[index]=value1,array[index+1]=value2}}(keyValueArray,index,key,value)),index}function keyValueArrayGet(keyValueArray,key){const index=keyValueArrayIndexOf(keyValueArray,key);if(index>=0)return keyValueArray[1|index]}function keyValueArrayIndexOf(keyValueArray,key){return _arrayIndexOfSorted(keyValueArray,key,1)}function _arrayIndexOfSorted(array,value,shift){let start=0,end=array.length>>shift;for(;end!==start;){const middle=start+(end-start>>1),current=array[middle<<shift];if(value===current)return middle<<shift;current>value?end=middle:start=middle+1}return~(end<<shift)}const ChangeDetectionStrategy={OnPush:0,Default:1};ChangeDetectionStrategy[ChangeDetectionStrategy.OnPush]="OnPush",ChangeDetectionStrategy[ChangeDetectionStrategy.Default]="Default";const ChangeDetectorStatus={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};function isDefaultChangeDetectionStrategy(changeDetectionStrategy){return null==changeDetectionStrategy||changeDetectionStrategy===ChangeDetectionStrategy.Default}ChangeDetectorStatus[ChangeDetectorStatus.CheckOnce]="CheckOnce",ChangeDetectorStatus[ChangeDetectorStatus.Checked]="Checked",ChangeDetectorStatus[ChangeDetectorStatus.CheckAlways]="CheckAlways",ChangeDetectorStatus[ChangeDetectorStatus.Detached]="Detached",ChangeDetectorStatus[ChangeDetectorStatus.Errored]="Errored",ChangeDetectorStatus[ChangeDetectorStatus.Destroyed]="Destroyed";const ViewEncapsulation$1={Emulated:0,Native:1,None:2,ShadowDom:3};ViewEncapsulation$1[ViewEncapsulation$1.Emulated]="Emulated",ViewEncapsulation$1[ViewEncapsulation$1.Native]="Native",ViewEncapsulation$1[ViewEncapsulation$1.None]="None",ViewEncapsulation$1[ViewEncapsulation$1.ShadowDom]="ShadowDom";const EMPTY_OBJ={},EMPTY_ARRAY=[];let _renderCompCount=0;function \u0275\u0275defineComponent(componentDefinition){return noSideEffects(()=>{const type=componentDefinition.type,typePrototype=type.prototype,declaredInputs={},def={type:type,providersResolver:null,decls:componentDefinition.decls,vars:componentDefinition.vars,factory:null,template:componentDefinition.template||null,consts:componentDefinition.consts||null,ngContentSelectors:componentDefinition.ngContentSelectors,hostBindings:componentDefinition.hostBindings||null,hostVars:componentDefinition.hostVars||0,hostAttrs:componentDefinition.hostAttrs||null,contentQueries:componentDefinition.contentQueries||null,declaredInputs:declaredInputs,inputs:null,outputs:null,exportAs:componentDefinition.exportAs||null,onChanges:null,onInit:typePrototype.ngOnInit||null,doCheck:typePrototype.ngDoCheck||null,afterContentInit:typePrototype.ngAfterContentInit||null,afterContentChecked:typePrototype.ngAfterContentChecked||null,afterViewInit:typePrototype.ngAfterViewInit||null,afterViewChecked:typePrototype.ngAfterViewChecked||null,onDestroy:typePrototype.ngOnDestroy||null,onPush:componentDefinition.changeDetection===ChangeDetectionStrategy.OnPush,directiveDefs:null,pipeDefs:null,selectors:componentDefinition.selectors||EMPTY_ARRAY,viewQuery:componentDefinition.viewQuery||null,features:componentDefinition.features||null,data:componentDefinition.data||{},encapsulation:componentDefinition.encapsulation||ViewEncapsulation$1.Emulated,id:"c",styles:componentDefinition.styles||EMPTY_ARRAY,_:null,setInput:null,schemas:componentDefinition.schemas||null,tView:null},directiveTypes=componentDefinition.directives,feature=componentDefinition.features,pipeTypes=componentDefinition.pipes;return def.id+=_renderCompCount++,def.inputs=invertObject(componentDefinition.inputs,declaredInputs),def.outputs=invertObject(componentDefinition.outputs),feature&&feature.forEach(fn=>fn(def)),def.directiveDefs=directiveTypes?()=>("function"==typeof directiveTypes?directiveTypes():directiveTypes).map(extractDirectiveDef):null,def.pipeDefs=pipeTypes?()=>("function"==typeof pipeTypes?pipeTypes():pipeTypes).map(extractPipeDef):null,def})}function \u0275\u0275setComponentScope(type,directives,pipes){const def=type.\u0275cmp;def.directiveDefs=()=>directives.map(extractDirectiveDef),def.pipeDefs=()=>pipes.map(extractPipeDef)}function extractDirectiveDef(type){const def=getComponentDef(type)||getDirectiveDef(type);return def}function extractPipeDef(type){const def=getPipeDef(type);return def}const autoRegisterModuleById={};function \u0275\u0275defineNgModule(def){const res={type:def.type,bootstrap:def.bootstrap||EMPTY_ARRAY,declarations:def.declarations||EMPTY_ARRAY,imports:def.imports||EMPTY_ARRAY,exports:def.exports||EMPTY_ARRAY,transitiveCompileScopes:null,schemas:def.schemas||null,id:def.id||null};return null!=def.id&&noSideEffects(()=>{autoRegisterModuleById[def.id]=def.type}),res}function \u0275\u0275setNgModuleScope(type,scope){return noSideEffects(()=>{const ngModuleDef=getNgModuleDef(type,!0);ngModuleDef.declarations=scope.declarations||EMPTY_ARRAY,ngModuleDef.imports=scope.imports||EMPTY_ARRAY,ngModuleDef.exports=scope.exports||EMPTY_ARRAY})}function invertObject(obj,secondary){if(null==obj)return EMPTY_OBJ;const newLookup={};for(const minifiedKey in obj)if(obj.hasOwnProperty(minifiedKey)){let publicName=obj[minifiedKey],declaredName=publicName;Array.isArray(publicName)&&(declaredName=publicName[1],publicName=publicName[0]),newLookup[publicName]=minifiedKey,secondary&&(secondary[publicName]=declaredName)}return newLookup}const \u0275\u0275defineDirective=\u0275\u0275defineComponent;function \u0275\u0275definePipe(pipeDef){return{type:pipeDef.type,name:pipeDef.name,factory:null,pure:!1!==pipeDef.pure,onDestroy:pipeDef.type.prototype.ngOnDestroy||null}}function getComponentDef(type){return type[NG_COMP_DEF]||null}function getDirectiveDef(type){return type[NG_DIR_DEF]||null}function getPipeDef(type){return type[NG_PIPE_DEF]||null}function getFactoryDef(type,throwNotFound){const hasFactoryDef=type.hasOwnProperty(NG_FACTORY_DEF);return hasFactoryDef?type[NG_FACTORY_DEF]:null}function getNgModuleDef(type,throwNotFound){const ngModuleDef=type[NG_MOD_DEF]||null;if(!ngModuleDef&&!0===throwNotFound)throw new Error(`Type ${stringify(type)} does not have '\u0275mod' property.`);return ngModuleDef}function isLView(value){return Array.isArray(value)&&"object"==typeof value[1]}function isLContainer(value){return Array.isArray(value)&&!0===value[1]}function isContentQueryHost(tNode){return 0!=(8&tNode.flags)}function isComponentHost(tNode){return 2==(2&tNode.flags)}function isDirectiveHost(tNode){return 1==(1&tNode.flags)}function isComponentDef(def){return null!==def.template}function isRootView(target){return 0!=(512&target[2])}let DOCUMENT=void 0;function setDocument(document){DOCUMENT=document}function getDocument(){return void 0!==DOCUMENT?DOCUMENT:"undefined"!=typeof document?document:void 0}const RendererStyleFlags3={Important:1,DashCase:2};function isProceduralRenderer(renderer){return!!renderer.listen}RendererStyleFlags3[RendererStyleFlags3.Important]="Important",RendererStyleFlags3[RendererStyleFlags3.DashCase]="DashCase";const domRendererFactory3={createRenderer:(hostElement,rendererType)=>getDocument()};function unwrapRNode(value){for(;Array.isArray(value);)value=value[0];return(value)}function getNativeByIndex(index,lView){return unwrapRNode(lView[index+19])}function getNativeByTNode(tNode,lView){const node=unwrapRNode(lView[tNode.index]);return node}function getNativeByTNodeOrNull(tNode,lView){const index=tNode.index;if(-1!==index){const node=unwrapRNode(lView[index]);return node}return null}function getTNode(tView,index){return tView.data[index+19]}function load(view,index){return view[index+19]}function getComponentLViewByIndex(nodeIndex,hostView){const slotValue=hostView[nodeIndex];return isLView(slotValue)?slotValue:slotValue[0]}function readPatchedData(target){return target.__ngContext__||null}function readPatchedLView(target){const value=readPatchedData(target);return value?Array.isArray(value)?value:value.lView:null}function isCreationMode(view){return 4==(4&view[2])}function viewAttachedToChangeDetector(view){return 128==(128&view[2])}function getConstant(consts,index){return null===consts||null==index?null:consts[index]}function resetPreOrderHookFlags(lView){lView[18]=0}function getLContainerActiveIndex(lContainer){return lContainer[2]>>1}const instructionState={lFrame:createLFrame(null),bindingsEnabled:!0,checkNoChangesMode:!1};function getBindingsEnabled(){return instructionState.bindingsEnabled}function \u0275\u0275enableBindings(){instructionState.bindingsEnabled=!0}function \u0275\u0275disableBindings(){instructionState.bindingsEnabled=!1}function getLView(){return instructionState.lFrame.lView}function getTView(){return instructionState.lFrame.tView}function \u0275\u0275restoreView(viewToRestore){instructionState.lFrame.contextLView=viewToRestore}function getPreviousOrParentTNode(){return instructionState.lFrame.previousOrParentTNode}function setPreviousOrParentTNode(tNode,isParent){instructionState.lFrame.previousOrParentTNode=tNode,instructionState.lFrame.isParent=isParent}function getIsParent(){return instructionState.lFrame.isParent}function setIsNotParent(){instructionState.lFrame.isParent=!1}function getCheckNoChangesMode(){return instructionState.checkNoChangesMode}function setCheckNoChangesMode(mode){instructionState.checkNoChangesMode=mode}function getBindingRoot(){const lFrame=instructionState.lFrame;let index=lFrame.bindingRootIndex;return-1===index&&(index=lFrame.bindingRootIndex=lFrame.tView.bindingStartIndex),index}function getBindingIndex(){return instructionState.lFrame.bindingIndex}function setBindingIndex(value){return instructionState.lFrame.bindingIndex=value}function nextBindingIndex(){return instructionState.lFrame.bindingIndex++}function incrementBindingIndex(count){const lFrame=instructionState.lFrame,index=lFrame.bindingIndex;return lFrame.bindingIndex=lFrame.bindingIndex+count,index}function setBindingRootForHostBindings(bindingRootIndex,currentDirectiveIndex){const lFrame=instructionState.lFrame;lFrame.bindingIndex=lFrame.bindingRootIndex=bindingRootIndex,lFrame.currentDirectiveIndex=currentDirectiveIndex}function getCurrentQueryIndex(){return instructionState.lFrame.currentQueryIndex}function setCurrentQueryIndex(value){instructionState.lFrame.currentQueryIndex=value}function enterDI(newView,tNode){const newLFrame=allocLFrame();instructionState.lFrame=newLFrame,newLFrame.previousOrParentTNode=tNode,newLFrame.lView=newView}function enterView(newView,tNode){const newLFrame=allocLFrame();const tView=newView[1];instructionState.lFrame=newLFrame,newLFrame.previousOrParentTNode=tNode,newLFrame.lView=newView,newLFrame.tView=tView,newLFrame.contextLView=newView,newLFrame.bindingIndex=tView.bindingStartIndex}function allocLFrame(){const currentLFrame=instructionState.lFrame,childLFrame=null===currentLFrame?null:currentLFrame.child;return null===childLFrame?createLFrame(currentLFrame):childLFrame}function createLFrame(parent){const lFrame={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:parent,child:null};return null!==parent&&(parent.child=lFrame),lFrame}function leaveViewLight(){const oldLFrame=instructionState.lFrame;return instructionState.lFrame=oldLFrame.parent,oldLFrame.previousOrParentTNode=null,oldLFrame.lView=null,oldLFrame}const leaveDI=leaveViewLight;function leaveView(){const oldLFrame=leaveViewLight();oldLFrame.isParent=!0,oldLFrame.tView=null,oldLFrame.selectedIndex=0,oldLFrame.contextLView=null,oldLFrame.elementDepthCount=0,oldLFrame.currentDirectiveIndex=-1,oldLFrame.currentNamespace=null,oldLFrame.currentSanitizer=null,oldLFrame.bindingRootIndex=-1,oldLFrame.bindingIndex=-1,oldLFrame.currentQueryIndex=0}function nextContextImpl(level){return(instructionState.lFrame.contextLView=function walkUpViews(nestingLevel,currentView){for(;nestingLevel>0;)currentView=currentView[15],nestingLevel--;return currentView}(level,instructionState.lFrame.contextLView))[8]}function getSelectedIndex(){return instructionState.lFrame.selectedIndex}function setSelectedIndex(index){instructionState.lFrame.selectedIndex=index}function getSelectedTNode(){const lFrame=instructionState.lFrame;return getTNode(lFrame.tView,lFrame.selectedIndex)}function \u0275\u0275namespaceSVG(){instructionState.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function \u0275\u0275namespaceMathML(){instructionState.lFrame.currentNamespace="http://www.w3.org/1998/MathML/"}function \u0275\u0275namespaceHTML(){!function namespaceHTMLInternal(){instructionState.lFrame.currentNamespace=null}()}function setCurrentStyleSanitizer(sanitizer){instructionState.lFrame.currentSanitizer=sanitizer}function registerPostOrderHooks(tView,tNode){for(let i=tNode.directiveStart,end=tNode.directiveEnd;i<end;i++){const directiveDef=tView.data[i];directiveDef.afterContentInit&&(tView.contentHooks||(tView.contentHooks=[])).push(-i,directiveDef.afterContentInit),directiveDef.afterContentChecked&&((tView.contentHooks||(tView.contentHooks=[])).push(i,directiveDef.afterContentChecked),(tView.contentCheckHooks||(tView.contentCheckHooks=[])).push(i,directiveDef.afterContentChecked)),directiveDef.afterViewInit&&(tView.viewHooks||(tView.viewHooks=[])).push(-i,directiveDef.afterViewInit),directiveDef.afterViewChecked&&((tView.viewHooks||(tView.viewHooks=[])).push(i,directiveDef.afterViewChecked),(tView.viewCheckHooks||(tView.viewCheckHooks=[])).push(i,directiveDef.afterViewChecked)),null!=directiveDef.onDestroy&&(tView.destroyHooks||(tView.destroyHooks=[])).push(i,directiveDef.onDestroy)}}function executeCheckHooks(lView,hooks,nodeIndex){callHooks(lView,hooks,3,nodeIndex)}function executeInitAndCheckHooks(lView,hooks,initPhase,nodeIndex){(3&lView[2])===initPhase&&callHooks(lView,hooks,initPhase,nodeIndex)}function incrementInitPhaseFlags(lView,initPhase){let flags=lView[2];(3&flags)===initPhase&&(flags&=1023,flags+=1,lView[2]=flags)}function callHooks(currentView,arr,initPhase,currentNodeIndex){const nodeIndexLimit=null!=currentNodeIndex?currentNodeIndex:-1;let lastNodeIndexFound=0;for(let i=void 0!==currentNodeIndex?65535&currentView[18]:0;i<arr.length;i++){if("number"==typeof arr[i+1]){if(lastNodeIndexFound=arr[i],null!=currentNodeIndex&&lastNodeIndexFound>=currentNodeIndex)break}else{arr[i]<0&&(currentView[18]+=65536),(lastNodeIndexFound<nodeIndexLimit||-1==nodeIndexLimit)&&(callHook(currentView,initPhase,arr,i),currentView[18]=(4294901760&currentView[18])+i+2),i++}}}function callHook(currentView,initPhase,arr,i){const isInitHook=arr[i]<0,hook=arr[i+1],directive=currentView[isInitHook?-arr[i]:arr[i]];if(isInitHook){currentView[2]>>10<currentView[18]>>16&&(3&currentView[2])===initPhase&&(currentView[2]+=1024,hook.call(directive))}else hook.call(directive)}class NodeInjectorFactory{constructor(factory,isViewProvider,injectImplementation){this.factory=factory,this.resolving=!1,this.canSeeViewProviders=isViewProvider,this.injectImpl=injectImplementation}}function setUpAttributes(renderer,native,attrs){const isProc=isProceduralRenderer(renderer);let i=0;for(;i<attrs.length;){const value=attrs[i];if("number"==typeof value){if(0!==value)break;i++;const namespaceURI=attrs[i++],attrName=attrs[i++],attrVal=attrs[i++];isProc?renderer.setAttribute(native,attrName,attrVal,namespaceURI):native.setAttributeNS(namespaceURI,attrName,attrVal)}else{const attrName=value,attrVal=attrs[++i];isAnimationProp(attrName)?isProc&&renderer.setProperty(native,attrName,attrVal):isProc?renderer.setAttribute(native,attrName,attrVal):native.setAttribute(attrName,attrVal),i++}}return i}function isNameOnlyAttributeMarker(marker){return 3===marker||4===marker||6===marker}function isAnimationProp(name){return 64===name.charCodeAt(0)}function mergeHostAttrs(dst,src){if(null===src||0===src.length);else if(null===dst||0===dst.length)dst=src.slice();else{let srcMarker=-1;for(let i=0;i<src.length;i++){const item=src[i];"number"==typeof item?srcMarker=item:0===srcMarker||mergeHostAttribute(dst,srcMarker,item,null,-1===srcMarker||2===srcMarker?src[++i]:null)}}return dst}function mergeHostAttribute(dst,marker,key1,key2,value){let i=0,markerInsertPosition=dst.length;if(-1===marker)markerInsertPosition=-1;else for(;i<dst.length;){const dstValue=dst[i++];if("number"==typeof dstValue){if(dstValue===marker){markerInsertPosition=-1;break}if(dstValue>marker){markerInsertPosition=i-1;break}}}for(;i<dst.length;){const item=dst[i];if("number"==typeof item)break;if(item===key1){if(null===key2)return void(null!==value&&(dst[i+1]=value));if(key2===dst[i+1])return void(dst[i+2]=value)}i++,null!==key2&&i++,null!==value&&i++}-1!==markerInsertPosition&&(dst.splice(markerInsertPosition,0,marker),i=markerInsertPosition+1),dst.splice(i++,0,key1),null!==key2&&dst.splice(i++,0,key2),null!==value&&dst.splice(i++,0,value)}function hasParentInjector(parentLocation){return-1!==parentLocation}function getParentInjectorIndex(parentLocation){return 32767&parentLocation}function getParentInjectorViewOffset(parentLocation){return parentLocation>>16}function getParentInjectorView(location,startView){let viewOffset=getParentInjectorViewOffset(location),parentView=startView;for(;viewOffset>0;)parentView=parentView[15],viewOffset--;return parentView}function renderStringify(value){return"string"==typeof value?value:null==value?"":""+value}function stringifyForError(value){return"function"==typeof value?value.name||value.toString():"object"==typeof value&&null!=value&&"function"==typeof value.type?value.type.name||value.type.toString():renderStringify(value)}const defaultScheduler=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_global);function \u0275\u0275resolveWindow(element){return{name:"window",target:element.ownerDocument.defaultView}}function \u0275\u0275resolveDocument(element){return{name:"document",target:element.ownerDocument}}function \u0275\u0275resolveBody(element){return{name:"body",target:element.ownerDocument.body}}function maybeUnwrapFn(value){return value instanceof Function?value():value}let includeViewProviders=!0;function setIncludeViewProviders(v){const oldValue=includeViewProviders;return includeViewProviders=v,oldValue}let nextNgElementId=0;function getOrCreateNodeInjectorForNode(tNode,hostView){const existingInjectorIndex=getInjectorIndex(tNode,hostView);if(-1!==existingInjectorIndex)return existingInjectorIndex;const tView=hostView[1];tView.firstCreatePass&&(tNode.injectorIndex=hostView.length,insertBloom(tView.data,tNode),insertBloom(hostView,null),insertBloom(tView.blueprint,null));const parentLoc=getParentInjectorLocation(tNode,hostView),injectorIndex=tNode.injectorIndex;if(hasParentInjector(parentLoc)){const parentIndex=getParentInjectorIndex(parentLoc),parentLView=getParentInjectorView(parentLoc,hostView),parentData=parentLView[1].data;for(let i=0;i<8;i++)hostView[injectorIndex+i]=parentLView[parentIndex+i]|parentData[parentIndex+i]}return hostView[injectorIndex+8]=parentLoc,injectorIndex}function insertBloom(arr,footer){arr.push(0,0,0,0,0,0,0,0,footer)}function getInjectorIndex(tNode,hostView){return-1===tNode.injectorIndex||tNode.parent&&tNode.parent.injectorIndex===tNode.injectorIndex||null==hostView[tNode.injectorIndex+8]?-1:tNode.injectorIndex}function getParentInjectorLocation(tNode,view){if(tNode.parent&&-1!==tNode.parent.injectorIndex)return tNode.parent.injectorIndex;let hostTNode=view[6],viewOffset=1;for(;hostTNode&&-1===hostTNode.injectorIndex;)hostTNode=(view=view[15])?view[6]:null,viewOffset++;return hostTNode?hostTNode.injectorIndex|viewOffset<<16:-1}function diPublicInInjector(injectorIndex,tView,token){!function bloomAdd(injectorIndex,tView,type){let id="string"!=typeof type?type[NG_ELEMENT_ID]:type.charCodeAt(0)||0;null==id&&(id=type[NG_ELEMENT_ID]=nextNgElementId++);const bloomBit=255&id,mask=1<<bloomBit,b7=128&bloomBit,b6=64&bloomBit,b5=32&bloomBit,tData=tView.data;b7?b6?b5?tData[injectorIndex+7]|=mask:tData[injectorIndex+6]|=mask:b5?tData[injectorIndex+5]|=mask:tData[injectorIndex+4]|=mask:b6?b5?tData[injectorIndex+3]|=mask:tData[injectorIndex+2]|=mask:b5?tData[injectorIndex+1]|=mask:tData[injectorIndex]|=mask}(injectorIndex,tView,token)}function injectAttributeImpl(tNode,attrNameToInject){if("class"===attrNameToInject)return tNode.classes;if("style"===attrNameToInject)return tNode.styles;const attrs=tNode.attrs;if(attrs){const attrsLength=attrs.length;let i=0;for(;i<attrsLength;){const value=attrs[i];if(isNameOnlyAttributeMarker(value))break;if(0===value)i+=2;else if("number"==typeof value)for(i++;i<attrsLength&&"string"==typeof attrs[i];)i++;else{if(value===attrNameToInject)return attrs[i+1];i+=2}}}return null}function getOrCreateInjectable(tNode,lView,token,flags=InjectFlags.Default,notFoundValue){if(null!==tNode){const bloomHash=function bloomHashBitOrFactory(token){if("string"==typeof token)return token.charCodeAt(0)||0;const tokenId=token[NG_ELEMENT_ID];return"number"==typeof tokenId&&tokenId>0?255&tokenId:tokenId}(token);if("function"==typeof bloomHash){enterDI(lView,tNode);try{const value=bloomHash();if(null!=value||flags&InjectFlags.Optional)return value;throw new Error(`No provider for ${stringifyForError(token)}!`)}finally{leaveDI()}}else if("number"==typeof bloomHash){if(-1===bloomHash)return new NodeInjector(tNode,lView);let previousTView=null,injectorIndex=getInjectorIndex(tNode,lView),parentLocation=-1,hostTElementNode=flags&InjectFlags.Host?lView[16][6]:null;for((-1===injectorIndex||flags&InjectFlags.SkipSelf)&&(parentLocation=-1===injectorIndex?getParentInjectorLocation(tNode,lView):lView[injectorIndex+8],shouldSearchParent(flags,!1)?(previousTView=lView[1],injectorIndex=getParentInjectorIndex(parentLocation),lView=getParentInjectorView(parentLocation,lView)):injectorIndex=-1);-1!==injectorIndex;){parentLocation=lView[injectorIndex+8];const tView=lView[1];if(bloomHasToken(bloomHash,injectorIndex,tView.data)){const instance=searchTokensOnInjector(injectorIndex,lView,token,previousTView,flags,hostTElementNode);if(instance!==NOT_FOUND)return instance}shouldSearchParent(flags,lView[1].data[injectorIndex+8]===hostTElementNode)&&bloomHasToken(bloomHash,injectorIndex,lView)?(previousTView=tView,injectorIndex=getParentInjectorIndex(parentLocation),lView=getParentInjectorView(parentLocation,lView)):injectorIndex=-1}}}if(flags&InjectFlags.Optional&&void 0===notFoundValue&&(notFoundValue=null),0==(flags&(InjectFlags.Self|InjectFlags.Host))){const moduleInjector=lView[9],previousInjectImplementation=setInjectImplementation(void 0);try{return moduleInjector?moduleInjector.get(token,notFoundValue,flags&InjectFlags.Optional):injectRootLimpMode(token,notFoundValue,flags&InjectFlags.Optional)}finally{setInjectImplementation(previousInjectImplementation)}}if(flags&InjectFlags.Optional)return notFoundValue;throw new Error(`NodeInjector: NOT_FOUND [${stringifyForError(token)}]`)}const NOT_FOUND={};function searchTokensOnInjector(injectorIndex,lView,token,previousTView,flags,hostTElementNode){const currentTView=lView[1],tNode=currentTView.data[injectorIndex+8],injectableIdx=locateDirectiveOrProvider(tNode,currentTView,token,null==previousTView?isComponentHost(tNode)&&includeViewProviders:previousTView!=currentTView&&3===tNode.type,flags&InjectFlags.Host&&hostTElementNode===tNode);return null!==injectableIdx?getNodeInjectable(lView,currentTView,injectableIdx,tNode):NOT_FOUND}function locateDirectiveOrProvider(tNode,tView,token,canAccessViewProviders,isHostSpecialCase){const nodeProviderIndexes=tNode.providerIndexes,tInjectables=tView.data,injectablesStart=65535&nodeProviderIndexes,directivesStart=tNode.directiveStart,directiveEnd=tNode.directiveEnd,cptViewProvidersCount=nodeProviderIndexes>>16,endIndex=isHostSpecialCase?injectablesStart+cptViewProvidersCount:directiveEnd;for(let i=canAccessViewProviders?injectablesStart:injectablesStart+cptViewProvidersCount;i<endIndex;i++){const providerTokenOrDef=tInjectables[i];if(i<directivesStart&&token===providerTokenOrDef||i>=directivesStart&&providerTokenOrDef.type===token)return i}if(isHostSpecialCase){const dirDef=tInjectables[directivesStart];if(dirDef&&isComponentDef(dirDef)&&dirDef.type===token)return directivesStart}return null}function getNodeInjectable(lView,tView,index,tNode){let value=lView[index];const tData=tView.data;if(function isFactory(obj){return obj instanceof NodeInjectorFactory}(value)){const factory=value;if(factory.resolving)throw new Error(`Circular dep for ${stringifyForError(tData[index])}`);const previousIncludeViewProviders=setIncludeViewProviders(factory.canSeeViewProviders);let previousInjectImplementation;factory.resolving=!0,factory.injectImpl&&(previousInjectImplementation=setInjectImplementation(factory.injectImpl)),enterDI(lView,tNode);try{value=lView[index]=factory.factory(void 0,tData,lView,tNode),tView.firstCreatePass&&index>=tNode.directiveStart&&function registerPreOrderHooks(directiveIndex,directiveDef,tView){const{onChanges:onChanges,onInit:onInit,doCheck:doCheck}=directiveDef;onChanges&&((tView.preOrderHooks||(tView.preOrderHooks=[])).push(directiveIndex,onChanges),(tView.preOrderCheckHooks||(tView.preOrderCheckHooks=[])).push(directiveIndex,onChanges)),onInit&&(tView.preOrderHooks||(tView.preOrderHooks=[])).push(-directiveIndex,onInit),doCheck&&((tView.preOrderHooks||(tView.preOrderHooks=[])).push(directiveIndex,doCheck),(tView.preOrderCheckHooks||(tView.preOrderCheckHooks=[])).push(directiveIndex,doCheck))}(index,tData[index],tView)}finally{factory.injectImpl&&setInjectImplementation(previousInjectImplementation),setIncludeViewProviders(previousIncludeViewProviders),factory.resolving=!1,leaveDI()}}return value}function bloomHasToken(bloomHash,injectorIndex,injectorView){const mask=1<<bloomHash,b6=64&bloomHash,b5=32&bloomHash;let value;return value=128&bloomHash?b6?b5?injectorView[injectorIndex+7]:injectorView[injectorIndex+6]:b5?injectorView[injectorIndex+5]:injectorView[injectorIndex+4]:b6?b5?injectorView[injectorIndex+3]:injectorView[injectorIndex+2]:b5?injectorView[injectorIndex+1]:injectorView[injectorIndex],!!(value&mask)}function shouldSearchParent(flags,isFirstHostTNode){return!(flags&InjectFlags.Self||flags&InjectFlags.Host&&isFirstHostTNode)}class NodeInjector{constructor(_tNode,_lView){this._tNode=_tNode,this._lView=_lView}get(token,notFoundValue){return getOrCreateInjectable(this._tNode,this._lView,token,void 0,notFoundValue)}}function \u0275\u0275getFactoryOf(type){const typeAny=type;if(isForwardRef(type))return()=>{const factory=\u0275\u0275getFactoryOf(resolveForwardRef(typeAny));return factory?factory():null};let factory=getFactoryDef(typeAny);if(null===factory){const injectorDef=getInjectorDef(typeAny);factory=injectorDef&&injectorDef.factory}return factory||null}function \u0275\u0275getInheritedFactory(type){return noSideEffects(()=>{const proto=Object.getPrototypeOf(type.prototype).constructor,factory=proto[NG_FACTORY_DEF]||\u0275\u0275getFactoryOf(proto);return null!==factory?factory:t=>new t})}function getDebugContext(error){return error.ngDebugContext}function getOriginalError(error){return error.ngOriginalError}function defaultErrorLogger(console,...values){console.error(...values)}class ErrorHandler{constructor(){this._console=console}handleError(error){const originalError=this._findOriginalError(error),context=this._findContext(error),errorLogger=function getErrorLogger(error){return error.ngErrorLogger||defaultErrorLogger}(error);errorLogger(this._console,"ERROR",error),originalError&&errorLogger(this._console,"ORIGINAL ERROR",originalError),context&&errorLogger(this._console,"ERROR CONTEXT",context)}_findContext(error){return error?getDebugContext(error)?getDebugContext(error):this._findContext(getOriginalError(error)):null}_findOriginalError(error){let e=getOriginalError(error);for(;e&&getOriginalError(e);)e=getOriginalError(e);return e}}const CUSTOM_ELEMENTS_SCHEMA={name:"custom-elements"},NO_ERRORS_SCHEMA={name:"no-errors-schema"};class SafeValueImpl{constructor(changingThisBreaksApplicationSecurity){this.changingThisBreaksApplicationSecurity=changingThisBreaksApplicationSecurity}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class SafeHtmlImpl extends SafeValueImpl{getTypeName(){return"HTML"}}class SafeStyleImpl extends SafeValueImpl{getTypeName(){return"Style"}}class SafeScriptImpl extends SafeValueImpl{getTypeName(){return"Script"}}class SafeUrlImpl extends SafeValueImpl{getTypeName(){return"URL"}}class SafeResourceUrlImpl extends SafeValueImpl{getTypeName(){return"ResourceURL"}}function unwrapSafeValue(value){return value instanceof SafeValueImpl?value.changingThisBreaksApplicationSecurity:value}function allowSanitizationBypassAndThrow(value,type){const actualType=getSanitizationBypassType(value);if(null!=actualType&&actualType!==type){if("ResourceURL"===actualType&&"URL"===type)return!0;throw new Error(`Required a safe ${type}, got a ${actualType} (see http://g.co/ng/security#xss)`)}return actualType===type}function getSanitizationBypassType(value){return value instanceof SafeValueImpl&&value.getTypeName()||null}function bypassSanitizationTrustHtml(trustedHtml){return new SafeHtmlImpl(trustedHtml)}function bypassSanitizationTrustStyle(trustedStyle){return new SafeStyleImpl(trustedStyle)}function bypassSanitizationTrustScript(trustedScript){return new SafeScriptImpl(trustedScript)}function bypassSanitizationTrustUrl(trustedUrl){return new SafeUrlImpl(trustedUrl)}function bypassSanitizationTrustResourceUrl(trustedResourceUrl){return new SafeResourceUrlImpl(trustedResourceUrl)}let _devMode=!0,_runModeLocked=!1;function isDevMode(){return _runModeLocked=!0,_devMode}function enableProdMode(){if(_runModeLocked)throw new Error("Cannot enable prod mode after platform setup.");_devMode=!1}class InertBodyHelper{constructor(defaultDoc){this.defaultDoc=defaultDoc,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let inertBodyElement=this.inertDocument.body;if(null==inertBodyElement){const inertHtml=this.inertDocument.createElement("html");this.inertDocument.appendChild(inertHtml),inertBodyElement=this.inertDocument.createElement("body"),inertHtml.appendChild(inertBodyElement)}inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!inertBodyElement.querySelector||inertBodyElement.querySelector("svg")?(inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',inertBodyElement.querySelector&&inertBodyElement.querySelector("svg img")&&function isDOMParserAvailable(){try{return!!window.DOMParser}catch(_a){return!1}}()?this.getInertBodyElement=this.getInertBodyElement_DOMParser:this.getInertBodyElement=this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(html){html="<body><remove></remove>"+html+"</body>";try{html=encodeURI(html)}catch(_a){return null}const xhr=new XMLHttpRequest;xhr.responseType="document",xhr.open("GET","data:text/html;charset=utf-8,"+html,!1),xhr.send(void 0);const body=xhr.response.body;return body.removeChild(body.firstChild),body}getInertBodyElement_DOMParser(html){html="<body><remove></remove>"+html+"</body>";try{const body=(new window.DOMParser).parseFromString(html,"text/html").body;return body.removeChild(body.firstChild),body}catch(_a){return null}}getInertBodyElement_InertDocument(html){const templateEl=this.inertDocument.createElement("template");if("content"in templateEl)return templateEl.innerHTML=html,templateEl;const inertBody=this.inertDocument.createElement("body");return inertBody.innerHTML=html,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(inertBody),inertBody}stripCustomNsAttrs(el){const elAttrs=el.attributes;for(let i=elAttrs.length-1;0<i;i--){const attrName=elAttrs.item(i).name;"xmlns:ns1"!==attrName&&0!==attrName.indexOf("ns1:")||el.removeAttribute(attrName)}let childNode=el.firstChild;for(;childNode;)childNode.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(childNode),childNode=childNode.nextSibling}}const SAFE_URL_PATTERN=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,DATA_URL_PATTERN=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function _sanitizeUrl(url){return(url=String(url)).match(SAFE_URL_PATTERN)||url.match(DATA_URL_PATTERN)?url:(isDevMode()&&console.warn(`WARNING: sanitizing unsafe URL value ${url} (see http://g.co/ng/security#xss)`),"unsafe:"+url)}function sanitizeSrcset(srcset){return(srcset=String(srcset)).split(",").map(srcset=>_sanitizeUrl(srcset.trim())).join(", ")}function tagSet(tags){const res={};for(const t of tags.split(","))res[t]=!0;return res}function core_merge(...sets){const res={};for(const s of sets)for(const v in s)s.hasOwnProperty(v)&&(res[v]=!0);return res}const VOID_ELEMENTS=tagSet("area,br,col,hr,img,wbr"),OPTIONAL_END_TAG_BLOCK_ELEMENTS=tagSet("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),OPTIONAL_END_TAG_INLINE_ELEMENTS=tagSet("rp,rt"),OPTIONAL_END_TAG_ELEMENTS=core_merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,OPTIONAL_END_TAG_BLOCK_ELEMENTS),BLOCK_ELEMENTS=core_merge(OPTIONAL_END_TAG_BLOCK_ELEMENTS,tagSet("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),INLINE_ELEMENTS=core_merge(OPTIONAL_END_TAG_INLINE_ELEMENTS,tagSet("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),VALID_ELEMENTS=core_merge(VOID_ELEMENTS,BLOCK_ELEMENTS,INLINE_ELEMENTS,OPTIONAL_END_TAG_ELEMENTS),URI_ATTRS=tagSet("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),SRCSET_ATTRS=tagSet("srcset"),HTML_ATTRS=tagSet("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ARIA_ATTRS=tagSet("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),VALID_ATTRS=core_merge(URI_ATTRS,SRCSET_ATTRS,HTML_ATTRS,ARIA_ATTRS),SKIP_TRAVERSING_CONTENT_IF_INVALID_ELEMENTS=tagSet("script,style,template");class SanitizingHtmlSerializer{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(el){let current=el.firstChild,traverseContent=!0;for(;current;)if(current.nodeType===Node.ELEMENT_NODE?traverseContent=this.startElement(current):current.nodeType===Node.TEXT_NODE?this.chars(current.nodeValue):this.sanitizedSomething=!0,traverseContent&&current.firstChild)current=current.firstChild;else for(;current;){current.nodeType===Node.ELEMENT_NODE&&this.endElement(current);let next=this.checkClobberedElement(current,current.nextSibling);if(next){current=next;break}current=this.checkClobberedElement(current,current.parentNode)}return this.buf.join("")}startElement(element){const tagName=element.nodeName.toLowerCase();if(!VALID_ELEMENTS.hasOwnProperty(tagName))return this.sanitizedSomething=!0,!SKIP_TRAVERSING_CONTENT_IF_INVALID_ELEMENTS.hasOwnProperty(tagName);this.buf.push("<"),this.buf.push(tagName);const elAttrs=element.attributes;for(let i=0;i<elAttrs.length;i++){const elAttr=elAttrs.item(i),attrName=elAttr.name,lower=attrName.toLowerCase();if(!VALID_ATTRS.hasOwnProperty(lower)){this.sanitizedSomething=!0;continue}let value=elAttr.value;URI_ATTRS[lower]&&(value=_sanitizeUrl(value)),SRCSET_ATTRS[lower]&&(value=sanitizeSrcset(value)),this.buf.push(" ",attrName,'="',encodeEntities(value),'"')}return this.buf.push(">"),!0}endElement(current){const tagName=current.nodeName.toLowerCase();VALID_ELEMENTS.hasOwnProperty(tagName)&&!VOID_ELEMENTS.hasOwnProperty(tagName)&&(this.buf.push("</"),this.buf.push(tagName),this.buf.push(">"))}chars(chars){this.buf.push(encodeEntities(chars))}checkClobberedElement(node,nextNode){if(nextNode&&(node.compareDocumentPosition(nextNode)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${node.outerHTML}`);return nextNode}}const SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~ |!])/g;function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,(function(match){return"&#"+(1024*(match.charCodeAt(0)-55296)+(match.charCodeAt(1)-56320)+65536)+";"})).replace(NON_ALPHANUMERIC_REGEXP,(function(match){return"&#"+match.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let inertBodyHelper;function _sanitizeHtml(defaultDoc,unsafeHtmlInput){let inertBodyElement=null;try{inertBodyHelper=inertBodyHelper||new InertBodyHelper(defaultDoc);let unsafeHtml=unsafeHtmlInput?String(unsafeHtmlInput):"";inertBodyElement=inertBodyHelper.getInertBodyElement(unsafeHtml);let mXSSAttempts=5,parsedHtml=unsafeHtml;do{if(0===mXSSAttempts)throw new Error("Failed to sanitize html because the input is unstable");mXSSAttempts--,unsafeHtml=parsedHtml,parsedHtml=inertBodyElement.innerHTML,inertBodyElement=inertBodyHelper.getInertBodyElement(unsafeHtml)}while(unsafeHtml!==parsedHtml);const sanitizer=new SanitizingHtmlSerializer,safeHtml=sanitizer.sanitizeChildren(getTemplateContent(inertBodyElement)||inertBodyElement);return isDevMode()&&sanitizer.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),safeHtml}finally{if(inertBodyElement){const parent=getTemplateContent(inertBodyElement)||inertBodyElement;for(;parent.firstChild;)parent.removeChild(parent.firstChild)}}}function getTemplateContent(el){return"content"in el&&function isTemplateElement(el){return el.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===el.nodeName}(el)?el.content:null}const SecurityContext={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};SecurityContext[SecurityContext.NONE]="NONE",SecurityContext[SecurityContext.HTML]="HTML",SecurityContext[SecurityContext.STYLE]="STYLE",SecurityContext[SecurityContext.SCRIPT]="SCRIPT",SecurityContext[SecurityContext.URL]="URL",SecurityContext[SecurityContext.RESOURCE_URL]="RESOURCE_URL";const SAFE_STYLE_VALUE=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),URL_RE=/^url\(([^)]+)\)$/;function _sanitizeStyle(value){if(!(value=String(value).trim()))return"";const urlMatch=value.match(URL_RE);return urlMatch&&_sanitizeUrl(urlMatch[1])===urlMatch[1]||value.match(SAFE_STYLE_VALUE)&&function hasBalancedQuotes(value){let outsideSingle=!0,outsideDouble=!0;for(let i=0;i<value.length;i++){const c=value.charAt(i);"'"===c&&outsideDouble?outsideSingle=!outsideSingle:'"'===c&&outsideSingle&&(outsideDouble=!outsideDouble)}return outsideSingle&&outsideDouble}(value)?value:(isDevMode()&&console.warn(`WARNING: sanitizing unsafe style value ${value} (see http://g.co/ng/security#xss).`),"unsafe")}function \u0275\u0275sanitizeHtml(unsafeHtml){const sanitizer=getSanitizer();return sanitizer?sanitizer.sanitize(SecurityContext.HTML,unsafeHtml)||"":allowSanitizationBypassAndThrow(unsafeHtml,"HTML")?unwrapSafeValue(unsafeHtml):_sanitizeHtml(getDocument(),renderStringify(unsafeHtml))}function \u0275\u0275sanitizeStyle(unsafeStyle){const sanitizer=getSanitizer();return sanitizer?sanitizer.sanitize(SecurityContext.STYLE,unsafeStyle)||"":allowSanitizationBypassAndThrow(unsafeStyle,"Style")?unwrapSafeValue(unsafeStyle):_sanitizeStyle(renderStringify(unsafeStyle))}function \u0275\u0275sanitizeUrl(unsafeUrl){const sanitizer=getSanitizer();return sanitizer?sanitizer.sanitize(SecurityContext.URL,unsafeUrl)||"":allowSanitizationBypassAndThrow(unsafeUrl,"URL")?unwrapSafeValue(unsafeUrl):_sanitizeUrl(renderStringify(unsafeUrl))}function \u0275\u0275sanitizeResourceUrl(unsafeResourceUrl){const sanitizer=getSanitizer();if(sanitizer)return sanitizer.sanitize(SecurityContext.RESOURCE_URL,unsafeResourceUrl)||"";if(allowSanitizationBypassAndThrow(unsafeResourceUrl,"ResourceURL"))return unwrapSafeValue(unsafeResourceUrl);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function \u0275\u0275sanitizeScript(unsafeScript){const sanitizer=getSanitizer();if(sanitizer)return sanitizer.sanitize(SecurityContext.SCRIPT,unsafeScript)||"";if(allowSanitizationBypassAndThrow(unsafeScript,"Script"))return unwrapSafeValue(unsafeScript);throw new Error("unsafe value used in a script context")}function getUrlSanitizer(tag,prop){return"src"===prop&&("embed"===tag||"frame"===tag||"iframe"===tag||"media"===tag||"script"===tag)||"href"===prop&&("base"===tag||"link"===tag)?\u0275\u0275sanitizeResourceUrl:\u0275\u0275sanitizeUrl}function \u0275\u0275sanitizeUrlOrResourceUrl(unsafeUrl,tag,prop){return getUrlSanitizer(tag,prop)(unsafeUrl)}const \u0275\u0275defaultStyleSanitizer=function(prop,value,mode){if(void 0===value&&void 0===mode)return \u0275\u0275sanitizeStyle(prop);let doSanitizeValue=!0;return 1&(mode=mode||3)&&(doSanitizeValue=stylePropNeedsSanitization(prop)),2&mode?doSanitizeValue?\u0275\u0275sanitizeStyle(value):unwrapSafeValue(value):doSanitizeValue};function stylePropNeedsSanitization(prop){return"background-image"===prop||"backgroundImage"===prop||"background"===prop||"border-image"===prop||"borderImage"===prop||"border-image-source"===prop||"borderImageSource"===prop||"filter"===prop||"list-style"===prop||"listStyle"===prop||"list-style-image"===prop||"listStyleImage"===prop||"clip-path"===prop||"clipPath"===prop}function getSanitizer(){const lView=getLView();return lView&&lView[12]}function normalizeDebugBindingName(name){return`ng-reflect-${name=function camelCaseToDashCase(input){return input.replace(CAMEL_CASE_REGEXP,(...m)=>"-"+m[1].toLowerCase())}(name.replace(/[$@]/g,"_"))}`}const CAMEL_CASE_REGEXP=/([A-Z])/g;function normalizeDebugBindingValue(value){try{return null!=value?value.toString().slice(0,30):value}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function getLContext(target){let mpValue=readPatchedData(target);if(mpValue){if(Array.isArray(mpValue)){const lView=mpValue;let nodeIndex,component=void 0,directives=void 0;if(function isComponentInstance(instance){return instance&&instance.constructor&&instance.constructor.\u0275cmp}(target)){if(nodeIndex=findViaComponent(lView,target),-1==nodeIndex)throw new Error("The provided component was not found in the application");component=target}else if(function isDirectiveInstance(instance){return instance&&instance.constructor&&instance.constructor.\u0275dir}(target)){if(nodeIndex=function findViaDirective(lView,directiveInstance){let tNode=lView[1].firstChild;for(;tNode;){const directiveIndexStart=tNode.directiveStart,directiveIndexEnd=tNode.directiveEnd;for(let i=directiveIndexStart;i<directiveIndexEnd;i++)if(lView[i]===directiveInstance)return tNode.index;tNode=traverseNextElement(tNode)}return-1}(lView,target),-1==nodeIndex)throw new Error("The provided directive was not found in the application");directives=getDirectivesAtNodeIndex(nodeIndex,lView,!1)}else if(nodeIndex=findViaNativeElement(lView,target),-1==nodeIndex)return null;const native=unwrapRNode(lView[nodeIndex]),existingCtx=readPatchedData(native),context=existingCtx&&!Array.isArray(existingCtx)?existingCtx:createLContext(lView,nodeIndex,native);if(component&&void 0===context.component&&(context.component=component,attachPatchData(context.component,context)),directives&&void 0===context.directives){context.directives=directives;for(let i=0;i<directives.length;i++)attachPatchData(directives[i],context)}attachPatchData(context.native,context),mpValue=context}}else{const rElement=target;let parent=rElement;for(;parent=parent.parentNode;){const parentContext=readPatchedData(parent);if(parentContext){let lView;if(lView=Array.isArray(parentContext)?parentContext:parentContext.lView,!lView)return null;const index=findViaNativeElement(lView,rElement);if(index>=0){const native=unwrapRNode(lView[index]),context=createLContext(lView,index,native);attachPatchData(native,context),mpValue=context;break}}}}return(mpValue||null)}function createLContext(lView,nodeIndex,native){return{lView:lView,nodeIndex:nodeIndex,native:native,component:void 0,directives:void 0,localRefs:void 0}}function getComponentViewByInstance(componentInstance){let view,lView=readPatchedData(componentInstance);if(Array.isArray(lView)){const nodeIndex=findViaComponent(lView,componentInstance);view=getComponentLViewByIndex(nodeIndex,lView);const context=createLContext(lView,nodeIndex,view[0]);context.component=componentInstance,attachPatchData(componentInstance,context),attachPatchData(context.native,context)}else{const context=lView;view=getComponentLViewByIndex(context.nodeIndex,context.lView)}return view}function attachPatchData(target,data){target.__ngContext__=data}function findViaNativeElement(lView,target){let tNode=lView[1].firstChild;for(;tNode;){if(getNativeByTNodeOrNull(tNode,lView)===target)return tNode.index;tNode=traverseNextElement(tNode)}return-1}function traverseNextElement(tNode){if(tNode.child)return tNode.child;if(tNode.next)return tNode.next;for(;tNode.parent&&!tNode.parent.next;)tNode=tNode.parent;return tNode.parent&&tNode.parent.next}function findViaComponent(lView,componentInstance){const componentIndices=lView[1].components;if(componentIndices)for(let i=0;i<componentIndices.length;i++){const elementComponentIndex=componentIndices[i];if(getComponentLViewByIndex(elementComponentIndex,lView)[8]===componentInstance)return elementComponentIndex}else{if(getComponentLViewByIndex(19,lView)[8]===componentInstance)return 19}return-1}function getDirectivesAtNodeIndex(nodeIndex,lView,includeComponents){const tNode=lView[1].data[nodeIndex];let directiveStartIndex=tNode.directiveStart;if(0==directiveStartIndex)return EMPTY_ARRAY;const directiveEndIndex=tNode.directiveEnd;return!includeComponents&&2&tNode.flags&&directiveStartIndex++,lView.slice(directiveStartIndex,directiveEndIndex)}function throwMultipleComponentError(tNode){throw new Error(`Multiple components match node with tagname ${tNode.tagName}`)}function throwMixedMultiProviderError(){throw new Error("Cannot mix multi providers and regular providers")}function classIndexOf(className,classToSearch,startingIndex){let end=className.length;for(;;){const foundIndex=className.indexOf(classToSearch,startingIndex);if(-1===foundIndex)return foundIndex;if(0===foundIndex||className.charCodeAt(foundIndex-1)<=32){const length=classToSearch.length;if(foundIndex+length===end||className.charCodeAt(foundIndex+length)<=32)return foundIndex}startingIndex=foundIndex+1}}function isCssClassMatching(attrs,cssClassToMatch,isProjectionMode){let i=0;for(;i<attrs.length;){let item=attrs[i++];if(isProjectionMode&&"class"===item){if(item=attrs[i],-1!==classIndexOf(item.toLowerCase(),cssClassToMatch,0))return!0}else if(1===item){for(;i<attrs.length&&"string"==typeof(item=attrs[i++]);)if(item.toLowerCase()===cssClassToMatch)return!0;return!1}}return!1}function hasTagAndTypeMatch(tNode,currentSelector,isProjectionMode){return currentSelector===(0!==tNode.type||isProjectionMode?tNode.tagName:"ng-template")}function isNodeMatchingSelector(tNode,selector,isProjectionMode){let mode=4;const nodeAttrs=tNode.attrs||[],nameOnlyMarkerIdx=function getNameOnlyMarkerIndex(nodeAttrs){for(let i=0;i<nodeAttrs.length;i++){if(isNameOnlyAttributeMarker(nodeAttrs[i]))return i}return nodeAttrs.length}(nodeAttrs);let skipToNextSelector=!1;for(let i=0;i<selector.length;i++){const current=selector[i];if("number"!=typeof current){if(!skipToNextSelector)if(4&mode){if(mode=2|1&mode,""!==current&&!hasTagAndTypeMatch(tNode,current,isProjectionMode)||""===current&&1===selector.length){if(isPositive(mode))return!1;skipToNextSelector=!0}}else{const selectorAttrValue=8&mode?current:selector[++i];if(8&mode&&null!==tNode.attrs){if(!isCssClassMatching(tNode.attrs,selectorAttrValue,isProjectionMode)){if(isPositive(mode))return!1;skipToNextSelector=!0}continue}const attrIndexInNode=findAttrIndexInNode(8&mode?"class":current,nodeAttrs,0==tNode.type&&"ng-template"!==tNode.tagName,isProjectionMode);if(-1===attrIndexInNode){if(isPositive(mode))return!1;skipToNextSelector=!0;continue}if(""!==selectorAttrValue){let nodeAttrValue;nodeAttrValue=attrIndexInNode>nameOnlyMarkerIdx?"":nodeAttrs[attrIndexInNode+1].toLowerCase();const compareAgainstClassName=8&mode?nodeAttrValue:null;if(compareAgainstClassName&&-1!==classIndexOf(compareAgainstClassName,selectorAttrValue,0)||2&mode&&selectorAttrValue!==nodeAttrValue){if(isPositive(mode))return!1;skipToNextSelector=!0}}}}else{if(!skipToNextSelector&&!isPositive(mode)&&!isPositive(current))return!1;if(skipToNextSelector&&isPositive(current))continue;skipToNextSelector=!1,mode=current|1&mode}}return isPositive(mode)||skipToNextSelector}function isPositive(mode){return 0==(1&mode)}function findAttrIndexInNode(name,attrs,isInlineTemplate,isProjectionMode){if(null===attrs)return-1;let i=0;if(isProjectionMode||!isInlineTemplate){let bindingsMode=!1;for(;i<attrs.length;){const maybeAttrName=attrs[i];if(maybeAttrName===name)return i;if(3===maybeAttrName||6===maybeAttrName)bindingsMode=!0;else{if(1===maybeAttrName||2===maybeAttrName){let value=attrs[++i];for(;"string"==typeof value;)value=attrs[++i];continue}if(4===maybeAttrName)break;if(0===maybeAttrName){i+=4;continue}}i+=bindingsMode?1:2}return-1}return function matchTemplateAttribute(attrs,name){let i=attrs.indexOf(4);if(i>-1)for(i++;i<attrs.length;){if(attrs[i]===name)return i;i++}return-1}(attrs,name)}function isNodeMatchingSelectorList(tNode,selector,isProjectionMode=!1){for(let i=0;i<selector.length;i++)if(isNodeMatchingSelector(tNode,selector[i],isProjectionMode))return!0;return!1}function isSelectorInSelectorList(selector,list){selectorListLoop:for(let i=0;i<list.length;i++){const currentSelectorInList=list[i];if(selector.length===currentSelectorInList.length){for(let j=0;j<selector.length;j++)if(selector[j]!==currentSelectorInList[j])continue selectorListLoop;return!0}}return!1}function maybeWrapInNotSelector(isNegativeMode,chunk){return isNegativeMode?":not("+chunk.trim()+")":chunk}function stringifyCSSSelector(selector){let result=selector[0],i=1,mode=2,currentChunk="",isNegativeMode=!1;for(;i<selector.length;){let valueOrMarker=selector[i];if("string"==typeof valueOrMarker)if(2&mode){const attrValue=selector[++i];currentChunk+="["+valueOrMarker+(attrValue.length>0?'="'+attrValue+'"':"")+"]"}else 8&mode?currentChunk+="."+valueOrMarker:4&mode&&(currentChunk+=" "+valueOrMarker);else""===currentChunk||isPositive(valueOrMarker)||(result+=maybeWrapInNotSelector(isNegativeMode,currentChunk),currentChunk=""),mode=valueOrMarker,isNegativeMode=isNegativeMode||!isPositive(mode);i++}return""!==currentChunk&&(result+=maybeWrapInNotSelector(isNegativeMode,currentChunk)),result}const NO_CHANGE={};function getLViewParent(lView){const parent=lView[3];return isLContainer(parent)?parent[3]:parent}function getRootView(componentOrLView){let lView=isLView(componentOrLView)?componentOrLView:readPatchedLView(componentOrLView);for(;lView&&!(512&lView[2]);)lView=getLViewParent(lView);return lView}function getRootContext(viewOrComponent){const rootView=getRootView(viewOrComponent);return rootView[8]}function \u0275\u0275advance(delta){selectIndexInternal(getTView(),getLView(),getSelectedIndex()+delta,getCheckNoChangesMode())}function \u0275\u0275select(index){selectIndexInternal(getTView(),getLView(),index,getCheckNoChangesMode())}function selectIndexInternal(tView,lView,index,checkNoChangesMode){if(!checkNoChangesMode){if(3==(3&lView[2])){const preOrderCheckHooks=tView.preOrderCheckHooks;null!==preOrderCheckHooks&&executeCheckHooks(lView,preOrderCheckHooks,index)}else{const preOrderHooks=tView.preOrderHooks;null!==preOrderHooks&&executeInitAndCheckHooks(lView,preOrderHooks,0,index)}}setSelectedIndex(index)}const ELEMENT_MARKER={marker:"element"},COMMENT_MARKER={marker:"comment"};function toTStylingRange(prev,next){return prev<<17|next<<2}function getTStylingRangePrev(tStylingRange){return tStylingRange>>17&32767}function getTStylingRangePrevDuplicate(tStylingRange){return 2==(2&tStylingRange)}function setTStylingRangePrevDuplicate(tStylingRange){return 2|tStylingRange}function getTStylingRangeNext(tStylingRange){return(131068&tStylingRange)>>2}function setTStylingRangeNext(tStylingRange,next){return-131069&tStylingRange|next<<2}function getTStylingRangeNextDuplicate(tStylingRange){return 1==(1&tStylingRange)}function setTStylingRangeNextDuplicate(tStylingRange){return 1|tStylingRange}const _CLEAN_PROMISE=Promise.resolve(null);function refreshContentQueries(tView,lView){const contentQueries=tView.contentQueries;if(null!==contentQueries)for(let i=0;i<contentQueries.length;i+=2){const queryStartIdx=contentQueries[i],directiveDefIdx=contentQueries[i+1];if(-1!==directiveDefIdx){const directiveDef=tView.data[directiveDefIdx];setCurrentQueryIndex(queryStartIdx),directiveDef.contentQueries(2,lView[directiveDefIdx],directiveDefIdx)}}}function elementCreate(name,renderer,namespace){return isProceduralRenderer(renderer)?renderer.createElement(name,namespace):null===namespace?renderer.createElement(name):renderer.createElementNS(namespace,name)}function createLView(parentLView,tView,context,flags,host,tHostNode,rendererFactory,renderer,sanitizer,injector){const lView=tView.blueprint.slice();return lView[0]=host,lView[2]=140|flags,resetPreOrderHookFlags(lView),lView[3]=lView[15]=parentLView,lView[8]=context,lView[10]=rendererFactory||parentLView&&parentLView[10],lView[11]=renderer||parentLView&&parentLView[11],lView[12]=sanitizer||parentLView&&parentLView[12]||null,lView[9]=injector||parentLView&&parentLView[9]||null,lView[6]=tHostNode,lView[16]=2==tView.type?parentLView[16]:lView,lView}function getOrCreateTNode(tView,tHostNode,index,type,name,attrs){const adjustedIndex=index+19,tNode=tView.data[adjustedIndex]||function createTNodeAtIndex(tView,tHostNode,adjustedIndex,type,name,attrs){const previousOrParentTNode=getPreviousOrParentTNode(),isParent=getIsParent(),parent=isParent?previousOrParentTNode:previousOrParentTNode&&previousOrParentTNode.parent,tParentNode=parent&&parent!==tHostNode?parent:null,tNode=tView.data[adjustedIndex]=createTNode(tView,tParentNode,type,adjustedIndex,name,attrs);null===tView.firstChild&&(tView.firstChild=tNode);previousOrParentTNode&&(!isParent||null!=previousOrParentTNode.child||null===tNode.parent&&2!==previousOrParentTNode.type?isParent||(previousOrParentTNode.next=tNode):previousOrParentTNode.child=tNode);return tNode}(tView,tHostNode,adjustedIndex,type,name,attrs);return setPreviousOrParentTNode(tNode,!0),tNode}function assignTViewNodeToLView(tView,tParentNode,index,lView){let tNode=tView.node;return null==tNode&&(tView.node=tNode=createTNode(tView,tParentNode,2,index,null,null)),lView[6]=tNode}function renderView(tView,lView,context){enterView(lView,lView[6]);try{const viewQuery=tView.viewQuery;null!==viewQuery&&executeViewQueryFn(1,viewQuery,context);const templateFn=tView.template;null!==templateFn&&executeTemplate(tView,lView,templateFn,1,context),tView.firstCreatePass&&(tView.firstCreatePass=!1),tView.staticContentQueries&&refreshContentQueries(tView,lView),tView.staticViewQueries&&executeViewQueryFn(2,tView.viewQuery,context);const components=tView.components;null!==components&&function renderChildComponents(hostLView,components){for(let i=0;i<components.length;i++)renderComponent(hostLView,components[i])}(lView,components)}finally{lView[2]&=-5,leaveView()}}function refreshView(tView,lView,templateFn,context){const flags=lView[2];if(256==(256&flags))return;enterView(lView,lView[6]);const checkNoChangesMode=getCheckNoChangesMode();try{resetPreOrderHookFlags(lView),setBindingIndex(tView.bindingStartIndex),null!==templateFn&&executeTemplate(tView,lView,templateFn,2,context);const hooksInitPhaseCompleted=3==(3&flags);if(!checkNoChangesMode)if(hooksInitPhaseCompleted){const preOrderCheckHooks=tView.preOrderCheckHooks;null!==preOrderCheckHooks&&executeCheckHooks(lView,preOrderCheckHooks,null)}else{const preOrderHooks=tView.preOrderHooks;null!==preOrderHooks&&executeInitAndCheckHooks(lView,preOrderHooks,0,null),incrementInitPhaseFlags(lView,0)}if(function refreshDynamicEmbeddedViews(lView){let viewOrContainer=lView[13];for(;null!==viewOrContainer;){let activeIndexFlag;if(isLContainer(viewOrContainer)&&(activeIndexFlag=viewOrContainer[2])>>1==-1){for(let i=9;i<viewOrContainer.length;i++){const embeddedLView=viewOrContainer[i],embeddedTView=embeddedLView[1];viewAttachedToChangeDetector(embeddedLView)&&refreshView(embeddedTView,embeddedLView,embeddedTView.template,embeddedLView[8])}0!=(1&activeIndexFlag)&&refreshTransplantedViews(viewOrContainer,lView[16])}viewOrContainer=viewOrContainer[4]}}(lView),null!==tView.contentQueries&&refreshContentQueries(tView,lView),!checkNoChangesMode)if(hooksInitPhaseCompleted){const contentCheckHooks=tView.contentCheckHooks;null!==contentCheckHooks&&executeCheckHooks(lView,contentCheckHooks)}else{const contentHooks=tView.contentHooks;null!==contentHooks&&executeInitAndCheckHooks(lView,contentHooks,1),incrementInitPhaseFlags(lView,1)}!function setHostBindingsByExecutingExpandoInstructions(tView,lView){try{const expandoInstructions=tView.expandoInstructions;if(null!==expandoInstructions){let bindingRootIndex=tView.expandoStartIndex,currentDirectiveIndex=-1,currentElementIndex=-1;for(let i=0;i<expandoInstructions.length;i++){const instruction=expandoInstructions[i];if("number"==typeof instruction)if(instruction<=0){currentElementIndex=0-instruction,setSelectedIndex(currentElementIndex),bindingRootIndex+=9+expandoInstructions[++i],currentDirectiveIndex=bindingRootIndex}else bindingRootIndex+=instruction;else{if(null!==instruction){setBindingRootForHostBindings(bindingRootIndex,currentDirectiveIndex),instruction(2,lView[currentDirectiveIndex])}currentDirectiveIndex++}}}}finally{setSelectedIndex(-1)}}(tView,lView);const components=tView.components;null!==components&&function refreshChildComponents(hostLView,components){for(let i=0;i<components.length;i++)refreshComponent(hostLView,components[i])}(lView,components);const viewQuery=tView.viewQuery;if(null!==viewQuery&&executeViewQueryFn(2,viewQuery,context),!checkNoChangesMode)if(hooksInitPhaseCompleted){const viewCheckHooks=tView.viewCheckHooks;null!==viewCheckHooks&&executeCheckHooks(lView,viewCheckHooks)}else{const viewHooks=tView.viewHooks;null!==viewHooks&&executeInitAndCheckHooks(lView,viewHooks,2),incrementInitPhaseFlags(lView,2)}!0===tView.firstUpdatePass&&(tView.firstUpdatePass=!1),checkNoChangesMode||(lView[2]&=-73)}finally{leaveView()}}function renderComponentOrTemplate(tView,lView,templateFn,context){const rendererFactory=lView[10],normalExecutionPath=!getCheckNoChangesMode(),creationModeIsActive=isCreationMode(lView);try{normalExecutionPath&&!creationModeIsActive&&rendererFactory.begin&&rendererFactory.begin(),creationModeIsActive&&renderView(tView,lView,context),refreshView(tView,lView,templateFn,context)}finally{normalExecutionPath&&!creationModeIsActive&&rendererFactory.end&&rendererFactory.end()}}function executeTemplate(tView,lView,templateFn,rf,context){const prevSelectedIndex=getSelectedIndex();try{setSelectedIndex(-1),2&rf&&lView.length>19&&selectIndexInternal(tView,lView,0,getCheckNoChangesMode()),templateFn(rf,context)}finally{setSelectedIndex(prevSelectedIndex)}}function executeContentQueries(tView,tNode,lView){if(isContentQueryHost(tNode)){const start=tNode.directiveStart,end=tNode.directiveEnd;for(let directiveIndex=start;directiveIndex<end;directiveIndex++){const def=tView.data[directiveIndex];def.contentQueries&&def.contentQueries(1,lView[directiveIndex],directiveIndex)}}}function createDirectivesInstances(tView,lView,tNode){getBindingsEnabled()&&(!function instantiateAllDirectives(tView,lView,tNode,native){const start=tNode.directiveStart,end=tNode.directiveEnd;tView.firstCreatePass||getOrCreateNodeInjectorForNode(tNode,lView);attachPatchData(native,lView);const initialInputs=tNode.initialInputs;for(let i=start;i<end;i++){const def=tView.data[i],isComponent=isComponentDef(def);isComponent&&addComponentLogic(lView,tNode,def);const directive=getNodeInjectable(lView,tView,i,tNode);if(attachPatchData(directive,lView),null!==initialInputs&&setInputsFromAttrs(lView,i-start,directive,def,tNode,initialInputs),isComponent){getComponentLViewByIndex(tNode.index,lView)[8]=directive}}}(tView,lView,tNode,getNativeByTNode(tNode,lView)),128==(128&tNode.flags)&&function invokeDirectivesHostBindings(tView,lView,tNode){const start=tNode.directiveStart,end=tNode.directiveEnd,expando=tView.expandoInstructions,firstCreatePass=tView.firstCreatePass,elementIndex=tNode.index-19;try{setSelectedIndex(elementIndex);for(let i=start;i<end;i++){const def=tView.data[i],directive=lView[i];null!==def.hostBindings||0!==def.hostVars||null!==def.hostAttrs?invokeHostBindingsInCreationMode(def,directive):firstCreatePass&&expando.push(null)}}finally{setSelectedIndex(-1)}}(tView,lView,tNode))}function saveResolvedLocalsInData(viewData,tNode,localRefExtractor=getNativeByTNode){const localNames=tNode.localNames;if(null!==localNames){let localIndex=tNode.index+1;for(let i=0;i<localNames.length;i+=2){const index=localNames[i+1],value=-1===index?localRefExtractor(tNode,viewData):viewData[index];viewData[localIndex++]=value}}}function getOrCreateTComponentView(def){return def.tView||(def.tView=createTView(1,-1,def.template,def.decls,def.vars,def.directiveDefs,def.pipeDefs,def.viewQuery,def.schemas,def.consts))}function createTView(type,viewIndex,templateFn,decls,vars,directives,pipes,viewQuery,schemas,consts){const bindingStartIndex=19+decls,initialViewLength=bindingStartIndex+vars,blueprint=function createViewBlueprint(bindingStartIndex,initialViewLength){const blueprint=[];for(let i=0;i<initialViewLength;i++)blueprint.push(i<bindingStartIndex?null:NO_CHANGE);return(blueprint)}(bindingStartIndex,initialViewLength);return blueprint[1]={type:type,id:viewIndex,blueprint:blueprint,template:templateFn,queries:null,viewQuery:viewQuery,node:null,data:blueprint.slice().fill(null,bindingStartIndex),bindingStartIndex:bindingStartIndex,expandoStartIndex:initialViewLength,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof directives?directives():directives,pipeRegistry:"function"==typeof pipes?pipes():pipes,firstChild:null,schemas:schemas,consts:consts}}function locateHostElement(renderer,elementOrSelector,encapsulation){if(isProceduralRenderer(renderer)){const preserveContent=encapsulation===ViewEncapsulation$1.ShadowDom;return renderer.selectRootElement(elementOrSelector,preserveContent)}let rElement="string"==typeof elementOrSelector?renderer.querySelector(elementOrSelector):elementOrSelector;return rElement.textContent="",rElement}function createTNode(tView,tParent,type,adjustedIndex,tagName,attrs){let injectorIndex=tParent?tParent.injectorIndex:-1;return{type:type,index:adjustedIndex,injectorIndex:injectorIndex,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:tagName,attrs:attrs,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:tParent,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function generatePropertyAliases(inputAliasMap,directiveDefIdx,propStore){for(let publicName in inputAliasMap)if(inputAliasMap.hasOwnProperty(publicName)){propStore=null===propStore?{}:propStore;const internalName=inputAliasMap[publicName];propStore.hasOwnProperty(publicName)?propStore[publicName].push(directiveDefIdx,internalName):propStore[publicName]=[directiveDefIdx,internalName]}return propStore}function elementPropertyInternal(tView,tNode,lView,propName,value,renderer,sanitizer,nativeOnly){const element=getNativeByTNode(tNode,lView);let dataValue,inputData=tNode.inputs;!nativeOnly&&null!=inputData&&(dataValue=inputData[propName])?(setInputsForProperty(tView,lView,dataValue,propName,value),isComponentHost(tNode)&&function markDirtyIfOnPush(lView,viewIndex){const childComponentLView=getComponentLViewByIndex(viewIndex,lView);16&childComponentLView[2]||(childComponentLView[2]|=64)}(lView,tNode.index)):3===tNode.type?(propName=function mapPropName(name){return"class"===name?"className":"for"===name?"htmlFor":"formaction"===name?"formAction":"innerHtml"===name?"innerHTML":"readonly"===name?"readOnly":"tabindex"===name?"tabIndex":name}(propName),value=null!=sanitizer?sanitizer(value,tNode.tagName||"",propName):value,isProceduralRenderer(renderer)?renderer.setProperty(element,propName,value):isAnimationProp(propName)||(element.setProperty?element.setProperty(propName,value):element[propName]=value)):tNode.type}function resolveDirectives(tView,lView,tNode,localRefs){let hasDirectives=!1;if(getBindingsEnabled()){const directiveDefs=function findDirectiveDefMatches(tView,viewData,tNode){const registry=tView.directiveRegistry;let matches=null;if(registry)for(let i=0;i<registry.length;i++){const def=registry[i];isNodeMatchingSelectorList(tNode,def.selectors,!1)&&(matches||(matches=[]),diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,viewData),tView,def.type),isComponentDef(def)?(2&tNode.flags&&throwMultipleComponentError(tNode),markAsComponentHost(tView,tNode),matches.unshift(def)):matches.push(def))}return matches}(tView,lView,tNode),exportsMap=null===localRefs?null:{"":-1};if(null!==directiveDefs){let totalDirectiveHostVars=0;hasDirectives=!0,initTNodeFlags(tNode,tView.data.length,directiveDefs.length);for(let i=0;i<directiveDefs.length;i++){const def=directiveDefs[i];def.providersResolver&&def.providersResolver(def)}generateExpandoInstructionBlock(tView,tNode,directiveDefs.length);let preOrderHooksFound=!1,preOrderCheckHooksFound=!1;for(let i=0;i<directiveDefs.length;i++){const def=directiveDefs[i];tNode.mergedAttrs=mergeHostAttrs(tNode.mergedAttrs,def.hostAttrs),baseResolveDirective(tView,lView,def),saveNameToExportMap(tView.data.length-1,def,exportsMap),null!==def.contentQueries&&(tNode.flags|=8),null===def.hostBindings&&null===def.hostAttrs&&0===def.hostVars||(tNode.flags|=128),!preOrderHooksFound&&(def.onChanges||def.onInit||def.doCheck)&&((tView.preOrderHooks||(tView.preOrderHooks=[])).push(tNode.index-19),preOrderHooksFound=!0),preOrderCheckHooksFound||!def.onChanges&&!def.doCheck||((tView.preOrderCheckHooks||(tView.preOrderCheckHooks=[])).push(tNode.index-19),preOrderCheckHooksFound=!0),addHostBindingsToExpandoInstructions(tView,def),totalDirectiveHostVars+=def.hostVars}!function initializeInputAndOutputAliases(tView,tNode){const start=tNode.directiveStart,end=tNode.directiveEnd,defs=tView.data,tNodeAttrs=tNode.attrs,inputsFromAttrs=[];let inputsStore=null,outputsStore=null;for(let i=start;i<end;i++){const directiveDef=defs[i],directiveInputs=directiveDef.inputs;inputsFromAttrs.push(null!==tNodeAttrs?generateInitialInputs(directiveInputs,tNodeAttrs):null),inputsStore=generatePropertyAliases(directiveInputs,i,inputsStore),outputsStore=generatePropertyAliases(directiveDef.outputs,i,outputsStore)}null!==inputsStore&&(inputsStore.hasOwnProperty("class")&&(tNode.flags|=16),inputsStore.hasOwnProperty("style")&&(tNode.flags|=32)),tNode.initialInputs=inputsFromAttrs,tNode.inputs=inputsStore,tNode.outputs=outputsStore}(tView,tNode),growHostVarsSpace(tView,lView,totalDirectiveHostVars)}exportsMap&&function cacheMatchingLocalNames(tNode,localRefs,exportsMap){if(localRefs){const localNames=tNode.localNames=[];for(let i=0;i<localRefs.length;i+=2){const index=exportsMap[localRefs[i+1]];if(null==index)throw new Error(`Export of name '${localRefs[i+1]}' not found!`);localNames.push(localRefs[i],index)}}}(tNode,localRefs,exportsMap)}return tNode.mergedAttrs=mergeHostAttrs(tNode.mergedAttrs,tNode.attrs),hasDirectives}function addHostBindingsToExpandoInstructions(tView,def){const expando=tView.expandoInstructions;expando.push(def.hostBindings),0!==def.hostVars&&expando.push(def.hostVars)}function growHostVarsSpace(tView,lView,count){for(let i=0;i<count;i++)lView.push(NO_CHANGE),tView.blueprint.push(NO_CHANGE),tView.data.push(null)}function invokeHostBindingsInCreationMode(def,directive){null!==def.hostBindings&&def.hostBindings(1,directive)}function generateExpandoInstructionBlock(tView,tNode,directiveCount){const elementIndex=19-tNode.index,providerStartIndex=65535&tNode.providerIndexes,providerCount=tView.data.length-providerStartIndex;(tView.expandoInstructions||(tView.expandoInstructions=[])).push(elementIndex,providerCount,directiveCount)}function markAsComponentHost(tView,hostTNode){hostTNode.flags|=2,(tView.components||(tView.components=[])).push(hostTNode.index)}function saveNameToExportMap(index,def,exportsMap){if(exportsMap){if(def.exportAs)for(let i=0;i<def.exportAs.length;i++)exportsMap[def.exportAs[i]]=index;isComponentDef(def)&&(exportsMap[""]=index)}}function initTNodeFlags(tNode,index,numberOfDirectives){tNode.flags|=1,tNode.directiveStart=index,tNode.directiveEnd=index+numberOfDirectives,tNode.providerIndexes=index}function baseResolveDirective(tView,viewData,def){tView.data.push(def);const directiveFactory=def.factory||(def.factory=getFactoryDef(def.type)),nodeInjectorFactory=new NodeInjectorFactory(directiveFactory,isComponentDef(def),null);tView.blueprint.push(nodeInjectorFactory),viewData.push(nodeInjectorFactory)}function addComponentLogic(lView,hostTNode,def){const native=getNativeByTNode(hostTNode,lView),tView=getOrCreateTComponentView(def),rendererFactory=lView[10],componentView=addToViewTree(lView,createLView(lView,tView,null,def.onPush?64:16,native,hostTNode,rendererFactory,rendererFactory.createRenderer(native,def)));lView[hostTNode.index]=componentView}function elementAttributeInternal(tNode,lView,name,value,sanitizer,namespace){const element=getNativeByTNode(tNode,lView),renderer=lView[11];if(null==value)isProceduralRenderer(renderer)?renderer.removeAttribute(element,name,namespace):element.removeAttribute(name);else{const strValue=null==sanitizer?renderStringify(value):sanitizer(value,tNode.tagName||"",name);isProceduralRenderer(renderer)?renderer.setAttribute(element,name,strValue,namespace):namespace?element.setAttributeNS(namespace,name,strValue):element.setAttribute(name,strValue)}}function setInputsFromAttrs(lView,directiveIndex,instance,def,tNode,initialInputData){const initialInputs=initialInputData[directiveIndex];if(null!==initialInputs){const setInput=def.setInput;for(let i=0;i<initialInputs.length;){const publicName=initialInputs[i++],privateName=initialInputs[i++],value=initialInputs[i++];null!==setInput?def.setInput(instance,value,publicName,privateName):instance[privateName]=value}}}function generateInitialInputs(inputs,attrs){let inputsToStore=null,i=0;for(;i<attrs.length;){const attrName=attrs[i];if(0!==attrName)if(5!==attrName){if("number"==typeof attrName)break;inputs.hasOwnProperty(attrName)&&(null===inputsToStore&&(inputsToStore=[]),inputsToStore.push(attrName,inputs[attrName],attrs[i+1])),i+=2}else i+=2;else i+=4}return inputsToStore}function createLContainer(hostNative,currentView,native,tNode){const lContainer=new Array(hostNative,!0,-2,currentView,null,null,tNode,native,null);return lContainer}function refreshTransplantedViews(lContainer,declaredComponentLView){const movedViews=lContainer[5];for(let i=0;i<movedViews.length;i++){const movedLView=movedViews[i],insertionLContainer=movedLView[3],insertedComponentLView=insertionLContainer[3][16];if(insertedComponentLView!==declaredComponentLView){if(0==(16&insertedComponentLView[2])){const movedTView=movedLView[1];refreshView(movedTView,movedLView,movedTView.template,movedLView[8])}}}}function refreshComponent(hostLView,componentHostIdx){const componentView=getComponentLViewByIndex(componentHostIdx,hostLView);if(viewAttachedToChangeDetector(componentView)&&80&componentView[2]){const componentTView=componentView[1];refreshView(componentTView,componentView,componentTView.template,componentView[8])}}function renderComponent(hostLView,componentHostIdx){const componentView=getComponentLViewByIndex(componentHostIdx,hostLView),componentTView=componentView[1];!function syncViewWithBlueprint(tView,lView){for(let i=lView.length;i<tView.blueprint.length;i++)lView.push(tView.blueprint[i])}(componentTView,componentView),renderView(componentTView,componentView,componentView[8])}function addToViewTree(lView,lViewOrLContainer){return lView[13]?lView[14][4]=lViewOrLContainer:lView[13]=lViewOrLContainer,lView[14]=lViewOrLContainer,lViewOrLContainer}function markViewDirty(lView){for(;lView;){lView[2]|=64;const parent=getLViewParent(lView);if(isRootView(lView)&&!parent)return lView;lView=parent}return null}function tickRootContext(rootContext){for(let i=0;i<rootContext.components.length;i++){const rootComponent=rootContext.components[i],lView=readPatchedLView(rootComponent),tView=lView[1];renderComponentOrTemplate(tView,lView,tView.template,rootComponent)}}function detectChangesInternal(tView,lView,context){const rendererFactory=lView[10];rendererFactory.begin&&rendererFactory.begin();try{refreshView(tView,lView,tView.template,context)}catch(error){throw handleError(lView,error),error}finally{rendererFactory.end&&rendererFactory.end()}}function detectChangesInRootView(lView){tickRootContext(lView[8])}function executeViewQueryFn(flags,viewQueryFn,component){setCurrentQueryIndex(0),viewQueryFn(flags,component)}const CLEAN_PROMISE=_CLEAN_PROMISE;function getLCleanup(view){return view[7]||(view[7]=[])}function getTViewCleanup(tView){return tView.cleanup||(tView.cleanup=[])}function loadComponentRenderer(tNode,lView){return function unwrapLView(value){for(;Array.isArray(value);){if("object"==typeof value[1])return value;value=value[0]}return null}(lView[tNode.index])[11]}function handleError(lView,error){const injector=lView[9],errorHandler=injector?injector.get(ErrorHandler,null):null;errorHandler&&errorHandler.handleError(error)}function setInputsForProperty(tView,lView,inputs,publicName,value){for(let i=0;i<inputs.length;){const index=inputs[i++],privateName=inputs[i++],instance=lView[index],def=tView.data[index];null!==def.setInput?def.setInput(instance,value,publicName,privateName):instance[privateName]=value}}function textBindingInternal(lView,index,value){const element=getNativeByIndex(index,lView),renderer=lView[11];isProceduralRenderer(renderer)?renderer.setValue(element,value):element.textContent=value}function getLContainer(tNode,embeddedView){const container=embeddedView[3];return-1===tNode.index?isLContainer(container)?container:null:container}function getContainerRenderParent(tViewNode,view){const container=getLContainer(tViewNode,view);return container?nativeParentNode(view[11],container[7]):null}function applyToElementOrContainer(action,renderer,parent,lNodeToHandle,beforeNode){if(null!=lNodeToHandle){let lContainer,isComponent=!1;isLContainer(lNodeToHandle)?lContainer=lNodeToHandle:isLView(lNodeToHandle)&&(isComponent=!0,lNodeToHandle=lNodeToHandle[0]);const rNode=unwrapRNode(lNodeToHandle);0===action&&null!==parent?null==beforeNode?nativeAppendChild(renderer,parent,rNode):nativeInsertBefore(renderer,parent,rNode,beforeNode||null):1===action&&null!==parent?nativeInsertBefore(renderer,parent,rNode,beforeNode||null):2===action?nativeRemoveNode(renderer,rNode,isComponent):3===action&&renderer.destroyNode(rNode),null!=lContainer&&function applyContainer(renderer,action,lContainer,renderParent,beforeNode){const anchor=lContainer[7],native=unwrapRNode(lContainer);anchor!==native&&applyToElementOrContainer(action,renderer,renderParent,anchor,beforeNode);for(let i=9;i<lContainer.length;i++){const lView=lContainer[i];applyView(lView[1],lView,renderer,action,renderParent,anchor)}}(renderer,action,lContainer,parent,beforeNode)}}function createTextNode(value,renderer){return isProceduralRenderer(renderer)?renderer.createText(value):renderer.createTextNode(value)}function addRemoveViewFromContainer(tView,lView,insertMode,beforeNode){const renderParent=getContainerRenderParent(tView.node,lView);if(renderParent){applyView(tView,lView,lView[11],insertMode?1:2,renderParent,beforeNode)}}function insertView(tView,lView,lContainer,index){const indexInContainer=9+index,containerLength=lContainer.length;index>0&&(lContainer[indexInContainer-1][4]=lView),index<containerLength-9?(lView[4]=lContainer[indexInContainer],addToArray(lContainer,9+index,lView)):(lContainer.push(lView),lView[4]=null),lView[3]=lContainer;const declarationLContainer=lView[17];null!==declarationLContainer&&lContainer!==declarationLContainer&&function trackMovedView(declarationContainer,lView){const movedViews=declarationContainer[5],insertedLContainer=lView[3];const insertedComponentLView=insertedLContainer[3][16];if(16!=(16&insertedComponentLView[2])){const declaredComponentLView=lView[16];declaredComponentLView!==insertedComponentLView&&(declarationContainer[2]|=1)}null===movedViews?declarationContainer[5]=[lView]:movedViews.push(lView)}(declarationLContainer,lView);const lQueries=lView[5];null!==lQueries&&lQueries.insertView(tView),lView[2]|=128}function detachMovedView(declarationContainer,lView){const movedViews=declarationContainer[5],declaredViewIndex=movedViews.indexOf(lView);movedViews.splice(declaredViewIndex,1)}function detachView(lContainer,removeIndex){if(lContainer.length<=9)return;const indexInContainer=9+removeIndex,viewToDetach=lContainer[indexInContainer];if(viewToDetach){const declarationLContainer=viewToDetach[17];null!==declarationLContainer&&declarationLContainer!==lContainer&&detachMovedView(declarationLContainer,viewToDetach),removeIndex>0&&(lContainer[indexInContainer-1][4]=viewToDetach[4]);const removedLView=removeFromArray(lContainer,9+removeIndex);addRemoveViewFromContainer(viewToDetach[1],viewToDetach,!1,null);const lQueries=removedLView[5];null!==lQueries&&lQueries.detachView(removedLView[1]),viewToDetach[3]=null,viewToDetach[4]=null,viewToDetach[2]&=-129}return viewToDetach}function removeView(lContainer,removeIndex){const detachedView=detachView(lContainer,removeIndex);detachedView&&destroyLView(detachedView[1],detachedView)}function destroyLView(tView,lView){if(!(256&lView[2])){const renderer=lView[11];isProceduralRenderer(renderer)&&renderer.destroyNode&&applyView(tView,lView,renderer,3,null,null),function destroyViewTree(rootView){let lViewOrLContainer=rootView[13];if(!lViewOrLContainer)return cleanUpView(rootView[1],rootView);for(;lViewOrLContainer;){let next=null;if(isLView(lViewOrLContainer))next=lViewOrLContainer[13];else{const firstView=lViewOrLContainer[9];firstView&&(next=firstView)}if(!next){for(;lViewOrLContainer&&!lViewOrLContainer[4]&&lViewOrLContainer!==rootView;)isLView(lViewOrLContainer)&&cleanUpView(lViewOrLContainer[1],lViewOrLContainer),lViewOrLContainer=getParentState(lViewOrLContainer,rootView);null===lViewOrLContainer&&(lViewOrLContainer=rootView),isLView(lViewOrLContainer)&&cleanUpView(lViewOrLContainer[1],lViewOrLContainer),next=lViewOrLContainer&&lViewOrLContainer[4]}lViewOrLContainer=next}}(lView)}}function getParentState(lViewOrLContainer,rootView){let tNode;return isLView(lViewOrLContainer)&&(tNode=lViewOrLContainer[6])&&2===tNode.type?getLContainer(tNode,lViewOrLContainer):lViewOrLContainer[3]===rootView?null:lViewOrLContainer[3]}function cleanUpView(tView,lView){if(!(256&lView[2])){lView[2]&=-129,lView[2]|=256,function executeOnDestroys(tView,lView){let destroyHooks;if(null!=tView&&null!=(destroyHooks=tView.destroyHooks))for(let i=0;i<destroyHooks.length;i+=2){const context=lView[destroyHooks[i]];context instanceof NodeInjectorFactory||destroyHooks[i+1].call(context)}}(tView,lView),function removeListeners(tView,lView){const tCleanup=tView.cleanup;if(null!==tCleanup){const lCleanup=lView[7];for(let i=0;i<tCleanup.length-1;i+=2)if("string"==typeof tCleanup[i]){const idxOrTargetGetter=tCleanup[i+1],target="function"==typeof idxOrTargetGetter?idxOrTargetGetter(lView):unwrapRNode(lView[idxOrTargetGetter]),listener=lCleanup[tCleanup[i+2]],useCaptureOrSubIdx=tCleanup[i+3];"boolean"==typeof useCaptureOrSubIdx?target.removeEventListener(tCleanup[i],listener,useCaptureOrSubIdx):useCaptureOrSubIdx>=0?lCleanup[useCaptureOrSubIdx]():lCleanup[-useCaptureOrSubIdx].unsubscribe(),i+=2}else{const context=lCleanup[tCleanup[i+1]];tCleanup[i].call(context)}lView[7]=null}}(tView,lView);const hostTNode=lView[6];hostTNode&&3===hostTNode.type&&isProceduralRenderer(lView[11])&&lView[11].destroy();const declarationContainer=lView[17];if(null!==declarationContainer&&isLContainer(lView[3])){declarationContainer!==lView[3]&&detachMovedView(declarationContainer,lView);const lQueries=lView[5];null!==lQueries&&lQueries.detachView(tView)}}}function getRenderParent(tView,tNode,currentView){let parentTNode=tNode.parent;for(;null!=parentTNode&&(4===parentTNode.type||5===parentTNode.type);)parentTNode=(tNode=parentTNode).parent;if(null==parentTNode){const hostTNode=currentView[6];return 2===hostTNode.type?getContainerRenderParent(hostTNode,currentView):currentView[0]}if(tNode&&5===tNode.type&&4&tNode.flags)return getNativeByTNode(tNode,currentView).parentNode;if(2&parentTNode.flags){const tData=tView.data,encapsulation=tData[tData[parentTNode.index].directiveStart].encapsulation;if(encapsulation!==ViewEncapsulation$1.ShadowDom&&encapsulation!==ViewEncapsulation$1.Native)return null}return(getNativeByTNode(parentTNode,currentView))}function nativeInsertBefore(renderer,parent,child,beforeNode){isProceduralRenderer(renderer)?renderer.insertBefore(parent,child,beforeNode):parent.insertBefore(child,beforeNode,!0)}function nativeAppendChild(renderer,parent,child){isProceduralRenderer(renderer)?renderer.appendChild(parent,child):parent.appendChild(child)}function nativeAppendOrInsertBefore(renderer,parent,child,beforeNode){null!==beforeNode?nativeInsertBefore(renderer,parent,child,beforeNode):nativeAppendChild(renderer,parent,child)}function nativeParentNode(renderer,node){return isProceduralRenderer(renderer)?renderer.parentNode(node):node.parentNode}function getNativeAnchorNode(parentTNode,lView){if(2===parentTNode.type){const lContainer=getLContainer(parentTNode,lView);return null===lContainer?null:getBeforeNodeForView(lContainer.indexOf(lView,9)-9,lContainer)}return 4===parentTNode.type||5===parentTNode.type?getNativeByTNode(parentTNode,lView):null}function appendChild(tView,lView,childEl,childTNode){const renderParent=getRenderParent(tView,childTNode,lView);if(null!=renderParent){const renderer=lView[11],anchorNode=getNativeAnchorNode(childTNode.parent||lView[6],lView);if(Array.isArray(childEl))for(let i=0;i<childEl.length;i++)nativeAppendOrInsertBefore(renderer,renderParent,childEl[i],anchorNode);else nativeAppendOrInsertBefore(renderer,renderParent,childEl,anchorNode)}}function getBeforeNodeForView(viewIndexInContainer,lContainer){const nextViewIndex=9+viewIndexInContainer+1;if(nextViewIndex<lContainer.length){const lView=lContainer[nextViewIndex],firstTNodeOfView=lView[1].firstChild;if(null!==firstTNodeOfView)return function getFirstNativeNode(lView,tNode){if(null!==tNode){const tNodeType=tNode.type;if(3===tNodeType)return getNativeByTNode(tNode,lView);if(0===tNodeType)return getBeforeNodeForView(-1,lView[tNode.index]);if(4===tNodeType||5===tNodeType){const elIcuContainerChild=tNode.child;if(null!==elIcuContainerChild)return getFirstNativeNode(lView,elIcuContainerChild);{const rNodeOrLContainer=lView[tNode.index];return isLContainer(rNodeOrLContainer)?getBeforeNodeForView(-1,rNodeOrLContainer):unwrapRNode(rNodeOrLContainer)}}{const componentView=lView[16],componentHost=componentView[6],parentView=getLViewParent(componentView),firstProjectedTNode=componentHost.projection[tNode.projection];return null!=firstProjectedTNode?getFirstNativeNode(parentView,firstProjectedTNode):getFirstNativeNode(lView,tNode.next)}}return null}(lView,firstTNodeOfView)}return lContainer[7]}function nativeRemoveNode(renderer,rNode,isHostElement){const nativeParent=nativeParentNode(renderer,rNode);nativeParent&&function nativeRemoveChild(renderer,parent,child,isHostElement){isProceduralRenderer(renderer)?renderer.removeChild(parent,child,isHostElement):parent.removeChild(child)}(renderer,nativeParent,rNode,isHostElement)}function applyNodes(renderer,action,tNode,lView,renderParent,beforeNode,isProjection){for(;null!=tNode;){const rawSlotValue=lView[tNode.index],tNodeType=tNode.type;isProjection&&0===action&&(rawSlotValue&&attachPatchData(unwrapRNode(rawSlotValue),lView),tNode.flags|=4),64!=(64&tNode.flags)&&(4===tNodeType||5===tNodeType?(applyNodes(renderer,action,tNode.child,lView,renderParent,beforeNode,!1),applyToElementOrContainer(action,renderer,renderParent,rawSlotValue,beforeNode)):1===tNodeType?applyProjectionRecursive(renderer,action,lView,tNode,renderParent,beforeNode):applyToElementOrContainer(action,renderer,renderParent,rawSlotValue,beforeNode)),tNode=isProjection?tNode.projectionNext:tNode.next}}function applyView(tView,lView,renderer,action,renderParent,beforeNode){applyNodes(renderer,action,tView.node.child,lView,renderParent,beforeNode,!1)}function applyProjection(tView,lView,tProjectionNode){applyProjectionRecursive(lView[11],0,lView,tProjectionNode,getRenderParent(tView,tProjectionNode,lView),getNativeAnchorNode(tProjectionNode.parent||lView[6],lView))}function applyProjectionRecursive(renderer,action,lView,tProjectionNode,renderParent,beforeNode){const componentLView=lView[16],nodeToProjectOrRNodes=componentLView[6].projection[tProjectionNode.projection];if(Array.isArray(nodeToProjectOrRNodes))for(let i=0;i<nodeToProjectOrRNodes.length;i++){applyToElementOrContainer(action,renderer,renderParent,nodeToProjectOrRNodes[i],beforeNode)}else{applyNodes(renderer,action,nodeToProjectOrRNodes,componentLView[3],renderParent,beforeNode,!0)}}function writeDirectStyle(renderer,element,newValue){isProceduralRenderer(renderer)?renderer.setAttribute(element,"style",newValue):element.style.cssText=newValue}function writeDirectClass(renderer,element,newValue){isProceduralRenderer(renderer)?""===newValue?renderer.removeAttribute(element,"class"):renderer.setAttribute(element,"class",newValue):element.className=newValue}class ViewRef{constructor(_lView,_cdRefInjectingView){this._lView=_lView,this._cdRefInjectingView=_cdRefInjectingView,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const lView=this._lView;if(null==lView[0]){const hostTView=lView[6];return function collectNativeNodes(tView,lView,tNode,result,isProjection=!1){for(;null!==tNode;){const lNode=lView[tNode.index];if(null!==lNode&&result.push(unwrapRNode(lNode)),isLContainer(lNode))for(let i=9;i<lNode.length;i++){const lViewInAContainer=lNode[i],lViewFirstChildTNode=lViewInAContainer[1].firstChild;null!==lViewFirstChildTNode&&collectNativeNodes(lViewInAContainer[1],lViewInAContainer,lViewFirstChildTNode,result)}const tNodeType=tNode.type;if(4===tNodeType||5===tNodeType)collectNativeNodes(tView,lView,tNode.child,result);else if(1===tNodeType){const componentView=lView[16],componentHost=componentView[6],parentView=getLViewParent(componentView);let firstProjectedNode=componentHost.projection[tNode.projection];null!==firstProjectedNode&&null!==parentView&&collectNativeNodes(parentView[1],parentView,firstProjectedNode,result,!0)}tNode=isProjection?tNode.projectionNext:tNode.next}return result}(lView[1],lView,hostTView.child,[])}return[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const index=this._viewContainerRef.indexOf(this);index>-1&&this._viewContainerRef.detach(index),this._viewContainerRef=null}destroyLView(this._lView[1],this._lView)}onDestroy(callback){!function storeCleanupFn(tView,lView,cleanupFn){getLCleanup(lView).push(cleanupFn),tView.firstCreatePass&&getTViewCleanup(tView).push(lView[7].length-1,null)}(this._lView[1],this._lView,callback)}markForCheck(){markViewDirty(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){detectChangesInternal(this._lView[1],this._lView,this.context)}checkNoChanges(){!function checkNoChangesInternal(tView,view,context){setCheckNoChangesMode(!0);try{detectChangesInternal(tView,view,context)}finally{setCheckNoChangesMode(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(vcRef){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=vcRef}detachFromAppRef(){this._appRef=null,function renderDetachView(tView,lView){applyView(tView,lView,lView[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(appRef){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=appRef}}class RootViewRef extends ViewRef{constructor(_view){super(_view),this._view=_view}detectChanges(){detectChangesInRootView(this._view)}checkNoChanges(){!function checkNoChangesInRootView(lView){setCheckNoChangesMode(!0);try{detectChangesInRootView(lView)}finally{setCheckNoChangesMode(!1)}}(this._view)}get context(){return null}}let R3ElementRef,R3TemplateRef,R3ViewContainerRef;function createElementRef(ElementRefToken,tNode,view){return R3ElementRef||(R3ElementRef=class extends ElementRefToken{}),new R3ElementRef(getNativeByTNode(tNode,view))}function createTemplateRef(TemplateRefToken,ElementRefToken,hostTNode,hostView){return R3TemplateRef||(R3TemplateRef=class extends TemplateRefToken{constructor(_declarationView,_declarationTContainer,elementRef){super(),this._declarationView=_declarationView,this._declarationTContainer=_declarationTContainer,this.elementRef=elementRef}createEmbeddedView(context){const embeddedTView=this._declarationTContainer.tViews,embeddedLView=createLView(this._declarationView,embeddedTView,context,16,null,embeddedTView.node),declarationLContainer=this._declarationView[this._declarationTContainer.index];embeddedLView[17]=declarationLContainer;const declarationViewLQueries=this._declarationView[5];null!==declarationViewLQueries&&(embeddedLView[5]=declarationViewLQueries.createEmbeddedView(embeddedTView)),renderView(embeddedTView,embeddedLView,context);const viewRef=new ViewRef(embeddedLView);return viewRef._tViewNode=embeddedLView[6],viewRef}}),0===hostTNode.type?new R3TemplateRef(hostView,hostTNode,createElementRef(ElementRefToken,hostTNode,hostView)):null}function createContainerRef(ViewContainerRefToken,ElementRefToken,hostTNode,hostView){let lContainer;R3ViewContainerRef||(R3ViewContainerRef=class extends ViewContainerRefToken{constructor(_lContainer,_hostTNode,_hostView){super(),this._lContainer=_lContainer,this._hostTNode=_hostTNode,this._hostView=_hostView}get element(){return createElementRef(ElementRefToken,this._hostTNode,this._hostView)}get injector(){return new NodeInjector(this._hostTNode,this._hostView)}get parentInjector(){const parentLocation=getParentInjectorLocation(this._hostTNode,this._hostView),parentView=getParentInjectorView(parentLocation,this._hostView),parentTNode=function getParentInjectorTNode(location,startView,startTNode){if(startTNode.parent&&-1!==startTNode.parent.injectorIndex){const injectorIndex=startTNode.parent.injectorIndex;let tNode=startTNode.parent;for(;null!=tNode.parent&&injectorIndex==tNode.parent.injectorIndex;)tNode=tNode.parent;return tNode}let viewOffset=getParentInjectorViewOffset(location),parentView=startView,parentTNode=startView[6];for(;viewOffset>1;)parentView=parentView[15],parentTNode=parentView[6],viewOffset--;return parentTNode}(parentLocation,this._hostView,this._hostTNode);return hasParentInjector(parentLocation)&&null!=parentTNode?new NodeInjector(parentTNode,parentView):new NodeInjector(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(index){return null!==this._lContainer[8]&&this._lContainer[8][index]||null}get length(){return this._lContainer.length-9}createEmbeddedView(templateRef,context,index){const viewRef=templateRef.createEmbeddedView(context||{});return this.insert(viewRef,index),viewRef}createComponent(componentFactory,index,injector,projectableNodes,ngModuleRef){const contextInjector=injector||this.parentInjector;if(!ngModuleRef&&null==componentFactory.ngModule&&contextInjector){const result=contextInjector.get(NgModuleRef,null);result&&(ngModuleRef=result)}const componentRef=componentFactory.create(contextInjector,projectableNodes,void 0,ngModuleRef);return this.insert(componentRef.hostView,index),componentRef}insert(viewRef,index){const lView=viewRef._lView,tView=lView[1];if(viewRef.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),function viewAttachedToContainer(view){return isLContainer(view[3])}(lView)){const prevIdx=this.indexOf(viewRef);if(-1!==prevIdx)this.detach(prevIdx);else{const prevLContainer=lView[3],prevVCRef=new R3ViewContainerRef(prevLContainer,prevLContainer[6],prevLContainer[3]);prevVCRef.detach(prevVCRef.indexOf(viewRef))}}const adjustedIdx=this._adjustIndex(index);return insertView(tView,lView,this._lContainer,adjustedIdx),addRemoveViewFromContainer(tView,lView,!0,getBeforeNodeForView(adjustedIdx,this._lContainer)),viewRef.attachToViewContainerRef(this),addToArray(this._lContainer[8],adjustedIdx,viewRef),viewRef}move(viewRef,newIndex){if(viewRef.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(viewRef,newIndex)}indexOf(viewRef){const viewRefsArr=this._lContainer[8];return null!==viewRefsArr?viewRefsArr.indexOf(viewRef):-1}remove(index){this.allocateContainerIfNeeded();const adjustedIdx=this._adjustIndex(index,-1);removeView(this._lContainer,adjustedIdx),removeFromArray(this._lContainer[8],adjustedIdx)}detach(index){this.allocateContainerIfNeeded();const adjustedIdx=this._adjustIndex(index,-1),view=detachView(this._lContainer,adjustedIdx);return view&&null!=removeFromArray(this._lContainer[8],adjustedIdx)?new ViewRef(view):null}_adjustIndex(index,shift=0){return null==index?this.length+shift:index}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const slotValue=hostView[hostTNode.index];if(isLContainer(slotValue))lContainer=slotValue,function setLContainerActiveIndex(lContainer,index){lContainer[2]=index<<1}(lContainer,-1);else{let commentNode;if(4===hostTNode.type)commentNode=unwrapRNode(slotValue);else if(commentNode=hostView[11].createComment(""),isRootView(hostView)){const renderer=hostView[11],hostNative=getNativeByTNode(hostTNode,hostView);nativeInsertBefore(renderer,nativeParentNode(renderer,hostNative),commentNode,function nativeNextSibling(renderer,node){return isProceduralRenderer(renderer)?renderer.nextSibling(node):node.nextSibling}(renderer,hostNative))}else appendChild(hostView[1],hostView,commentNode,hostTNode);hostView[hostTNode.index]=lContainer=createLContainer(slotValue,hostView,commentNode,hostTNode),addToViewTree(hostView,lContainer)}return new R3ViewContainerRef(lContainer,hostTNode,hostView)}function injectChangeDetectorRef(isPipe=!1){return function createViewRef(tNode,lView,isPipe){if(!isPipe&&isComponentHost(tNode)){const componentView=getComponentLViewByIndex(tNode.index,lView);return new ViewRef(componentView,componentView)}if(3===tNode.type||0===tNode.type||4===tNode.type||5===tNode.type){const hostComponentView=lView[16];return new ViewRef(hostComponentView,lView)}return(null)}(getPreviousOrParentTNode(),getLView(),isPipe)}class ChangeDetectorRef{}ChangeDetectorRef.__NG_ELEMENT_ID__=()=>SWITCH_CHANGE_DETECTOR_REF_FACTORY();const SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__=injectChangeDetectorRef,SWITCH_CHANGE_DETECTOR_REF_FACTORY=SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__,Type=Function;function isType(v){return"function"==typeof v}const DELEGATE_CTOR=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,INHERITED_CLASS=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,INHERITED_CLASS_WITH_CTOR=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,INHERITED_CLASS_WITH_DELEGATE_CTOR=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/;class ReflectionCapabilities{constructor(reflect){this._reflect=reflect||_global.Reflect}isReflectionEnabled(){return!0}factory(t){return(...args)=>new t(...args)}_zipTypesAndAnnotations(paramTypes,paramAnnotations){let result;result=newArray(void 0===paramTypes?paramAnnotations.length:paramTypes.length);for(let i=0;i<result.length;i++)void 0===paramTypes?result[i]=[]:paramTypes[i]&&paramTypes[i]!=Object?result[i]=[paramTypes[i]]:result[i]=[],paramAnnotations&&null!=paramAnnotations[i]&&(result[i]=result[i].concat(paramAnnotations[i]));return result}_ownParameters(type,parentCtor){if(function isDelegateCtor(typeStr){return DELEGATE_CTOR.test(typeStr)||INHERITED_CLASS_WITH_DELEGATE_CTOR.test(typeStr)||INHERITED_CLASS.test(typeStr)&&!INHERITED_CLASS_WITH_CTOR.test(typeStr)}(type.toString()))return null;if(type.parameters&&type.parameters!==parentCtor.parameters)return type.parameters;const tsickleCtorParams=type.ctorParameters;if(tsickleCtorParams&&tsickleCtorParams!==parentCtor.ctorParameters){const ctorParameters="function"==typeof tsickleCtorParams?tsickleCtorParams():tsickleCtorParams,paramTypes=ctorParameters.map(ctorParam=>ctorParam&&ctorParam.type),paramAnnotations=ctorParameters.map(ctorParam=>ctorParam&&convertTsickleDecoratorIntoMetadata(ctorParam.decorators));return this._zipTypesAndAnnotations(paramTypes,paramAnnotations)}const paramAnnotations=type.hasOwnProperty(PARAMETERS)&&type[PARAMETERS],paramTypes=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",type);return paramTypes||paramAnnotations?this._zipTypesAndAnnotations(paramTypes,paramAnnotations):newArray(type.length)}parameters(type){if(!isType(type))return[];const parentCtor=getParentCtor(type);let parameters=this._ownParameters(type,parentCtor);return parameters||parentCtor===Object||(parameters=this.parameters(parentCtor)),parameters||[]}_ownAnnotations(typeOrFunc,parentCtor){if(typeOrFunc.annotations&&typeOrFunc.annotations!==parentCtor.annotations){let annotations=typeOrFunc.annotations;return"function"==typeof annotations&&annotations.annotations&&(annotations=annotations.annotations),annotations}return typeOrFunc.decorators&&typeOrFunc.decorators!==parentCtor.decorators?convertTsickleDecoratorIntoMetadata(typeOrFunc.decorators):typeOrFunc.hasOwnProperty(ANNOTATIONS)?typeOrFunc[ANNOTATIONS]:null}annotations(typeOrFunc){if(!isType(typeOrFunc))return[];const parentCtor=getParentCtor(typeOrFunc),ownAnnotations=this._ownAnnotations(typeOrFunc,parentCtor)||[];return(parentCtor!==Object?this.annotations(parentCtor):[]).concat(ownAnnotations)}_ownPropMetadata(typeOrFunc,parentCtor){if(typeOrFunc.propMetadata&&typeOrFunc.propMetadata!==parentCtor.propMetadata){let propMetadata=typeOrFunc.propMetadata;return"function"==typeof propMetadata&&propMetadata.propMetadata&&(propMetadata=propMetadata.propMetadata),propMetadata}if(typeOrFunc.propDecorators&&typeOrFunc.propDecorators!==parentCtor.propDecorators){const propDecorators=typeOrFunc.propDecorators,propMetadata={};return Object.keys(propDecorators).forEach(prop=>{propMetadata[prop]=convertTsickleDecoratorIntoMetadata(propDecorators[prop])}),propMetadata}return typeOrFunc.hasOwnProperty(PROP_METADATA)?typeOrFunc[PROP_METADATA]:null}propMetadata(typeOrFunc){if(!isType(typeOrFunc))return{};const parentCtor=getParentCtor(typeOrFunc),propMetadata={};if(parentCtor!==Object){const parentPropMetadata=this.propMetadata(parentCtor);Object.keys(parentPropMetadata).forEach(propName=>{propMetadata[propName]=parentPropMetadata[propName]})}const ownPropMetadata=this._ownPropMetadata(typeOrFunc,parentCtor);return ownPropMetadata&&Object.keys(ownPropMetadata).forEach(propName=>{const decorators=[];propMetadata.hasOwnProperty(propName)&&decorators.push(...propMetadata[propName]),decorators.push(...ownPropMetadata[propName]),propMetadata[propName]=decorators}),propMetadata}ownPropMetadata(typeOrFunc){return isType(typeOrFunc)&&this._ownPropMetadata(typeOrFunc,getParentCtor(typeOrFunc))||{}}hasLifecycleHook(type,lcProperty){return type instanceof Type&&lcProperty in type.prototype}guards(type){return{}}getter(name){return new Function("o","return o."+name+";")}setter(name){return new Function("o","v","return o."+name+" = v;")}method(name){return new Function("o","args",`if (!o.${name}) throw new Error('"${name}" is undefined');\n        return o.${name}.apply(o, args);`)}importUri(type){return"object"==typeof type&&type.filePath?type.filePath:`./${stringify(type)}`}resourceUri(type){return`./${stringify(type)}`}resolveIdentifier(name,moduleUrl,members,runtime){return runtime}resolveEnum(enumIdentifier,name){return enumIdentifier[name]}}function convertTsickleDecoratorIntoMetadata(decoratorInvocations){return decoratorInvocations?decoratorInvocations.map(decoratorInvocation=>new(0,decoratorInvocation.type.annotationCls)(...decoratorInvocation.args?decoratorInvocation.args:[])):[]}function getParentCtor(ctor){const parentProto=ctor.prototype?Object.getPrototypeOf(ctor.prototype):null;return(parentProto?parentProto.constructor:null)||Object}let _reflect=null;function getReflect(){return _reflect=_reflect||new ReflectionCapabilities}function reflectDependencies(type){return convertDependencies(getReflect().parameters(type))}function convertDependencies(deps){const compiler=getCompilerFacade();return deps.map(dep=>function reflectDependency(compiler,dep){const meta={token:null,host:!1,optional:!1,resolved:compiler.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function setTokenAndResolvedType(token){meta.resolved=compiler.R3ResolvedDependencyType.Token,meta.token=token}if(Array.isArray(dep)&&dep.length>0)for(let j=0;j<dep.length;j++){const param=dep[j];if(void 0===param)continue;const proto=Object.getPrototypeOf(param);if(param instanceof Optional||"Optional"===proto.ngMetadataName)meta.optional=!0;else if(param instanceof SkipSelf||"SkipSelf"===proto.ngMetadataName)meta.skipSelf=!0;else if(param instanceof Self||"Self"===proto.ngMetadataName)meta.self=!0;else if(param instanceof Host||"Host"===proto.ngMetadataName)meta.host=!0;else if(param instanceof Inject)meta.token=param.token;else if(param instanceof Attribute){if(void 0===param.attributeName)throw new Error("Attribute name must be defined.");meta.token=param.attributeName,meta.resolved=compiler.R3ResolvedDependencyType.Attribute}else param===ChangeDetectorRef?(meta.token=param,meta.resolved=compiler.R3ResolvedDependencyType.ChangeDetectorRef):setTokenAndResolvedType(param)}else void 0===dep||Array.isArray(dep)&&0===dep.length?(meta.token=void 0,meta.resolved=R3ResolvedDependencyType.Invalid):setTokenAndResolvedType(dep);return meta}(compiler,dep))}const USE_VALUE$1=getClosureSafeProperty({provide:String,useValue:getClosureSafeProperty});function isUseClassProvider(meta){return void 0!==meta.useClass}function isUseFactoryProvider(meta){return void 0!==meta.useFactory}function getInjectableMetadata(type,srcMeta){const meta=srcMeta||{providedIn:null},compilerMeta={name:type.name,type:type,typeArgumentCount:0,providedIn:meta.providedIn,userDeps:void 0};return(isUseClassProvider(meta)||isUseFactoryProvider(meta))&&void 0!==meta.deps&&(compilerMeta.userDeps=convertDependencies(meta.deps)),isUseClassProvider(meta)?compilerMeta.useClass=resolveForwardRef(meta.useClass):!function isUseValueProvider(meta){return USE_VALUE$1 in meta}(meta)?isUseFactoryProvider(meta)?compilerMeta.useFactory=meta.useFactory:function isUseExistingProvider(meta){return void 0!==meta.useExisting}(meta)&&(compilerMeta.useExisting=resolveForwardRef(meta.useExisting)):compilerMeta.useValue=resolveForwardRef(meta.useValue),compilerMeta}getClosureSafeProperty({provide:String,useValue:getClosureSafeProperty});const Injectable=makeDecorator("Injectable",void 0,void 0,void 0,(type,meta)=>SWITCH_COMPILE_INJECTABLE(type,meta));const SWITCH_COMPILE_INJECTABLE__POST_R3__=function compileInjectable(type,srcMeta){let ngInjectableDef=null,ngFactoryDef=null;type.hasOwnProperty(NG_PROV_DEF)||(Object.defineProperty(type,NG_PROV_DEF,{get:()=>(null===ngInjectableDef&&(ngInjectableDef=getCompilerFacade().compileInjectable(angularCoreDiEnv,`ng:///${type.name}/\u0275prov.js`,getInjectableMetadata(type,srcMeta))),ngInjectableDef)}),type.hasOwnProperty(NG_PROV_DEF_FALLBACK)||(type[NG_PROV_DEF_FALLBACK]=()=>type[NG_PROV_DEF])),type.hasOwnProperty(NG_FACTORY_DEF)||Object.defineProperty(type,NG_FACTORY_DEF,{get:()=>{if(null===ngFactoryDef){const metadata=getInjectableMetadata(type,srcMeta),compiler=getCompilerFacade();ngFactoryDef=compiler.compileFactory(angularCoreDiEnv,`ng:///${type.name}/\u0275fac.js`,{name:metadata.name,type:metadata.type,typeArgumentCount:metadata.typeArgumentCount,deps:reflectDependencies(type),injectFn:"inject",target:compiler.R3FactoryTarget.Injectable})}return ngFactoryDef},configurable:!0})},SWITCH_COMPILE_INJECTABLE=SWITCH_COMPILE_INJECTABLE__POST_R3__,INJECTOR_SCOPE=new InjectionToken("Set Injector scope."),NOT_YET={},CIRCULAR={},EMPTY_ARRAY$2=[];let NULL_INJECTOR=void 0;function getNullInjector(){return void 0===NULL_INJECTOR&&(NULL_INJECTOR=new NullInjector),NULL_INJECTOR}function createInjector(defType,parent=null,additionalProviders=null,name){const injector=createInjectorWithoutInjectorInstances(defType,parent,additionalProviders,name);return injector._resolveInjectorDefTypes(),injector}function createInjectorWithoutInjectorInstances(defType,parent=null,additionalProviders=null,name){return new R3Injector(defType,additionalProviders,parent||getNullInjector(),name)}class R3Injector{constructor(def,additionalProviders,parent,source=null){this.parent=parent,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const dedupStack=[];additionalProviders&&deepForEach(additionalProviders,provider=>this.processProvider(provider,def,additionalProviders)),deepForEach([def],injectorDef=>this.processInjectorType(injectorDef,[],dedupStack)),this.records.set(INJECTOR,makeRecord(void 0,this));const record=this.records.get(INJECTOR_SCOPE);this.scope=null!=record?record.value:null,this.source=source||("object"==typeof def?null:stringify(def))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(service=>service.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(token,notFoundValue=THROW_IF_NOT_FOUND,flags=InjectFlags.Default){this.assertNotDestroyed();const previousInjector=setCurrentInjector(this);try{if(!(flags&InjectFlags.SkipSelf)){let record=this.records.get(token);if(void 0===record){const def=function couldBeInjectableType(value){return"function"==typeof value||"object"==typeof value&&value instanceof InjectionToken}(token)&&getInjectableDef(token);record=def&&this.injectableDefInScope(def)?makeRecord(injectableDefOrInjectorDefFactory(token),NOT_YET):null,this.records.set(token,record)}if(null!=record)return this.hydrate(token,record)}const nextInjector=flags&InjectFlags.Self?getNullInjector():this.parent;return notFoundValue=flags&InjectFlags.Optional&&notFoundValue===THROW_IF_NOT_FOUND?null:notFoundValue,nextInjector.get(token,notFoundValue)}catch(e){if("NullInjectorError"===e.name){if((e.ngTempTokenPath=e.ngTempTokenPath||[]).unshift(stringify(token)),previousInjector)throw e;return catchInjectorError(e,token,"R3InjectorError",this.source)}throw e}finally{setCurrentInjector(previousInjector)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(defType=>this.get(defType))}toString(){const tokens=[];return this.records.forEach((v,token)=>tokens.push(stringify(token))),`R3Injector[${tokens.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(defOrWrappedDef,parents,dedupStack){if(!(defOrWrappedDef=resolveForwardRef(defOrWrappedDef)))return!1;let def=getInjectorDef(defOrWrappedDef);const ngModule=null==def&&defOrWrappedDef.ngModule||void 0,defType=void 0===ngModule?defOrWrappedDef:ngModule;const isDuplicate=-1!==dedupStack.indexOf(defType);if(void 0!==ngModule&&(def=getInjectorDef(ngModule)),null==def)return!1;if(null!=def.imports&&!isDuplicate){let importTypesWithProviders;dedupStack.push(defType);try{deepForEach(def.imports,imported=>{this.processInjectorType(imported,parents,dedupStack)&&(void 0===importTypesWithProviders&&(importTypesWithProviders=[]),importTypesWithProviders.push(imported))})}finally{}if(void 0!==importTypesWithProviders)for(let i=0;i<importTypesWithProviders.length;i++){const{ngModule:ngModule,providers:providers}=importTypesWithProviders[i];deepForEach(providers,provider=>this.processProvider(provider,ngModule,providers||EMPTY_ARRAY$2))}}this.injectorDefTypes.add(defType),this.records.set(defType,makeRecord(def.factory,NOT_YET));const defProviders=def.providers;if(null!=defProviders&&!isDuplicate){const injectorType=defOrWrappedDef;deepForEach(defProviders,provider=>this.processProvider(provider,injectorType,defProviders))}return void 0!==ngModule&&void 0!==defOrWrappedDef.providers}processProvider(provider,ngModuleType,providers){let token=isTypeProvider(provider=resolveForwardRef(provider))?provider:resolveForwardRef(provider&&provider.provide);const record=function providerToRecord(provider,ngModuleType,providers){if(isValueProvider(provider))return makeRecord(void 0,provider.useValue);return makeRecord(providerToFactory(provider,ngModuleType,providers),NOT_YET)}(provider,ngModuleType,providers);if(isTypeProvider(provider)||!0!==provider.multi){const existing=this.records.get(token);existing&&void 0!==existing.multi&&throwMixedMultiProviderError()}else{let multiRecord=this.records.get(token);multiRecord?void 0===multiRecord.multi&&throwMixedMultiProviderError():(multiRecord=makeRecord(void 0,NOT_YET,!0),multiRecord.factory=()=>injectArgs(multiRecord.multi),this.records.set(token,multiRecord)),token=provider,multiRecord.multi.push(provider)}this.records.set(token,record)}hydrate(token,record){return record.value===CIRCULAR?function throwCyclicDependencyError(token){throw new Error(`Cannot instantiate cyclic dependency! ${token}`)}(stringify(token)):record.value===NOT_YET&&(record.value=CIRCULAR,record.value=record.factory()),"object"==typeof record.value&&record.value&&function hasOnDestroy(value){return null!==value&&"object"==typeof value&&"function"==typeof value.ngOnDestroy}(record.value)&&this.onDestroy.add(record.value),record.value}injectableDefInScope(def){return!!def.providedIn&&("string"==typeof def.providedIn?"any"===def.providedIn||def.providedIn===this.scope:this.injectorDefTypes.has(def.providedIn))}}function injectableDefOrInjectorDefFactory(token){const injectableDef=getInjectableDef(token),factory=null!==injectableDef?injectableDef.factory:getFactoryDef(token);if(null!==factory)return factory;const injectorDef=getInjectorDef(token);if(null!==injectorDef)return injectorDef.factory;if(token instanceof InjectionToken)throw new Error(`Token ${stringify(token)} is missing a \u0275prov definition.`);if(token instanceof Function)return function getUndecoratedInjectableFactory(token){const paramLength=token.length;if(paramLength>0){const args=newArray(paramLength,"?");throw new Error(`Can't resolve all parameters for ${stringify(token)}: (${args.join(", ")}).`)}const inheritedInjectableDef=function getInheritedInjectableDef(type){const def=type&&(type[NG_PROV_DEF]||type[NG_INJECTABLE_DEF]||type[NG_PROV_DEF_FALLBACK]&&type[NG_PROV_DEF_FALLBACK]());if(def){const typeName=function getTypeName(type){if(type.hasOwnProperty("name"))return type.name;const match=(""+type).match(/^function\s*([^\s(]+)/);return null===match?"":match[1]}(type);return console.warn(`DEPRECATED: DI is instantiating a token "${typeName}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${typeName}" class.`),def}return null}(token);return null!==inheritedInjectableDef?()=>inheritedInjectableDef.factory(token):()=>new token}(token);throw new Error("unreachable")}function providerToFactory(provider,ngModuleType,providers){let factory=void 0;if(isTypeProvider(provider)){const unwrappedProvider=resolveForwardRef(provider);return getFactoryDef(unwrappedProvider)||injectableDefOrInjectorDefFactory(unwrappedProvider)}if(isValueProvider(provider))factory=()=>resolveForwardRef(provider.useValue);else if(function isFactoryProvider(value){return!(!value||!value.useFactory)}(provider))factory=()=>provider.useFactory(...injectArgs(provider.deps||[]));else if(function isExistingProvider(value){return!(!value||!value.useExisting)}(provider))factory=()=>\u0275\u0275inject(resolveForwardRef(provider.useExisting));else{const classRef=resolveForwardRef(provider&&(provider.useClass||provider.provide));if(classRef||function throwInvalidProviderError(ngModuleType,providers,provider){let ngModuleDetail="";if(ngModuleType&&providers){ngModuleDetail=` - only instances of Provider and Type are allowed, got: [${providers.map(v=>v==provider?"?"+provider+"?":"...").join(", ")}]`}throw new Error(`Invalid provider for the NgModule '${stringify(ngModuleType)}'`+ngModuleDetail)}(ngModuleType,providers,provider),!function hasDeps(value){return!!value.deps}(provider))return getFactoryDef(classRef)||injectableDefOrInjectorDefFactory(classRef);factory=()=>new classRef(...injectArgs(provider.deps))}return factory}function makeRecord(factory,value,multi=!1){return{factory:factory,value:value,multi:multi?[]:void 0}}function isValueProvider(value){return null!==value&&"object"==typeof value&&USE_VALUE in value}function isTypeProvider(value){return"function"==typeof value}function INJECTOR_IMPL__POST_R3__(providers,parent,name){return createInjector({name:name},parent,providers,name)}const INJECTOR_IMPL=INJECTOR_IMPL__POST_R3__;class Injector{static create(options,parent){return Array.isArray(options)?INJECTOR_IMPL(options,parent,""):INJECTOR_IMPL(options.providers,options.parent,options.name||"")}}Injector.THROW_IF_NOT_FOUND=THROW_IF_NOT_FOUND,Injector.NULL=new NullInjector,Injector.\u0275prov=\u0275\u0275defineInjectable({token:Injector,providedIn:"any",factory:()=>\u0275\u0275inject(INJECTOR)}),Injector.__NG_ELEMENT_ID__=-1;function constructResolvingPath(keys){if(keys.length>1){return" ("+function findFirstClosedCycle(keys){const res=[];for(let i=0;i<keys.length;++i){if(res.indexOf(keys[i])>-1)return res.push(keys[i]),res;res.push(keys[i])}return res}(keys.slice().reverse()).map(k=>stringify(k.token)).join(" -> ")+")"}return""}function injectionError(injector,key,constructResolvingMessage,originalError){const keys=[key],errMsg=constructResolvingMessage(keys),error=originalError?function wrappedError(message,originalError){const msg=`${message} caused by: ${originalError instanceof Error?originalError.message:originalError}`,error=Error(msg);return error.ngOriginalError=originalError,error}(errMsg,originalError):Error(errMsg);return error.addKey=addKey,error.keys=keys,error.injectors=[injector],error.constructResolvingMessage=constructResolvingMessage,error.ngOriginalError=originalError,error}function addKey(injector,key){this.injectors.push(injector),this.keys.push(key),this.message=this.constructResolvingMessage(this.keys)}function noAnnotationError(typeOrFunc,params){const signature=[];for(let i=0,ii=params.length;i<ii;i++){const parameter=params[i];parameter&&0!=parameter.length?signature.push(parameter.map(stringify).join(" ")):signature.push("?")}return Error("Cannot resolve all parameters for '"+stringify(typeOrFunc)+"'("+signature.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+stringify(typeOrFunc)+"' is decorated with Injectable.")}class ReflectiveKey{constructor(token,id){if(this.token=token,this.id=id,!token)throw new Error("Token must be defined!");this.displayName=stringify(this.token)}static get(token){return _globalKeyRegistry.get(resolveForwardRef(token))}static get numberOfKeys(){return _globalKeyRegistry.numberOfKeys}}const _globalKeyRegistry=new class{constructor(){this._allKeys=new Map}get(token){if(token instanceof ReflectiveKey)return token;if(this._allKeys.has(token))return this._allKeys.get(token);const newKey=new ReflectiveKey(token,ReflectiveKey.numberOfKeys);return this._allKeys.set(token,newKey),newKey}get numberOfKeys(){return this._allKeys.size}};const reflector=new class{constructor(reflectionCapabilities){this.reflectionCapabilities=reflectionCapabilities}updateCapabilities(caps){this.reflectionCapabilities=caps}factory(type){return this.reflectionCapabilities.factory(type)}parameters(typeOrFunc){return this.reflectionCapabilities.parameters(typeOrFunc)}annotations(typeOrFunc){return this.reflectionCapabilities.annotations(typeOrFunc)}propMetadata(typeOrFunc){return this.reflectionCapabilities.propMetadata(typeOrFunc)}hasLifecycleHook(type,lcProperty){return this.reflectionCapabilities.hasLifecycleHook(type,lcProperty)}getter(name){return this.reflectionCapabilities.getter(name)}setter(name){return this.reflectionCapabilities.setter(name)}method(name){return this.reflectionCapabilities.method(name)}importUri(type){return this.reflectionCapabilities.importUri(type)}resourceUri(type){return this.reflectionCapabilities.resourceUri(type)}resolveIdentifier(name,moduleUrl,members,runtime){return this.reflectionCapabilities.resolveIdentifier(name,moduleUrl,members,runtime)}resolveEnum(identifier,name){return this.reflectionCapabilities.resolveEnum(identifier,name)}}(new ReflectionCapabilities);class ReflectiveDependency{constructor(key,optional,visibility){this.key=key,this.optional=optional,this.visibility=visibility}static fromKey(key){return new ReflectiveDependency(key,!1,null)}}const _EMPTY_LIST=[];class ResolvedReflectiveProvider_{constructor(key,resolvedFactories,multiProvider){this.key=key,this.resolvedFactories=resolvedFactories,this.multiProvider=multiProvider,this.resolvedFactory=this.resolvedFactories[0]}}class ResolvedReflectiveFactory{constructor(factory,dependencies){this.factory=factory,this.dependencies=dependencies}}function resolveReflectiveFactory(provider){let factoryFn,resolvedDeps;if(provider.useClass){const useClass=resolveForwardRef(provider.useClass);factoryFn=reflector.factory(useClass),resolvedDeps=_dependenciesFor(useClass)}else provider.useExisting?(factoryFn=aliasInstance=>aliasInstance,resolvedDeps=[ReflectiveDependency.fromKey(ReflectiveKey.get(provider.useExisting))]):provider.useFactory?(factoryFn=provider.useFactory,resolvedDeps=function constructDependencies(typeOrFunc,dependencies){if(dependencies){const params=dependencies.map(t=>[t]);return dependencies.map(t=>_extractToken(typeOrFunc,t,params))}return _dependenciesFor(typeOrFunc)}(provider.useFactory,provider.deps)):(factoryFn=()=>provider.useValue,resolvedDeps=_EMPTY_LIST);return new ResolvedReflectiveFactory(factoryFn,resolvedDeps)}function resolveReflectiveProvider(provider){return new ResolvedReflectiveProvider_(ReflectiveKey.get(provider.provide),[resolveReflectiveFactory(provider)],provider.multi||!1)}function resolveReflectiveProviders(providers){const resolvedProviderMap=function mergeResolvedReflectiveProviders(providers,normalizedProvidersMap){for(let i=0;i<providers.length;i++){const provider=providers[i],existing=normalizedProvidersMap.get(provider.key.id);if(existing){if(provider.multiProvider!==existing.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${existing} ${provider}`);if(provider.multiProvider)for(let j=0;j<provider.resolvedFactories.length;j++)existing.resolvedFactories.push(provider.resolvedFactories[j]);else normalizedProvidersMap.set(provider.key.id,provider)}else{let resolvedProvider;resolvedProvider=provider.multiProvider?new ResolvedReflectiveProvider_(provider.key,provider.resolvedFactories.slice(),provider.multiProvider):provider,normalizedProvidersMap.set(provider.key.id,resolvedProvider)}}return normalizedProvidersMap}(function _normalizeProviders(providers,res){return providers.forEach(b=>{if(b instanceof Type)res.push({provide:b,useClass:b});else if(b&&"object"==typeof b&&void 0!==b.provide)res.push(b);else{if(!Array.isArray(b))throw function invalidProviderError(provider){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${provider}`)}(b);_normalizeProviders(b,res)}}),res}(providers,[]).map(resolveReflectiveProvider),new Map);return Array.from(resolvedProviderMap.values())}function _dependenciesFor(typeOrFunc){const params=reflector.parameters(typeOrFunc);if(!params)return[];if(params.some(p=>null==p))throw noAnnotationError(typeOrFunc,params);return params.map(p=>_extractToken(typeOrFunc,p,params))}function _extractToken(typeOrFunc,metadata,params){let token=null,optional=!1;if(!Array.isArray(metadata))return _createDependency(metadata instanceof Inject?metadata.token:metadata,optional,null);let visibility=null;for(let i=0;i<metadata.length;++i){const paramMetadata=metadata[i];paramMetadata instanceof Type?token=paramMetadata:paramMetadata instanceof Inject?token=paramMetadata.token:paramMetadata instanceof Optional?optional=!0:paramMetadata instanceof Self||paramMetadata instanceof SkipSelf?visibility=paramMetadata:paramMetadata instanceof InjectionToken&&(token=paramMetadata)}if(token=resolveForwardRef(token),null!=token)return _createDependency(token,optional,visibility);throw noAnnotationError(typeOrFunc,params)}function _createDependency(token,optional,visibility){return new ReflectiveDependency(ReflectiveKey.get(token),optional,visibility)}const UNDEFINED={};class ReflectiveInjector{static resolve(providers){return resolveReflectiveProviders(providers)}static resolveAndCreate(providers,parent){const ResolvedReflectiveProviders=ReflectiveInjector.resolve(providers);return ReflectiveInjector.fromResolvedProviders(ResolvedReflectiveProviders,parent)}static fromResolvedProviders(providers,parent){return new ReflectiveInjector_(providers,parent)}}class ReflectiveInjector_{constructor(_providers,_parent){this._constructionCounter=0,this._providers=_providers,this.parent=_parent||null;const len=_providers.length;this.keyIds=[],this.objs=[];for(let i=0;i<len;i++)this.keyIds[i]=_providers[i].key.id,this.objs[i]=UNDEFINED}get(token,notFoundValue=THROW_IF_NOT_FOUND){return this._getByKey(ReflectiveKey.get(token),null,notFoundValue)}resolveAndCreateChild(providers){const ResolvedReflectiveProviders=ReflectiveInjector.resolve(providers);return this.createChildFromResolved(ResolvedReflectiveProviders)}createChildFromResolved(providers){const inj=new ReflectiveInjector_(providers);return inj.parent=this,inj}resolveAndInstantiate(provider){return this.instantiateResolved(ReflectiveInjector.resolve([provider])[0])}instantiateResolved(provider){return this._instantiateProvider(provider)}getProviderAtIndex(index){if(index<0||index>=this._providers.length)throw function outOfBoundsError(index){return Error(`Index ${index} is out-of-bounds.`)}(index);return this._providers[index]}_new(provider){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function cyclicDependencyError(injector,key){return injectionError(injector,key,(function(keys){return`Cannot instantiate cyclic dependency!${constructResolvingPath(keys)}`}))}(this,provider.key);return this._instantiateProvider(provider)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(provider){if(provider.multiProvider){const res=[];for(let i=0;i<provider.resolvedFactories.length;++i)res[i]=this._instantiate(provider,provider.resolvedFactories[i]);return res}return this._instantiate(provider,provider.resolvedFactories[0])}_instantiate(provider,ResolvedReflectiveFactory){const factory=ResolvedReflectiveFactory.factory;let deps,obj;try{deps=ResolvedReflectiveFactory.dependencies.map(dep=>this._getByReflectiveDependency(dep))}catch(e){throw e.addKey&&e.addKey(this,provider.key),e}try{obj=factory(...deps)}catch(e){throw function instantiationError(injector,originalException,originalStack,key){return injectionError(injector,key,(function(keys){const first=stringify(keys[0].token);return`${originalException.message}: Error during instantiation of ${first}!${constructResolvingPath(keys)}.`}),originalException)}(this,e,e.stack,provider.key)}return obj}_getByReflectiveDependency(dep){return this._getByKey(dep.key,dep.visibility,dep.optional?null:THROW_IF_NOT_FOUND)}_getByKey(key,visibility,notFoundValue){return key===ReflectiveInjector_.INJECTOR_KEY?this:visibility instanceof Self?this._getByKeySelf(key,notFoundValue):this._getByKeyDefault(key,notFoundValue,visibility)}_getObjByKeyId(keyId){for(let i=0;i<this.keyIds.length;i++)if(this.keyIds[i]===keyId)return this.objs[i]===UNDEFINED&&(this.objs[i]=this._new(this._providers[i])),this.objs[i];return UNDEFINED}_throwOrNull(key,notFoundValue){if(notFoundValue!==THROW_IF_NOT_FOUND)return notFoundValue;throw function noProviderError(injector,key){return injectionError(injector,key,(function(keys){return`No provider for ${stringify(keys[0].token)}!${constructResolvingPath(keys)}`}))}(this,key)}_getByKeySelf(key,notFoundValue){const obj=this._getObjByKeyId(key.id);return obj!==UNDEFINED?obj:this._throwOrNull(key,notFoundValue)}_getByKeyDefault(key,notFoundValue,visibility){let inj;for(inj=visibility instanceof SkipSelf?this.parent:this;inj instanceof ReflectiveInjector_;){const inj_=inj,obj=inj_._getObjByKeyId(key.id);if(obj!==UNDEFINED)return obj;inj=inj_.parent}return null!==inj?inj.get(key.token,notFoundValue):this._throwOrNull(key,notFoundValue)}get displayName(){return`ReflectiveInjector(providers: [${function _mapProviders(injector,fn){const res=[];for(let i=0;i<injector._providers.length;++i)res[i]=fn(injector.getProviderAtIndex(i));return res}(this,b=>' "'+b.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}ReflectiveInjector_.INJECTOR_KEY=ReflectiveKey.get(Injector);const ANALYZE_FOR_ENTRY_COMPONENTS=new InjectionToken("AnalyzeForEntryComponents");class Query{}const ContentChildren=makePropDecorator("ContentChildren",(selector,data={})=>Object.assign({selector:selector,first:!1,isViewQuery:!1,descendants:!1},data),Query);const ContentChild=makePropDecorator("ContentChild",(selector,data={})=>Object.assign({selector:selector,first:!0,isViewQuery:!1,descendants:!0},data),Query);const ViewChildren=makePropDecorator("ViewChildren",(selector,data={})=>Object.assign({selector:selector,first:!1,isViewQuery:!0,descendants:!0},data),Query);const ViewChild=makePropDecorator("ViewChild",(selector,data)=>Object.assign({selector:selector,first:!0,isViewQuery:!0,descendants:!0},data),Query);function resolveComponentResources(resourceResolver){const componentResolved=[],urlMap=new Map;function cachedResourceResolve(url){let promise=urlMap.get(url);if(!promise){const resp=resourceResolver(url);urlMap.set(url,promise=resp.then(unwrapResponse))}return promise}return componentResourceResolutionQueue.forEach((component,type)=>{const promises=[];component.templateUrl&&promises.push(cachedResourceResolve(component.templateUrl).then(template=>{component.template=template}));const styleUrls=component.styleUrls,styles=component.styles||(component.styles=[]),styleOffset=component.styles.length;styleUrls&&styleUrls.forEach((styleUrl,index)=>{styles.push(""),promises.push(cachedResourceResolve(styleUrl).then(style=>{styles[styleOffset+index]=style,styleUrls.splice(styleUrls.indexOf(styleUrl),1),0==styleUrls.length&&(component.styleUrls=void 0)}))});const fullyResolved=Promise.all(promises).then(()=>function componentDefResolved(type){componentDefPendingResolution.delete(type)}(type));componentResolved.push(fullyResolved)}),clearResolutionOfComponentResourcesQueue(),Promise.all(componentResolved).then(()=>{})}let componentResourceResolutionQueue=new Map;const componentDefPendingResolution=new Set;function componentNeedsResolution(component){return!!(component.templateUrl&&!component.hasOwnProperty("template")||component.styleUrls&&component.styleUrls.length)}function clearResolutionOfComponentResourcesQueue(){const old=componentResourceResolutionQueue;return componentResourceResolutionQueue=new Map,old}function unwrapResponse(response){return"string"==typeof response?response:response.text()}function computeStaticStyling(tNode,attrs){let styles=tNode.styles,classes=tNode.classes,mode=0;for(let i=0;i<attrs.length;i++){const value=attrs[i];if("number"==typeof value)mode=value;else if(1==mode)classes=concatStringsWithSpace(classes,value);else if(2==mode){styles=concatStringsWithSpace(styles,value+": "+attrs[++i]+";")}}null!==styles&&(tNode.styles=styles),null!==classes&&(tNode.classes=classes)}let _symbolIterator=null;function getSymbolIterator(){if(!_symbolIterator){const Symbol=_global.Symbol;if(Symbol&&Symbol.iterator)_symbolIterator=Symbol.iterator;else{const keys=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<keys.length;++i){const key=keys[i];"entries"!==key&&"size"!==key&&Map.prototype[key]===Map.prototype.entries&&(_symbolIterator=key)}}}return _symbolIterator}function looseIdentical(a,b){return a===b||"number"==typeof a&&"number"==typeof b&&isNaN(a)&&isNaN(b)}function devModeEqual$1(a,b){const isListLikeIterableA=isListLikeIterable$1(a),isListLikeIterableB=isListLikeIterable$1(b);if(isListLikeIterableA&&isListLikeIterableB)return function areIterablesEqual$1(a,b,comparator){const iterator1=a[getSymbolIterator()](),iterator2=b[getSymbolIterator()]();for(;;){const item1=iterator1.next(),item2=iterator2.next();if(item1.done&&item2.done)return!0;if(item1.done||item2.done)return!1;if(!comparator(item1.value,item2.value))return!1}}(a,b,devModeEqual$1);{const isAObject=a&&("object"==typeof a||"function"==typeof a),isBObject=b&&("object"==typeof b||"function"==typeof b);return!(isListLikeIterableA||!isAObject||isListLikeIterableB||!isBObject)||looseIdentical(a,b)}}class WrappedValue{constructor(value){this.wrapped=value}static wrap(value){return new WrappedValue(value)}static unwrap(value){return WrappedValue.isWrapped(value)?value.wrapped:value}static isWrapped(value){return value instanceof WrappedValue}}function isListLikeIterable$1(obj){return!!isJsObject$1(obj)&&(Array.isArray(obj)||!(obj instanceof Map)&&getSymbolIterator()in obj)}function isJsObject$1(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function updateBinding(lView,bindingIndex,value){return lView[bindingIndex]=value}function getBinding(lView,bindingIndex){return lView[bindingIndex]}function bindingUpdated(lView,bindingIndex,value){const oldValue=lView[bindingIndex];return!Object.is(oldValue,value)&&(lView[bindingIndex]=value,!0)}function bindingUpdated2(lView,bindingIndex,exp1,exp2){const different=bindingUpdated(lView,bindingIndex,exp1);return bindingUpdated(lView,bindingIndex+1,exp2)||different}function bindingUpdated3(lView,bindingIndex,exp1,exp2,exp3){const different=bindingUpdated2(lView,bindingIndex,exp1,exp2);return bindingUpdated(lView,bindingIndex+2,exp3)||different}function bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4){const different=bindingUpdated2(lView,bindingIndex,exp1,exp2);return bindingUpdated2(lView,bindingIndex+2,exp3,exp4)||different}function \u0275\u0275attribute(name,value,sanitizer,namespace){const lView=getLView(),bindingIndex=nextBindingIndex();if(bindingUpdated(lView,bindingIndex,value)){getTView();const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,name,value,sanitizer,namespace)}return \u0275\u0275attribute}function interpolationV(lView,values){let isBindingUpdated=!1,bindingIndex=getBindingIndex();for(let i=1;i<values.length;i+=2)isBindingUpdated=bindingUpdated(lView,bindingIndex++,values[i])||isBindingUpdated;if(setBindingIndex(bindingIndex),!isBindingUpdated)return NO_CHANGE;let content=values[0];for(let i=1;i<values.length;i+=2)content+=renderStringify(values[i])+values[i+1];return content}function interpolation1(lView,prefix,v0,suffix){return bindingUpdated(lView,nextBindingIndex(),v0)?prefix+renderStringify(v0)+suffix:NO_CHANGE}function interpolation2(lView,prefix,v0,i0,v1,suffix){const different=bindingUpdated2(lView,getBindingIndex(),v0,v1);return incrementBindingIndex(2),different?prefix+renderStringify(v0)+i0+renderStringify(v1)+suffix:NO_CHANGE}function interpolation3(lView,prefix,v0,i0,v1,i1,v2,suffix){const different=bindingUpdated3(lView,getBindingIndex(),v0,v1,v2);return incrementBindingIndex(3),different?prefix+renderStringify(v0)+i0+renderStringify(v1)+i1+renderStringify(v2)+suffix:NO_CHANGE}function interpolation4(lView,prefix,v0,i0,v1,i1,v2,i2,v3,suffix){const different=bindingUpdated4(lView,getBindingIndex(),v0,v1,v2,v3);return incrementBindingIndex(4),different?prefix+renderStringify(v0)+i0+renderStringify(v1)+i1+renderStringify(v2)+i2+renderStringify(v3)+suffix:NO_CHANGE}function interpolation5(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix){const bindingIndex=getBindingIndex();let different=bindingUpdated4(lView,bindingIndex,v0,v1,v2,v3);return different=bindingUpdated(lView,bindingIndex+4,v4)||different,incrementBindingIndex(5),different?prefix+renderStringify(v0)+i0+renderStringify(v1)+i1+renderStringify(v2)+i2+renderStringify(v3)+i3+renderStringify(v4)+suffix:NO_CHANGE}function interpolation6(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix){const bindingIndex=getBindingIndex();let different=bindingUpdated4(lView,bindingIndex,v0,v1,v2,v3);return different=bindingUpdated2(lView,bindingIndex+4,v4,v5)||different,incrementBindingIndex(6),different?prefix+renderStringify(v0)+i0+renderStringify(v1)+i1+renderStringify(v2)+i2+renderStringify(v3)+i3+renderStringify(v4)+i4+renderStringify(v5)+suffix:NO_CHANGE}function interpolation7(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix){const bindingIndex=getBindingIndex();let different=bindingUpdated4(lView,bindingIndex,v0,v1,v2,v3);return different=bindingUpdated3(lView,bindingIndex+4,v4,v5,v6)||different,incrementBindingIndex(7),different?prefix+renderStringify(v0)+i0+renderStringify(v1)+i1+renderStringify(v2)+i2+renderStringify(v3)+i3+renderStringify(v4)+i4+renderStringify(v5)+i5+renderStringify(v6)+suffix:NO_CHANGE}function interpolation8(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix){const bindingIndex=getBindingIndex();let different=bindingUpdated4(lView,bindingIndex,v0,v1,v2,v3);return different=bindingUpdated4(lView,bindingIndex+4,v4,v5,v6,v7)||different,incrementBindingIndex(8),different?prefix+renderStringify(v0)+i0+renderStringify(v1)+i1+renderStringify(v2)+i2+renderStringify(v3)+i3+renderStringify(v4)+i4+renderStringify(v5)+i5+renderStringify(v6)+i6+renderStringify(v7)+suffix:NO_CHANGE}function \u0275\u0275attributeInterpolate1(attrName,prefix,v0,suffix,sanitizer,namespace){const lView=getLView(),interpolatedValue=interpolation1(lView,prefix,v0,suffix);if(interpolatedValue!==NO_CHANGE){const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,attrName,interpolatedValue,sanitizer,namespace)}return \u0275\u0275attributeInterpolate1}function \u0275\u0275attributeInterpolate2(attrName,prefix,v0,i0,v1,suffix,sanitizer,namespace){const lView=getLView(),interpolatedValue=interpolation2(lView,prefix,v0,i0,v1,suffix);if(interpolatedValue!==NO_CHANGE){const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,attrName,interpolatedValue,sanitizer,namespace)}return \u0275\u0275attributeInterpolate2}function \u0275\u0275attributeInterpolate3(attrName,prefix,v0,i0,v1,i1,v2,suffix,sanitizer,namespace){const lView=getLView(),interpolatedValue=interpolation3(lView,prefix,v0,i0,v1,i1,v2,suffix);if(interpolatedValue!==NO_CHANGE){const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,attrName,interpolatedValue,sanitizer,namespace)}return \u0275\u0275attributeInterpolate3}function \u0275\u0275attributeInterpolate4(attrName,prefix,v0,i0,v1,i1,v2,i2,v3,suffix,sanitizer,namespace){const lView=getLView(),interpolatedValue=interpolation4(lView,prefix,v0,i0,v1,i1,v2,i2,v3,suffix);if(interpolatedValue!==NO_CHANGE){const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,attrName,interpolatedValue,sanitizer,namespace)}return \u0275\u0275attributeInterpolate4}function \u0275\u0275attributeInterpolate5(attrName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix,sanitizer,namespace){const lView=getLView(),interpolatedValue=interpolation5(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix);if(interpolatedValue!==NO_CHANGE){const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,attrName,interpolatedValue,sanitizer,namespace)}return \u0275\u0275attributeInterpolate5}function \u0275\u0275attributeInterpolate6(attrName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix,sanitizer,namespace){const lView=getLView(),interpolatedValue=interpolation6(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix);if(interpolatedValue!==NO_CHANGE){const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,attrName,interpolatedValue,sanitizer,namespace)}return \u0275\u0275attributeInterpolate6}function \u0275\u0275attributeInterpolate7(attrName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix,sanitizer,namespace){const lView=getLView(),interpolatedValue=interpolation7(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix);if(interpolatedValue!==NO_CHANGE){const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,attrName,interpolatedValue,sanitizer,namespace)}return \u0275\u0275attributeInterpolate7}function \u0275\u0275attributeInterpolate8(attrName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix,sanitizer,namespace){const lView=getLView(),interpolatedValue=interpolation8(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix);if(interpolatedValue!==NO_CHANGE){const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,attrName,interpolatedValue,sanitizer,namespace)}return \u0275\u0275attributeInterpolate8}function \u0275\u0275attributeInterpolateV(attrName,values,sanitizer,namespace){const lView=getLView(),interpolated=interpolationV(lView,values);if(interpolated!==NO_CHANGE){const tNode=getSelectedTNode();elementAttributeInternal(tNode,lView,attrName,interpolated,sanitizer,namespace)}return \u0275\u0275attributeInterpolateV}function detectChanges(component){const view=getComponentViewByInstance(component);detectChangesInternal(view[1],view,component)}function markDirty(component){const rootView=markViewDirty(getComponentViewByInstance(component));!function scheduleTick(rootContext,flags){const nothingScheduled=0===rootContext.flags;if(rootContext.flags|=flags,nothingScheduled&&rootContext.clean==_CLEAN_PROMISE){let res;rootContext.clean=new Promise(r=>res=r),rootContext.scheduler(()=>{if(1&rootContext.flags&&(rootContext.flags&=-2,tickRootContext(rootContext)),2&rootContext.flags){rootContext.flags&=-3;const playerHandler=rootContext.playerHandler;playerHandler&&playerHandler.flushPlayers()}rootContext.clean=_CLEAN_PROMISE,res(null)})}}(rootView[8],1)}function \u0275\u0275container(index){const lView=getLView(),tView=getTView(),tNode=function containerInternal(tView,lView,nodeIndex,tagName,attrs){const adjustedIndex=nodeIndex+19;const comment=lView[adjustedIndex]=lView[11].createComment(""),tNode=getOrCreateTNode(tView,lView[6],nodeIndex,0,tagName,attrs),lContainer=lView[adjustedIndex]=createLContainer(comment,lView,comment,tNode);return appendChild(tView,lView,comment,tNode),attachPatchData(comment,lView),addToViewTree(lView,lContainer),tNode}(tView,lView,index,null,null);tView.firstCreatePass&&(tNode.tViews=[]),setIsNotParent()}function \u0275\u0275template(index,templateFn,decls,vars,tagName,attrsIndex,localRefsIndex,localRefExtractor){const lView=getLView(),tView=getTView(),adjustedIndex=index+19,tNode=tView.firstCreatePass?function templateFirstCreatePass(index,tView,lView,templateFn,decls,vars,tagName,attrsIndex,localRefsIndex){const tViewConsts=tView.consts,tNode=getOrCreateTNode(tView,lView[6],index,0,tagName||null,getConstant(tViewConsts,attrsIndex));resolveDirectives(tView,lView,tNode,getConstant(tViewConsts,localRefsIndex)),registerPostOrderHooks(tView,tNode);const embeddedTView=tNode.tViews=createTView(2,-1,templateFn,decls,vars,tView.directiveRegistry,tView.pipeRegistry,null,tView.schemas,tViewConsts),embeddedTViewNode=createTNode(0,null,2,-1,null,null);return embeddedTViewNode.injectorIndex=tNode.injectorIndex,embeddedTView.node=embeddedTViewNode,null!==tView.queries&&(tView.queries.template(tView,tNode),embeddedTView.queries=tView.queries.embeddedTView(tNode)),tNode}(index,tView,lView,templateFn,decls,vars,tagName,attrsIndex,localRefsIndex):tView.data[adjustedIndex];setPreviousOrParentTNode(tNode,!1);const comment=lView[11].createComment("");appendChild(tView,lView,comment,tNode),attachPatchData(comment,lView),addToViewTree(lView,lView[adjustedIndex]=createLContainer(comment,lView,comment,tNode)),isDirectiveHost(tNode)&&createDirectivesInstances(tView,lView,tNode),null!=localRefsIndex&&saveResolvedLocalsInData(lView,tNode,localRefExtractor)}function \u0275\u0275containerRefreshStart(index){const lView=getLView(),tView=getTView();let previousOrParentTNode=load(tView.data,index);if(setPreviousOrParentTNode(previousOrParentTNode,!0),lView[index+19][2]=0,!getCheckNoChangesMode()){if(3==(3&lView[2])){const preOrderCheckHooks=tView.preOrderCheckHooks;null!==preOrderCheckHooks&&executeCheckHooks(lView,preOrderCheckHooks,null)}else{const preOrderHooks=tView.preOrderHooks;null!==preOrderHooks&&executeInitAndCheckHooks(lView,preOrderHooks,0,null),incrementInitPhaseFlags(lView,0)}}}function \u0275\u0275containerRefreshEnd(){let previousOrParentTNode=getPreviousOrParentTNode();getIsParent()?setIsNotParent():(previousOrParentTNode=previousOrParentTNode.parent,setPreviousOrParentTNode(previousOrParentTNode,!1));const lContainer=getLView()[previousOrParentTNode.index],nextIndex=getLContainerActiveIndex(lContainer);for(;nextIndex<lContainer.length-9;)removeView(lContainer,nextIndex)}function store(tView,lView,index,value){const adjustedIndex=index+19;adjustedIndex>=tView.data.length&&(tView.data[adjustedIndex]=null,tView.blueprint[adjustedIndex]=null),lView[adjustedIndex]=value}function \u0275\u0275reference(index){return load(function getContextLView(){return instructionState.lFrame.contextLView}(),index)}function \u0275\u0275directiveInject(token,flags=InjectFlags.Default){const lView=getLView();return null==lView?\u0275\u0275inject(token,flags):getOrCreateInjectable(getPreviousOrParentTNode(),lView,resolveForwardRef(token),flags)}function \u0275\u0275injectAttribute(attrNameToInject){return injectAttributeImpl(getPreviousOrParentTNode(),attrNameToInject)}function \u0275\u0275invalidFactory(){throw new Error("invalid")}function \u0275\u0275property(propName,value,sanitizer){const lView=getLView(),bindingIndex=nextBindingIndex();if(bindingUpdated(lView,bindingIndex,value)){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,value,lView[11],sanitizer,!1)}return \u0275\u0275property}function setDirectiveInputsWhichShadowsStyling(tView,tNode,lView,value,isClassBased){const property=isClassBased?"class":"style";setInputsForProperty(tView,lView,tNode.inputs[property],property,value)}function elementStartFirstCreatePass(index,tView,lView,native,name,attrsIndex,localRefsIndex){const tViewConsts=tView.consts,attrs=getConstant(tViewConsts,attrsIndex),tNode=getOrCreateTNode(tView,lView[6],index,3,name,attrs);resolveDirectives(tView,lView,tNode,getConstant(tViewConsts,localRefsIndex));return null!==tNode.mergedAttrs&&computeStaticStyling(tNode,tNode.mergedAttrs),null!==tView.queries&&tView.queries.elementStart(tView,tNode),tNode}function \u0275\u0275elementStart(index,name,attrsIndex,localRefsIndex){const lView=getLView(),tView=getTView(),adjustedIndex=19+index,renderer=lView[11],native=lView[adjustedIndex]=elementCreate(name,renderer,function getNamespace(){return instructionState.lFrame.currentNamespace}()),tNode=tView.firstCreatePass?elementStartFirstCreatePass(index,tView,lView,0,name,attrsIndex,localRefsIndex):tView.data[adjustedIndex];setPreviousOrParentTNode(tNode,!0);const mergedAttrs=tNode.mergedAttrs;null!==mergedAttrs&&setUpAttributes(renderer,native,mergedAttrs);const classes=tNode.classes;null!==classes&&writeDirectClass(renderer,native,classes);const styles=tNode.styles;null!==styles&&writeDirectStyle(renderer,native,styles),appendChild(tView,lView,native,tNode),0===function getElementDepthCount(){return instructionState.lFrame.elementDepthCount}()&&attachPatchData(native,lView),function increaseElementDepthCount(){instructionState.lFrame.elementDepthCount++}(),isDirectiveHost(tNode)&&(createDirectivesInstances(tView,lView,tNode),executeContentQueries(tView,tNode,lView)),null!==localRefsIndex&&saveResolvedLocalsInData(lView,tNode)}function \u0275\u0275elementEnd(){let previousOrParentTNode=getPreviousOrParentTNode();getIsParent()?setIsNotParent():(previousOrParentTNode=previousOrParentTNode.parent,setPreviousOrParentTNode(previousOrParentTNode,!1));const tNode=previousOrParentTNode;!function decreaseElementDepthCount(){instructionState.lFrame.elementDepthCount--}();const tView=getTView();tView.firstCreatePass&&(registerPostOrderHooks(tView,previousOrParentTNode),isContentQueryHost(previousOrParentTNode)&&tView.queries.elementEnd(previousOrParentTNode)),null!==tNode.classes&&function hasClassInput(tNode){return 0!=(16&tNode.flags)}(tNode)&&setDirectiveInputsWhichShadowsStyling(tView,tNode,getLView(),tNode.classes,!0),null!==tNode.styles&&function hasStyleInput(tNode){return 0!=(32&tNode.flags)}(tNode)&&setDirectiveInputsWhichShadowsStyling(tView,tNode,getLView(),tNode.styles,!1)}function \u0275\u0275element(index,name,attrsIndex,localRefsIndex){\u0275\u0275elementStart(index,name,attrsIndex,localRefsIndex),\u0275\u0275elementEnd()}function \u0275\u0275elementContainerStart(index,attrsIndex,localRefsIndex){const lView=getLView(),tView=getTView(),adjustedIndex=index+19,tNode=tView.firstCreatePass?function elementContainerStartFirstCreatePass(index,tView,lView,attrsIndex,localRefsIndex){const tViewConsts=tView.consts,attrs=getConstant(tViewConsts,attrsIndex),tNode=getOrCreateTNode(tView,lView[6],index,4,"ng-container",attrs);return null!==attrs&&computeStaticStyling(tNode,attrs),resolveDirectives(tView,lView,tNode,getConstant(tViewConsts,localRefsIndex)),null!==tView.queries&&tView.queries.elementStart(tView,tNode),tNode}(index,tView,lView,attrsIndex,localRefsIndex):tView.data[adjustedIndex];setPreviousOrParentTNode(tNode,!0);const native=lView[adjustedIndex]=lView[11].createComment("");appendChild(tView,lView,native,tNode),attachPatchData(native,lView),isDirectiveHost(tNode)&&(createDirectivesInstances(tView,lView,tNode),executeContentQueries(tView,tNode,lView)),null!=localRefsIndex&&saveResolvedLocalsInData(lView,tNode)}function \u0275\u0275elementContainerEnd(){let previousOrParentTNode=getPreviousOrParentTNode();const tView=getTView();getIsParent()?setIsNotParent():(previousOrParentTNode=previousOrParentTNode.parent,setPreviousOrParentTNode(previousOrParentTNode,!1)),tView.firstCreatePass&&(registerPostOrderHooks(tView,previousOrParentTNode),isContentQueryHost(previousOrParentTNode)&&tView.queries.elementEnd(previousOrParentTNode))}function \u0275\u0275elementContainer(index,attrsIndex,localRefsIndex){\u0275\u0275elementContainerStart(index,attrsIndex,localRefsIndex),\u0275\u0275elementContainerEnd()}function \u0275\u0275embeddedViewStart(viewBlockId,decls,vars){const lView=getLView(),previousOrParentTNode=getPreviousOrParentTNode(),containerTNode=2===previousOrParentTNode.type?previousOrParentTNode.parent:previousOrParentTNode,lContainer=lView[containerTNode.index];let viewToRender=function scanForView(lContainer,startIdx,viewBlockId){for(let i=startIdx+9;i<lContainer.length;i++){const viewAtPositionId=lContainer[i][1].id;if(viewAtPositionId===viewBlockId)return lContainer[i];if(!(viewAtPositionId<viewBlockId))break;removeView(lContainer,i-9)}return null}(lContainer,getLContainerActiveIndex(lContainer),viewBlockId);if(viewToRender)!function setIsParent(){instructionState.lFrame.isParent=!0}(),enterView(viewToRender,viewToRender[1].node);else{viewToRender=createLView(lView,function getOrCreateEmbeddedTView(viewIndex,decls,vars,parent){const tView=getLView()[1];const containerTViews=parent.tViews;(viewIndex>=containerTViews.length||null==containerTViews[viewIndex])&&(containerTViews[viewIndex]=createTView(2,viewIndex,null,decls,vars,tView.directiveRegistry,tView.pipeRegistry,null,null,tView.consts));return containerTViews[viewIndex]}(viewBlockId,decls,vars,containerTNode),null,16,null,null);const tParentNode=getIsParent()?previousOrParentTNode:previousOrParentTNode&&previousOrParentTNode.parent;assignTViewNodeToLView(viewToRender[1],tParentNode,viewBlockId,viewToRender),enterView(viewToRender,viewToRender[1].node)}return lContainer&&(isCreationMode(viewToRender)&&insertView(viewToRender[1],viewToRender,lContainer,getLContainerActiveIndex(lContainer)),lContainer[2]+=2),isCreationMode(viewToRender)?3:2}function \u0275\u0275embeddedViewEnd(){const lView=getLView(),tView=getTView(),viewHost=lView[6],context=lView[8];isCreationMode(lView)&&renderView(tView,lView,context),refreshView(tView,lView,tView.template,context);lView[3];leaveView(),setPreviousOrParentTNode(viewHost,!1)}function \u0275\u0275getCurrentView(){return getLView()}function isPromise(obj){return!!obj&&"function"==typeof obj.then}function isObservable(obj){return!!obj&&"function"==typeof obj.subscribe}function \u0275\u0275listener(eventName,listenerFn,useCapture=!1,eventTargetResolver){const lView=getLView(),tView=getTView(),tNode=getPreviousOrParentTNode();return listenerInternal(tView,lView,lView[11],tNode,eventName,listenerFn,useCapture,eventTargetResolver),\u0275\u0275listener}function \u0275\u0275componentHostSyntheticListener(eventName,listenerFn,useCapture=!1,eventTargetResolver){const tNode=getPreviousOrParentTNode(),lView=getLView(),renderer=loadComponentRenderer(tNode,lView);return listenerInternal(getTView(),lView,renderer,tNode,eventName,listenerFn,useCapture,eventTargetResolver),\u0275\u0275componentHostSyntheticListener}function listenerInternal(tView,lView,renderer,tNode,eventName,listenerFn,useCapture=!1,eventTargetResolver){const isTNodeDirectiveHost=isDirectiveHost(tNode),tCleanup=tView.firstCreatePass&&(tView.cleanup||(tView.cleanup=[])),lCleanup=getLCleanup(lView);let processOutputs=!0;if(3===tNode.type){const native=getNativeByTNode(tNode,lView),resolved=eventTargetResolver?eventTargetResolver(native):EMPTY_OBJ,target=resolved.target||native,lCleanupIndex=lCleanup.length,idxOrTargetGetter=eventTargetResolver?_lView=>eventTargetResolver(unwrapRNode(_lView[tNode.index])).target:tNode.index;if(isProceduralRenderer(renderer)){let existingListener=null;if(!eventTargetResolver&&isTNodeDirectiveHost&&(existingListener=function findExistingListener(tView,lView,eventName,tNodeIdx){const tCleanup=tView.cleanup;if(null!=tCleanup)for(let i=0;i<tCleanup.length-1;i+=2){const cleanupEventName=tCleanup[i];if(cleanupEventName===eventName&&tCleanup[i+1]===tNodeIdx){const lCleanup=lView[7],listenerIdxInLCleanup=tCleanup[i+2];return lCleanup.length>listenerIdxInLCleanup?lCleanup[listenerIdxInLCleanup]:null}"string"==typeof cleanupEventName&&(i+=2)}return null}(tView,lView,eventName,tNode.index)),null!==existingListener){(existingListener.__ngLastListenerFn__||existingListener).__ngNextListenerFn__=listenerFn,existingListener.__ngLastListenerFn__=listenerFn,processOutputs=!1}else{listenerFn=wrapListener(tNode,lView,listenerFn,!1);const cleanupFn=renderer.listen(resolved.name||target,eventName,listenerFn);lCleanup.push(listenerFn,cleanupFn),tCleanup&&tCleanup.push(eventName,idxOrTargetGetter,lCleanupIndex,lCleanupIndex+1)}}else listenerFn=wrapListener(tNode,lView,listenerFn,!0),target.addEventListener(eventName,listenerFn,useCapture),lCleanup.push(listenerFn),tCleanup&&tCleanup.push(eventName,idxOrTargetGetter,lCleanupIndex,useCapture)}const outputs=tNode.outputs;let props;if(processOutputs&&null!==outputs&&(props=outputs[eventName])){const propsLength=props.length;if(propsLength)for(let i=0;i<propsLength;i+=2){const index=props[i],minifiedName=props[i+1],directiveInstance=lView[index],output=directiveInstance[minifiedName];0;const subscription=output.subscribe(listenerFn),idx=lCleanup.length;lCleanup.push(listenerFn,subscription),tCleanup&&tCleanup.push(eventName,tNode.index,idx,-(idx+1))}}}function executeListenerWithErrorHandling(lView,listenerFn,e){try{return!1!==listenerFn(e)}catch(error){return handleError(lView,error),!1}}function wrapListener(tNode,lView,listenerFn,wrapWithPreventDefault){return function wrapListenerIn_markDirtyAndPreventDefault(e){if(e===Function)return listenerFn;const startView=2&tNode.flags?getComponentLViewByIndex(tNode.index,lView):lView;0==(32&lView[2])&&markViewDirty(startView);let result=executeListenerWithErrorHandling(lView,listenerFn,e),nextListenerFn=wrapListenerIn_markDirtyAndPreventDefault.__ngNextListenerFn__;for(;nextListenerFn;)result=executeListenerWithErrorHandling(lView,nextListenerFn,e)&&result,nextListenerFn=nextListenerFn.__ngNextListenerFn__;return wrapWithPreventDefault&&!1===result&&(e.preventDefault(),e.returnValue=!1),result}}function \u0275\u0275nextContext(level=1){return nextContextImpl(level)}function matchingProjectionSlotIndex(tNode,projectionSlots){let wildcardNgContentIndex=null;const ngProjectAsAttrVal=function getProjectAsAttrValue(tNode){const nodeAttrs=tNode.attrs;if(null!=nodeAttrs){const ngProjectAsAttrIdx=nodeAttrs.indexOf(5);if(0==(1&ngProjectAsAttrIdx))return nodeAttrs[ngProjectAsAttrIdx+1]}return null}(tNode);for(let i=0;i<projectionSlots.length;i++){const slotValue=projectionSlots[i];if("*"!==slotValue){if(null===ngProjectAsAttrVal?isNodeMatchingSelectorList(tNode,slotValue,!0):isSelectorInSelectorList(ngProjectAsAttrVal,slotValue))return i}else wildcardNgContentIndex=i}return wildcardNgContentIndex}function \u0275\u0275projectionDef(projectionSlots){const componentNode=getLView()[16][6];if(!componentNode.projection){const numProjectionSlots=projectionSlots?projectionSlots.length:1,projectionHeads=componentNode.projection=newArray(numProjectionSlots,null),tails=projectionHeads.slice();let componentChild=componentNode.child;for(;null!==componentChild;){const slotIndex=projectionSlots?matchingProjectionSlotIndex(componentChild,projectionSlots):0;null!==slotIndex&&(tails[slotIndex]?tails[slotIndex].projectionNext=componentChild:projectionHeads[slotIndex]=componentChild,tails[slotIndex]=componentChild),componentChild=componentChild.next}}}let delayProjection=!1;function setDelayProjection(value){delayProjection=value}function \u0275\u0275projection(nodeIndex,selectorIndex=0,attrs){const lView=getLView(),tView=getTView(),tProjectionNode=getOrCreateTNode(tView,lView[6],nodeIndex,1,null,attrs||null);null===tProjectionNode.projection&&(tProjectionNode.projection=selectorIndex),setIsNotParent(),delayProjection||applyProjection(tView,lView,tProjectionNode)}function \u0275\u0275propertyInterpolate(propName,v0,sanitizer){return \u0275\u0275propertyInterpolate1(propName,"",v0,"",sanitizer),\u0275\u0275propertyInterpolate}function \u0275\u0275propertyInterpolate1(propName,prefix,v0,suffix,sanitizer){const lView=getLView(),interpolatedValue=interpolation1(lView,prefix,v0,suffix);if(interpolatedValue!==NO_CHANGE){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,interpolatedValue,lView[11],sanitizer,!1)}return \u0275\u0275propertyInterpolate1}function \u0275\u0275propertyInterpolate2(propName,prefix,v0,i0,v1,suffix,sanitizer){const lView=getLView(),interpolatedValue=interpolation2(lView,prefix,v0,i0,v1,suffix);if(interpolatedValue!==NO_CHANGE){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,interpolatedValue,lView[11],sanitizer,!1)}return \u0275\u0275propertyInterpolate2}function \u0275\u0275propertyInterpolate3(propName,prefix,v0,i0,v1,i1,v2,suffix,sanitizer){const lView=getLView(),interpolatedValue=interpolation3(lView,prefix,v0,i0,v1,i1,v2,suffix);if(interpolatedValue!==NO_CHANGE){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,interpolatedValue,lView[11],sanitizer,!1)}return \u0275\u0275propertyInterpolate3}function \u0275\u0275propertyInterpolate4(propName,prefix,v0,i0,v1,i1,v2,i2,v3,suffix,sanitizer){const lView=getLView(),interpolatedValue=interpolation4(lView,prefix,v0,i0,v1,i1,v2,i2,v3,suffix);if(interpolatedValue!==NO_CHANGE){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,interpolatedValue,lView[11],sanitizer,!1)}return \u0275\u0275propertyInterpolate4}function \u0275\u0275propertyInterpolate5(propName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix,sanitizer){const lView=getLView(),interpolatedValue=interpolation5(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix);if(interpolatedValue!==NO_CHANGE){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,interpolatedValue,lView[11],sanitizer,!1)}return \u0275\u0275propertyInterpolate5}function \u0275\u0275propertyInterpolate6(propName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix,sanitizer){const lView=getLView(),interpolatedValue=interpolation6(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix);if(interpolatedValue!==NO_CHANGE){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,interpolatedValue,lView[11],sanitizer,!1)}return \u0275\u0275propertyInterpolate6}function \u0275\u0275propertyInterpolate7(propName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix,sanitizer){const lView=getLView(),interpolatedValue=interpolation7(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix);if(interpolatedValue!==NO_CHANGE){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,interpolatedValue,lView[11],sanitizer,!1)}return \u0275\u0275propertyInterpolate7}function \u0275\u0275propertyInterpolate8(propName,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix,sanitizer){const lView=getLView(),interpolatedValue=interpolation8(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix);if(interpolatedValue!==NO_CHANGE){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,interpolatedValue,lView[11],sanitizer,!1)}return \u0275\u0275propertyInterpolate8}function \u0275\u0275propertyInterpolateV(propName,values,sanitizer){const lView=getLView(),interpolatedValue=interpolationV(lView,values);if(interpolatedValue!==NO_CHANGE){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,interpolatedValue,lView[11],sanitizer,!1)}return \u0275\u0275propertyInterpolateV}const EMPTY_ARRAY$3=[];function insertTStylingBinding(tData,tNode,tStylingKeyWithStatic,index,isHostBinding,isClassBinding){let tBindings=isClassBinding?tNode.classBindings:tNode.styleBindings,tmplHead=getTStylingRangePrev(tBindings),tmplTail=getTStylingRangeNext(tBindings);tData[index]=tStylingKeyWithStatic;let tStylingKey,isKeyDuplicateOfStatic=!1;if(Array.isArray(tStylingKeyWithStatic)){const staticKeyValueArray=tStylingKeyWithStatic;tStylingKey=staticKeyValueArray[1],(null===tStylingKey||keyValueArrayIndexOf(staticKeyValueArray,tStylingKey)>0)&&(isKeyDuplicateOfStatic=!0)}else tStylingKey=tStylingKeyWithStatic;if(isHostBinding){if(0!==tmplTail){const previousNode=getTStylingRangePrev(tData[tmplHead+1]);tData[index+1]=toTStylingRange(previousNode,tmplHead),0!==previousNode&&(tData[previousNode+1]=setTStylingRangeNext(tData[previousNode+1],index)),tData[tmplHead+1]=function setTStylingRangePrev(tStylingRange,previous){return 131071&tStylingRange|previous<<17}(tData[tmplHead+1],index)}else tData[index+1]=toTStylingRange(tmplHead,0),0!==tmplHead&&(tData[tmplHead+1]=setTStylingRangeNext(tData[tmplHead+1],index)),tmplHead=index}else tData[index+1]=toTStylingRange(tmplTail,0),0===tmplHead?tmplHead=index:tData[tmplTail+1]=setTStylingRangeNext(tData[tmplTail+1],index),tmplTail=index;isKeyDuplicateOfStatic&&(tData[index+1]=setTStylingRangePrevDuplicate(tData[index+1])),markDuplicates(tData,tStylingKey,index,!0,isClassBinding),markDuplicates(tData,tStylingKey,index,!1,isClassBinding),function markDuplicateOfResidualStyling(tNode,tStylingKey,tData,index,isClassBinding){const residual=isClassBinding?tNode.residualClasses:tNode.residualStyles;null!=residual&&"string"==typeof tStylingKey&&keyValueArrayIndexOf(residual,tStylingKey)>=0&&(tData[index+1]=setTStylingRangeNextDuplicate(tData[index+1]))}(tNode,tStylingKey,tData,index,isClassBinding),tBindings=toTStylingRange(tmplHead,tmplTail),isClassBinding?tNode.classBindings=tBindings:tNode.styleBindings=tBindings}function markDuplicates(tData,tStylingKey,index,isPrevDir,isClassBinding){const tStylingAtIndex=tData[index+1],isMap=null===tStylingKey;let cursor=isPrevDir?getTStylingRangePrev(tStylingAtIndex):getTStylingRangeNext(tStylingAtIndex),foundDuplicate=!1;for(;0!==cursor&&(!1===foundDuplicate||isMap);){const tStylingValueAtCursor=tData[cursor],tStyleRangeAtCursor=tData[cursor+1];isStylingMatch(tStylingValueAtCursor,tStylingKey)&&(foundDuplicate=!0,tData[cursor+1]=isPrevDir?setTStylingRangeNextDuplicate(tStyleRangeAtCursor):setTStylingRangePrevDuplicate(tStyleRangeAtCursor)),cursor=isPrevDir?getTStylingRangePrev(tStyleRangeAtCursor):getTStylingRangeNext(tStyleRangeAtCursor)}foundDuplicate&&(tData[index+1]=isPrevDir?setTStylingRangePrevDuplicate(tStylingAtIndex):setTStylingRangeNextDuplicate(tStylingAtIndex))}function isStylingMatch(tStylingKeyCursor,tStylingKey){return null===tStylingKeyCursor||null==tStylingKey||(Array.isArray(tStylingKeyCursor)?tStylingKeyCursor[1]:tStylingKeyCursor)===tStylingKey||!(!Array.isArray(tStylingKeyCursor)||"string"!=typeof tStylingKey)&&keyValueArrayIndexOf(tStylingKeyCursor,tStylingKey)>=0}const parserState={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function getLastParsedKey(text){return text.substring(parserState.key,parserState.keyEnd)}function getLastParsedValue(text){return text.substring(parserState.value,parserState.valueEnd)}function parseClassNameNext(text,index){const end=parserState.textEnd;return end===index?-1:(index=parserState.keyEnd=function consumeClassToken(text,startIndex,endIndex){for(;startIndex<endIndex&&text.charCodeAt(startIndex)>32;)startIndex++;return startIndex}(text,parserState.key=index,end),consumeWhitespace(text,index,end))}function parseStyleNext(text,startIndex){const end=parserState.textEnd;let index=parserState.key=consumeWhitespace(text,startIndex,end);return end===index?-1:(index=parserState.keyEnd=function consumeStyleKey(text,startIndex,endIndex){let ch;for(;startIndex<endIndex&&(45===(ch=text.charCodeAt(startIndex))||95===ch||(-33&ch)>=65&&(-33&ch)<=90);)startIndex++;return startIndex}(text,index,end),index=consumeSeparator(text,index,end,58),index=parserState.value=consumeWhitespace(text,index,end),index=parserState.valueEnd=function consumeStyleValue(text,startIndex,endIndex){let ch1=-1,ch2=-1,ch3=-1,i=startIndex,lastChIndex=i;for(;i<endIndex;){const ch=text.charCodeAt(i++);if(59===ch)return lastChIndex;34===ch||39===ch?lastChIndex=i=consumeQuotedText(text,ch,i,endIndex):startIndex===i-4&&85===ch3&&82===ch2&&76===ch1&&40===ch?lastChIndex=i=consumeQuotedText(text,41,i,endIndex):ch>32&&(lastChIndex=i),ch3=ch2,ch2=ch1,ch1=-33&ch}return lastChIndex}(text,index,end),consumeSeparator(text,index,end,59))}function resetParserState(text){parserState.key=0,parserState.keyEnd=0,parserState.value=0,parserState.valueEnd=0,parserState.textEnd=text.length}function consumeWhitespace(text,startIndex,endIndex){for(;startIndex<endIndex&&text.charCodeAt(startIndex)<=32;)startIndex++;return startIndex}function consumeSeparator(text,startIndex,endIndex,separator){return(startIndex=consumeWhitespace(text,startIndex,endIndex))<endIndex&&startIndex++,startIndex}function consumeQuotedText(text,quoteCharCode,startIndex,endIndex){let ch1=-1,index=startIndex;for(;index<endIndex;){const ch=text.charCodeAt(index++);if(ch==quoteCharCode&&92!==ch1)return index;ch1=92==ch&&92===ch1?0:ch}throw new Error}function \u0275\u0275styleSanitizer(sanitizer){setCurrentStyleSanitizer(sanitizer)}function \u0275\u0275styleProp(prop,value,suffix){return checkStylingProperty(prop,value,suffix,!1),\u0275\u0275styleProp}function \u0275\u0275classProp(className,value){return checkStylingProperty(className,value,null,!0),\u0275\u0275classProp}function \u0275\u0275styleMap(styles){checkStylingMap(styleKeyValueArraySet,styleStringParser,styles,!1)}function styleStringParser(keyValueArray,text){for(let i=function parseStyle(text){return resetParserState(text),parseStyleNext(text,consumeWhitespace(text,0,parserState.textEnd))}(text);i>=0;i=parseStyleNext(text,i))styleKeyValueArraySet(keyValueArray,getLastParsedKey(text),getLastParsedValue(text))}function \u0275\u0275classMap(classes){checkStylingMap(keyValueArraySet,classStringParser,classes,!0)}function classStringParser(keyValueArray,text){for(let i=function parseClassName(text){return resetParserState(text),parseClassNameNext(text,consumeWhitespace(text,0,parserState.textEnd))}(text);i>=0;i=parseClassNameNext(text,i))keyValueArraySet(keyValueArray,getLastParsedKey(text),!0)}function checkStylingProperty(prop,value,suffixOrSanitizer,isClassBased){const lView=getLView(),tView=getTView(),bindingIndex=incrementBindingIndex(2);if(tView.firstUpdatePass&&stylingFirstUpdatePass(tView,prop,bindingIndex,isClassBased),value!==NO_CHANGE&&bindingUpdated(lView,bindingIndex,value)){let styleSanitizer;null==suffixOrSanitizer&&(styleSanitizer=function getCurrentStyleSanitizer(){const lFrame=instructionState.lFrame;return null===lFrame?null:lFrame.currentSanitizer}())&&(suffixOrSanitizer=styleSanitizer),updateStyling(tView,tView.data[getSelectedIndex()+19],lView,lView[11],prop,lView[bindingIndex+1]=function normalizeAndApplySuffixOrSanitizer(value,suffixOrSanitizer){null==value||("function"==typeof suffixOrSanitizer?value=suffixOrSanitizer(value):"string"==typeof suffixOrSanitizer?value+=suffixOrSanitizer:"object"==typeof value&&(value=stringify(unwrapSafeValue(value))));return value}(value,suffixOrSanitizer),isClassBased,bindingIndex)}}function checkStylingMap(keyValueArraySet,stringParser,value,isClassBased){const tView=getTView(),bindingIndex=incrementBindingIndex(2);tView.firstUpdatePass&&stylingFirstUpdatePass(tView,null,bindingIndex,isClassBased);const lView=getLView();if(value!==NO_CHANGE&&bindingUpdated(lView,bindingIndex,value)){const tNode=tView.data[getSelectedIndex()+19];if(hasStylingInputShadow(tNode,isClassBased)&&!isInHostBindings(tView,bindingIndex)){0;let staticPrefix=isClassBased?tNode.classes:tNode.styles;null!==staticPrefix&&(value=concatStringsWithSpace(staticPrefix,value||"")),setDirectiveInputsWhichShadowsStyling(tView,tNode,lView,value,isClassBased)}else!function updateStylingMap(tView,tNode,lView,renderer,oldKeyValueArray,newKeyValueArray,isClassBased,bindingIndex){oldKeyValueArray===NO_CHANGE&&(oldKeyValueArray=EMPTY_ARRAY$3);let oldIndex=0,newIndex=0,oldKey=0<oldKeyValueArray.length?oldKeyValueArray[0]:null,newKey=0<newKeyValueArray.length?newKeyValueArray[0]:null;for(;null!==oldKey||null!==newKey;){const oldValue=oldIndex<oldKeyValueArray.length?oldKeyValueArray[oldIndex+1]:void 0,newValue=newIndex<newKeyValueArray.length?newKeyValueArray[newIndex+1]:void 0;let setKey=null,setValue=void 0;oldKey===newKey?(oldIndex+=2,newIndex+=2,oldValue!==newValue&&(setKey=newKey,setValue=newValue)):null===newKey||null!==oldKey&&oldKey<newKey?(oldIndex+=2,setKey=oldKey):(newIndex+=2,setKey=newKey,setValue=newValue),null!==setKey&&updateStyling(tView,tNode,lView,renderer,setKey,setValue,isClassBased,bindingIndex),oldKey=oldIndex<oldKeyValueArray.length?oldKeyValueArray[oldIndex]:null,newKey=newIndex<newKeyValueArray.length?newKeyValueArray[newIndex]:null}}(tView,tNode,lView,lView[11],lView[bindingIndex+1],lView[bindingIndex+1]=function toStylingKeyValueArray(keyValueArraySet,stringParser,value){if(null==value||""===value)return EMPTY_ARRAY$3;const styleKeyValueArray=[],unwrappedValue=unwrapSafeValue(value);if(Array.isArray(unwrappedValue))for(let i=0;i<unwrappedValue.length;i++)keyValueArraySet(styleKeyValueArray,unwrappedValue[i],!0);else if("object"==typeof unwrappedValue)for(const key in unwrappedValue)unwrappedValue.hasOwnProperty(key)&&keyValueArraySet(styleKeyValueArray,key,unwrappedValue[key]);else"string"==typeof unwrappedValue&&stringParser(styleKeyValueArray,unwrappedValue);return styleKeyValueArray}(keyValueArraySet,stringParser,value),isClassBased,bindingIndex)}}function isInHostBindings(tView,bindingIndex){return bindingIndex>=tView.expandoStartIndex}function stylingFirstUpdatePass(tView,tStylingKey,bindingIndex,isClassBased){const tData=tView.data;if(null===tData[bindingIndex+1]){const tNode=tData[getSelectedIndex()+19],isHostBindings=isInHostBindings(tView,bindingIndex);hasStylingInputShadow(tNode,isClassBased)&&null===tStylingKey&&!isHostBindings&&(tStylingKey=!1),tStylingKey=function wrapInStaticStylingKey(tData,tNode,stylingKey,isClassBased){const hostDirectiveDef=function getHostDirectiveDef(tData){const currentDirectiveIndex=function getCurrentDirectiveIndex(){return instructionState.lFrame.currentDirectiveIndex}();return-1===currentDirectiveIndex?null:tData[currentDirectiveIndex]}(tData);let residual=isClassBased?tNode.residualClasses:tNode.residualStyles;if(null===hostDirectiveDef){0===(isClassBased?tNode.classBindings:tNode.styleBindings)&&(stylingKey=collectStylingFromTAttrs(stylingKey=collectStylingFromDirectives(null,tData,tNode,stylingKey,isClassBased),tNode.attrs,isClassBased),residual=null)}else{const directiveStylingLast=tNode.directiveStylingLast;if(-1===directiveStylingLast||tData[directiveStylingLast]!==hostDirectiveDef)if(stylingKey=collectStylingFromDirectives(hostDirectiveDef,tData,tNode,stylingKey,isClassBased),null===residual){let templateStylingKey=function getTemplateHeadTStylingKey(tData,tNode,isClassBased){const bindings=isClassBased?tNode.classBindings:tNode.styleBindings;if(0===getTStylingRangeNext(bindings))return;return(tData[getTStylingRangePrev(bindings)])}(tData,tNode,isClassBased);void 0!==templateStylingKey&&Array.isArray(templateStylingKey)&&(templateStylingKey=collectStylingFromDirectives(null,tData,tNode,templateStylingKey[1],isClassBased),templateStylingKey=collectStylingFromTAttrs(templateStylingKey,tNode.attrs,isClassBased),function setTemplateHeadTStylingKey(tData,tNode,isClassBased,tStylingKey){const bindings=isClassBased?tNode.classBindings:tNode.styleBindings;tData[getTStylingRangePrev(bindings)]=tStylingKey}(tData,tNode,isClassBased,templateStylingKey))}else residual=function collectResidual(tData,tNode,isClassBased){let residual=void 0;const directiveEnd=tNode.directiveEnd;for(let i=1+tNode.directiveStylingLast;i<directiveEnd;i++){const attrs=tData[i].hostAttrs;residual=collectStylingFromTAttrs(residual,attrs,isClassBased)}return(collectStylingFromTAttrs(residual,tNode.attrs,isClassBased))}(tData,tNode,isClassBased)}void 0!==residual&&(isClassBased?tNode.residualClasses=residual:tNode.residualStyles=residual);return stylingKey}(tData,tNode,tStylingKey,isClassBased),insertTStylingBinding(tData,tNode,tStylingKey,bindingIndex,isHostBindings,isClassBased)}}function collectStylingFromDirectives(hostDirectiveDef,tData,tNode,stylingKey,isClassBased){let currentDirective=null;const directiveEnd=tNode.directiveEnd;let directiveStylingLast=tNode.directiveStylingLast;for(-1===directiveStylingLast?directiveStylingLast=tNode.directiveStart:directiveStylingLast++;directiveStylingLast<directiveEnd&&(currentDirective=tData[directiveStylingLast],stylingKey=collectStylingFromTAttrs(stylingKey,currentDirective.hostAttrs,isClassBased),currentDirective!==hostDirectiveDef);)directiveStylingLast++;return null!==hostDirectiveDef&&(tNode.directiveStylingLast=directiveStylingLast),stylingKey}function collectStylingFromTAttrs(stylingKey,attrs,isClassBased){const desiredMarker=isClassBased?1:2;let currentMarker=-1;if(null!==attrs)for(let i=0;i<attrs.length;i++){const item=attrs[i];"number"==typeof item?currentMarker=item:currentMarker===desiredMarker&&(Array.isArray(stylingKey)||(stylingKey=void 0===stylingKey?[]:["",stylingKey]),keyValueArraySet(stylingKey,item,!!isClassBased||attrs[++i]))}return void 0===stylingKey?null:stylingKey}function styleKeyValueArraySet(keyValueArray,key,value){stylePropNeedsSanitization(key)&&(value=\u0275\u0275sanitizeStyle(value)),keyValueArraySet(keyValueArray,key,value)}function updateStyling(tView,tNode,lView,renderer,prop,value,isClassBased,bindingIndex){if(3!==tNode.type)return;const tData=tView.data,tRange=tData[bindingIndex+1];if(!isStylingValuePresent(getTStylingRangeNextDuplicate(tRange)?findStylingValue(tData,tNode,lView,prop,getTStylingRangeNext(tRange),isClassBased):void 0)){isStylingValuePresent(value)||getTStylingRangePrevDuplicate(tRange)&&(value=findStylingValue(tData,null,lView,prop,bindingIndex,isClassBased)),function applyStyling(renderer,isClassBased,rNode,prop,value){const isProcedural=isProceduralRenderer(renderer);if(isClassBased)value?isProcedural?renderer.addClass(rNode,prop):rNode.classList.add(prop):isProcedural?renderer.removeClass(rNode,prop):rNode.classList.remove(prop);else{const flags=-1==prop.indexOf("-")?void 0:2;null==value?isProcedural?renderer.removeStyle(rNode,prop,flags):rNode.style.removeProperty(prop):isProcedural?renderer.setStyle(rNode,prop,value,flags):rNode.style.setProperty(prop,value)}}(renderer,isClassBased,getNativeByIndex(getSelectedIndex(),lView),prop,value)}}function findStylingValue(tData,tNode,lView,prop,index,isClassBased){const isPrevDirection=null===tNode;let value=void 0;for(;index>0;){const rawKey=tData[index],containsStatics=Array.isArray(rawKey),key=containsStatics?rawKey[1]:rawKey,isStylingMap=null===key;let valueAtLViewIndex=lView[index+1];valueAtLViewIndex===NO_CHANGE&&(valueAtLViewIndex=isStylingMap?EMPTY_ARRAY$3:void 0);let currentValue=isStylingMap?keyValueArrayGet(valueAtLViewIndex,prop):key===prop?valueAtLViewIndex:void 0;if(containsStatics&&!isStylingValuePresent(currentValue)&&(currentValue=keyValueArrayGet(rawKey,prop)),isStylingValuePresent(currentValue)&&(value=currentValue,isPrevDirection))return value;const tRange=tData[index+1];index=isPrevDirection?getTStylingRangePrev(tRange):getTStylingRangeNext(tRange)}if(null!==tNode){let residual=isClassBased?tNode.residualClasses:tNode.residualStyles;null!=residual&&(value=keyValueArrayGet(residual,prop))}return value}function isStylingValuePresent(value){return void 0!==value}function hasStylingInputShadow(tNode,isClassBased){return 0!=(tNode.flags&(isClassBased?16:32))}function \u0275\u0275text(index,value=""){const lView=getLView(),tView=getTView(),adjustedIndex=index+19,tNode=tView.firstCreatePass?getOrCreateTNode(tView,lView[6],index,3,null,null):tView.data[adjustedIndex],textNative=lView[adjustedIndex]=createTextNode(value,lView[11]);appendChild(tView,lView,textNative,tNode),setPreviousOrParentTNode(tNode,!1)}function \u0275\u0275textInterpolate(v0){return \u0275\u0275textInterpolate1("",v0,""),\u0275\u0275textInterpolate}function \u0275\u0275textInterpolate1(prefix,v0,suffix){const lView=getLView(),interpolated=interpolation1(lView,prefix,v0,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),\u0275\u0275textInterpolate1}function \u0275\u0275textInterpolate2(prefix,v0,i0,v1,suffix){const lView=getLView(),interpolated=interpolation2(lView,prefix,v0,i0,v1,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),\u0275\u0275textInterpolate2}function \u0275\u0275textInterpolate3(prefix,v0,i0,v1,i1,v2,suffix){const lView=getLView(),interpolated=interpolation3(lView,prefix,v0,i0,v1,i1,v2,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),\u0275\u0275textInterpolate3}function \u0275\u0275textInterpolate4(prefix,v0,i0,v1,i1,v2,i2,v3,suffix){const lView=getLView(),interpolated=interpolation4(lView,prefix,v0,i0,v1,i1,v2,i2,v3,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),\u0275\u0275textInterpolate4}function \u0275\u0275textInterpolate5(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix){const lView=getLView(),interpolated=interpolation5(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),\u0275\u0275textInterpolate5}function \u0275\u0275textInterpolate6(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix){const lView=getLView(),interpolated=interpolation6(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),\u0275\u0275textInterpolate6}function \u0275\u0275textInterpolate7(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix){const lView=getLView(),interpolated=interpolation7(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),\u0275\u0275textInterpolate7}function \u0275\u0275textInterpolate8(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix){const lView=getLView(),interpolated=interpolation8(lView,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),\u0275\u0275textInterpolate8}function \u0275\u0275textInterpolateV(values){const lView=getLView(),interpolated=interpolationV(lView,values);return interpolated!==NO_CHANGE&&textBindingInternal(lView,getSelectedIndex(),interpolated),\u0275\u0275textInterpolateV}function \u0275\u0275classMapInterpolate1(prefix,v0,suffix){checkStylingMap(keyValueArraySet,classStringParser,interpolation1(getLView(),prefix,v0,suffix),!0)}function \u0275\u0275classMapInterpolate2(prefix,v0,i0,v1,suffix){checkStylingMap(keyValueArraySet,classStringParser,interpolation2(getLView(),prefix,v0,i0,v1,suffix),!0)}function \u0275\u0275classMapInterpolate3(prefix,v0,i0,v1,i1,v2,suffix){checkStylingMap(keyValueArraySet,classStringParser,interpolation3(getLView(),prefix,v0,i0,v1,i1,v2,suffix),!0)}function \u0275\u0275classMapInterpolate4(prefix,v0,i0,v1,i1,v2,i2,v3,suffix){checkStylingMap(keyValueArraySet,classStringParser,interpolation4(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,suffix),!0)}function \u0275\u0275classMapInterpolate5(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix){checkStylingMap(keyValueArraySet,classStringParser,interpolation5(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix),!0)}function \u0275\u0275classMapInterpolate6(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix){checkStylingMap(keyValueArraySet,classStringParser,interpolation6(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix),!0)}function \u0275\u0275classMapInterpolate7(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix){checkStylingMap(keyValueArraySet,classStringParser,interpolation7(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix),!0)}function \u0275\u0275classMapInterpolate8(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix){checkStylingMap(keyValueArraySet,classStringParser,interpolation8(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix),!0)}function \u0275\u0275classMapInterpolateV(values){checkStylingMap(keyValueArraySet,classStringParser,interpolationV(getLView(),values),!0)}function \u0275\u0275styleMapInterpolate1(prefix,v0,suffix){\u0275\u0275styleMap(interpolation1(getLView(),prefix,v0,suffix))}function \u0275\u0275styleMapInterpolate2(prefix,v0,i0,v1,suffix){\u0275\u0275styleMap(interpolation2(getLView(),prefix,v0,i0,v1,suffix))}function \u0275\u0275styleMapInterpolate3(prefix,v0,i0,v1,i1,v2,suffix){\u0275\u0275styleMap(interpolation3(getLView(),prefix,v0,i0,v1,i1,v2,suffix))}function \u0275\u0275styleMapInterpolate4(prefix,v0,i0,v1,i1,v2,i2,v3,suffix){\u0275\u0275styleMap(interpolation4(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,suffix))}function \u0275\u0275styleMapInterpolate5(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix){\u0275\u0275styleMap(interpolation5(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix))}function \u0275\u0275styleMapInterpolate6(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix){\u0275\u0275styleMap(interpolation6(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix))}function \u0275\u0275styleMapInterpolate7(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix){\u0275\u0275styleMap(interpolation7(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix))}function \u0275\u0275styleMapInterpolate8(prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix){\u0275\u0275styleMap(interpolation8(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix))}function \u0275\u0275styleMapInterpolateV(values){\u0275\u0275styleMap(interpolationV(getLView(),values))}function \u0275\u0275stylePropInterpolate1(prop,prefix,v0,suffix,valueSuffix){return checkStylingProperty(prop,interpolation1(getLView(),prefix,v0,suffix),valueSuffix,!1),\u0275\u0275stylePropInterpolate1}function \u0275\u0275stylePropInterpolate2(prop,prefix,v0,i0,v1,suffix,valueSuffix){return checkStylingProperty(prop,interpolation2(getLView(),prefix,v0,i0,v1,suffix),valueSuffix,!1),\u0275\u0275stylePropInterpolate2}function \u0275\u0275stylePropInterpolate3(prop,prefix,v0,i0,v1,i1,v2,suffix,valueSuffix){return checkStylingProperty(prop,interpolation3(getLView(),prefix,v0,i0,v1,i1,v2,suffix),valueSuffix,!1),\u0275\u0275stylePropInterpolate3}function \u0275\u0275stylePropInterpolate4(prop,prefix,v0,i0,v1,i1,v2,i2,v3,suffix,valueSuffix){return checkStylingProperty(prop,interpolation4(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,suffix),valueSuffix,!1),\u0275\u0275stylePropInterpolate4}function \u0275\u0275stylePropInterpolate5(prop,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix,valueSuffix){return checkStylingProperty(prop,interpolation5(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,suffix),valueSuffix,!1),\u0275\u0275stylePropInterpolate5}function \u0275\u0275stylePropInterpolate6(prop,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix,valueSuffix){return checkStylingProperty(prop,interpolation6(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,suffix),valueSuffix,!1),\u0275\u0275stylePropInterpolate6}function \u0275\u0275stylePropInterpolate7(prop,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix,valueSuffix){return checkStylingProperty(prop,interpolation7(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,suffix),valueSuffix,!1),\u0275\u0275stylePropInterpolate7}function \u0275\u0275stylePropInterpolate8(prop,prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix,valueSuffix){return checkStylingProperty(prop,interpolation8(getLView(),prefix,v0,i0,v1,i1,v2,i2,v3,i3,v4,i4,v5,i5,v6,i6,v7,suffix),valueSuffix,!1),\u0275\u0275stylePropInterpolate8}function \u0275\u0275stylePropInterpolateV(prop,values,valueSuffix){return checkStylingProperty(prop,interpolationV(getLView(),values),valueSuffix,!1),\u0275\u0275stylePropInterpolateV}function \u0275\u0275hostProperty(propName,value,sanitizer){const lView=getLView(),bindingIndex=nextBindingIndex();if(bindingUpdated(lView,bindingIndex,value)){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,value,lView[11],sanitizer,!0)}return \u0275\u0275hostProperty}function \u0275\u0275updateSyntheticHostBinding(propName,value,sanitizer){const lView=getLView(),bindingIndex=nextBindingIndex();if(bindingUpdated(lView,bindingIndex,value)){const tView=getTView(),tNode=getSelectedTNode();elementPropertyInternal(tView,tNode,lView,propName,value,loadComponentRenderer(tNode,lView),sanitizer,!0)}return \u0275\u0275updateSyntheticHostBinding}function getComponent(element){assertDomElement(element);const context=loadLContext(element,!1);return null===context?null:(void 0===context.component&&(context.component=function getComponentAtNodeIndex(nodeIndex,lView){const tNode=lView[1].data[nodeIndex];let directiveStartIndex=tNode.directiveStart;return 2&tNode.flags?lView[directiveStartIndex]:null}(context.nodeIndex,context.lView)),context.component)}function getContext(element){assertDomElement(element);const context=loadLContext(element,!1);return null===context?null:context.lView[8]}function getOwningComponent(elementOrDir){const context=loadLContext(elementOrDir,!1);if(null===context)return null;let parent,lView=context.lView;for(;null===lView[0]&&(parent=getLViewParent(lView));)lView=parent;return 512&lView[2]?null:lView[8]}function getRootComponents(elementOrDir){return[...getRootContext(elementOrDir).components]}function getInjector(elementOrDir){const context=loadLContext(elementOrDir,!1);if(null===context)return Injector.NULL;const tNode=context.lView[1].data[context.nodeIndex];return new NodeInjector(tNode,context.lView)}function getDirectives(element){const context=loadLContext(element);return void 0===context.directives&&(context.directives=getDirectivesAtNodeIndex(context.nodeIndex,context.lView,!1)),null===context.directives?[]:[...context.directives]}function loadLContext(target,throwOnNotFound=!0){const context=getLContext(target);if(!context&&throwOnNotFound)throw new Error("Invalid ng target");return context}function getHostElement(componentOrDirective){return getLContext(componentOrDirective).native}function getListeners(element){assertDomElement(element);const lContext=loadLContext(element,!1);if(null===lContext)return[];const lView=lContext.lView,tView=lView[1],lCleanup=lView[7],tCleanup=tView.cleanup,listeners=[];if(tCleanup&&lCleanup)for(let i=0;i<tCleanup.length;){const firstParam=tCleanup[i++],secondParam=tCleanup[i++];if("string"==typeof firstParam){const name=firstParam,listenerElement=unwrapRNode(lView[secondParam]),callback=lCleanup[tCleanup[i++]],useCaptureOrIndx=tCleanup[i++],type="boolean"==typeof useCaptureOrIndx||useCaptureOrIndx>=0?"dom":"output",useCapture="boolean"==typeof useCaptureOrIndx&&useCaptureOrIndx;element==listenerElement&&listeners.push({element:element,name:name,callback:callback,useCapture:useCapture,type:type})}}return listeners.sort(sortListeners),listeners}function sortListeners(a,b){return a.name==b.name?0:a.name<b.name?-1:1}function assertDomElement(value){if("undefined"!=typeof Element&&!(value instanceof Element))throw new Error("Expecting instance of DOM Element")}function applyChanges(component){markDirty(component),getRootComponents(component).forEach(rootComponent=>detectChanges(rootComponent))}let _published=!1;function publishDefaultGlobalUtils(){_published||(_published=!0,publishGlobalUtil("getComponent",getComponent),publishGlobalUtil("getContext",getContext),publishGlobalUtil("getListeners",getListeners),publishGlobalUtil("getOwningComponent",getOwningComponent),publishGlobalUtil("getHostElement",getHostElement),publishGlobalUtil("getInjector",getInjector),publishGlobalUtil("getRootComponents",getRootComponents),publishGlobalUtil("getDirectives",getDirectives),publishGlobalUtil("applyChanges",applyChanges))}function publishGlobalUtil(name,fn){if("undefined"==typeof COMPILED||!COMPILED){const w=_global;if(w){let container=w.ng;container||(container=w.ng={}),container[name]=fn}}}function renderComponent$1(componentType,opts={}){const rendererFactory=opts.rendererFactory||domRendererFactory3,sanitizer=opts.sanitizer||null,componentDef=getComponentDef(componentType);componentDef.type!=componentType&&(componentDef.type=componentType);const componentTag=componentDef.selectors[0][0],hostRNode=locateHostElement(rendererFactory.createRenderer(null,null),opts.host||componentTag,componentDef.encapsulation),rootFlags=componentDef.onPush?576:528,rootContext=createRootContext(opts.scheduler,opts.playerHandler),renderer=rendererFactory.createRenderer(hostRNode,componentDef),rootTView=createTView(0,-1,null,1,0,null,null,null,null,null),rootView=createLView(null,rootTView,rootContext,rootFlags,null,null,rendererFactory,renderer,void 0,opts.injector||null);let component;enterView(rootView,null);try{rendererFactory.begin&&rendererFactory.begin(),component=createRootComponent(createRootComponentView(hostRNode,componentDef,rootView,rendererFactory,renderer,sanitizer),componentDef,rootView,rootContext,opts.hostFeatures||null),renderView(rootTView,rootView,null),refreshView(rootTView,rootView,null,null)}finally{leaveView(),rendererFactory.end&&rendererFactory.end()}return component}function createRootComponentView(rNode,def,rootView,rendererFactory,hostRenderer,sanitizer){const tView=rootView[1];rootView[19]=rNode;const tNode=getOrCreateTNode(tView,null,0,3,null,null),mergedAttrs=tNode.mergedAttrs=def.hostAttrs;null!==mergedAttrs&&(computeStaticStyling(tNode,mergedAttrs),null!==rNode&&(setUpAttributes(hostRenderer,rNode,mergedAttrs),null!==tNode.classes&&writeDirectClass(hostRenderer,rNode,tNode.classes),null!==tNode.styles&&writeDirectStyle(hostRenderer,rNode,tNode.styles)));const viewRenderer=rendererFactory.createRenderer(rNode,def),componentView=createLView(rootView,getOrCreateTComponentView(def),null,def.onPush?64:16,rootView[19],tNode,rendererFactory,viewRenderer,sanitizer);return tView.firstCreatePass&&(diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,rootView),tView,def.type),markAsComponentHost(tView,tNode),initTNodeFlags(tNode,rootView.length,1)),addToViewTree(rootView,componentView),rootView[19]=componentView}function createRootComponent(componentView,componentDef,rootLView,rootContext,hostFeatures){const tView=rootLView[1],component=function instantiateRootComponent(tView,lView,def){const rootTNode=getPreviousOrParentTNode();tView.firstCreatePass&&(def.providersResolver&&def.providersResolver(def),generateExpandoInstructionBlock(tView,rootTNode,1),baseResolveDirective(tView,lView,def));const directive=getNodeInjectable(lView,tView,lView.length-1,rootTNode);attachPatchData(directive,lView);const native=getNativeByTNode(rootTNode,lView);return native&&attachPatchData(native,lView),directive}(tView,rootLView,componentDef);rootContext.components.push(component),componentView[8]=component,hostFeatures&&hostFeatures.forEach(feature=>feature(component,componentDef)),componentDef.contentQueries&&componentDef.contentQueries(1,component,rootLView.length-1);const rootTNode=getPreviousOrParentTNode();if(tView.firstCreatePass&&(null!==componentDef.hostBindings||null!==componentDef.hostAttrs)){setSelectedIndex(rootTNode.index-19);const rootTView=rootLView[1];addHostBindingsToExpandoInstructions(rootTView,componentDef),growHostVarsSpace(rootTView,rootLView,componentDef.hostVars),invokeHostBindingsInCreationMode(componentDef,component)}return component}function createRootContext(scheduler,playerHandler){return{components:[],scheduler:scheduler||defaultScheduler,clean:CLEAN_PROMISE,playerHandler:playerHandler||null,flags:0}}function LifecycleHooksFeature(component,def){const rootTView=readPatchedLView(component)[1],dirIndex=rootTView.data.length-1;registerPostOrderHooks(rootTView,{directiveStart:dirIndex,directiveEnd:dirIndex+1})}function whenRendered(component){return getRootContext(component).clean}function getSuperType(type){return Object.getPrototypeOf(type.prototype).constructor}function \u0275\u0275InheritDefinitionFeature(definition){let superType=getSuperType(definition.type),shouldInheritFields=!0;const inheritanceChain=[definition];for(;superType;){let superDef=void 0;if(isComponentDef(definition))superDef=superType.\u0275cmp||superType.\u0275dir;else{if(superType.\u0275cmp)throw new Error("Directives cannot inherit Components");superDef=superType.\u0275dir}if(superDef){if(shouldInheritFields){inheritanceChain.push(superDef);const writeableDef=definition;writeableDef.inputs=maybeUnwrapEmpty(definition.inputs),writeableDef.declaredInputs=maybeUnwrapEmpty(definition.declaredInputs),writeableDef.outputs=maybeUnwrapEmpty(definition.outputs);const superHostBindings=superDef.hostBindings;superHostBindings&&inheritHostBindings(definition,superHostBindings);const superViewQuery=superDef.viewQuery,superContentQueries=superDef.contentQueries;if(superViewQuery&&inheritViewQuery(definition,superViewQuery),superContentQueries&&inheritContentQueries(definition,superContentQueries),fillProperties(definition.inputs,superDef.inputs),fillProperties(definition.declaredInputs,superDef.declaredInputs),fillProperties(definition.outputs,superDef.outputs),isComponentDef(superDef)&&superDef.data.animation){const defData=definition.data;defData.animation=(defData.animation||[]).concat(superDef.data.animation)}writeableDef.afterContentChecked=writeableDef.afterContentChecked||superDef.afterContentChecked,writeableDef.afterContentInit=definition.afterContentInit||superDef.afterContentInit,writeableDef.afterViewChecked=definition.afterViewChecked||superDef.afterViewChecked,writeableDef.afterViewInit=definition.afterViewInit||superDef.afterViewInit,writeableDef.doCheck=definition.doCheck||superDef.doCheck,writeableDef.onDestroy=definition.onDestroy||superDef.onDestroy,writeableDef.onInit=definition.onInit||superDef.onInit}const features=superDef.features;if(features)for(let i=0;i<features.length;i++){const feature=features[i];feature&&feature.ngInherit&&feature(definition),feature===\u0275\u0275InheritDefinitionFeature&&(shouldInheritFields=!1)}}superType=Object.getPrototypeOf(superType)}!function mergeHostAttrsAcrossInheritance(inheritanceChain){let hostVars=0,hostAttrs=null;for(let i=inheritanceChain.length-1;i>=0;i--){const def=inheritanceChain[i];def.hostVars=hostVars+=def.hostVars,def.hostAttrs=mergeHostAttrs(def.hostAttrs,hostAttrs=mergeHostAttrs(hostAttrs,def.hostAttrs))}}(inheritanceChain)}function maybeUnwrapEmpty(value){return value===EMPTY_OBJ?{}:value===EMPTY_ARRAY?[]:value}function inheritViewQuery(definition,superViewQuery){const prevViewQuery=definition.viewQuery;definition.viewQuery=prevViewQuery?(rf,ctx)=>{superViewQuery(rf,ctx),prevViewQuery(rf,ctx)}:superViewQuery}function inheritContentQueries(definition,superContentQueries){const prevContentQueries=definition.contentQueries;definition.contentQueries=prevContentQueries?(rf,ctx,directiveIndex)=>{superContentQueries(rf,ctx,directiveIndex),prevContentQueries(rf,ctx,directiveIndex)}:superContentQueries}function inheritHostBindings(definition,superHostBindings){const prevHostBindings=definition.hostBindings;definition.hostBindings=prevHostBindings?(rf,ctx)=>{superHostBindings(rf,ctx),prevHostBindings(rf,ctx)}:superHostBindings}const COPY_DIRECTIVE_FIELDS=["providersResolver"],COPY_COMPONENT_FIELDS=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function \u0275\u0275CopyDefinitionFeature(definition){let superType=getSuperType(definition.type),superDef=void 0;superDef=isComponentDef(definition)?superType.\u0275cmp:superType.\u0275dir;const defAny=definition;for(const field of COPY_DIRECTIVE_FIELDS)defAny[field]=superDef[field];if(isComponentDef(superDef))for(const field of COPY_COMPONENT_FIELDS)defAny[field]=superDef[field]}class SimpleChange{constructor(previousValue,currentValue,firstChange){this.previousValue=previousValue,this.currentValue=currentValue,this.firstChange=firstChange}isFirstChange(){return this.firstChange}}function \u0275\u0275NgOnChangesFeature(definition){definition.type.prototype.ngOnChanges&&(definition.setInput=ngOnChangesSetInput,definition.onChanges=function wrapOnChanges(){return function wrapOnChangesHook_inPreviousChangesStorage(){const simpleChangesStore=getSimpleChangesStore(this),current=simpleChangesStore&&simpleChangesStore.current;if(current){const previous=simpleChangesStore.previous;if(previous===EMPTY_OBJ)simpleChangesStore.previous=current;else for(let key in current)previous[key]=current[key];simpleChangesStore.current=null,this.ngOnChanges(current)}}}())}function ngOnChangesSetInput(instance,value,publicName,privateName){const simpleChangesStore=getSimpleChangesStore(instance)||function setSimpleChangesStore(instance,store){return instance.__ngSimpleChanges__=store}(instance,{previous:EMPTY_OBJ,current:null}),current=simpleChangesStore.current||(simpleChangesStore.current={}),previous=simpleChangesStore.previous,declaredName=this.declaredInputs[publicName],previousChange=previous[declaredName];current[declaredName]=new SimpleChange(previousChange&&previousChange.currentValue,value,previous===EMPTY_OBJ),instance[privateName]=value}\u0275\u0275NgOnChangesFeature.ngInherit=!0;function getSimpleChangesStore(instance){return instance.__ngSimpleChanges__||null}function resolveProvider$1(provider,tInjectables,lInjectablesBlueprint,isComponent,isViewProvider){if(provider=resolveForwardRef(provider),Array.isArray(provider))for(let i=0;i<provider.length;i++)resolveProvider$1(provider[i],tInjectables,lInjectablesBlueprint,isComponent,isViewProvider);else{const tView=getTView(),lView=getLView();let token=isTypeProvider(provider)?provider:resolveForwardRef(provider.provide),providerFactory=providerToFactory(provider);const tNode=getPreviousOrParentTNode(),beginIndex=65535&tNode.providerIndexes,endIndex=tNode.directiveStart,cptViewProvidersCount=tNode.providerIndexes>>16;if(isTypeProvider(provider)||!provider.multi){const factory=new NodeInjectorFactory(providerFactory,isViewProvider,\u0275\u0275directiveInject),existingFactoryIndex=indexOf(token,tInjectables,isViewProvider?beginIndex:beginIndex+cptViewProvidersCount,endIndex);-1===existingFactoryIndex?(diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,lView),tView,token),registerDestroyHooksIfSupported(tView,provider,tInjectables.length),tInjectables.push(token),tNode.directiveStart++,tNode.directiveEnd++,isViewProvider&&(tNode.providerIndexes+=65536),lInjectablesBlueprint.push(factory),lView.push(factory)):(lInjectablesBlueprint[existingFactoryIndex]=factory,lView[existingFactoryIndex]=factory)}else{const existingProvidersFactoryIndex=indexOf(token,tInjectables,beginIndex+cptViewProvidersCount,endIndex),existingViewProvidersFactoryIndex=indexOf(token,tInjectables,beginIndex,beginIndex+cptViewProvidersCount),doesProvidersFactoryExist=existingProvidersFactoryIndex>=0&&lInjectablesBlueprint[existingProvidersFactoryIndex],doesViewProvidersFactoryExist=existingViewProvidersFactoryIndex>=0&&lInjectablesBlueprint[existingViewProvidersFactoryIndex];if(isViewProvider&&!doesViewProvidersFactoryExist||!isViewProvider&&!doesProvidersFactoryExist){diPublicInInjector(getOrCreateNodeInjectorForNode(tNode,lView),tView,token);const factory=function multiFactory(factoryFn,index,isViewProvider,isComponent,f){const factory=new NodeInjectorFactory(factoryFn,isViewProvider,\u0275\u0275directiveInject);return factory.multi=[],factory.index=index,factory.componentProviders=0,multiFactoryAdd(factory,f,isComponent&&!isViewProvider),factory}(isViewProvider?multiViewProvidersFactoryResolver:multiProvidersFactoryResolver,lInjectablesBlueprint.length,isViewProvider,isComponent,providerFactory);!isViewProvider&&doesViewProvidersFactoryExist&&(lInjectablesBlueprint[existingViewProvidersFactoryIndex].providerFactory=factory),registerDestroyHooksIfSupported(tView,provider,tInjectables.length),tInjectables.push(token),tNode.directiveStart++,tNode.directiveEnd++,isViewProvider&&(tNode.providerIndexes+=65536),lInjectablesBlueprint.push(factory),lView.push(factory)}else registerDestroyHooksIfSupported(tView,provider,existingProvidersFactoryIndex>-1?existingProvidersFactoryIndex:existingViewProvidersFactoryIndex),multiFactoryAdd(lInjectablesBlueprint[isViewProvider?existingViewProvidersFactoryIndex:existingProvidersFactoryIndex],providerFactory,!isViewProvider&&isComponent);!isViewProvider&&isComponent&&doesViewProvidersFactoryExist&&lInjectablesBlueprint[existingViewProvidersFactoryIndex].componentProviders++}}}function registerDestroyHooksIfSupported(tView,provider,contextIndex){if(isTypeProvider(provider)||function isClassProvider(value){return!!value.useClass}(provider)){const ngOnDestroy=(provider.useClass||provider).prototype.ngOnDestroy;ngOnDestroy&&(tView.destroyHooks||(tView.destroyHooks=[])).push(contextIndex,ngOnDestroy)}}function multiFactoryAdd(multiFactory,factory,isComponentProvider){multiFactory.multi.push(factory),isComponentProvider&&multiFactory.componentProviders++}function indexOf(item,arr,begin,end){for(let i=begin;i<end;i++)if(arr[i]===item)return i;return-1}function multiProvidersFactoryResolver(_,tData,lData,tNode){return multiResolve(this.multi,[])}function multiViewProvidersFactoryResolver(_,tData,lView,tNode){const factories=this.multi;let result;if(this.providerFactory){const componentCount=this.providerFactory.componentProviders,multiProviders=getNodeInjectable(lView,lView[1],this.providerFactory.index,tNode);result=multiProviders.slice(0,componentCount),multiResolve(factories,result);for(let i=componentCount;i<multiProviders.length;i++)result.push(multiProviders[i])}else result=[],multiResolve(factories,result);return result}function multiResolve(factories,result){for(let i=0;i<factories.length;i++){const factory=factories[i];result.push(factory())}return result}function \u0275\u0275ProvidersFeature(providers,viewProviders=[]){return definition=>{definition.providersResolver=(def,processProvidersFn)=>function providersResolver(def,providers,viewProviders){const tView=getTView();if(tView.firstCreatePass){const isComponent=isComponentDef(def);resolveProvider$1(viewProviders,tView.data,tView.blueprint,isComponent,!0),resolveProvider$1(providers,tView.data,tView.blueprint,isComponent,!1)}}(def,processProvidersFn?processProvidersFn(providers):providers,viewProviders)}}class ComponentRef{}class ComponentFactory{}function noComponentFactoryError(component){const error=Error(`No component factory found for ${stringify(component)}. Did you add it to @NgModule.entryComponents?`);return error[ERROR_COMPONENT]=component,error}const ERROR_COMPONENT="ngComponent";class ComponentFactoryResolver{}ComponentFactoryResolver.NULL=new class{resolveComponentFactory(component){throw noComponentFactoryError(component)}};class CodegenComponentFactoryResolver{constructor(factories,_parent,_ngModule){this._parent=_parent,this._ngModule=_ngModule,this._factories=new Map;for(let i=0;i<factories.length;i++){const factory=factories[i];this._factories.set(factory.componentType,factory)}}resolveComponentFactory(component){let factory=this._factories.get(component);if(!factory&&this._parent&&(factory=this._parent.resolveComponentFactory(component)),!factory)throw noComponentFactoryError(component);return new ComponentFactoryBoundToModule(factory,this._ngModule)}}class ComponentFactoryBoundToModule extends ComponentFactory{constructor(factory,ngModule){super(),this.factory=factory,this.ngModule=ngModule,this.selector=factory.selector,this.componentType=factory.componentType,this.ngContentSelectors=factory.ngContentSelectors,this.inputs=factory.inputs,this.outputs=factory.outputs}create(injector,projectableNodes,rootSelectorOrNode,ngModule){return this.factory.create(injector,projectableNodes,rootSelectorOrNode,ngModule||this.ngModule)}}class ElementRef{constructor(nativeElement){this.nativeElement=nativeElement}}ElementRef.__NG_ELEMENT_ID__=()=>SWITCH_ELEMENT_REF_FACTORY(ElementRef);const SWITCH_ELEMENT_REF_FACTORY__POST_R3__=function injectElementRef(ElementRefToken){return createElementRef(ElementRefToken,getPreviousOrParentTNode(),getLView())},SWITCH_ELEMENT_REF_FACTORY=SWITCH_ELEMENT_REF_FACTORY__POST_R3__;new InjectionToken("Renderer2Interceptor");class RendererFactory2{}const RendererStyleFlags2={Important:1,DashCase:2};RendererStyleFlags2[RendererStyleFlags2.Important]="Important",RendererStyleFlags2[RendererStyleFlags2.DashCase]="DashCase";class Renderer2{}Renderer2.__NG_ELEMENT_ID__=()=>SWITCH_RENDERER2_FACTORY();const SWITCH_RENDERER2_FACTORY__POST_R3__=function injectRenderer2(){const lView=getLView(),nodeAtIndex=getComponentLViewByIndex(getPreviousOrParentTNode().index,lView);return function getOrCreateRenderer2(view){const renderer=view[11];if(isProceduralRenderer(renderer))return renderer;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(isLView(nodeAtIndex)?nodeAtIndex:lView)},SWITCH_RENDERER2_FACTORY=SWITCH_RENDERER2_FACTORY__POST_R3__;class Sanitizer{}Sanitizer.\u0275prov=\u0275\u0275defineInjectable({token:Sanitizer,providedIn:"root",factory:()=>null});class Version{constructor(full){this.full=full,this.major=full.split(".")[0],this.minor=full.split(".")[1],this.patch=full.split(".").slice(2).join(".")}}const VERSION=new Version("9.0.7");class DefaultIterableDifferFactory{constructor(){}supports(obj){return isListLikeIterable$1(obj)}create(trackByFn){return new DefaultIterableDiffer(trackByFn)}}const trackByIdentity=(index,item)=>item;class DefaultIterableDiffer{constructor(trackByFn){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=trackByFn||trackByIdentity}forEachItem(fn){let record;for(record=this._itHead;null!==record;record=record._next)fn(record)}forEachOperation(fn){let nextIt=this._itHead,nextRemove=this._removalsHead,addRemoveOffset=0,moveOffsets=null;for(;nextIt||nextRemove;){const record=!nextRemove||nextIt&&nextIt.currentIndex<getPreviousIndex(nextRemove,addRemoveOffset,moveOffsets)?nextIt:nextRemove,adjPreviousIndex=getPreviousIndex(record,addRemoveOffset,moveOffsets),currentIndex=record.currentIndex;if(record===nextRemove)addRemoveOffset--,nextRemove=nextRemove._nextRemoved;else if(nextIt=nextIt._next,null==record.previousIndex)addRemoveOffset++;else{moveOffsets||(moveOffsets=[]);const localMovePreviousIndex=adjPreviousIndex-addRemoveOffset,localCurrentIndex=currentIndex-addRemoveOffset;if(localMovePreviousIndex!=localCurrentIndex){for(let i=0;i<localMovePreviousIndex;i++){const offset=i<moveOffsets.length?moveOffsets[i]:moveOffsets[i]=0,index=offset+i;localCurrentIndex<=index&&index<localMovePreviousIndex&&(moveOffsets[i]=offset+1)}moveOffsets[record.previousIndex]=localCurrentIndex-localMovePreviousIndex}}adjPreviousIndex!==currentIndex&&fn(record,adjPreviousIndex,currentIndex)}}forEachPreviousItem(fn){let record;for(record=this._previousItHead;null!==record;record=record._nextPrevious)fn(record)}forEachAddedItem(fn){let record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)}forEachMovedItem(fn){let record;for(record=this._movesHead;null!==record;record=record._nextMoved)fn(record)}forEachRemovedItem(fn){let record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)}forEachIdentityChange(fn){let record;for(record=this._identityChangesHead;null!==record;record=record._nextIdentityChange)fn(record)}diff(collection){if(null==collection&&(collection=[]),!isListLikeIterable$1(collection))throw new Error(`Error trying to diff '${stringify(collection)}'. Only arrays and iterables are allowed`);return this.check(collection)?this:null}onDestroy(){}check(collection){this._reset();let index,item,itemTrackBy,record=this._itHead,mayBeDirty=!1;if(Array.isArray(collection)){this.length=collection.length;for(let index=0;index<this.length;index++)item=collection[index],itemTrackBy=this._trackByFn(index,item),null!==record&&looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index)),looseIdentical(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next}else index=0,function iterateListLike$1(obj,fn){if(Array.isArray(obj))for(let i=0;i<obj.length;i++)fn(obj[i]);else{const iterator=obj[getSymbolIterator()]();let item;for(;!(item=iterator.next()).done;)fn(item.value)}}(collection,item=>{itemTrackBy=this._trackByFn(index,item),null!==record&&looseIdentical(record.trackById,itemTrackBy)?(mayBeDirty&&(record=this._verifyReinsertion(record,item,itemTrackBy,index)),looseIdentical(record.item,item)||this._addIdentityChange(record,item)):(record=this._mismatch(record,item,itemTrackBy,index),mayBeDirty=!0),record=record._next,index++}),this.length=index;return this._truncate(record),this.collection=collection,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let record,nextRecord;for(record=this._previousItHead=this._itHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._additionsHead;null!==record;record=record._nextAdded)record.previousIndex=record.currentIndex;for(this._additionsHead=this._additionsTail=null,record=this._movesHead;null!==record;record=nextRecord)record.previousIndex=record.currentIndex,nextRecord=record._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(record,item,itemTrackBy,index){let previousRecord;return null===record?previousRecord=this._itTail:(previousRecord=record._prev,this._remove(record)),null!==(record=null===this._linkedRecords?null:this._linkedRecords.get(itemTrackBy,index))?(looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._moveAfter(record,previousRecord,index)):null!==(record=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy,null))?(looseIdentical(record.item,item)||this._addIdentityChange(record,item),this._reinsertAfter(record,previousRecord,index)):record=this._addAfter(new IterableChangeRecord_(item,itemTrackBy),previousRecord,index),record}_verifyReinsertion(record,item,itemTrackBy,index){let reinsertRecord=null===this._unlinkedRecords?null:this._unlinkedRecords.get(itemTrackBy,null);return null!==reinsertRecord?record=this._reinsertAfter(reinsertRecord,record._prev,index):record.currentIndex!=index&&(record.currentIndex=index,this._addToMoves(record,index)),record}_truncate(record){for(;null!==record;){const nextRecord=record._next;this._addToRemovals(this._unlink(record)),record=nextRecord}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(record,prevRecord,index){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(record);const prev=record._prevRemoved,next=record._nextRemoved;return null===prev?this._removalsHead=next:prev._nextRemoved=next,null===next?this._removalsTail=prev:next._prevRemoved=prev,this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record}_moveAfter(record,prevRecord,index){return this._unlink(record),this._insertAfter(record,prevRecord,index),this._addToMoves(record,index),record}_addAfter(record,prevRecord,index){return this._insertAfter(record,prevRecord,index),null===this._additionsTail?this._additionsTail=this._additionsHead=record:this._additionsTail=this._additionsTail._nextAdded=record,record}_insertAfter(record,prevRecord,index){const next=null===prevRecord?this._itHead:prevRecord._next;return record._next=next,record._prev=prevRecord,null===next?this._itTail=record:next._prev=record,null===prevRecord?this._itHead=record:prevRecord._next=record,null===this._linkedRecords&&(this._linkedRecords=new _DuplicateMap),this._linkedRecords.put(record),record.currentIndex=index,record}_remove(record){return this._addToRemovals(this._unlink(record))}_unlink(record){null!==this._linkedRecords&&this._linkedRecords.remove(record);const prev=record._prev,next=record._next;return null===prev?this._itHead=next:prev._next=next,null===next?this._itTail=prev:next._prev=prev,record}_addToMoves(record,toIndex){return record.previousIndex===toIndex?record:(null===this._movesTail?this._movesTail=this._movesHead=record:this._movesTail=this._movesTail._nextMoved=record,record)}_addToRemovals(record){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _DuplicateMap),this._unlinkedRecords.put(record),record.currentIndex=null,record._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=record,record._prevRemoved=null):(record._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=record),record}_addIdentityChange(record,item){return record.item=item,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=record:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=record,record}}class IterableChangeRecord_{constructor(item,trackById){this.item=item,this.trackById=trackById,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _DuplicateItemRecordList{constructor(){this._head=null,this._tail=null}add(record){null===this._head?(this._head=this._tail=record,record._nextDup=null,record._prevDup=null):(this._tail._nextDup=record,record._prevDup=this._tail,record._nextDup=null,this._tail=record)}get(trackById,atOrAfterIndex){let record;for(record=this._head;null!==record;record=record._nextDup)if((null===atOrAfterIndex||atOrAfterIndex<=record.currentIndex)&&looseIdentical(record.trackById,trackById))return record;return null}remove(record){const prev=record._prevDup,next=record._nextDup;return null===prev?this._head=next:prev._nextDup=next,null===next?this._tail=prev:next._prevDup=prev,null===this._head}}class _DuplicateMap{constructor(){this.map=new Map}put(record){const key=record.trackById;let duplicates=this.map.get(key);duplicates||(duplicates=new _DuplicateItemRecordList,this.map.set(key,duplicates)),duplicates.add(record)}get(trackById,atOrAfterIndex){const key=trackById,recordList=this.map.get(key);return recordList?recordList.get(trackById,atOrAfterIndex):null}remove(record){const key=record.trackById;return this.map.get(key).remove(record)&&this.map.delete(key),record}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function getPreviousIndex(item,addRemoveOffset,moveOffsets){const previousIndex=item.previousIndex;if(null===previousIndex)return previousIndex;let moveOffset=0;return moveOffsets&&previousIndex<moveOffsets.length&&(moveOffset=moveOffsets[previousIndex]),previousIndex+addRemoveOffset+moveOffset}class DefaultKeyValueDifferFactory{constructor(){}supports(obj){return obj instanceof Map||isJsObject$1(obj)}create(){return new DefaultKeyValueDiffer}}class DefaultKeyValueDiffer{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(fn){let record;for(record=this._mapHead;null!==record;record=record._next)fn(record)}forEachPreviousItem(fn){let record;for(record=this._previousMapHead;null!==record;record=record._nextPrevious)fn(record)}forEachChangedItem(fn){let record;for(record=this._changesHead;null!==record;record=record._nextChanged)fn(record)}forEachAddedItem(fn){let record;for(record=this._additionsHead;null!==record;record=record._nextAdded)fn(record)}forEachRemovedItem(fn){let record;for(record=this._removalsHead;null!==record;record=record._nextRemoved)fn(record)}diff(map){if(map){if(!(map instanceof Map||isJsObject$1(map)))throw new Error(`Error trying to diff '${stringify(map)}'. Only maps and objects are allowed`)}else map=new Map;return this.check(map)?this:null}onDestroy(){}check(map){this._reset();let insertBefore=this._mapHead;if(this._appendAfter=null,this._forEach(map,(value,key)=>{if(insertBefore&&insertBefore.key===key)this._maybeAddToChanges(insertBefore,value),this._appendAfter=insertBefore,insertBefore=insertBefore._next;else{const record=this._getOrCreateRecordForKey(key,value);insertBefore=this._insertBeforeOrAppend(insertBefore,record)}}),insertBefore){insertBefore._prev&&(insertBefore._prev._next=null),this._removalsHead=insertBefore;for(let record=insertBefore;null!==record;record=record._nextRemoved)record===this._mapHead&&(this._mapHead=null),this._records.delete(record.key),record._nextRemoved=record._next,record.previousValue=record.currentValue,record.currentValue=null,record._prev=null,record._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(before,record){if(before){const prev=before._prev;return record._next=before,record._prev=prev,before._prev=record,prev&&(prev._next=record),before===this._mapHead&&(this._mapHead=record),this._appendAfter=before,before}return this._appendAfter?(this._appendAfter._next=record,record._prev=this._appendAfter):this._mapHead=record,this._appendAfter=record,null}_getOrCreateRecordForKey(key,value){if(this._records.has(key)){const record=this._records.get(key);this._maybeAddToChanges(record,value);const prev=record._prev,next=record._next;return prev&&(prev._next=next),next&&(next._prev=prev),record._next=null,record._prev=null,record}const record=new KeyValueChangeRecord_(key);return this._records.set(key,record),record.currentValue=value,this._addToAdditions(record),record}_reset(){if(this.isDirty){let record;for(this._previousMapHead=this._mapHead,record=this._previousMapHead;null!==record;record=record._next)record._nextPrevious=record._next;for(record=this._changesHead;null!==record;record=record._nextChanged)record.previousValue=record.currentValue;for(record=this._additionsHead;null!=record;record=record._nextAdded)record.previousValue=record.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(record,newValue){looseIdentical(newValue,record.currentValue)||(record.previousValue=record.currentValue,record.currentValue=newValue,this._addToChanges(record))}_addToAdditions(record){null===this._additionsHead?this._additionsHead=this._additionsTail=record:(this._additionsTail._nextAdded=record,this._additionsTail=record)}_addToChanges(record){null===this._changesHead?this._changesHead=this._changesTail=record:(this._changesTail._nextChanged=record,this._changesTail=record)}_forEach(obj,fn){obj instanceof Map?obj.forEach(fn):Object.keys(obj).forEach(k=>fn(obj[k],k))}}class KeyValueChangeRecord_{constructor(key){this.key=key,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}class IterableDiffers{constructor(factories){this.factories=factories}static create(factories,parent){if(null!=parent){const copied=parent.factories.slice();factories=factories.concat(copied)}return new IterableDiffers(factories)}static extend(factories){return{provide:IterableDiffers,useFactory:parent=>{if(!parent)throw new Error("Cannot extend IterableDiffers without a parent injector");return IterableDiffers.create(factories,parent)},deps:[[IterableDiffers,new SkipSelf,new Optional]]}}find(iterable){const factory=this.factories.find(f=>f.supports(iterable));if(null!=factory)return factory;throw new Error(`Cannot find a differ supporting object '${iterable}' of type '${function getTypeNameForDebugging(type){return type.name||typeof type}(iterable)}'`)}}IterableDiffers.\u0275prov=\u0275\u0275defineInjectable({token:IterableDiffers,providedIn:"root",factory:()=>new IterableDiffers([new DefaultIterableDifferFactory])});class KeyValueDiffers{constructor(factories){this.factories=factories}static create(factories,parent){if(parent){const copied=parent.factories.slice();factories=factories.concat(copied)}return new KeyValueDiffers(factories)}static extend(factories){return{provide:KeyValueDiffers,useFactory:parent=>{if(!parent)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return KeyValueDiffers.create(factories,parent)},deps:[[KeyValueDiffers,new SkipSelf,new Optional]]}}find(kv){const factory=this.factories.find(f=>f.supports(kv));if(factory)return factory;throw new Error(`Cannot find a differ supporting object '${kv}'`)}}KeyValueDiffers.\u0275prov=\u0275\u0275defineInjectable({token:KeyValueDiffers,providedIn:"root",factory:()=>new KeyValueDiffers([new DefaultKeyValueDifferFactory])});const keyValDiff=[new DefaultKeyValueDifferFactory],iterableDiff=[new DefaultIterableDifferFactory],defaultIterableDiffers=new IterableDiffers(iterableDiff),defaultKeyValueDiffers=new KeyValueDiffers(keyValDiff);class TemplateRef{}TemplateRef.__NG_ELEMENT_ID__=()=>SWITCH_TEMPLATE_REF_FACTORY(TemplateRef,ElementRef);const SWITCH_TEMPLATE_REF_FACTORY__POST_R3__=function injectTemplateRef(TemplateRefToken,ElementRefToken){return createTemplateRef(TemplateRefToken,ElementRefToken,getPreviousOrParentTNode(),getLView())},SWITCH_TEMPLATE_REF_FACTORY=SWITCH_TEMPLATE_REF_FACTORY__POST_R3__;class ViewContainerRef{}ViewContainerRef.__NG_ELEMENT_ID__=()=>SWITCH_VIEW_CONTAINER_REF_FACTORY(ViewContainerRef,ElementRef);const SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__=function injectViewContainerRef(ViewContainerRefToken,ElementRefToken){return createContainerRef(ViewContainerRefToken,ElementRefToken,getPreviousOrParentTNode(),getLView())},SWITCH_VIEW_CONTAINER_REF_FACTORY=SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__;function expressionChangedAfterItHasBeenCheckedError(context,oldValue,currValue,isFirstCheck){let msg=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${oldValue}'. Current value: '${currValue}'.`;return isFirstCheck&&(msg+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function viewDebugError(msg,context){const err=new Error(msg);return _addDebugContext(err,context),err}(msg,context)}function _addDebugContext(err,context){err.ngDebugContext=context,err.ngErrorLogger=context.logError.bind(context)}function viewDestroyedError(action){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${action}`)}function shiftInitState(view,priorInitState,newInitState){const state=view.state,initState=1792&state;return initState===priorInitState?(view.state=-1793&state|newInitState,view.initIndex=-1,!0):initState===newInitState}function shouldCallLifecycleInitHook(view,initState,index){return(1792&view.state)===initState&&view.initIndex<=index&&(view.initIndex=index+1,!0)}function asTextData(view,index){return view.nodes[index]}function asElementData(view,index){return view.nodes[index]}function asProviderData(view,index){return view.nodes[index]}function asPureExpressionData(view,index){return view.nodes[index]}function asQueryList(view,index){return view.nodes[index]}class DebugContext{}const Services={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},NOOP=()=>{},_tokenKeyCache=new Map;function tokenKey(token){let key=_tokenKeyCache.get(token);return key||(key=stringify(token)+"_"+_tokenKeyCache.size,_tokenKeyCache.set(token,key)),key}function unwrapValue(view,nodeIdx,bindingIdx,value){if(WrappedValue.isWrapped(value)){value=WrappedValue.unwrap(value);const globalBindingIdx=view.def.nodes[nodeIdx].bindingIndex+bindingIdx,oldValue=WrappedValue.unwrap(view.oldValues[globalBindingIdx]);view.oldValues[globalBindingIdx]=new WrappedValue(oldValue)}return value}function createRendererType2(values){return{id:"$$undefined",styles:values.styles,encapsulation:values.encapsulation,data:values.data}}let _renderCompCount$1=0;function checkBinding(view,def,bindingIdx,value){const oldValues=view.oldValues;return!(!(2&view.state)&&looseIdentical(oldValues[def.bindingIndex+bindingIdx],value))}function checkAndUpdateBinding(view,def,bindingIdx,value){return!!checkBinding(view,def,bindingIdx,value)&&(view.oldValues[def.bindingIndex+bindingIdx]=value,!0)}function checkBindingNoChanges(view,def,bindingIdx,value){const oldValue=view.oldValues[def.bindingIndex+bindingIdx];if(1&view.state||!devModeEqual$1(oldValue,value)){const bindingName=def.bindings[bindingIdx].name;throw expressionChangedAfterItHasBeenCheckedError(Services.createDebugContext(view,def.nodeIndex),`${bindingName}: ${oldValue}`,`${bindingName}: ${value}`,0!=(1&view.state))}}function markParentViewsForCheck(view){let currView=view;for(;currView;)2&currView.def.flags&&(currView.state|=8),currView=currView.viewContainerParent||currView.parent}function markParentViewsForCheckProjectedViews(view,endView){let currView=view;for(;currView&&currView!==endView;)currView.state|=64,currView=currView.viewContainerParent||currView.parent}function dispatchEvent(view,nodeIndex,eventName,event){try{return markParentViewsForCheck(33554432&view.def.nodes[nodeIndex].flags?asElementData(view,nodeIndex).componentView:view),Services.handleEvent(view,nodeIndex,eventName,event)}catch(e){view.root.errorHandler.handleError(e)}}function declaredViewContainer(view){if(view.parent){return asElementData(view.parent,view.parentNodeDef.nodeIndex)}return null}function viewParentEl(view){return view.parent?view.parentNodeDef.parent:null}function renderNode(view,def){switch(201347067&def.flags){case 1:return asElementData(view,def.nodeIndex).renderElement;case 2:return asTextData(view,def.nodeIndex).renderText}}function isComponentView(view){return!!view.parent&&!!(32768&view.parentNodeDef.flags)}function isEmbeddedView(view){return!(!view.parent||32768&view.parentNodeDef.flags)}function filterQueryId(queryId){return 1<<queryId%32}function splitMatchedQueriesDsl(matchedQueriesDsl){const matchedQueries={};let matchedQueryIds=0;const references={};return matchedQueriesDsl&&matchedQueriesDsl.forEach(([queryId,valueType])=>{"number"==typeof queryId?(matchedQueries[queryId]=valueType,matchedQueryIds|=filterQueryId(queryId)):references[queryId]=valueType}),{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}}function splitDepsDsl(deps,sourceName){return deps.map(value=>{let token,flags;return Array.isArray(value)?[flags,token]=value:(flags=0,token=value),token&&("function"==typeof token||"object"==typeof token)&&sourceName&&Object.defineProperty(token,"__source",{value:sourceName,configurable:!0}),{flags:flags,token:token,tokenKey:tokenKey(token)}})}function getParentRenderElement(view,renderHost,def){let renderParent=def.renderParent;return renderParent?0==(1&renderParent.flags)||0==(33554432&renderParent.flags)||renderParent.element.componentRendererType&&renderParent.element.componentRendererType.encapsulation===ViewEncapsulation$1.Native?asElementData(view,def.renderParent.nodeIndex).renderElement:void 0:renderHost}const DEFINITION_CACHE=new WeakMap;function resolveDefinition(factory){let value=DEFINITION_CACHE.get(factory);return value||(value=factory(()=>NOOP),value.factory=factory,DEFINITION_CACHE.set(factory,value)),value}function visitRootRenderNodes(view,action,parentNode,nextSibling,target){3===action&&(parentNode=view.renderer.parentNode(renderNode(view,view.def.lastRenderRootNode))),visitSiblingRenderNodes(view,action,0,view.def.nodes.length-1,parentNode,nextSibling,target)}function visitSiblingRenderNodes(view,action,startIndex,endIndex,parentNode,nextSibling,target){for(let i=startIndex;i<=endIndex;i++){const nodeDef=view.def.nodes[i];11&nodeDef.flags&&visitRenderNode(view,nodeDef,action,parentNode,nextSibling,target),i+=nodeDef.childCount}}function visitProjectedRenderNodes(view,ngContentIndex,action,parentNode,nextSibling,target){let compView=view;for(;compView&&!isComponentView(compView);)compView=compView.parent;const hostView=compView.parent,hostElDef=viewParentEl(compView),startIndex=hostElDef.nodeIndex+1,endIndex=hostElDef.nodeIndex+hostElDef.childCount;for(let i=startIndex;i<=endIndex;i++){const nodeDef=hostView.def.nodes[i];nodeDef.ngContentIndex===ngContentIndex&&visitRenderNode(hostView,nodeDef,action,parentNode,nextSibling,target),i+=nodeDef.childCount}if(!hostView.parent){const projectedNodes=view.root.projectableNodes[ngContentIndex];if(projectedNodes)for(let i=0;i<projectedNodes.length;i++)execRenderNodeAction(view,projectedNodes[i],action,parentNode,nextSibling,target)}}function visitRenderNode(view,nodeDef,action,parentNode,nextSibling,target){if(8&nodeDef.flags)visitProjectedRenderNodes(view,nodeDef.ngContent.index,action,parentNode,nextSibling,target);else{const rn=renderNode(view,nodeDef);if(3===action&&33554432&nodeDef.flags&&48&nodeDef.bindingFlags){if(16&nodeDef.bindingFlags&&execRenderNodeAction(view,rn,action,parentNode,nextSibling,target),32&nodeDef.bindingFlags){execRenderNodeAction(asElementData(view,nodeDef.nodeIndex).componentView,rn,action,parentNode,nextSibling,target)}}else execRenderNodeAction(view,rn,action,parentNode,nextSibling,target);if(16777216&nodeDef.flags){const embeddedViews=asElementData(view,nodeDef.nodeIndex).viewContainer._embeddedViews;for(let k=0;k<embeddedViews.length;k++)visitRootRenderNodes(embeddedViews[k],action,parentNode,nextSibling,target)}1&nodeDef.flags&&!nodeDef.element.name&&visitSiblingRenderNodes(view,action,nodeDef.nodeIndex+1,nodeDef.nodeIndex+nodeDef.childCount,parentNode,nextSibling,target)}}function execRenderNodeAction(view,renderNode,action,parentNode,nextSibling,target){const renderer=view.renderer;switch(action){case 1:renderer.appendChild(parentNode,renderNode);break;case 2:renderer.insertBefore(parentNode,renderNode,nextSibling);break;case 3:renderer.removeChild(parentNode,renderNode);break;case 0:target.push(renderNode)}}const NS_PREFIX_RE=/^:([^:]+):(.+)$/;function splitNamespace(name){if(":"===name[0]){const match=name.match(NS_PREFIX_RE);return[match[1],match[2]]}return["",name]}function calcBindingFlags(bindings){let flags=0;for(let i=0;i<bindings.length;i++)flags|=bindings[i].flags;return flags}function interpolate(valueCount,constAndInterp){let result="";for(let i=0;i<2*valueCount;i+=2)result=result+constAndInterp[i]+_toStringWithNull(constAndInterp[i+1]);return result+constAndInterp[2*valueCount]}function inlineInterpolate(valueCount,c0,a1,c1,a2,c2,a3,c3,a4,c4,a5,c5,a6,c6,a7,c7,a8,c8,a9,c9){switch(valueCount){case 1:return c0+_toStringWithNull(a1)+c1;case 2:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2;case 3:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3;case 4:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4;case 5:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5;case 6:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6;case 7:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7;case 8:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7+_toStringWithNull(a8)+c8;case 9:return c0+_toStringWithNull(a1)+c1+_toStringWithNull(a2)+c2+_toStringWithNull(a3)+c3+_toStringWithNull(a4)+c4+_toStringWithNull(a5)+c5+_toStringWithNull(a6)+c6+_toStringWithNull(a7)+c7+_toStringWithNull(a8)+c8+_toStringWithNull(a9)+c9;default:throw new Error("Does not support more than 9 expressions")}}function _toStringWithNull(v){return null!=v?v.toString():""}const EMPTY_ARRAY$4=[],EMPTY_MAP={},UNDEFINED_VALUE={},InjectorRefTokenKey=tokenKey(Injector),INJECTORRefTokenKey=tokenKey(INJECTOR),NgModuleRefTokenKey=tokenKey(NgModuleRef);function moduleProvideDef(flags,token,value,deps){return value=resolveForwardRef(value),{index:-1,deps:splitDepsDsl(deps,stringify(token)),flags:flags,token:token,value:value}}function moduleDef(providers){const providersByKey={},modules=[];let scope=null;for(let i=0;i<providers.length;i++){const provider=providers[i];provider.token===INJECTOR_SCOPE&&(scope=provider.value),1073741824&provider.flags&&modules.push(provider.token),provider.index=i,providersByKey[tokenKey(provider.token)]=provider}return{factory:null,providersByKey:providersByKey,providers:providers,modules:modules,scope:scope}}function resolveNgModuleDep(data,depDef,notFoundValue=Injector.THROW_IF_NOT_FOUND){const former=setCurrentInjector(data);try{if(8&depDef.flags)return depDef.token;if(2&depDef.flags&&(notFoundValue=null),1&depDef.flags)return data._parent.get(depDef.token,notFoundValue);const tokenKey=depDef.tokenKey;switch(tokenKey){case InjectorRefTokenKey:case INJECTORRefTokenKey:case NgModuleRefTokenKey:return data}const providerDef=data._def.providersByKey[tokenKey];let injectableDef;if(providerDef){let providerInstance=data._providers[providerDef.index];return void 0===providerInstance&&(providerInstance=data._providers[providerDef.index]=_createProviderInstance(data,providerDef)),providerInstance===UNDEFINED_VALUE?void 0:providerInstance}if((injectableDef=getInjectableDef(depDef.token))&&function targetsModule(ngModule,def){const providedIn=def.providedIn;return null!=providedIn&&("any"===providedIn||providedIn===ngModule._def.scope||function moduleTransitivelyPresent(ngModule,scope){return ngModule._def.modules.indexOf(scope)>-1}(ngModule,providedIn))}(data,injectableDef)){const index=data._providers.length;return data._def.providers[index]=data._def.providersByKey[depDef.tokenKey]={flags:5120,value:injectableDef.factory,deps:[],index:index,token:depDef.token},data._providers[index]=UNDEFINED_VALUE,data._providers[index]=_createProviderInstance(data,data._def.providersByKey[depDef.tokenKey])}return 4&depDef.flags?notFoundValue:data._parent.get(depDef.token,notFoundValue)}finally{setCurrentInjector(former)}}function _createProviderInstance(ngModule,providerDef){let injectable;switch(201347067&providerDef.flags){case 512:injectable=function _createClass(ngModule,ctor,deps){const len=deps.length;switch(len){case 0:return new ctor;case 1:return new ctor(resolveNgModuleDep(ngModule,deps[0]));case 2:return new ctor(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]));case 3:return new ctor(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]),resolveNgModuleDep(ngModule,deps[2]));default:const depValues=[];for(let i=0;i<len;i++)depValues[i]=resolveNgModuleDep(ngModule,deps[i]);return new ctor(...depValues)}}(ngModule,providerDef.value,providerDef.deps);break;case 1024:injectable=function _callFactory(ngModule,factory,deps){const len=deps.length;switch(len){case 0:return factory();case 1:return factory(resolveNgModuleDep(ngModule,deps[0]));case 2:return factory(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]));case 3:return factory(resolveNgModuleDep(ngModule,deps[0]),resolveNgModuleDep(ngModule,deps[1]),resolveNgModuleDep(ngModule,deps[2]));default:const depValues=[];for(let i=0;i<len;i++)depValues[i]=resolveNgModuleDep(ngModule,deps[i]);return factory(...depValues)}}(ngModule,providerDef.value,providerDef.deps);break;case 2048:injectable=resolveNgModuleDep(ngModule,providerDef.deps[0]);break;case 256:injectable=providerDef.value}return injectable===UNDEFINED_VALUE||null===injectable||"object"!=typeof injectable||131072&providerDef.flags||"function"!=typeof injectable.ngOnDestroy||(providerDef.flags|=131072),void 0===injectable?UNDEFINED_VALUE:injectable}function attachEmbeddedView(parentView,elementData,viewIndex,view){let embeddedViews=elementData.viewContainer._embeddedViews;null==viewIndex&&(viewIndex=embeddedViews.length),view.viewContainerParent=parentView,addToArray(embeddedViews,viewIndex,view),function attachProjectedView(vcElementData,view){const dvcElementData=declaredViewContainer(view);if(!dvcElementData||dvcElementData===vcElementData||16&view.state)return;view.state|=16;let projectedViews=dvcElementData.template._projectedViews;projectedViews||(projectedViews=dvcElementData.template._projectedViews=[]);projectedViews.push(view),function markNodeAsProjectedTemplate(viewDef,nodeDef){if(4&nodeDef.flags)return;viewDef.nodeFlags|=4,nodeDef.flags|=4;let parentNodeDef=nodeDef.parent;for(;parentNodeDef;)parentNodeDef.childFlags|=4,parentNodeDef=parentNodeDef.parent}(view.parent.def,view.parentNodeDef)}(elementData,view),Services.dirtyParentQueries(view),renderAttachEmbeddedView(elementData,viewIndex>0?embeddedViews[viewIndex-1]:null,view)}function detachEmbeddedView(elementData,viewIndex){const embeddedViews=elementData.viewContainer._embeddedViews;if((null==viewIndex||viewIndex>=embeddedViews.length)&&(viewIndex=embeddedViews.length-1),viewIndex<0)return null;const view=embeddedViews[viewIndex];return view.viewContainerParent=null,removeFromArray(embeddedViews,viewIndex),Services.dirtyParentQueries(view),renderDetachView$1(view),view}function renderAttachEmbeddedView(elementData,prevView,view){const prevRenderNode=prevView?renderNode(prevView,prevView.def.lastRenderRootNode):elementData.renderElement,parentNode=view.renderer.parentNode(prevRenderNode),nextSibling=view.renderer.nextSibling(prevRenderNode);visitRootRenderNodes(view,2,parentNode,nextSibling,void 0)}function renderDetachView$1(view){visitRootRenderNodes(view,3,null,null,void 0)}const EMPTY_CONTEXT={};function createComponentFactory(selector,componentType,viewDefFactory,inputs,outputs,ngContentSelectors){return new ComponentFactory_(selector,componentType,viewDefFactory,inputs,outputs,ngContentSelectors)}function getComponentViewDefinitionFactory(componentFactory){return componentFactory.viewDefFactory}class ComponentFactory_ extends ComponentFactory{constructor(selector,componentType,viewDefFactory,_inputs,_outputs,ngContentSelectors){super(),this.selector=selector,this.componentType=componentType,this._inputs=_inputs,this._outputs=_outputs,this.ngContentSelectors=ngContentSelectors,this.viewDefFactory=viewDefFactory}get inputs(){const inputsArr=[],inputs=this._inputs;for(let propName in inputs){const templateName=inputs[propName];inputsArr.push({propName:propName,templateName:templateName})}return inputsArr}get outputs(){const outputsArr=[];for(let propName in this._outputs){const templateName=this._outputs[propName];outputsArr.push({propName:propName,templateName:templateName})}return outputsArr}create(injector,projectableNodes,rootSelectorOrNode,ngModule){if(!ngModule)throw new Error("ngModule should be provided");const viewDef=resolveDefinition(this.viewDefFactory),componentNodeIndex=viewDef.nodes[0].element.componentProvider.nodeIndex,view=Services.createRootView(injector,projectableNodes||[],rootSelectorOrNode,viewDef,ngModule,EMPTY_CONTEXT),component=asProviderData(view,componentNodeIndex).instance;return rootSelectorOrNode&&view.renderer.setAttribute(asElementData(view,0).renderElement,"ng-version",VERSION.full),new ComponentRef_(view,new ViewRef_(view),component)}}class ComponentRef_ extends ComponentRef{constructor(_view,_viewRef,_component){super(),this._view=_view,this._viewRef=_viewRef,this._component=_component,this._elDef=this._view.def.nodes[0],this.hostView=_viewRef,this.changeDetectorRef=_viewRef,this.instance=_component}get location(){return new ElementRef(asElementData(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Injector_(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(callback){this._viewRef.onDestroy(callback)}}function createViewContainerData(view,elDef,elData){return new ViewContainerRef_(view,elDef,elData)}class ViewContainerRef_{constructor(_view,_elDef,_data){this._view=_view,this._elDef=_elDef,this._data=_data,this._embeddedViews=[]}get element(){return new ElementRef(this._data.renderElement)}get injector(){return new Injector_(this._view,this._elDef)}get parentInjector(){let view=this._view,elDef=this._elDef.parent;for(;!elDef&&view;)elDef=viewParentEl(view),view=view.parent;return view?new Injector_(view,elDef):new Injector_(this._view,null)}clear(){for(let i=this._embeddedViews.length-1;i>=0;i--){const view=detachEmbeddedView(this._data,i);Services.destroyView(view)}}get(index){const view=this._embeddedViews[index];if(view){const ref=new ViewRef_(view);return ref.attachToViewContainerRef(this),ref}return null}get length(){return this._embeddedViews.length}createEmbeddedView(templateRef,context,index){const viewRef=templateRef.createEmbeddedView(context||{});return this.insert(viewRef,index),viewRef}createComponent(componentFactory,index,injector,projectableNodes,ngModuleRef){const contextInjector=injector||this.parentInjector;ngModuleRef||componentFactory instanceof ComponentFactoryBoundToModule||(ngModuleRef=contextInjector.get(NgModuleRef));const componentRef=componentFactory.create(contextInjector,projectableNodes,void 0,ngModuleRef);return this.insert(componentRef.hostView,index),componentRef}insert(viewRef,index){if(viewRef.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const viewRef_=viewRef,viewData=viewRef_._view;return attachEmbeddedView(this._view,this._data,index,viewData),viewRef_.attachToViewContainerRef(this),viewRef}move(viewRef,currentIndex){if(viewRef.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const previousIndex=this._embeddedViews.indexOf(viewRef._view);return function moveEmbeddedView(elementData,oldViewIndex,newViewIndex){const embeddedViews=elementData.viewContainer._embeddedViews,view=embeddedViews[oldViewIndex];return removeFromArray(embeddedViews,oldViewIndex),null==newViewIndex&&(newViewIndex=embeddedViews.length),addToArray(embeddedViews,newViewIndex,view),Services.dirtyParentQueries(view),renderDetachView$1(view),renderAttachEmbeddedView(elementData,newViewIndex>0?embeddedViews[newViewIndex-1]:null,view),view}(this._data,previousIndex,currentIndex),viewRef}indexOf(viewRef){return this._embeddedViews.indexOf(viewRef._view)}remove(index){const viewData=detachEmbeddedView(this._data,index);viewData&&Services.destroyView(viewData)}detach(index){const view=detachEmbeddedView(this._data,index);return view?new ViewRef_(view):null}}function createChangeDetectorRef(view){return new ViewRef_(view)}class ViewRef_{constructor(_view){this._view=_view,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function rootRenderNodes(view){const renderNodes=[];return visitRootRenderNodes(view,0,void 0,void 0,renderNodes),renderNodes}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){markParentViewsForCheck(this._view)}detach(){this._view.state&=-5}detectChanges(){const fs=this._view.root.rendererFactory;fs.begin&&fs.begin();try{Services.checkAndUpdateView(this._view)}finally{fs.end&&fs.end()}}checkNoChanges(){Services.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(callback){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(callback)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Services.destroyView(this._view)}detachFromAppRef(){this._appRef=null,renderDetachView$1(this._view),Services.dirtyParentQueries(this._view)}attachToAppRef(appRef){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=appRef}attachToViewContainerRef(vcRef){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=vcRef}}function createTemplateData(view,def){return new TemplateRef_(view,def)}class TemplateRef_ extends TemplateRef{constructor(_parentView,_def){super(),this._parentView=_parentView,this._def=_def}createEmbeddedView(context){return new ViewRef_(Services.createEmbeddedView(this._parentView,this._def,this._def.element.template,context))}get elementRef(){return new ElementRef(asElementData(this._parentView,this._def.nodeIndex).renderElement)}}function createInjector$1(view,elDef){return new Injector_(view,elDef)}class Injector_{constructor(view,elDef){this.view=view,this.elDef=elDef}get(token,notFoundValue=Injector.THROW_IF_NOT_FOUND){const allowPrivateServices=!!this.elDef&&0!=(33554432&this.elDef.flags);return Services.resolveDep(this.view,this.elDef,allowPrivateServices,{flags:0,token:token,tokenKey:tokenKey(token)},notFoundValue)}}function nodeValue(view,index){const def=view.def.nodes[index];if(1&def.flags){const elData=asElementData(view,def.nodeIndex);return(def.element.template?elData.template:elData.renderElement)}if(2&def.flags)return asTextData(view,def.nodeIndex).renderText;if(20240&def.flags)return asProviderData(view,def.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${index}`)}function createNgModuleRef(moduleType,parent,bootstrapComponents,def){return new NgModuleRef_(moduleType,parent,bootstrapComponents,def)}class NgModuleRef_{constructor(_moduleType,_parent,_bootstrapComponents,_def){this._moduleType=_moduleType,this._parent=_parent,this._bootstrapComponents=_bootstrapComponents,this._def=_def,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function initNgModule(data){const def=data._def,providers=data._providers=newArray(def.providers.length);for(let i=0;i<def.providers.length;i++){const provDef=def.providers[i];4096&provDef.flags||void 0===providers[i]&&(providers[i]=_createProviderInstance(data,provDef))}}(this)}get(token,notFoundValue=Injector.THROW_IF_NOT_FOUND,injectFlags=InjectFlags.Default){let flags=0;return injectFlags&InjectFlags.SkipSelf?flags|=1:injectFlags&InjectFlags.Self&&(flags|=4),resolveNgModuleDep(this,{token:token,tokenKey:tokenKey(token),flags:flags},notFoundValue)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(ComponentFactoryResolver)}destroy(){if(this._destroyed)throw new Error(`The ng module ${stringify(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function callNgModuleLifecycle(ngModule,lifecycles){const def=ngModule._def,destroyed=new Set;for(let i=0;i<def.providers.length;i++){if(131072&def.providers[i].flags){const instance=ngModule._providers[i];if(instance&&instance!==UNDEFINED_VALUE){const onDestroy=instance.ngOnDestroy;"function"!=typeof onDestroy||destroyed.has(instance)||(onDestroy.apply(instance),destroyed.add(instance))}}}}(this),this._destroyListeners.forEach(listener=>listener())}onDestroy(callback){this._destroyListeners.push(callback)}}const Renderer2TokenKey=tokenKey(Renderer2),ElementRefTokenKey=tokenKey(ElementRef),ViewContainerRefTokenKey=tokenKey(ViewContainerRef),TemplateRefTokenKey=tokenKey(TemplateRef),ChangeDetectorRefTokenKey=tokenKey(ChangeDetectorRef),InjectorRefTokenKey$1=tokenKey(Injector),INJECTORRefTokenKey$1=tokenKey(INJECTOR);function directiveDef(checkIndex,flags,matchedQueries,childCount,ctor,deps,props,outputs){const bindings=[];if(props)for(let prop in props){const[bindingIndex,nonMinifiedName]=props[prop];bindings[bindingIndex]={flags:8,name:prop,nonMinifiedName:nonMinifiedName,ns:null,securityContext:null,suffix:null}}const outputDefs=[];if(outputs)for(let propName in outputs)outputDefs.push({type:1,propName:propName,target:null,eventName:outputs[propName]});return _def(checkIndex,flags|=16384,matchedQueries,childCount,ctor,ctor,deps,bindings,outputDefs)}function pipeDef(flags,ctor,deps){return _def(-1,flags|=16,null,0,ctor,ctor,deps)}function providerDef(flags,matchedQueries,token,value,deps){return _def(-1,flags,matchedQueries,0,token,value,deps)}function _def(checkIndex,flags,matchedQueriesDsl,childCount,token,value,deps,bindings,outputs){const{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}=splitMatchedQueriesDsl(matchedQueriesDsl);outputs||(outputs=[]),bindings||(bindings=[]),value=resolveForwardRef(value);const depDefs=splitDepsDsl(deps,stringify(token));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:flags,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:matchedQueries,matchedQueryIds:matchedQueryIds,references:references,ngContentIndex:-1,childCount:childCount,bindings:bindings,bindingFlags:calcBindingFlags(bindings),outputs:outputs,element:null,provider:{token:token,value:value,deps:depDefs},text:null,query:null,ngContent:null}}function createProviderInstance(view,def){return _createProviderInstance$1(view,def)}function createPipeInstance(view,def){let compView=view;for(;compView.parent&&!isComponentView(compView);)compView=compView.parent;return createClass(compView.parent,viewParentEl(compView),!0,def.provider.value,def.provider.deps)}function createDirectiveInstance(view,def){const allowPrivateServices=(32768&def.flags)>0,instance=createClass(view,def.parent,allowPrivateServices,def.provider.value,def.provider.deps);if(def.outputs.length)for(let i=0;i<def.outputs.length;i++){const output=def.outputs[i],outputObservable=instance[output.propName];if(!isObservable(outputObservable))throw new Error(`@Output ${output.propName} not initialized in '${instance.constructor.name}'.`);{const subscription=outputObservable.subscribe(eventHandlerClosure(view,def.parent.nodeIndex,output.eventName));view.disposables[def.outputIndex+i]=subscription.unsubscribe.bind(subscription)}}return instance}function eventHandlerClosure(view,index,eventName){return event=>dispatchEvent(view,index,eventName,event)}function _createProviderInstance$1(view,def){const allowPrivateServices=(8192&def.flags)>0,providerDef=def.provider;switch(201347067&def.flags){case 512:return createClass(view,def.parent,allowPrivateServices,providerDef.value,providerDef.deps);case 1024:return function callFactory(view,elDef,allowPrivateServices,factory,deps){const len=deps.length;switch(len){case 0:return factory();case 1:return factory(resolveDep(view,elDef,allowPrivateServices,deps[0]));case 2:return factory(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]));case 3:return factory(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]),resolveDep(view,elDef,allowPrivateServices,deps[2]));default:const depValues=[];for(let i=0;i<len;i++)depValues.push(resolveDep(view,elDef,allowPrivateServices,deps[i]));return factory(...depValues)}}(view,def.parent,allowPrivateServices,providerDef.value,providerDef.deps);case 2048:return resolveDep(view,def.parent,allowPrivateServices,providerDef.deps[0]);case 256:return providerDef.value}}function createClass(view,elDef,allowPrivateServices,ctor,deps){const len=deps.length;switch(len){case 0:return new ctor;case 1:return new ctor(resolveDep(view,elDef,allowPrivateServices,deps[0]));case 2:return new ctor(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]));case 3:return new ctor(resolveDep(view,elDef,allowPrivateServices,deps[0]),resolveDep(view,elDef,allowPrivateServices,deps[1]),resolveDep(view,elDef,allowPrivateServices,deps[2]));default:const depValues=[];for(let i=0;i<len;i++)depValues.push(resolveDep(view,elDef,allowPrivateServices,deps[i]));return new ctor(...depValues)}}const NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR={};function resolveDep(view,elDef,allowPrivateServices,depDef,notFoundValue=Injector.THROW_IF_NOT_FOUND){if(8&depDef.flags)return depDef.token;const startView=view;2&depDef.flags&&(notFoundValue=null);const tokenKey=depDef.tokenKey;tokenKey===ChangeDetectorRefTokenKey&&(allowPrivateServices=!(!elDef||!elDef.element.componentView)),elDef&&1&depDef.flags&&(allowPrivateServices=!1,elDef=elDef.parent);let searchView=view;for(;searchView;){if(elDef)switch(tokenKey){case Renderer2TokenKey:return findCompView(searchView,elDef,allowPrivateServices).renderer;case ElementRefTokenKey:return new ElementRef(asElementData(searchView,elDef.nodeIndex).renderElement);case ViewContainerRefTokenKey:return asElementData(searchView,elDef.nodeIndex).viewContainer;case TemplateRefTokenKey:if(elDef.element.template)return asElementData(searchView,elDef.nodeIndex).template;break;case ChangeDetectorRefTokenKey:return createChangeDetectorRef(findCompView(searchView,elDef,allowPrivateServices));case InjectorRefTokenKey$1:case INJECTORRefTokenKey$1:return createInjector$1(searchView,elDef);default:const providerDef=(allowPrivateServices?elDef.element.allProviders:elDef.element.publicProviders)[tokenKey];if(providerDef){let providerData=asProviderData(searchView,providerDef.nodeIndex);return providerData||(providerData={instance:_createProviderInstance$1(searchView,providerDef)},searchView.nodes[providerDef.nodeIndex]=providerData),providerData.instance}}allowPrivateServices=isComponentView(searchView),elDef=viewParentEl(searchView),searchView=searchView.parent,4&depDef.flags&&(searchView=null)}const value=startView.root.injector.get(depDef.token,NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR);return value!==NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR||notFoundValue===NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR?value:startView.root.ngModule.injector.get(depDef.token,notFoundValue)}function findCompView(view,elDef,allowPrivateServices){let compView;if(allowPrivateServices)compView=asElementData(view,elDef.nodeIndex).componentView;else for(compView=view;compView.parent&&!isComponentView(compView);)compView=compView.parent;return compView}function updateProp(view,providerData,def,bindingIdx,value,changes){if(32768&def.flags){const compView=asElementData(view,def.parent.nodeIndex).componentView;2&compView.def.flags&&(compView.state|=8)}const propName=def.bindings[bindingIdx].name;if(providerData.instance[propName]=value,524288&def.flags){changes=changes||{};const oldValue=WrappedValue.unwrap(view.oldValues[def.bindingIndex+bindingIdx]);changes[def.bindings[bindingIdx].nonMinifiedName]=new SimpleChange(oldValue,value,0!=(2&view.state))}return view.oldValues[def.bindingIndex+bindingIdx]=value,changes}function callLifecycleHooksChildrenFirst(view,lifecycles){if(!(view.def.nodeFlags&lifecycles))return;const nodes=view.def.nodes;let initIndex=0;for(let i=0;i<nodes.length;i++){const nodeDef=nodes[i];let parent=nodeDef.parent;for(!parent&&nodeDef.flags&lifecycles&&callProviderLifecycles(view,i,nodeDef.flags&lifecycles,initIndex++),0==(nodeDef.childFlags&lifecycles)&&(i+=nodeDef.childCount);parent&&1&parent.flags&&i===parent.nodeIndex+parent.childCount;)parent.directChildFlags&lifecycles&&(initIndex=callElementProvidersLifecycles(view,parent,lifecycles,initIndex)),parent=parent.parent}}function callElementProvidersLifecycles(view,elDef,lifecycles,initIndex){for(let i=elDef.nodeIndex+1;i<=elDef.nodeIndex+elDef.childCount;i++){const nodeDef=view.def.nodes[i];nodeDef.flags&lifecycles&&callProviderLifecycles(view,i,nodeDef.flags&lifecycles,initIndex++),i+=nodeDef.childCount}return initIndex}function callProviderLifecycles(view,index,lifecycles,initIndex){const providerData=asProviderData(view,index);if(!providerData)return;const provider=providerData.instance;provider&&(Services.setCurrentNode(view,index),1048576&lifecycles&&shouldCallLifecycleInitHook(view,512,initIndex)&&provider.ngAfterContentInit(),2097152&lifecycles&&provider.ngAfterContentChecked(),4194304&lifecycles&&shouldCallLifecycleInitHook(view,768,initIndex)&&provider.ngAfterViewInit(),8388608&lifecycles&&provider.ngAfterViewChecked(),131072&lifecycles&&provider.ngOnDestroy())}class ComponentFactoryResolver$1 extends ComponentFactoryResolver{constructor(ngModule){super(),this.ngModule=ngModule}resolveComponentFactory(component){const componentDef=getComponentDef(component);return new ComponentFactory$1(componentDef,this.ngModule)}}function toRefArray(map){const array=[];for(let nonMinified in map)if(map.hasOwnProperty(nonMinified)){const minified=map[nonMinified];array.push({propName:minified,templateName:nonMinified})}return array}const SCHEDULER=new InjectionToken("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>defaultScheduler});class ComponentFactory$1 extends ComponentFactory{constructor(componentDef,ngModule){super(),this.componentDef=componentDef,this.ngModule=ngModule,this.componentType=componentDef.type,this.selector=function stringifyCSSSelectorList(selectorList){return selectorList.map(stringifyCSSSelector).join(",")}(componentDef.selectors),this.ngContentSelectors=componentDef.ngContentSelectors?componentDef.ngContentSelectors:[],this.isBoundToModule=!!ngModule}get inputs(){return toRefArray(this.componentDef.inputs)}get outputs(){return toRefArray(this.componentDef.outputs)}create(injector,projectableNodes,rootSelectorOrNode,ngModule){const rootViewInjector=(ngModule=ngModule||this.ngModule)?function createChainedInjector(rootViewInjector,moduleInjector){return{get:(token,notFoundValue,flags)=>{const value=rootViewInjector.get(token,NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR,flags);return value!==NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR||notFoundValue===NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR?value:moduleInjector.get(token,notFoundValue,flags)}}}(injector,ngModule.injector):injector,rendererFactory=rootViewInjector.get(RendererFactory2,domRendererFactory3),sanitizer=rootViewInjector.get(Sanitizer,null),hostRenderer=rendererFactory.createRenderer(null,this.componentDef),elementName=this.componentDef.selectors[0][0]||"div",hostRNode=rootSelectorOrNode?locateHostElement(hostRenderer,rootSelectorOrNode,this.componentDef.encapsulation):elementCreate(elementName,rendererFactory.createRenderer(null,this.componentDef),function getNamespace$1(elementName){const name=elementName.toLowerCase();return"svg"===name?"http://www.w3.org/2000/svg":"math"===name?"http://www.w3.org/1998/MathML/":null}(elementName)),rootFlags=this.componentDef.onPush?576:528,isIsolated="string"==typeof rootSelectorOrNode&&/^#root-ng-internal-isolated-\d+/.test(rootSelectorOrNode),rootContext=createRootContext(),rootTView=createTView(0,-1,null,1,0,null,null,null,null,null),rootLView=createLView(null,rootTView,rootContext,rootFlags,null,null,rendererFactory,hostRenderer,sanitizer,rootViewInjector);let component,tElementNode;enterView(rootLView,null);try{const componentView=createRootComponentView(hostRNode,this.componentDef,rootLView,rendererFactory,hostRenderer);if(hostRNode)if(rootSelectorOrNode)setUpAttributes(hostRenderer,hostRNode,["ng-version",VERSION.full]);else{const{attrs:attrs,classes:classes}=function extractAttrsAndClassesFromSelector(selector){const attrs=[],classes=[];let i=1,mode=2;for(;i<selector.length;){let valueOrMarker=selector[i];if("string"==typeof valueOrMarker)2===mode?""!==valueOrMarker&&attrs.push(valueOrMarker,selector[++i]):8===mode&&classes.push(valueOrMarker);else{if(!isPositive(mode))break;mode=valueOrMarker}i++}return{attrs:attrs,classes:classes}}(this.componentDef.selectors[0]);attrs&&setUpAttributes(hostRenderer,hostRNode,attrs),classes&&classes.length>0&&writeDirectClass(hostRenderer,hostRNode,classes.join(" "))}tElementNode=getTNode(rootLView[1],0),projectableNodes&&(tElementNode.projection=projectableNodes.map(nodesforSlot=>Array.from(nodesforSlot))),component=createRootComponent(componentView,this.componentDef,rootLView,rootContext,[LifecycleHooksFeature]),renderView(rootTView,rootLView,null)}finally{leaveView()}const componentRef=new ComponentRef$1(this.componentType,component,createElementRef(ElementRef,tElementNode,rootLView),rootLView,tElementNode);return rootSelectorOrNode&&!isIsolated||(componentRef.hostView._tViewNode.child=tElementNode),componentRef}}new ComponentFactoryResolver$1;class ComponentRef$1 extends ComponentRef{constructor(componentType,instance,location,_rootLView,_tNode){super(),this.location=location,this._rootLView=_rootLView,this._tNode=_tNode,this.destroyCbs=[],this.instance=instance,this.hostView=this.changeDetectorRef=new RootViewRef(_rootLView),this.hostView._tViewNode=assignTViewNodeToLView(_rootLView[1],null,-1,_rootLView),this.componentType=componentType}get injector(){return new NodeInjector(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(fn=>fn()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(callback){this.destroyCbs&&this.destroyCbs.push(callback)}}const u=void 0;var localeEn=["en",[["a","p"],["AM","PM"],u],[["AM","PM"],u,u],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],u,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],u,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",u,"{1} 'at' {0}",u],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function plural(n){let i=Math.floor(Math.abs(n)),v=n.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===v?1:5}];let LOCALE_DATA={};function registerLocaleData(data,localeId,extraData){"string"!=typeof localeId&&(extraData=localeId,localeId=data[LocaleDataIndex.LocaleId]),localeId=localeId.toLowerCase().replace(/_/g,"-"),LOCALE_DATA[localeId]=data,extraData&&(LOCALE_DATA[localeId][LocaleDataIndex.ExtraData]=extraData)}function findLocaleData(locale){const normalizedLocale=function normalizeLocale(locale){return locale.toLowerCase().replace(/_/g,"-")}(locale);let match=getLocaleData(normalizedLocale);if(match)return match;const parentLocale=normalizedLocale.split("-")[0];if(match=getLocaleData(parentLocale),match)return match;if("en"===parentLocale)return localeEn;throw new Error(`Missing locale data for the locale "${locale}".`)}function getLocaleCurrencyCode(locale){return findLocaleData(locale)[LocaleDataIndex.CurrencyCode]||null}function getLocalePluralCase(locale){return findLocaleData(locale)[LocaleDataIndex.PluralCase]}function getLocaleData(normalizedLocale){return normalizedLocale in LOCALE_DATA||(LOCALE_DATA[normalizedLocale]=_global.ng&&_global.ng.common&&_global.ng.common.locales&&_global.ng.common.locales[normalizedLocale]),LOCALE_DATA[normalizedLocale]}function unregisterAllLocaleData(){LOCALE_DATA={}}const LocaleDataIndex={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};LocaleDataIndex[LocaleDataIndex.LocaleId]="LocaleId",LocaleDataIndex[LocaleDataIndex.DayPeriodsFormat]="DayPeriodsFormat",LocaleDataIndex[LocaleDataIndex.DayPeriodsStandalone]="DayPeriodsStandalone",LocaleDataIndex[LocaleDataIndex.DaysFormat]="DaysFormat",LocaleDataIndex[LocaleDataIndex.DaysStandalone]="DaysStandalone",LocaleDataIndex[LocaleDataIndex.MonthsFormat]="MonthsFormat",LocaleDataIndex[LocaleDataIndex.MonthsStandalone]="MonthsStandalone",LocaleDataIndex[LocaleDataIndex.Eras]="Eras",LocaleDataIndex[LocaleDataIndex.FirstDayOfWeek]="FirstDayOfWeek",LocaleDataIndex[LocaleDataIndex.WeekendRange]="WeekendRange",LocaleDataIndex[LocaleDataIndex.DateFormat]="DateFormat",LocaleDataIndex[LocaleDataIndex.TimeFormat]="TimeFormat",LocaleDataIndex[LocaleDataIndex.DateTimeFormat]="DateTimeFormat",LocaleDataIndex[LocaleDataIndex.NumberSymbols]="NumberSymbols",LocaleDataIndex[LocaleDataIndex.NumberFormats]="NumberFormats",LocaleDataIndex[LocaleDataIndex.CurrencyCode]="CurrencyCode",LocaleDataIndex[LocaleDataIndex.CurrencySymbol]="CurrencySymbol",LocaleDataIndex[LocaleDataIndex.CurrencyName]="CurrencyName",LocaleDataIndex[LocaleDataIndex.Currencies]="Currencies",LocaleDataIndex[LocaleDataIndex.PluralCase]="PluralCase",LocaleDataIndex[LocaleDataIndex.ExtraData]="ExtraData";const DEFAULT_LOCALE_ID="en-US",USD_CURRENCY_CODE="USD",ICU_BLOCK_REGEXP=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,SUBTEMPLATE_REGEXP=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,PH_REGEXP=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,BINDING_REGEXP=/\ufffd(\d+):?\d*\ufffd/gi,ICU_REGEXP=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,PP_MULTI_VALUE_PLACEHOLDERS_REGEXP=/\[(\ufffd.+?\ufffd?)\]/,PP_PLACEHOLDERS_REGEXP=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,PP_ICU_VARS_REGEXP=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,PP_ICU_PLACEHOLDERS_REGEXP=/{([A-Z0-9_]+)}/g,PP_ICUS_REGEXP=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,PP_CLOSE_TEMPLATE_REGEXP=/\/\*/,PP_TEMPLATE_ID_REGEXP=/\d+\:(\d+)/;function extractParts(pattern){if(!pattern)return[];let prevPos=0;const braceStack=[],results=[],braces=/[{}]/g;let match;for(braces.lastIndex=0;match=braces.exec(pattern);){const pos=match.index;if("}"==match[0]){if(braceStack.pop(),0==braceStack.length){const block=pattern.substring(prevPos,pos);ICU_BLOCK_REGEXP.test(block)?results.push(parseICUBlock(block)):results.push(block),prevPos=pos+1}}else{if(0==braceStack.length){const substring=pattern.substring(prevPos,pos);results.push(substring),prevPos=pos+1}braceStack.push("{")}}const substring=pattern.substring(prevPos);return results.push(substring),results}function parseICUBlock(pattern){const cases=[],values=[];let icuType=1,mainBinding=0;const parts=extractParts(pattern=pattern.replace(ICU_BLOCK_REGEXP,(function(str,binding,type){return icuType="select"===type?0:1,mainBinding=parseInt(binding.substr(1),10),""})));for(let pos=0;pos<parts.length;){let key=parts[pos++].trim();1===icuType&&(key=key.replace(/\s*(?:=)?(\w+)\s*/,"$1")),key.length&&cases.push(key);const blocks=extractParts(parts[pos++]);cases.length>values.length&&values.push(blocks)}return{type:icuType,mainBinding:mainBinding,cases:cases,values:values}}function removeInnerTemplateTranslation(message){let match,tagMatched,res="",index=0,inTemplate=!1;for(;null!==(match=SUBTEMPLATE_REGEXP.exec(message));)inTemplate?match[0]===`\ufffd/*${tagMatched}\ufffd`&&(index=match.index,inTemplate=!1):(res+=message.substring(index,match.index+match[0].length),tagMatched=match[1],inTemplate=!0);return res+=message.substr(index),res}function generateBindingUpdateOpCodes(str,destinationNode,attrName,sanitizeFn=null){const updateOpCodes=[null,null],textParts=str.split(BINDING_REGEXP);let mask=0;for(let j=0;j<textParts.length;j++){const textValue=textParts[j];if(1&j){const bindingIndex=parseInt(textValue,10);updateOpCodes.push(-1-bindingIndex),mask|=toMaskBit(bindingIndex)}else""!==textValue&&updateOpCodes.push(textValue)}return updateOpCodes.push(destinationNode<<2|(attrName?1:0)),attrName&&updateOpCodes.push(attrName,sanitizeFn),updateOpCodes[0]=mask,updateOpCodes[1]=updateOpCodes.length-2,updateOpCodes}function getBindingMask(icuExpression,mask=0){let match;mask|=toMaskBit(icuExpression.mainBinding);for(let i=0;i<icuExpression.values.length;i++){const valueArr=icuExpression.values[i];for(let j=0;j<valueArr.length;j++){const value=valueArr[j];if("string"==typeof value)for(;match=BINDING_REGEXP.exec(value);)mask|=toMaskBit(parseInt(match[1],10));else mask=getBindingMask(value,mask)}}return mask}const i18nIndexStack=[];let i18nIndexStackPointer=-1;function toMaskBit(bindingIndex){return 1<<Math.min(bindingIndex,31)}const parentIndexStack=[];function \u0275\u0275i18nStart(index,message,subTemplateIndex){const tView=getTView();i18nIndexStack[++i18nIndexStackPointer]=index,setDelayProjection(!0),tView.firstCreatePass&&null===tView.data[index+19]&&function i18nStartFirstPass(lView,tView,index,message,subTemplateIndex){const startIndex=tView.blueprint.length-19;i18nVarsCount=0;const previousOrParentTNode=getPreviousOrParentTNode(),parentTNode=getIsParent()?previousOrParentTNode:previousOrParentTNode&&previousOrParentTNode.parent;let parentIndex=parentTNode&&parentTNode!==lView[6]?parentTNode.index-19:index,parentIndexPointer=0;parentIndexStack[parentIndexPointer]=parentIndex;const createOpCodes=[];if(index>0&&previousOrParentTNode!==parentTNode){let previousTNodeIndex=previousOrParentTNode.index-19;getIsParent()||(previousTNodeIndex=~previousTNodeIndex),createOpCodes.push(previousTNodeIndex<<3|0)}const updateOpCodes=[],icuExpressions=[],templateTranslation=function getTranslationForTemplate(message,subTemplateIndex){if("number"!=typeof subTemplateIndex)return removeInnerTemplateTranslation(message);{const start=message.indexOf(`:${subTemplateIndex}\ufffd`)+2+subTemplateIndex.toString().length,end=message.search(new RegExp(`\ufffd\\/\\*\\d+:${subTemplateIndex}\ufffd`));return removeInnerTemplateTranslation(message.substring(start,end))}}(message,subTemplateIndex),msgParts=function replaceNgsp(value){return value.replace(NGSP_UNICODE_REGEXP," ")}(templateTranslation).split(PH_REGEXP);for(let i=0;i<msgParts.length;i++){let value=msgParts[i];if(1&i)if("/"===value.charAt(0)){if("#"===value.charAt(1)){const phIndex=parseInt(value.substr(2),10);parentIndex=parentIndexStack[--parentIndexPointer],createOpCodes.push(phIndex<<3|5)}}else{const phIndex=parseInt(value.substr(1),10),isElement="#"===value.charAt(0);createOpCodes.push((isElement?phIndex:~phIndex)<<3|0,parentIndex<<17|1),isElement&&(parentIndexStack[++parentIndexPointer]=parentIndex=phIndex)}else{const parts=extractParts(value);for(let j=0;j<parts.length;j++)if(1&j){const icuExpression=parts[j];if("object"!=typeof icuExpression)throw new Error(`Unable to parse ICU expression in "${templateTranslation}" message.`);const icuNodeIndex=startIndex+i18nVarsCount++;createOpCodes.push(COMMENT_MARKER,"",icuNodeIndex,parentIndex<<17|1);const mask=getBindingMask(icuExpression);icuStart(icuExpressions,icuExpression,icuNodeIndex,icuNodeIndex);const tIcuIndex=icuExpressions.length-1;updateOpCodes.push(toMaskBit(icuExpression.mainBinding),3,-1-icuExpression.mainBinding,icuNodeIndex<<2|2,tIcuIndex,mask,2,icuNodeIndex<<2|3,tIcuIndex)}else if(""!==parts[j]){const text=parts[j],hasBinding=text.match(BINDING_REGEXP),textNodeIndex=startIndex+i18nVarsCount++;createOpCodes.push(hasBinding?"":text,textNodeIndex,parentIndex<<17|1),hasBinding&&addAllToArray(generateBindingUpdateOpCodes(text,textNodeIndex),updateOpCodes)}}}i18nVarsCount>0&&function allocExpando(tView,lView,numSlotsToAlloc){if(numSlotsToAlloc>0&&tView.firstCreatePass){for(let i=0;i<numSlotsToAlloc;i++)tView.blueprint.push(null),tView.data.push(null),lView.push(null);tView.expandoInstructions?tView.expandoInstructions.push(numSlotsToAlloc):tView.expandoStartIndex+=numSlotsToAlloc}}(tView,lView,i18nVarsCount);const tI18n={vars:i18nVarsCount,create:createOpCodes,update:updateOpCodes,icus:icuExpressions.length?icuExpressions:null};tView.data[index+19]=tI18n}(getLView(),tView,index,message,subTemplateIndex)}let i18nVarsCount;function appendI18nNode(tView,tNode,parentTNode,previousTNode,lView){const nextNode=tNode.next;previousTNode||(previousTNode=parentTNode),previousTNode===parentTNode&&tNode!==parentTNode.child?(tNode.next=parentTNode.child,parentTNode.child=tNode):previousTNode!==parentTNode&&tNode!==previousTNode.next?(tNode.next=previousTNode.next,previousTNode.next=tNode):tNode.next=null,parentTNode!==lView[6]&&(tNode.parent=parentTNode);let cursor=tNode.next;for(;cursor;)cursor.next===tNode&&(cursor.next=nextNode),cursor=cursor.next;if(1===tNode.type)return applyProjection(tView,lView,tNode),tNode;appendChild(tView,lView,getNativeByTNode(tNode,lView),tNode);const slotValue=lView[tNode.index];return 0!==tNode.type&&isLContainer(slotValue)&&appendChild(tView,lView,slotValue[7],tNode),tNode}function \u0275\u0275i18nPostprocess(message,replacements={}){let result=message;if(PP_MULTI_VALUE_PLACEHOLDERS_REGEXP.test(message)){const matches={},templateIdsStack=[0];result=result.replace(PP_PLACEHOLDERS_REGEXP,(m,phs,tmpl)=>{const content=phs||tmpl,placeholders=matches[content]||[];if(placeholders.length||(content.split("|").forEach(placeholder=>{const match=placeholder.match(PP_TEMPLATE_ID_REGEXP),templateId=match?parseInt(match[1],10):0,isCloseTemplateTag=PP_CLOSE_TEMPLATE_REGEXP.test(placeholder);placeholders.push([templateId,isCloseTemplateTag,placeholder])}),matches[content]=placeholders),!placeholders.length)throw new Error(`i18n postprocess: unmatched placeholder - ${content}`);const currentTemplateId=templateIdsStack[templateIdsStack.length-1];let idx=0;for(let i=0;i<placeholders.length;i++)if(placeholders[i][0]===currentTemplateId){idx=i;break}const[templateId,isCloseTemplateTag,placeholder]=placeholders[idx];return isCloseTemplateTag?templateIdsStack.pop():currentTemplateId!==templateId&&templateIdsStack.push(templateId),placeholders.splice(idx,1),placeholder})}return Object.keys(replacements).length?(result=result.replace(PP_ICU_VARS_REGEXP,(match,start,key,_type,_idx,end)=>replacements.hasOwnProperty(key)?`${start}${replacements[key]}${end}`:match),result=result.replace(PP_ICU_PLACEHOLDERS_REGEXP,(match,key)=>replacements.hasOwnProperty(key)?replacements[key]:match),result=result.replace(PP_ICUS_REGEXP,(match,key)=>{if(replacements.hasOwnProperty(key)){const list=replacements[key];if(!list.length)throw new Error(`i18n postprocess: unmatched ICU - ${match} with key: ${key}`);return(list.shift())}return match}),result):result}function \u0275\u0275i18nEnd(){const lView=getLView(),tView=getTView();!function i18nEndFirstPass(tView,lView){const rootIndex=i18nIndexStack[i18nIndexStackPointer--],tI18n=tView.data[rootIndex+19];const lastCreatedNode=getPreviousOrParentTNode(),visitedNodes=readCreateOpCodes(rootIndex,tI18n.create,tView,lView);let index=rootIndex+1;for(;index<=lastCreatedNode.index-19;){-1===visitedNodes.indexOf(index)&&removeNode(tView,lView,index,!0);const tNode=getTNode(tView,index);!tNode||0!==tNode.type&&3!==tNode.type&&4!==tNode.type||null===tNode.localNames||(index+=tNode.localNames.length>>1),index++}}(tView,lView),setDelayProjection(!1)}function createDynamicNodeAtIndex(tView,lView,index,type,native,name){const previousOrParentTNode=getPreviousOrParentTNode();lView[index+19]=native;const tNode=getOrCreateTNode(tView,lView[6],index,type,name,null);return previousOrParentTNode&&previousOrParentTNode.next===tNode&&(previousOrParentTNode.next=null),tNode}function readCreateOpCodes(index,createOpCodes,tView,lView){const renderer=lView[11];let currentTNode=null,previousTNode=null;const visitedNodes=[];for(let i=0;i<createOpCodes.length;i++){const opCode=createOpCodes[i];if("string"==typeof opCode){const textRNode=createTextNode(opCode,renderer),textNodeIndex=createOpCodes[++i];previousTNode=currentTNode,currentTNode=createDynamicNodeAtIndex(tView,lView,textNodeIndex,3,textRNode,null),visitedNodes.push(textNodeIndex),setIsNotParent()}else if("number"==typeof opCode)switch(7&opCode){case 1:const destinationNodeIndex=opCode>>>17;let destinationTNode;destinationTNode=destinationNodeIndex===index?lView[6]:getTNode(tView,destinationNodeIndex),previousTNode=appendI18nNode(tView,currentTNode,destinationTNode,previousTNode,lView);break;case 0:const isParent=opCode>=0,nodeIndex=(isParent?opCode:~opCode)>>>3;visitedNodes.push(nodeIndex),previousTNode=currentTNode,currentTNode=getTNode(tView,nodeIndex),currentTNode&&setPreviousOrParentTNode(currentTNode,isParent);break;case 5:previousTNode=currentTNode=getTNode(tView,opCode>>>3),setPreviousOrParentTNode(currentTNode,!1);break;case 4:const elementNodeIndex=opCode>>>3,attrName=createOpCodes[++i],attrValue=createOpCodes[++i];elementAttributeInternal(getTNode(tView,elementNodeIndex),lView,attrName,attrValue,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${opCode}"`)}else switch(opCode){case COMMENT_MARKER:const commentValue=createOpCodes[++i],commentNodeIndex=createOpCodes[++i],commentRNode=renderer.createComment(commentValue);previousTNode=currentTNode,currentTNode=createDynamicNodeAtIndex(tView,lView,commentNodeIndex,5,commentRNode,null),visitedNodes.push(commentNodeIndex),attachPatchData(commentRNode,lView),currentTNode.activeCaseIndex=null,setIsNotParent();break;case ELEMENT_MARKER:const tagNameValue=createOpCodes[++i],elementNodeIndex=createOpCodes[++i];previousTNode=currentTNode,currentTNode=createDynamicNodeAtIndex(tView,lView,elementNodeIndex,3,renderer.createElement(tagNameValue),tagNameValue),visitedNodes.push(elementNodeIndex);break;default:throw new Error(`Unable to determine the type of mutate operation for "${opCode}"`)}}return setIsNotParent(),visitedNodes}function removeNode(tView,lView,index,markAsDetached){const removedPhTNode=getTNode(tView,index),removedPhRNode=getNativeByIndex(index,lView);removedPhRNode&&nativeRemoveNode(lView[11],removedPhRNode);const slotValue=load(lView,index);if(isLContainer(slotValue)){const lContainer=slotValue;0!==removedPhTNode.type&&nativeRemoveNode(lView[11],lContainer[7])}markAsDetached&&(removedPhTNode.flags|=64)}function \u0275\u0275i18n(index,message,subTemplateIndex){\u0275\u0275i18nStart(index,message,subTemplateIndex),\u0275\u0275i18nEnd()}function \u0275\u0275i18nAttributes(index,values){const lView=getLView(),tView=getTView();!function i18nAttributesFirstPass(lView,tView,index,values){const previousElementIndex=getPreviousOrParentTNode().index-19,updateOpCodes=[];for(let i=0;i<values.length;i+=2){const attrName=values[i],parts=values[i+1].split(ICU_REGEXP);for(let j=0;j<parts.length;j++){const value=parts[j];if(1&j)throw new Error("ICU expressions are not yet supported in attributes");if(""!==value){if(!!value.match(BINDING_REGEXP))tView.firstCreatePass&&null===tView.data[index+19]&&addAllToArray(generateBindingUpdateOpCodes(value,previousElementIndex,attrName),updateOpCodes);else{const tNode=getTNode(tView,previousElementIndex);3===tNode.type&&elementAttributeInternal(tNode,lView,attrName,value,null,null);const dataValue=null!==tNode.inputs&&tNode.inputs[attrName];dataValue&&setInputsForProperty(tView,lView,dataValue,attrName,value)}}}}tView.firstCreatePass&&null===tView.data[index+19]&&(tView.data[index+19]=updateOpCodes)}(lView,tView,index,values)}let changeMask=0,shiftsCounter=0;function \u0275\u0275i18nExp(value){return bindingUpdated(getLView(),nextBindingIndex(),value)&&(changeMask|=1<<shiftsCounter),shiftsCounter++,\u0275\u0275i18nExp}function \u0275\u0275i18nApply(index){if(shiftsCounter){const tView=getTView(),tI18n=tView.data[index+19];let updateOpCodes,icus=null;Array.isArray(tI18n)?updateOpCodes=tI18n:(updateOpCodes=tI18n.update,icus=tI18n.icus);const bindingsStartIndex=getBindingIndex()-shiftsCounter-1,lView=getLView();!function readUpdateOpCodes(updateOpCodes,icus,bindingsStartIndex,changeMask,tView,lView,bypassCheckBit=!1){let caseCreated=!1;for(let i=0;i<updateOpCodes.length;i++){const checkBit=updateOpCodes[i],skipCodes=updateOpCodes[++i];if(bypassCheckBit||checkBit&changeMask){let value="";for(let j=i+1;j<=i+skipCodes;j++){const opCode=updateOpCodes[j];if("string"==typeof opCode)value+=opCode;else if("number"==typeof opCode)if(opCode<0)value+=renderStringify(lView[bindingsStartIndex-opCode]);else{const nodeIndex=opCode>>>2;let tIcuIndex,tIcu,icuTNode;switch(3&opCode){case 1:const propName=updateOpCodes[++j],sanitizeFn=updateOpCodes[++j];elementPropertyInternal(tView,getTNode(tView,nodeIndex),lView,propName,value,lView[11],sanitizeFn,!1);break;case 0:textBindingInternal(lView,nodeIndex,value);break;case 2:if(tIcuIndex=updateOpCodes[++j],tIcu=icus[tIcuIndex],icuTNode=getTNode(tView,nodeIndex),null!==icuTNode.activeCaseIndex){const removeCodes=tIcu.remove[icuTNode.activeCaseIndex];for(let k=0;k<removeCodes.length;k++){const removeOpCode=removeCodes[k];switch(7&removeOpCode){case 3:removeNode(tView,lView,removeOpCode>>>3,!1);break;case 6:const activeIndex=getTNode(tView,removeCodes[k+1]>>>3).activeCaseIndex;if(null!==activeIndex){addAllToArray(icus[removeOpCode>>>3].remove[activeIndex],removeCodes)}}}}const caseIndex=getCaseIndex(tIcu,value);icuTNode.activeCaseIndex=-1!==caseIndex?caseIndex:null,caseIndex>-1&&(readCreateOpCodes(-1,tIcu.create[caseIndex],tView,lView),caseCreated=!0);break;case 3:tIcuIndex=updateOpCodes[++j],tIcu=icus[tIcuIndex],icuTNode=getTNode(tView,nodeIndex),null!==icuTNode.activeCaseIndex&&readUpdateOpCodes(tIcu.update[icuTNode.activeCaseIndex],icus,bindingsStartIndex,changeMask,tView,lView,caseCreated)}}}}i+=skipCodes}}(updateOpCodes,icus,bindingsStartIndex,changeMask,tView,lView),changeMask=0,shiftsCounter=0}}function getCaseIndex(icuExpression,bindingValue){let index=icuExpression.cases.indexOf(bindingValue);if(-1===index)switch(icuExpression.type){case 1:{const resolvedCase=function getPluralCase(value,locale){switch(getLocalePluralCase(locale)(value)){case 0:return"zero";case 1:return"one";case 2:return"two";case 3:return"few";case 4:return"many";default:return"other"}}(bindingValue,function getLocaleId(){return LOCALE_ID}());index=icuExpression.cases.indexOf(resolvedCase),-1===index&&"other"!==resolvedCase&&(index=icuExpression.cases.indexOf("other"));break}case 0:index=icuExpression.cases.indexOf("other")}return index}function icuStart(tIcus,icuExpression,startIndex,expandoStartIndex){const createCodes=[],removeCodes=[],updateCodes=[],vars=[],childIcus=[];for(let i=0;i<icuExpression.values.length;i++){const valueArr=icuExpression.values[i],nestedIcus=[];for(let j=0;j<valueArr.length;j++){const value=valueArr[j];if("string"!=typeof value){const icuIndex=nestedIcus.push(value)-1;valueArr[j]=`\x3c!--\ufffd${icuIndex}\ufffd--\x3e`}}const icuCase=parseIcuCase(valueArr.join(""),startIndex,nestedIcus,tIcus,expandoStartIndex);createCodes.push(icuCase.create),removeCodes.push(icuCase.remove),updateCodes.push(icuCase.update),vars.push(icuCase.vars),childIcus.push(icuCase.childIcus)}const tIcu={type:icuExpression.type,vars:vars,childIcus:childIcus,cases:icuExpression.cases,create:createCodes,remove:removeCodes,update:updateCodes};tIcus.push(tIcu),i18nVarsCount+=Math.max(...vars)}function parseIcuCase(unsafeHtml,parentIndex,nestedIcus,tIcus,expandoStartIndex){const inertBodyElement=new InertBodyHelper(getDocument()).getInertBodyElement(unsafeHtml);if(!inertBodyElement)throw new Error("Unable to generate inert body element");const opCodes={vars:0,childIcus:[],create:[],remove:[],update:[]};return function parseNodes(currentNode,icuCase,parentIndex,nestedIcus,tIcus,expandoStartIndex){if(currentNode){const nestedIcusToCreate=[];for(;currentNode;){const nextNode=currentNode.nextSibling,newIndex=expandoStartIndex+ ++icuCase.vars;switch(currentNode.nodeType){case Node.ELEMENT_NODE:const element=currentNode,tagName=element.tagName.toLowerCase();if(VALID_ELEMENTS.hasOwnProperty(tagName)){icuCase.create.push(ELEMENT_MARKER,tagName,newIndex,parentIndex<<17|1);const elAttrs=element.attributes;for(let i=0;i<elAttrs.length;i++){const attr=elAttrs.item(i),lowerAttrName=attr.name.toLowerCase();!!attr.value.match(BINDING_REGEXP)?VALID_ATTRS.hasOwnProperty(lowerAttrName)&&(URI_ATTRS[lowerAttrName]?addAllToArray(generateBindingUpdateOpCodes(attr.value,newIndex,attr.name,_sanitizeUrl),icuCase.update):SRCSET_ATTRS[lowerAttrName]?addAllToArray(generateBindingUpdateOpCodes(attr.value,newIndex,attr.name,sanitizeSrcset),icuCase.update):addAllToArray(generateBindingUpdateOpCodes(attr.value,newIndex,attr.name),icuCase.update)):icuCase.create.push(newIndex<<3|4,attr.name,attr.value)}parseNodes(currentNode.firstChild,icuCase,newIndex,nestedIcus,tIcus,expandoStartIndex),icuCase.remove.push(newIndex<<3|3)}else icuCase.vars--;break;case Node.TEXT_NODE:const value=currentNode.textContent||"",hasBinding=value.match(BINDING_REGEXP);icuCase.create.push(hasBinding?"":value,newIndex,parentIndex<<17|1),icuCase.remove.push(newIndex<<3|3),hasBinding&&addAllToArray(generateBindingUpdateOpCodes(value,newIndex),icuCase.update);break;case Node.COMMENT_NODE:const match=NESTED_ICU.exec(currentNode.textContent||"");if(match){const nestedIcuIndex=parseInt(match[1],10),newLocal="";icuCase.create.push(COMMENT_MARKER,newLocal,newIndex,parentIndex<<17|1);const nestedIcu=nestedIcus[nestedIcuIndex];nestedIcusToCreate.push([nestedIcu,newIndex])}else icuCase.vars--;break;default:icuCase.vars--}currentNode=nextNode}for(let i=0;i<nestedIcusToCreate.length;i++){const nestedIcu=nestedIcusToCreate[i][0],nestedIcuNodeIndex=nestedIcusToCreate[i][1];icuStart(tIcus,nestedIcu,nestedIcuNodeIndex,expandoStartIndex+icuCase.vars);const nestTIcuIndex=tIcus.length-1;icuCase.vars+=Math.max(...tIcus[nestTIcuIndex].vars),icuCase.childIcus.push(nestTIcuIndex);const mask=getBindingMask(nestedIcu);icuCase.update.push(toMaskBit(nestedIcu.mainBinding),3,-1-nestedIcu.mainBinding,nestedIcuNodeIndex<<2|2,nestTIcuIndex,mask,2,nestedIcuNodeIndex<<2|3,nestTIcuIndex),icuCase.remove.push(nestTIcuIndex<<3|6,nestedIcuNodeIndex<<3|3)}}}((getTemplateContent(inertBodyElement)||inertBodyElement).firstChild,opCodes,parentIndex,nestedIcus,tIcus,expandoStartIndex),opCodes}const NESTED_ICU=/\ufffd(\d+)\ufffd/;const NGSP_UNICODE_REGEXP=/\uE500/g;let LOCALE_ID=DEFAULT_LOCALE_ID;function setLocaleId(localeId){assertDefined(localeId,"Expected localeId to be defined"),"string"==typeof localeId&&(LOCALE_ID=localeId.toLowerCase().replace(/_/g,"-"))}const modules=new Map;function registerModuleFactory(id,factory){const existing=modules.get(id);assertSameOrNotExisting(id,existing&&existing.moduleType,factory.moduleType),modules.set(id,factory)}function assertSameOrNotExisting(id,type,incoming){if(type&&type!==incoming)throw new Error(`Duplicate module registered for ${id} - ${stringify(type)} vs ${stringify(type.name)}`)}function registerNgModuleType(ngModuleType){if(null!==ngModuleType.\u0275mod.id){const id=ngModuleType.\u0275mod.id;assertSameOrNotExisting(id,modules.get(id),ngModuleType),modules.set(id,ngModuleType)}let imports=ngModuleType.\u0275mod.imports;imports instanceof Function&&(imports=imports()),imports&&imports.forEach(i=>registerNgModuleType(i))}function getRegisteredNgModuleType(id){return modules.get(id)||autoRegisterModuleById[id]}class NgModuleRef$1 extends NgModuleRef{constructor(ngModuleType,_parent){super(),this._parent=_parent,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ComponentFactoryResolver$1(this);const ngModuleDef=getNgModuleDef(ngModuleType),ngLocaleIdDef=function getNgLocaleIdDef(type){return type[NG_LOC_ID_DEF]||null}(ngModuleType);ngLocaleIdDef&&setLocaleId(ngLocaleIdDef),this._bootstrapComponents=maybeUnwrapFn(ngModuleDef.bootstrap),this._r3Injector=createInjectorWithoutInjectorInstances(ngModuleType,_parent,[{provide:NgModuleRef,useValue:this},{provide:ComponentFactoryResolver,useValue:this.componentFactoryResolver}],stringify(ngModuleType)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(ngModuleType)}get(token,notFoundValue=Injector.THROW_IF_NOT_FOUND,injectFlags=InjectFlags.Default){return token===Injector||token===NgModuleRef||token===INJECTOR?this:this._r3Injector.get(token,notFoundValue,injectFlags)}destroy(){const injector=this._r3Injector;!injector.destroyed&&injector.destroy(),this.destroyCbs.forEach(fn=>fn()),this.destroyCbs=null}onDestroy(callback){this.destroyCbs.push(callback)}}class NgModuleFactory$1 extends NgModuleFactory{constructor(moduleType){super(),this.moduleType=moduleType,null!==getNgModuleDef(moduleType)&&registerNgModuleType(moduleType)}create(parentInjector){return new NgModuleRef$1(this.moduleType,parentInjector)}}function setClassMetadata(type,decorators,ctorParameters,propDecorators){return noSideEffects(()=>{const clazz=type,parentPrototype=clazz.prototype?Object.getPrototypeOf(clazz.prototype):null,parentConstructor=parentPrototype&&parentPrototype.constructor;null!==decorators&&(void 0===clazz.decorators||parentConstructor&&parentConstructor.decorators===clazz.decorators?clazz.decorators=decorators:clazz.decorators.push(...decorators)),null!==ctorParameters&&(clazz.ctorParameters=ctorParameters),null!==propDecorators&&(void 0===clazz.propDecorators||parentConstructor&&parentConstructor.propDecorators===clazz.propDecorators?clazz.propDecorators=propDecorators:clazz.propDecorators=Object.assign(Object.assign({},clazz.propDecorators),propDecorators))})}function \u0275\u0275pureFunction0(slotOffset,pureFn,thisArg){const bindingIndex=getBindingRoot()+slotOffset,lView=getLView();return lView[bindingIndex]===NO_CHANGE?updateBinding(lView,bindingIndex,thisArg?pureFn.call(thisArg):pureFn()):getBinding(lView,bindingIndex)}function \u0275\u0275pureFunction1(slotOffset,pureFn,exp,thisArg){return pureFunction1Internal(getLView(),getBindingRoot(),slotOffset,pureFn,exp,thisArg)}function \u0275\u0275pureFunction2(slotOffset,pureFn,exp1,exp2,thisArg){return pureFunction2Internal(getLView(),getBindingRoot(),slotOffset,pureFn,exp1,exp2,thisArg)}function \u0275\u0275pureFunction3(slotOffset,pureFn,exp1,exp2,exp3,thisArg){return pureFunction3Internal(getLView(),getBindingRoot(),slotOffset,pureFn,exp1,exp2,exp3,thisArg)}function \u0275\u0275pureFunction4(slotOffset,pureFn,exp1,exp2,exp3,exp4,thisArg){return pureFunction4Internal(getLView(),getBindingRoot(),slotOffset,pureFn,exp1,exp2,exp3,exp4,thisArg)}function \u0275\u0275pureFunction5(slotOffset,pureFn,exp1,exp2,exp3,exp4,exp5,thisArg){const bindingIndex=getBindingRoot()+slotOffset,lView=getLView(),different=bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4);return bindingUpdated(lView,bindingIndex+4,exp5)||different?updateBinding(lView,bindingIndex+5,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4,exp5):pureFn(exp1,exp2,exp3,exp4,exp5)):getBinding(lView,bindingIndex+5)}function \u0275\u0275pureFunction6(slotOffset,pureFn,exp1,exp2,exp3,exp4,exp5,exp6,thisArg){const bindingIndex=getBindingRoot()+slotOffset,lView=getLView(),different=bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4);return bindingUpdated2(lView,bindingIndex+4,exp5,exp6)||different?updateBinding(lView,bindingIndex+6,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4,exp5,exp6):pureFn(exp1,exp2,exp3,exp4,exp5,exp6)):getBinding(lView,bindingIndex+6)}function \u0275\u0275pureFunction7(slotOffset,pureFn,exp1,exp2,exp3,exp4,exp5,exp6,exp7,thisArg){const bindingIndex=getBindingRoot()+slotOffset,lView=getLView();let different=bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4);return bindingUpdated3(lView,bindingIndex+4,exp5,exp6,exp7)||different?updateBinding(lView,bindingIndex+7,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4,exp5,exp6,exp7):pureFn(exp1,exp2,exp3,exp4,exp5,exp6,exp7)):getBinding(lView,bindingIndex+7)}function \u0275\u0275pureFunction8(slotOffset,pureFn,exp1,exp2,exp3,exp4,exp5,exp6,exp7,exp8,thisArg){const bindingIndex=getBindingRoot()+slotOffset,lView=getLView(),different=bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4);return bindingUpdated4(lView,bindingIndex+4,exp5,exp6,exp7,exp8)||different?updateBinding(lView,bindingIndex+8,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4,exp5,exp6,exp7,exp8):pureFn(exp1,exp2,exp3,exp4,exp5,exp6,exp7,exp8)):getBinding(lView,bindingIndex+8)}function \u0275\u0275pureFunctionV(slotOffset,pureFn,exps,thisArg){return pureFunctionVInternal(getLView(),getBindingRoot(),slotOffset,pureFn,exps,thisArg)}function getPureFunctionReturnValue(lView,returnValueIndex){const lastReturnValue=lView[returnValueIndex];return lastReturnValue===NO_CHANGE?void 0:lastReturnValue}function pureFunction1Internal(lView,bindingRoot,slotOffset,pureFn,exp,thisArg){const bindingIndex=bindingRoot+slotOffset;return bindingUpdated(lView,bindingIndex,exp)?updateBinding(lView,bindingIndex+1,thisArg?pureFn.call(thisArg,exp):pureFn(exp)):getPureFunctionReturnValue(lView,bindingIndex+1)}function pureFunction2Internal(lView,bindingRoot,slotOffset,pureFn,exp1,exp2,thisArg){const bindingIndex=bindingRoot+slotOffset;return bindingUpdated2(lView,bindingIndex,exp1,exp2)?updateBinding(lView,bindingIndex+2,thisArg?pureFn.call(thisArg,exp1,exp2):pureFn(exp1,exp2)):getPureFunctionReturnValue(lView,bindingIndex+2)}function pureFunction3Internal(lView,bindingRoot,slotOffset,pureFn,exp1,exp2,exp3,thisArg){const bindingIndex=bindingRoot+slotOffset;return bindingUpdated3(lView,bindingIndex,exp1,exp2,exp3)?updateBinding(lView,bindingIndex+3,thisArg?pureFn.call(thisArg,exp1,exp2,exp3):pureFn(exp1,exp2,exp3)):getPureFunctionReturnValue(lView,bindingIndex+3)}function pureFunction4Internal(lView,bindingRoot,slotOffset,pureFn,exp1,exp2,exp3,exp4,thisArg){const bindingIndex=bindingRoot+slotOffset;return bindingUpdated4(lView,bindingIndex,exp1,exp2,exp3,exp4)?updateBinding(lView,bindingIndex+4,thisArg?pureFn.call(thisArg,exp1,exp2,exp3,exp4):pureFn(exp1,exp2,exp3,exp4)):getPureFunctionReturnValue(lView,bindingIndex+4)}function pureFunctionVInternal(lView,bindingRoot,slotOffset,pureFn,exps,thisArg){let bindingIndex=bindingRoot+slotOffset,different=!1;for(let i=0;i<exps.length;i++)bindingUpdated(lView,bindingIndex++,exps[i])&&(different=!0);return different?updateBinding(lView,bindingIndex,pureFn.apply(thisArg,exps)):getPureFunctionReturnValue(lView,bindingIndex)}function \u0275\u0275pipe(index,pipeName){const tView=getTView();let pipeDef;const adjustedIndex=index+19;tView.firstCreatePass?(pipeDef=function getPipeDef$1(name,registry){if(registry)for(let i=registry.length-1;i>=0;i--){const pipeDef=registry[i];if(name===pipeDef.name)return pipeDef}throw new Error(`The pipe '${name}' could not be found!`)}(pipeName,tView.pipeRegistry),tView.data[adjustedIndex]=pipeDef,pipeDef.onDestroy&&(tView.destroyHooks||(tView.destroyHooks=[])).push(adjustedIndex,pipeDef.onDestroy)):pipeDef=tView.data[adjustedIndex];const pipeFactory=pipeDef.factory||(pipeDef.factory=getFactoryDef(pipeDef.type)),previousInjectImplementation=setInjectImplementation(\u0275\u0275directiveInject),pipeInstance=pipeFactory();return setInjectImplementation(previousInjectImplementation),store(tView,getLView(),index,pipeInstance),pipeInstance}function \u0275\u0275pipeBind1(index,slotOffset,v1){const lView=getLView(),pipeInstance=load(lView,index);return unwrapValue$1(lView,isPure(lView,index)?pureFunction1Internal(lView,getBindingRoot(),slotOffset,pipeInstance.transform,v1,pipeInstance):pipeInstance.transform(v1))}function \u0275\u0275pipeBind2(index,slotOffset,v1,v2){const lView=getLView(),pipeInstance=load(lView,index);return unwrapValue$1(lView,isPure(lView,index)?pureFunction2Internal(lView,getBindingRoot(),slotOffset,pipeInstance.transform,v1,v2,pipeInstance):pipeInstance.transform(v1,v2))}function \u0275\u0275pipeBind3(index,slotOffset,v1,v2,v3){const lView=getLView(),pipeInstance=load(lView,index);return unwrapValue$1(lView,isPure(lView,index)?pureFunction3Internal(lView,getBindingRoot(),slotOffset,pipeInstance.transform,v1,v2,v3,pipeInstance):pipeInstance.transform(v1,v2,v3))}function \u0275\u0275pipeBind4(index,slotOffset,v1,v2,v3,v4){const lView=getLView(),pipeInstance=load(lView,index);return unwrapValue$1(lView,isPure(lView,index)?pureFunction4Internal(lView,getBindingRoot(),slotOffset,pipeInstance.transform,v1,v2,v3,v4,pipeInstance):pipeInstance.transform(v1,v2,v3,v4))}function \u0275\u0275pipeBindV(index,slotOffset,values){const lView=getLView(),pipeInstance=load(lView,index);return unwrapValue$1(lView,isPure(lView,index)?pureFunctionVInternal(lView,getBindingRoot(),slotOffset,pipeInstance.transform,values,pipeInstance):pipeInstance.transform.apply(pipeInstance,values))}function isPure(lView,index){return lView[1].data[index+19].pure}function unwrapValue$1(lView,newValue){if(WrappedValue.isWrapped(newValue)){newValue=WrappedValue.unwrap(newValue),lView[getBindingIndex()]=NO_CHANGE}return newValue}class core_EventEmitter extends Subject.a{constructor(isAsync=!1){super(),this.__isAsync=isAsync}emit(value){super.next(value)}subscribe(generatorOrNext,error,complete){let schedulerFn,errorFn=err=>null,completeFn=()=>null;generatorOrNext&&"object"==typeof generatorOrNext?(schedulerFn=this.__isAsync?value=>{setTimeout(()=>generatorOrNext.next(value))}:value=>{generatorOrNext.next(value)},generatorOrNext.error&&(errorFn=this.__isAsync?err=>{setTimeout(()=>generatorOrNext.error(err))}:err=>{generatorOrNext.error(err)}),generatorOrNext.complete&&(completeFn=this.__isAsync?()=>{setTimeout(()=>generatorOrNext.complete())}:()=>{generatorOrNext.complete()})):(schedulerFn=this.__isAsync?value=>{setTimeout(()=>generatorOrNext(value))}:value=>{generatorOrNext(value)},error&&(errorFn=this.__isAsync?err=>{setTimeout(()=>error(err))}:err=>{error(err)}),complete&&(completeFn=this.__isAsync?()=>{setTimeout(()=>complete())}:()=>{complete()}));const sink=super.subscribe(schedulerFn,errorFn,completeFn);return generatorOrNext instanceof Subscription.a&&generatorOrNext.add(sink),sink}}function symbolIterator(){return this._results[getSymbolIterator()]()}class QueryList{constructor(){this.dirty=!0,this._results=[],this.changes=new core_EventEmitter,this.length=0;const symbol=getSymbolIterator(),proto=QueryList.prototype;proto[symbol]||(proto[symbol]=symbolIterator)}map(fn){return this._results.map(fn)}filter(fn){return this._results.filter(fn)}find(fn){return this._results.find(fn)}reduce(fn,init){return this._results.reduce(fn,init)}forEach(fn){this._results.forEach(fn)}some(fn){return this._results.some(fn)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(resultsTree){this._results=flatten(resultsTree),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class LQuery_{constructor(queryList){this.queryList=queryList,this.matches=null}clone(){return new LQuery_(this.queryList)}setDirty(){this.queryList.setDirty()}}class LQueries_{constructor(queries=[]){this.queries=queries}createEmbeddedView(tView){const tQueries=tView.queries;if(null!==tQueries){const noOfInheritedQueries=null!==tView.contentQueries?tView.contentQueries[0]:tQueries.length,viewLQueries=[];for(let i=0;i<noOfInheritedQueries;i++){const tQuery=tQueries.getByIndex(i),parentLQuery=this.queries[tQuery.indexInDeclarationView];viewLQueries.push(parentLQuery.clone())}return new LQueries_(viewLQueries)}return null}insertView(tView){this.dirtyQueriesWithMatches(tView)}detachView(tView){this.dirtyQueriesWithMatches(tView)}dirtyQueriesWithMatches(tView){for(let i=0;i<this.queries.length;i++)null!==getTQuery(tView,i).matches&&this.queries[i].setDirty()}}class TQueryMetadata_{constructor(predicate,descendants,isStatic,read=null){this.predicate=predicate,this.descendants=descendants,this.isStatic=isStatic,this.read=read}}class TQueries_{constructor(queries=[]){this.queries=queries}elementStart(tView,tNode){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(tView,tNode)}elementEnd(tNode){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(tNode)}embeddedTView(tNode){let queriesForTemplateRef=null;for(let i=0;i<this.length;i++){const childQueryIndex=null!==queriesForTemplateRef?queriesForTemplateRef.length:0,tqueryClone=this.getByIndex(i).embeddedTView(tNode,childQueryIndex);tqueryClone&&(tqueryClone.indexInDeclarationView=i,null!==queriesForTemplateRef?queriesForTemplateRef.push(tqueryClone):queriesForTemplateRef=[tqueryClone])}return null!==queriesForTemplateRef?new TQueries_(queriesForTemplateRef):null}template(tView,tNode){for(let i=0;i<this.queries.length;i++)this.queries[i].template(tView,tNode)}getByIndex(index){return this.queries[index]}get length(){return this.queries.length}track(tquery){this.queries.push(tquery)}}class TQuery_{constructor(metadata,nodeIndex=-1){this.metadata=metadata,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=nodeIndex}elementStart(tView,tNode){this.isApplyingToNode(tNode)&&this.matchTNode(tView,tNode)}elementEnd(tNode){this._declarationNodeIndex===tNode.index&&(this._appliesToNextNode=!1)}template(tView,tNode){this.elementStart(tView,tNode)}embeddedTView(tNode,childQueryIndex){return this.isApplyingToNode(tNode)?(this.crossesNgTemplate=!0,this.addMatch(-tNode.index,childQueryIndex),new TQuery_(this.metadata)):null}isApplyingToNode(tNode){if(this._appliesToNextNode&&!1===this.metadata.descendants){const declarationNodeIdx=this._declarationNodeIndex;let parent=tNode.parent;for(;null!==parent&&4===parent.type&&parent.index!==declarationNodeIdx;)parent=parent.parent;return declarationNodeIdx===(null!==parent?parent.index:-1)}return this._appliesToNextNode}matchTNode(tView,tNode){if(Array.isArray(this.metadata.predicate)){const localNames=this.metadata.predicate;for(let i=0;i<localNames.length;i++)this.matchTNodeWithReadOption(tView,tNode,getIdxOfMatchingSelector(tNode,localNames[i]))}else{const typePredicate=this.metadata.predicate;typePredicate===TemplateRef?0===tNode.type&&this.matchTNodeWithReadOption(tView,tNode,-1):this.matchTNodeWithReadOption(tView,tNode,locateDirectiveOrProvider(tNode,tView,typePredicate,!1,!1))}}matchTNodeWithReadOption(tView,tNode,nodeMatchIdx){if(null!==nodeMatchIdx){const read=this.metadata.read;if(null!==read)if(read===ElementRef||read===ViewContainerRef||read===TemplateRef&&0===tNode.type)this.addMatch(tNode.index,-2);else{const directiveOrProviderIdx=locateDirectiveOrProvider(tNode,tView,read,!1,!1);null!==directiveOrProviderIdx&&this.addMatch(tNode.index,directiveOrProviderIdx)}else this.addMatch(tNode.index,nodeMatchIdx)}}addMatch(tNodeIdx,matchIdx){null===this.matches?this.matches=[tNodeIdx,matchIdx]:this.matches.push(tNodeIdx,matchIdx)}}function getIdxOfMatchingSelector(tNode,selector){const localNames=tNode.localNames;if(null!==localNames)for(let i=0;i<localNames.length;i+=2)if(localNames[i]===selector)return localNames[i+1];return null}function createResultForNode(lView,tNode,matchingIdx,read){return-1===matchingIdx?function createResultByTNodeType(tNode,currentView){return 3===tNode.type||4===tNode.type?createElementRef(ElementRef,tNode,currentView):0===tNode.type?createTemplateRef(TemplateRef,ElementRef,tNode,currentView):null}(tNode,lView):-2===matchingIdx?function createSpecialToken(lView,tNode,read){if(read===ElementRef)return createElementRef(ElementRef,tNode,lView);if(read===TemplateRef)return createTemplateRef(TemplateRef,ElementRef,tNode,lView);if(read===ViewContainerRef)return createContainerRef(ViewContainerRef,ElementRef,tNode,lView)}(lView,tNode,read):getNodeInjectable(lView,lView[1],matchingIdx,tNode)}function materializeViewResults(tView,lView,tQuery,queryIndex){const lQuery=lView[5].queries[queryIndex];if(null===lQuery.matches){const tViewData=tView.data,tQueryMatches=tQuery.matches,result=[];for(let i=0;i<tQueryMatches.length;i+=2){const matchedNodeIdx=tQueryMatches[i];if(matchedNodeIdx<0)result.push(null);else{const tNode=tViewData[matchedNodeIdx];result.push(createResultForNode(lView,tNode,tQueryMatches[i+1],tQuery.metadata.read))}}lQuery.matches=result}return lQuery.matches}function \u0275\u0275queryRefresh(queryList){const lView=getLView(),tView=getTView(),queryIndex=getCurrentQueryIndex();setCurrentQueryIndex(queryIndex+1);const tQuery=getTQuery(tView,queryIndex);if(queryList.dirty&&isCreationMode(lView)===tQuery.metadata.isStatic){if(null===tQuery.matches)queryList.reset([]);else{const result=tQuery.crossesNgTemplate?function collectQueryResults(tView,lView,queryIndex,result){const tQuery=tView.queries.getByIndex(queryIndex),tQueryMatches=tQuery.matches;if(null!==tQueryMatches){const lViewResults=materializeViewResults(tView,lView,tQuery,queryIndex);for(let i=0;i<tQueryMatches.length;i+=2){const tNodeIdx=tQueryMatches[i];if(tNodeIdx>0)result.push(lViewResults[i/2]);else{const childQueryIndex=tQueryMatches[i+1],declarationLContainer=lView[-tNodeIdx];for(let i=9;i<declarationLContainer.length;i++){const embeddedLView=declarationLContainer[i];embeddedLView[17]===embeddedLView[3]&&collectQueryResults(embeddedLView[1],embeddedLView,childQueryIndex,result)}if(null!==declarationLContainer[5]){const embeddedLViews=declarationLContainer[5];for(let i=0;i<embeddedLViews.length;i++){const embeddedLView=embeddedLViews[i];collectQueryResults(embeddedLView[1],embeddedLView,childQueryIndex,result)}}}}}return result}(tView,lView,queryIndex,[]):materializeViewResults(tView,lView,tQuery,queryIndex);queryList.reset(result),queryList.notifyOnChanges()}return!0}return!1}function \u0275\u0275staticViewQuery(predicate,descend,read){viewQueryInternal(getTView(),getLView(),predicate,descend,read,!0)}function \u0275\u0275viewQuery(predicate,descend,read){viewQueryInternal(getTView(),getLView(),predicate,descend,read,!1)}function viewQueryInternal(tView,lView,predicate,descend,read,isStatic){tView.firstCreatePass&&(createTQuery(tView,new TQueryMetadata_(predicate,descend,isStatic,read),-1),isStatic&&(tView.staticViewQueries=!0)),createLQuery(tView,lView)}function \u0275\u0275contentQuery(directiveIndex,predicate,descend,read){contentQueryInternal(getTView(),getLView(),predicate,descend,read,!1,getPreviousOrParentTNode(),directiveIndex)}function \u0275\u0275staticContentQuery(directiveIndex,predicate,descend,read){contentQueryInternal(getTView(),getLView(),predicate,descend,read,!0,getPreviousOrParentTNode(),directiveIndex)}function contentQueryInternal(tView,lView,predicate,descend,read,isStatic,tNode,directiveIndex){tView.firstCreatePass&&(createTQuery(tView,new TQueryMetadata_(predicate,descend,isStatic,read),tNode.index),function saveContentQueryAndDirectiveIndex(tView,directiveIndex){const tViewContentQueries=tView.contentQueries||(tView.contentQueries=[]),lastSavedDirectiveIndex=tView.contentQueries.length?tViewContentQueries[tViewContentQueries.length-1]:-1;directiveIndex!==lastSavedDirectiveIndex&&tViewContentQueries.push(tView.queries.length-1,directiveIndex)}(tView,directiveIndex),isStatic&&(tView.staticContentQueries=!0)),createLQuery(tView,lView)}function \u0275\u0275loadQuery(){return function loadQueryInternal(lView,queryIndex){return lView[5].queries[queryIndex].queryList}(getLView(),getCurrentQueryIndex())}function createLQuery(tView,lView){const queryList=new QueryList;!function storeCleanupWithContext(tView,lView,context,cleanupFn){const lCleanup=getLCleanup(lView);lCleanup.push(context),tView.firstCreatePass&&getTViewCleanup(tView).push(cleanupFn,lCleanup.length-1)}(tView,lView,queryList,queryList.destroy),null===lView[5]&&(lView[5]=new LQueries_),lView[5].queries.push(new LQuery_(queryList))}function createTQuery(tView,metadata,nodeIndex){null===tView.queries&&(tView.queries=new TQueries_),tView.queries.track(new TQuery_(metadata,nodeIndex))}function getTQuery(tView,index){return tView.queries.getByIndex(index)}function \u0275\u0275templateRefExtractor(tNode,currentView){return createTemplateRef(TemplateRef,ElementRef,tNode,currentView)}function \u0275\u0275injectPipeChangeDetectorRef(flags=InjectFlags.Default){const value=injectChangeDetectorRef(!0);if(null!=value||flags&InjectFlags.Optional)return value;throw new Error("No provider for ChangeDetectorRef!")}const angularCoreEnv={"\u0275\u0275attribute":\u0275\u0275attribute,"\u0275\u0275attributeInterpolate1":\u0275\u0275attributeInterpolate1,"\u0275\u0275attributeInterpolate2":\u0275\u0275attributeInterpolate2,"\u0275\u0275attributeInterpolate3":\u0275\u0275attributeInterpolate3,"\u0275\u0275attributeInterpolate4":\u0275\u0275attributeInterpolate4,"\u0275\u0275attributeInterpolate5":\u0275\u0275attributeInterpolate5,"\u0275\u0275attributeInterpolate6":\u0275\u0275attributeInterpolate6,"\u0275\u0275attributeInterpolate7":\u0275\u0275attributeInterpolate7,"\u0275\u0275attributeInterpolate8":\u0275\u0275attributeInterpolate8,"\u0275\u0275attributeInterpolateV":\u0275\u0275attributeInterpolateV,"\u0275\u0275defineComponent":\u0275\u0275defineComponent,"\u0275\u0275defineDirective":\u0275\u0275defineDirective,"\u0275\u0275defineInjectable":\u0275\u0275defineInjectable,"\u0275\u0275defineInjector":\u0275\u0275defineInjector,"\u0275\u0275defineNgModule":\u0275\u0275defineNgModule,"\u0275\u0275definePipe":\u0275\u0275definePipe,"\u0275\u0275directiveInject":\u0275\u0275directiveInject,"\u0275\u0275getFactoryOf":\u0275\u0275getFactoryOf,"\u0275\u0275getInheritedFactory":\u0275\u0275getInheritedFactory,"\u0275\u0275inject":\u0275\u0275inject,"\u0275\u0275injectAttribute":\u0275\u0275injectAttribute,"\u0275\u0275invalidFactory":\u0275\u0275invalidFactory,"\u0275\u0275invalidFactoryDep":\u0275\u0275invalidFactoryDep,"\u0275\u0275injectPipeChangeDetectorRef":\u0275\u0275injectPipeChangeDetectorRef,"\u0275\u0275templateRefExtractor":\u0275\u0275templateRefExtractor,"\u0275\u0275NgOnChangesFeature":\u0275\u0275NgOnChangesFeature,"\u0275\u0275ProvidersFeature":\u0275\u0275ProvidersFeature,"\u0275\u0275CopyDefinitionFeature":\u0275\u0275CopyDefinitionFeature,"\u0275\u0275InheritDefinitionFeature":\u0275\u0275InheritDefinitionFeature,"\u0275\u0275container":\u0275\u0275container,"\u0275\u0275nextContext":\u0275\u0275nextContext,"\u0275\u0275containerRefreshStart":\u0275\u0275containerRefreshStart,"\u0275\u0275containerRefreshEnd":\u0275\u0275containerRefreshEnd,"\u0275\u0275namespaceHTML":\u0275\u0275namespaceHTML,"\u0275\u0275namespaceMathML":\u0275\u0275namespaceMathML,"\u0275\u0275namespaceSVG":\u0275\u0275namespaceSVG,"\u0275\u0275enableBindings":\u0275\u0275enableBindings,"\u0275\u0275disableBindings":\u0275\u0275disableBindings,"\u0275\u0275elementStart":\u0275\u0275elementStart,"\u0275\u0275elementEnd":\u0275\u0275elementEnd,"\u0275\u0275element":\u0275\u0275element,"\u0275\u0275elementContainerStart":\u0275\u0275elementContainerStart,"\u0275\u0275elementContainerEnd":\u0275\u0275elementContainerEnd,"\u0275\u0275elementContainer":\u0275\u0275elementContainer,"\u0275\u0275pureFunction0":\u0275\u0275pureFunction0,"\u0275\u0275pureFunction1":\u0275\u0275pureFunction1,"\u0275\u0275pureFunction2":\u0275\u0275pureFunction2,"\u0275\u0275pureFunction3":\u0275\u0275pureFunction3,"\u0275\u0275pureFunction4":\u0275\u0275pureFunction4,"\u0275\u0275pureFunction5":\u0275\u0275pureFunction5,"\u0275\u0275pureFunction6":\u0275\u0275pureFunction6,"\u0275\u0275pureFunction7":\u0275\u0275pureFunction7,"\u0275\u0275pureFunction8":\u0275\u0275pureFunction8,"\u0275\u0275pureFunctionV":\u0275\u0275pureFunctionV,"\u0275\u0275getCurrentView":\u0275\u0275getCurrentView,"\u0275\u0275restoreView":\u0275\u0275restoreView,"\u0275\u0275listener":\u0275\u0275listener,"\u0275\u0275projection":\u0275\u0275projection,"\u0275\u0275updateSyntheticHostBinding":\u0275\u0275updateSyntheticHostBinding,"\u0275\u0275componentHostSyntheticListener":\u0275\u0275componentHostSyntheticListener,"\u0275\u0275pipeBind1":\u0275\u0275pipeBind1,"\u0275\u0275pipeBind2":\u0275\u0275pipeBind2,"\u0275\u0275pipeBind3":\u0275\u0275pipeBind3,"\u0275\u0275pipeBind4":\u0275\u0275pipeBind4,"\u0275\u0275pipeBindV":\u0275\u0275pipeBindV,"\u0275\u0275projectionDef":\u0275\u0275projectionDef,"\u0275\u0275hostProperty":\u0275\u0275hostProperty,"\u0275\u0275property":\u0275\u0275property,"\u0275\u0275propertyInterpolate":\u0275\u0275propertyInterpolate,"\u0275\u0275propertyInterpolate1":\u0275\u0275propertyInterpolate1,"\u0275\u0275propertyInterpolate2":\u0275\u0275propertyInterpolate2,"\u0275\u0275propertyInterpolate3":\u0275\u0275propertyInterpolate3,"\u0275\u0275propertyInterpolate4":\u0275\u0275propertyInterpolate4,"\u0275\u0275propertyInterpolate5":\u0275\u0275propertyInterpolate5,"\u0275\u0275propertyInterpolate6":\u0275\u0275propertyInterpolate6,"\u0275\u0275propertyInterpolate7":\u0275\u0275propertyInterpolate7,"\u0275\u0275propertyInterpolate8":\u0275\u0275propertyInterpolate8,"\u0275\u0275propertyInterpolateV":\u0275\u0275propertyInterpolateV,"\u0275\u0275pipe":\u0275\u0275pipe,"\u0275\u0275queryRefresh":\u0275\u0275queryRefresh,"\u0275\u0275viewQuery":\u0275\u0275viewQuery,"\u0275\u0275staticViewQuery":\u0275\u0275staticViewQuery,"\u0275\u0275staticContentQuery":\u0275\u0275staticContentQuery,"\u0275\u0275loadQuery":\u0275\u0275loadQuery,"\u0275\u0275contentQuery":\u0275\u0275contentQuery,"\u0275\u0275reference":\u0275\u0275reference,"\u0275\u0275classMap":\u0275\u0275classMap,"\u0275\u0275classMapInterpolate1":\u0275\u0275classMapInterpolate1,"\u0275\u0275classMapInterpolate2":\u0275\u0275classMapInterpolate2,"\u0275\u0275classMapInterpolate3":\u0275\u0275classMapInterpolate3,"\u0275\u0275classMapInterpolate4":\u0275\u0275classMapInterpolate4,"\u0275\u0275classMapInterpolate5":\u0275\u0275classMapInterpolate5,"\u0275\u0275classMapInterpolate6":\u0275\u0275classMapInterpolate6,"\u0275\u0275classMapInterpolate7":\u0275\u0275classMapInterpolate7,"\u0275\u0275classMapInterpolate8":\u0275\u0275classMapInterpolate8,"\u0275\u0275classMapInterpolateV":\u0275\u0275classMapInterpolateV,"\u0275\u0275styleMap":\u0275\u0275styleMap,"\u0275\u0275styleMapInterpolate1":\u0275\u0275styleMapInterpolate1,"\u0275\u0275styleMapInterpolate2":\u0275\u0275styleMapInterpolate2,"\u0275\u0275styleMapInterpolate3":\u0275\u0275styleMapInterpolate3,"\u0275\u0275styleMapInterpolate4":\u0275\u0275styleMapInterpolate4,"\u0275\u0275styleMapInterpolate5":\u0275\u0275styleMapInterpolate5,"\u0275\u0275styleMapInterpolate6":\u0275\u0275styleMapInterpolate6,"\u0275\u0275styleMapInterpolate7":\u0275\u0275styleMapInterpolate7,"\u0275\u0275styleMapInterpolate8":\u0275\u0275styleMapInterpolate8,"\u0275\u0275styleMapInterpolateV":\u0275\u0275styleMapInterpolateV,"\u0275\u0275styleProp":\u0275\u0275styleProp,"\u0275\u0275stylePropInterpolate1":\u0275\u0275stylePropInterpolate1,"\u0275\u0275stylePropInterpolate2":\u0275\u0275stylePropInterpolate2,"\u0275\u0275stylePropInterpolate3":\u0275\u0275stylePropInterpolate3,"\u0275\u0275stylePropInterpolate4":\u0275\u0275stylePropInterpolate4,"\u0275\u0275stylePropInterpolate5":\u0275\u0275stylePropInterpolate5,"\u0275\u0275stylePropInterpolate6":\u0275\u0275stylePropInterpolate6,"\u0275\u0275stylePropInterpolate7":\u0275\u0275stylePropInterpolate7,"\u0275\u0275stylePropInterpolate8":\u0275\u0275stylePropInterpolate8,"\u0275\u0275stylePropInterpolateV":\u0275\u0275stylePropInterpolateV,"\u0275\u0275styleSanitizer":\u0275\u0275styleSanitizer,"\u0275\u0275classProp":\u0275\u0275classProp,"\u0275\u0275select":\u0275\u0275select,"\u0275\u0275advance":\u0275\u0275advance,"\u0275\u0275template":\u0275\u0275template,"\u0275\u0275text":\u0275\u0275text,"\u0275\u0275textInterpolate":\u0275\u0275textInterpolate,"\u0275\u0275textInterpolate1":\u0275\u0275textInterpolate1,"\u0275\u0275textInterpolate2":\u0275\u0275textInterpolate2,"\u0275\u0275textInterpolate3":\u0275\u0275textInterpolate3,"\u0275\u0275textInterpolate4":\u0275\u0275textInterpolate4,"\u0275\u0275textInterpolate5":\u0275\u0275textInterpolate5,"\u0275\u0275textInterpolate6":\u0275\u0275textInterpolate6,"\u0275\u0275textInterpolate7":\u0275\u0275textInterpolate7,"\u0275\u0275textInterpolate8":\u0275\u0275textInterpolate8,"\u0275\u0275textInterpolateV":\u0275\u0275textInterpolateV,"\u0275\u0275embeddedViewStart":\u0275\u0275embeddedViewStart,"\u0275\u0275embeddedViewEnd":\u0275\u0275embeddedViewEnd,"\u0275\u0275i18n":\u0275\u0275i18n,"\u0275\u0275i18nAttributes":\u0275\u0275i18nAttributes,"\u0275\u0275i18nExp":\u0275\u0275i18nExp,"\u0275\u0275i18nStart":\u0275\u0275i18nStart,"\u0275\u0275i18nEnd":\u0275\u0275i18nEnd,"\u0275\u0275i18nApply":\u0275\u0275i18nApply,"\u0275\u0275i18nPostprocess":\u0275\u0275i18nPostprocess,"\u0275\u0275resolveWindow":\u0275\u0275resolveWindow,"\u0275\u0275resolveDocument":\u0275\u0275resolveDocument,"\u0275\u0275resolveBody":\u0275\u0275resolveBody,"\u0275\u0275setComponentScope":\u0275\u0275setComponentScope,"\u0275\u0275setNgModuleScope":\u0275\u0275setNgModuleScope,"\u0275\u0275sanitizeHtml":\u0275\u0275sanitizeHtml,"\u0275\u0275sanitizeStyle":\u0275\u0275sanitizeStyle,"\u0275\u0275defaultStyleSanitizer":\u0275\u0275defaultStyleSanitizer,"\u0275\u0275sanitizeResourceUrl":\u0275\u0275sanitizeResourceUrl,"\u0275\u0275sanitizeScript":\u0275\u0275sanitizeScript,"\u0275\u0275sanitizeUrl":\u0275\u0275sanitizeUrl,"\u0275\u0275sanitizeUrlOrResourceUrl":\u0275\u0275sanitizeUrlOrResourceUrl},EMPTY_ARRAY$5=[];const moduleQueue=[];let flushingModuleQueue=!1;function flushModuleScopingQueueAsMuchAsPossible(){if(!flushingModuleQueue){flushingModuleQueue=!0;try{for(let i=moduleQueue.length-1;i>=0;i--){const{moduleType:moduleType,ngModule:ngModule}=moduleQueue[i];ngModule.declarations&&ngModule.declarations.every(isResolvedDeclaration)&&(moduleQueue.splice(i,1),setScopeOnDeclaredComponents(moduleType,ngModule))}}finally{flushingModuleQueue=!1}}}function isResolvedDeclaration(declaration){return Array.isArray(declaration)?declaration.every(isResolvedDeclaration):!!resolveForwardRef(declaration)}function compileNgModule(moduleType,ngModule={}){compileNgModuleDefs(moduleType,ngModule),function enqueueModuleForDelayedScoping(moduleType,ngModule){moduleQueue.push({moduleType:moduleType,ngModule:ngModule})}(moduleType,ngModule)}function compileNgModuleDefs(moduleType,ngModule,allowDuplicateDeclarationsInRoot=!1){const declarations=flatten(ngModule.declarations||EMPTY_ARRAY$5);let ngModuleDef=null;Object.defineProperty(moduleType,NG_MOD_DEF,{configurable:!0,get:()=>(null===ngModuleDef&&(ngModuleDef=getCompilerFacade().compileNgModule(angularCoreEnv,`ng:///${moduleType.name}/\u0275mod.js`,{type:moduleType,bootstrap:flatten(ngModule.bootstrap||EMPTY_ARRAY$5).map(resolveForwardRef),declarations:declarations.map(resolveForwardRef),imports:flatten(ngModule.imports||EMPTY_ARRAY$5).map(resolveForwardRef).map(expandModuleWithProviders),exports:flatten(ngModule.exports||EMPTY_ARRAY$5).map(resolveForwardRef).map(expandModuleWithProviders),schemas:ngModule.schemas?flatten(ngModule.schemas):null,id:ngModule.id||null}),ngModuleDef.schemas||(ngModuleDef.schemas=[])),ngModuleDef)});let ngInjectorDef=null;Object.defineProperty(moduleType,NG_INJ_DEF,{get:()=>{if(null===ngInjectorDef){const meta={name:moduleType.name,type:moduleType,deps:reflectDependencies(moduleType),providers:ngModule.providers||EMPTY_ARRAY$5,imports:[(ngModule.imports||EMPTY_ARRAY$5).map(resolveForwardRef),(ngModule.exports||EMPTY_ARRAY$5).map(resolveForwardRef)]};ngInjectorDef=getCompilerFacade().compileInjector(angularCoreEnv,`ng:///${moduleType.name}/\u0275inj.js`,meta)}return ngInjectorDef},configurable:!1})}let ownerNgModule=new Map,verifiedNgModule=new Map;function resetCompiledComponents(){ownerNgModule=new Map,verifiedNgModule=new Map,moduleQueue.length=0}function setScopeOnDeclaredComponents(moduleType,ngModule){const declarations=flatten(ngModule.declarations||EMPTY_ARRAY$5),transitiveScopes=transitiveScopesFor(moduleType);declarations.forEach(declaration=>{if(declaration.hasOwnProperty(NG_COMP_DEF)){patchComponentDefWithScope(getComponentDef(declaration),transitiveScopes)}else declaration.hasOwnProperty(NG_DIR_DEF)||declaration.hasOwnProperty(NG_PIPE_DEF)||(declaration.ngSelectorScope=moduleType)})}function patchComponentDefWithScope(componentDef,transitiveScopes){componentDef.directiveDefs=()=>Array.from(transitiveScopes.compilation.directives).map(dir=>dir.hasOwnProperty(NG_COMP_DEF)?getComponentDef(dir):getDirectiveDef(dir)).filter(def=>!!def),componentDef.pipeDefs=()=>Array.from(transitiveScopes.compilation.pipes).map(pipe=>getPipeDef(pipe)),componentDef.schemas=transitiveScopes.schemas,componentDef.tView=null}function transitiveScopesFor(moduleType){if(!isNgModule(moduleType))throw new Error(`${moduleType.name} does not have a module def (\u0275mod property)`);const def=getNgModuleDef(moduleType);if(null!==def.transitiveCompileScopes)return def.transitiveCompileScopes;const scopes={schemas:def.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return maybeUnwrapFn(def.imports).forEach(imported=>{const importedType=imported;if(!isNgModule(importedType))throw new Error(`Importing ${importedType.name} which does not have a \u0275mod property`);const importedScope=transitiveScopesFor(importedType);importedScope.exported.directives.forEach(entry=>scopes.compilation.directives.add(entry)),importedScope.exported.pipes.forEach(entry=>scopes.compilation.pipes.add(entry))}),maybeUnwrapFn(def.declarations).forEach(declared=>{getPipeDef(declared)?scopes.compilation.pipes.add(declared):scopes.compilation.directives.add(declared)}),maybeUnwrapFn(def.exports).forEach(exported=>{const exportedType=exported;if(isNgModule(exportedType)){const exportedScope=transitiveScopesFor(exportedType);exportedScope.exported.directives.forEach(entry=>{scopes.compilation.directives.add(entry),scopes.exported.directives.add(entry)}),exportedScope.exported.pipes.forEach(entry=>{scopes.compilation.pipes.add(entry),scopes.exported.pipes.add(entry)})}else getPipeDef(exportedType)?scopes.exported.pipes.add(exportedType):scopes.exported.directives.add(exportedType)}),def.transitiveCompileScopes=scopes,scopes}function expandModuleWithProviders(value){return function isModuleWithProviders(value){return void 0!==value.ngModule}(value)?value.ngModule:value}function isNgModule(value){return!!getNgModuleDef(value)}function compileComponent(type,metadata){let ngComponentDef=null;!function maybeQueueResolutionOfComponentResources(type,metadata){componentNeedsResolution(metadata)&&(componentResourceResolutionQueue.set(type,metadata),componentDefPendingResolution.add(type))}(type,metadata),addDirectiveFactoryDef(type,metadata),Object.defineProperty(type,NG_COMP_DEF,{get:()=>{if(null===ngComponentDef){const compiler=getCompilerFacade();if(componentNeedsResolution(metadata)){const error=[`Component '${type.name}' is not resolved:`];throw metadata.templateUrl&&error.push(` - templateUrl: ${metadata.templateUrl}`),metadata.styleUrls&&metadata.styleUrls.length&&error.push(` - styleUrls: ${JSON.stringify(metadata.styleUrls)}`),error.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(error.join("\n"))}const templateUrl=metadata.templateUrl||`ng:///${type.name}/template.html`,meta=Object.assign(Object.assign({},directiveMetadata(type,metadata)),{typeSourceSpan:compiler.createParseSourceSpan("Component",type.name,templateUrl),template:metadata.template||"",preserveWhitespaces:metadata.preserveWhitespaces||!1,styles:metadata.styles||EMPTY_ARRAY,animations:metadata.animations,directives:[],changeDetection:metadata.changeDetection,pipes:new Map,encapsulation:metadata.encapsulation||ViewEncapsulation$1.Emulated,interpolation:metadata.interpolation,viewProviders:metadata.viewProviders||null});if(meta.usesInheritance&&addDirectiveDefToUndecoratedParents(type),ngComponentDef=compiler.compileComponent(angularCoreEnv,templateUrl,meta),flushModuleScopingQueueAsMuchAsPossible(),function hasSelectorScope(component){return void 0!==component.ngSelectorScope}(type)){const scopes=transitiveScopesFor(type.ngSelectorScope);patchComponentDefWithScope(ngComponentDef,scopes)}}return ngComponentDef},configurable:!1})}function compileDirective(type,directive){let ngDirectiveDef=null;addDirectiveFactoryDef(type,directive||{}),Object.defineProperty(type,NG_DIR_DEF,{get:()=>{if(null===ngDirectiveDef){const meta=getDirectiveMetadata(type,directive||{});ngDirectiveDef=getCompilerFacade().compileDirective(angularCoreEnv,meta.sourceMapUrl,meta.metadata)}return ngDirectiveDef},configurable:!1})}function getDirectiveMetadata(type,metadata){const name=type&&type.name,sourceMapUrl=`ng:///${name}/\u0275dir.js`,compiler=getCompilerFacade(),facade=directiveMetadata(type,metadata);return facade.typeSourceSpan=compiler.createParseSourceSpan("Directive",name,sourceMapUrl),facade.usesInheritance&&addDirectiveDefToUndecoratedParents(type),{metadata:facade,sourceMapUrl:sourceMapUrl}}function addDirectiveFactoryDef(type,metadata){let ngFactoryDef=null;Object.defineProperty(type,NG_FACTORY_DEF,{get:()=>{if(null===ngFactoryDef){const meta=getDirectiveMetadata(type,metadata),compiler=getCompilerFacade();ngFactoryDef=compiler.compileFactory(angularCoreEnv,`ng:///${type.name}/\u0275fac.js`,Object.assign(Object.assign({},meta.metadata),{injectFn:"directiveInject",target:compiler.R3FactoryTarget.Directive}))}return ngFactoryDef},configurable:!1})}function extendsDirectlyFromObject(type){return Object.getPrototypeOf(type.prototype)===Object.prototype}function directiveMetadata(type,metadata){const reflect=getReflect(),propMetadata=reflect.ownPropMetadata(type);return{name:type.name,type:type,typeArgumentCount:0,selector:void 0!==metadata.selector?metadata.selector:null,deps:reflectDependencies(type),host:metadata.host||EMPTY_OBJ,propMetadata:propMetadata,inputs:metadata.inputs||EMPTY_ARRAY,outputs:metadata.outputs||EMPTY_ARRAY,queries:extractQueriesMetadata(type,propMetadata,isContentQuery),lifecycle:{usesOnChanges:reflect.hasLifecycleHook(type,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!extendsDirectlyFromObject(type),exportAs:(exportAs=metadata.exportAs,void 0===exportAs?null:splitByComma(exportAs)),providers:metadata.providers||null,viewQueries:extractQueriesMetadata(type,propMetadata,isViewQuery)};var exportAs}function addDirectiveDefToUndecoratedParents(type){const objPrototype=Object.prototype;let parent=Object.getPrototypeOf(type.prototype).constructor;for(;parent&&parent!==objPrototype;)getDirectiveDef(parent)||getComponentDef(parent)||!shouldAddAbstractDirective(parent)||compileDirective(parent,null),parent=Object.getPrototypeOf(parent)}function convertToR3QueryMetadata(propertyName,ann){return{propertyName:propertyName,predicate:(selector=ann.selector,"string"==typeof selector?splitByComma(selector):resolveForwardRef(selector)),descendants:ann.descendants,first:ann.first,read:ann.read?ann.read:null,static:!!ann.static};var selector}function extractQueriesMetadata(type,propMetadata,isQueryAnn){const queriesMeta=[];for(const field in propMetadata)if(propMetadata.hasOwnProperty(field)){const annotations=propMetadata[field];annotations.forEach(ann=>{if(isQueryAnn(ann)){if(!ann.selector)throw new Error(`Can't construct a query for the property "${field}" of `+`"${stringifyForError(type)}" since the query selector wasn't defined.`);if(annotations.some(isInputAnnotation))throw new Error("Cannot combine @Input decorators with query decorators");queriesMeta.push(convertToR3QueryMetadata(field,ann))}})}return queriesMeta}function isContentQuery(value){const name=value.ngMetadataName;return"ContentChild"===name||"ContentChildren"===name}function isViewQuery(value){const name=value.ngMetadataName;return"ViewChild"===name||"ViewChildren"===name}function isInputAnnotation(value){return"Input"===value.ngMetadataName}function splitByComma(value){return value.split(",").map(piece=>piece.trim())}const LIFECYCLE_HOOKS=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function shouldAddAbstractDirective(type){const reflect=getReflect();if(LIFECYCLE_HOOKS.some(hookName=>reflect.hasLifecycleHook(type,hookName)))return!0;const propMetadata=reflect.propMetadata(type);for(const field in propMetadata){const annotations=propMetadata[field];for(let i=0;i<annotations.length;i++){const current=annotations[i],metadataName=current.ngMetadataName;if(isInputAnnotation(current)||isContentQuery(current)||isViewQuery(current)||"Output"===metadataName||"HostBinding"===metadataName||"HostListener"===metadataName)return!0}}return!1}function compilePipe(type,meta){let ngPipeDef=null,ngFactoryDef=null;Object.defineProperty(type,NG_FACTORY_DEF,{get:()=>{if(null===ngFactoryDef){const metadata=getPipeMetadata(type,meta),compiler=getCompilerFacade();ngFactoryDef=compiler.compileFactory(angularCoreEnv,`ng:///${metadata.name}/\u0275fac.js`,Object.assign(Object.assign({},metadata),{injectFn:"directiveInject",target:compiler.R3FactoryTarget.Pipe}))}return ngFactoryDef},configurable:!1}),Object.defineProperty(type,NG_PIPE_DEF,{get:()=>{if(null===ngPipeDef){const metadata=getPipeMetadata(type,meta);ngPipeDef=getCompilerFacade().compilePipe(angularCoreEnv,`ng:///${metadata.name}/\u0275pipe.js`,metadata)}return ngPipeDef},configurable:!1})}function getPipeMetadata(type,meta){return{type:type,typeArgumentCount:0,name:type.name,deps:reflectDependencies(type),pipeName:meta.name,pure:void 0===meta.pure||meta.pure}}const Directive=makeDecorator("Directive",(dir={})=>dir,void 0,void 0,(type,meta)=>SWITCH_COMPILE_DIRECTIVE(type,meta));const Component=makeDecorator("Component",(c={})=>Object.assign({changeDetection:ChangeDetectionStrategy.Default},c),Directive,void 0,(type,meta)=>SWITCH_COMPILE_COMPONENT(type,meta));const Pipe=makeDecorator("Pipe",p=>Object.assign({pure:!0},p),void 0,void 0,(type,meta)=>SWITCH_COMPILE_PIPE(type,meta));const Input=makePropDecorator("Input",bindingPropertyName=>({bindingPropertyName:bindingPropertyName}));const Output=makePropDecorator("Output",bindingPropertyName=>({bindingPropertyName:bindingPropertyName}));const HostBinding=makePropDecorator("HostBinding",hostPropertyName=>({hostPropertyName:hostPropertyName}));const HostListener=makePropDecorator("HostListener",(eventName,args)=>({eventName:eventName,args:args})),SWITCH_COMPILE_COMPONENT__POST_R3__=compileComponent,SWITCH_COMPILE_DIRECTIVE__POST_R3__=compileDirective,SWITCH_COMPILE_PIPE__POST_R3__=compilePipe,SWITCH_COMPILE_COMPONENT=SWITCH_COMPILE_COMPONENT__POST_R3__,SWITCH_COMPILE_DIRECTIVE=SWITCH_COMPILE_DIRECTIVE__POST_R3__,SWITCH_COMPILE_PIPE=SWITCH_COMPILE_PIPE__POST_R3__;const NgModule=makeDecorator("NgModule",ngModule=>ngModule,void 0,void 0,(type,meta)=>SWITCH_COMPILE_NGMODULE(type,meta));const SWITCH_COMPILE_NGMODULE__POST_R3__=compileNgModule,SWITCH_COMPILE_NGMODULE=SWITCH_COMPILE_NGMODULE__POST_R3__,APP_INITIALIZER=new InjectionToken("Application Initializer");class ApplicationInitStatus{constructor(appInits){this.appInits=appInits,this.initialized=!1,this.done=!1,this.donePromise=new Promise((res,rej)=>{this.resolve=res,this.reject=rej})}runInitializers(){if(this.initialized)return;const asyncInitPromises=[],complete=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const initResult=this.appInits[i]();isPromise(initResult)&&asyncInitPromises.push(initResult)}Promise.all(asyncInitPromises).then(()=>{complete()}).catch(e=>{this.reject(e)}),0===asyncInitPromises.length&&complete(),this.initialized=!0}}ApplicationInitStatus.\u0275fac=function ApplicationInitStatus_Factory(t){return new(t||ApplicationInitStatus)(\u0275\u0275inject(APP_INITIALIZER,8))},ApplicationInitStatus.\u0275prov=\u0275\u0275defineInjectable({token:ApplicationInitStatus,factory:ApplicationInitStatus.\u0275fac}),ApplicationInitStatus.ctorParameters=()=>[{type:Array,decorators:[{type:Inject,args:[APP_INITIALIZER]},{type:Optional}]}];const APP_ID=new InjectionToken("AppId");function _appIdRandomProviderFactory(){return`${_randomChar()}${_randomChar()}${_randomChar()}`}const APP_ID_RANDOM_PROVIDER={provide:APP_ID,useFactory:_appIdRandomProviderFactory,deps:[]};function _randomChar(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PLATFORM_INITIALIZER=new InjectionToken("Platform Initializer"),PLATFORM_ID=new InjectionToken("Platform ID"),APP_BOOTSTRAP_LISTENER=new InjectionToken("appBootstrapListener"),PACKAGE_ROOT_URL=new InjectionToken("Application Packages Root URL");class Console{log(message){console.log(message)}warn(message){console.warn(message)}}Console.\u0275fac=function Console_Factory(t){return new(t||Console)},Console.\u0275prov=\u0275\u0275defineInjectable({token:Console,factory:Console.\u0275fac});const LOCALE_ID$1=new InjectionToken("LocaleId"),DEFAULT_CURRENCY_CODE=new InjectionToken("DefaultCurrencyCode"),TRANSLATIONS=new InjectionToken("Translations"),TRANSLATIONS_FORMAT=new InjectionToken("TranslationsFormat"),MissingTranslationStrategy={Error:0,Warning:1,Ignore:2};MissingTranslationStrategy[MissingTranslationStrategy.Error]="Error",MissingTranslationStrategy[MissingTranslationStrategy.Warning]="Warning",MissingTranslationStrategy[MissingTranslationStrategy.Ignore]="Ignore";const SWITCH_IVY_ENABLED__POST_R3__=!0,ivyEnabled=SWITCH_IVY_ENABLED__POST_R3__;class ModuleWithComponentFactories{constructor(ngModuleFactory,componentFactories){this.ngModuleFactory=ngModuleFactory,this.componentFactories=componentFactories}}const Compiler_compileModuleSync__POST_R3__=function(moduleType){return new NgModuleFactory$1(moduleType)},Compiler_compileModuleSync=Compiler_compileModuleSync__POST_R3__,Compiler_compileModuleAsync__POST_R3__=function(moduleType){return Promise.resolve(Compiler_compileModuleSync__POST_R3__(moduleType))},Compiler_compileModuleAsync=Compiler_compileModuleAsync__POST_R3__,Compiler_compileModuleAndAllComponentsSync__POST_R3__=function(moduleType){const ngModuleFactory=Compiler_compileModuleSync__POST_R3__(moduleType),componentFactories=maybeUnwrapFn(getNgModuleDef(moduleType).declarations).reduce((factories,declaration)=>{const componentDef=getComponentDef(declaration);return componentDef&&factories.push(new ComponentFactory$1(componentDef)),factories},[]);return new ModuleWithComponentFactories(ngModuleFactory,componentFactories)},Compiler_compileModuleAndAllComponentsSync=Compiler_compileModuleAndAllComponentsSync__POST_R3__,Compiler_compileModuleAndAllComponentsAsync__POST_R3__=function(moduleType){return Promise.resolve(Compiler_compileModuleAndAllComponentsSync__POST_R3__(moduleType))},Compiler_compileModuleAndAllComponentsAsync=Compiler_compileModuleAndAllComponentsAsync__POST_R3__;class Compiler{constructor(){this.compileModuleSync=Compiler_compileModuleSync,this.compileModuleAsync=Compiler_compileModuleAsync,this.compileModuleAndAllComponentsSync=Compiler_compileModuleAndAllComponentsSync,this.compileModuleAndAllComponentsAsync=Compiler_compileModuleAndAllComponentsAsync}clearCache(){}clearCacheFor(type){}getModuleId(moduleType){}}Compiler.\u0275fac=function Compiler_Factory(t){return new(t||Compiler)},Compiler.\u0275prov=\u0275\u0275defineInjectable({token:Compiler,factory:Compiler.\u0275fac});const COMPILER_OPTIONS=new InjectionToken("compilerOptions");class CompilerFactory{}const promise=Promise.resolve(0);function scheduleMicroTask(fn){"undefined"==typeof Zone?promise.then(()=>{fn&&fn.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",fn)}class NgZone{constructor({enableLongStackTrace:enableLongStackTrace=!1,shouldCoalesceEventChangeDetection:shouldCoalesceEventChangeDetection=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new core_EventEmitter(!1),this.onMicrotaskEmpty=new core_EventEmitter(!1),this.onStable=new core_EventEmitter(!1),this.onError=new core_EventEmitter(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const self=this;self._nesting=0,self._outer=self._inner=Zone.current,Zone.wtfZoneSpec&&(self._inner=self._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(self._inner=self._inner.fork(new Zone.TaskTrackingZoneSpec)),enableLongStackTrace&&Zone.longStackTraceZoneSpec&&(self._inner=self._inner.fork(Zone.longStackTraceZoneSpec)),self.shouldCoalesceEventChangeDetection=shouldCoalesceEventChangeDetection,self.lastRequestAnimationFrameId=-1,self.nativeRequestAnimationFrame=function getNativeRequestAnimationFrame(){let nativeRequestAnimationFrame=_global.requestAnimationFrame,nativeCancelAnimationFrame=_global.cancelAnimationFrame;if("undefined"!=typeof Zone&&nativeRequestAnimationFrame&&nativeCancelAnimationFrame){const unpatchedRequestAnimationFrame=nativeRequestAnimationFrame[Zone.__symbol__("OriginalDelegate")];unpatchedRequestAnimationFrame&&(nativeRequestAnimationFrame=unpatchedRequestAnimationFrame);const unpatchedCancelAnimationFrame=nativeCancelAnimationFrame[Zone.__symbol__("OriginalDelegate")];unpatchedCancelAnimationFrame&&(nativeCancelAnimationFrame=unpatchedCancelAnimationFrame)}return{nativeRequestAnimationFrame:nativeRequestAnimationFrame,nativeCancelAnimationFrame:nativeCancelAnimationFrame}}().nativeRequestAnimationFrame,function forkInnerZoneWithAngularBehavior(zone){const maybeDelayChangeDetection=!!zone.shouldCoalesceEventChangeDetection&&zone.nativeRequestAnimationFrame&&(()=>{!function delayChangeDetectionForEvents(zone){if(-1!==zone.lastRequestAnimationFrameId)return;zone.lastRequestAnimationFrameId=zone.nativeRequestAnimationFrame.call(_global,()=>{zone.lastRequestAnimationFrameId=-1,updateMicroTaskStatus(zone),checkStable(zone)}),updateMicroTaskStatus(zone)}(zone)});zone._inner=zone._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:maybeDelayChangeDetection},onInvokeTask:(delegate,current,target,task,applyThis,applyArgs)=>{try{return onEnter(zone),delegate.invokeTask(target,task,applyThis,applyArgs)}finally{maybeDelayChangeDetection&&"eventTask"===task.type&&maybeDelayChangeDetection(),onLeave(zone)}},onInvoke:(delegate,current,target,callback,applyThis,applyArgs,source)=>{try{return onEnter(zone),delegate.invoke(target,callback,applyThis,applyArgs,source)}finally{onLeave(zone)}},onHasTask:(delegate,current,target,hasTaskState)=>{delegate.hasTask(target,hasTaskState),current===target&&("microTask"==hasTaskState.change?(zone._hasPendingMicrotasks=hasTaskState.microTask,updateMicroTaskStatus(zone),checkStable(zone)):"macroTask"==hasTaskState.change&&(zone.hasPendingMacrotasks=hasTaskState.macroTask))},onHandleError:(delegate,current,target,error)=>(delegate.handleError(target,error),zone.runOutsideAngular(()=>zone.onError.emit(error)),!1)})}(self)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!NgZone.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(NgZone.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(fn,applyThis,applyArgs){return this._inner.run(fn,applyThis,applyArgs)}runTask(fn,applyThis,applyArgs,name){const zone=this._inner,task=zone.scheduleEventTask("NgZoneEvent: "+name,fn,EMPTY_PAYLOAD,noop$1,noop$1);try{return zone.runTask(task,applyThis,applyArgs)}finally{zone.cancelTask(task)}}runGuarded(fn,applyThis,applyArgs){return this._inner.runGuarded(fn,applyThis,applyArgs)}runOutsideAngular(fn){return this._outer.run(fn)}}function noop$1(){}const EMPTY_PAYLOAD={};function checkStable(zone){if(0==zone._nesting&&!zone.hasPendingMicrotasks&&!zone.isStable)try{zone._nesting++,zone.onMicrotaskEmpty.emit(null)}finally{if(zone._nesting--,!zone.hasPendingMicrotasks)try{zone.runOutsideAngular(()=>zone.onStable.emit(null))}finally{zone.isStable=!0}}}function updateMicroTaskStatus(zone){zone._hasPendingMicrotasks||zone.shouldCoalesceEventChangeDetection&&-1!==zone.lastRequestAnimationFrameId?zone.hasPendingMicrotasks=!0:zone.hasPendingMicrotasks=!1}function onEnter(zone){zone._nesting++,zone.isStable&&(zone.isStable=!1,zone.onUnstable.emit(null))}function onLeave(zone){zone._nesting--,checkStable(zone)}class NoopNgZone{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new core_EventEmitter,this.onMicrotaskEmpty=new core_EventEmitter,this.onStable=new core_EventEmitter,this.onError=new core_EventEmitter}run(fn,applyThis,applyArgs){return fn.apply(applyThis,applyArgs)}runGuarded(fn,applyThis,applyArgs){return fn.apply(applyThis,applyArgs)}runOutsideAngular(fn){return fn()}runTask(fn,applyThis,applyArgs,name){return fn.apply(applyThis,applyArgs)}}class Testability{constructor(_ngZone){this._ngZone=_ngZone,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),_ngZone.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{NgZone.assertNotInAngularZone(),scheduleMicroTask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())scheduleMicroTask(()=>{for(;0!==this._callbacks.length;){let cb=this._callbacks.pop();clearTimeout(cb.timeoutId),cb.doneCb(this._didWork)}this._didWork=!1});else{let pending=this.getPendingTasks();this._callbacks=this._callbacks.filter(cb=>!cb.updateCb||!cb.updateCb(pending)||(clearTimeout(cb.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(cb,timeout,updateCb){let timeoutId=-1;timeout&&timeout>0&&(timeoutId=setTimeout(()=>{this._callbacks=this._callbacks.filter(cb=>cb.timeoutId!==timeoutId),cb(this._didWork,this.getPendingTasks())},timeout)),this._callbacks.push({doneCb:cb,timeoutId:timeoutId,updateCb:updateCb})}whenStable(doneCb,timeout,updateCb){if(updateCb&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(doneCb,timeout,updateCb),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(using,provider,exactMatch){return[]}}Testability.\u0275fac=function Testability_Factory(t){return new(t||Testability)(\u0275\u0275inject(NgZone))},Testability.\u0275prov=\u0275\u0275defineInjectable({token:Testability,factory:Testability.\u0275fac}),Testability.ctorParameters=()=>[{type:NgZone}];class TestabilityRegistry{constructor(){this._applications=new Map,_testabilityGetter.addToWindow(this)}registerApplication(token,testability){this._applications.set(token,testability)}unregisterApplication(token){this._applications.delete(token)}unregisterAllApplications(){this._applications.clear()}getTestability(elem){return this._applications.get(elem)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(elem,findInAncestors=!0){return _testabilityGetter.findTestabilityInTree(this,elem,findInAncestors)}}TestabilityRegistry.\u0275fac=function TestabilityRegistry_Factory(t){return new(t||TestabilityRegistry)},TestabilityRegistry.\u0275prov=\u0275\u0275defineInjectable({token:TestabilityRegistry,factory:TestabilityRegistry.\u0275fac}),TestabilityRegistry.ctorParameters=()=>[];function setTestabilityGetter(getter){_testabilityGetter=getter}let _platform,_testabilityGetter=new class{addToWindow(registry){}findTestabilityInTree(registry,elem,findInAncestors){return null}},compileNgModuleFactory=compileNgModuleFactory__POST_R3__;function compileNgModuleFactory__POST_R3__(injector,options,moduleType){const moduleFactory=new NgModuleFactory$1(moduleType);if(function isComponentResourceResolutionQueueEmpty(){return 0===componentResourceResolutionQueue.size}())return Promise.resolve(moduleFactory);const compilerProviders=function _mergeArrays(parts){const result=[];return parts.forEach(part=>part&&result.push(...part)),result}(injector.get(COMPILER_OPTIONS,[]).concat(options).map(o=>o.providers));if(0===compilerProviders.length)return Promise.resolve(moduleFactory);const compiler=getCompilerFacade(),resourceLoader=Injector.create({providers:compilerProviders}).get(compiler.ResourceLoader);return resolveComponentResources(url=>Promise.resolve(resourceLoader.get(url))).then(()=>moduleFactory)}let publishDefaultGlobalUtils$1=function publishDefaultGlobalUtils__POST_R3__(){},isBoundToModule=isBoundToModule__POST_R3__;function isBoundToModule__POST_R3__(cf){return cf.isBoundToModule}const ALLOW_MULTIPLE_PLATFORMS=new InjectionToken("AllowMultipleToken");class NgProbeToken{constructor(name,token){this.name=name,this.token=token}}function createPlatform(injector){if(_platform&&!_platform.destroyed&&!_platform.injector.get(ALLOW_MULTIPLE_PLATFORMS,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");publishDefaultGlobalUtils$1(),_platform=injector.get(PlatformRef);const inits=injector.get(PLATFORM_INITIALIZER,null);return inits&&inits.forEach(init=>init()),_platform}function createPlatformFactory(parentPlatformFactory,name,providers=[]){const desc=`Platform: ${name}`,marker=new InjectionToken(desc);return(extraProviders=[])=>{let platform=getPlatform();if(!platform||platform.injector.get(ALLOW_MULTIPLE_PLATFORMS,!1))if(parentPlatformFactory)parentPlatformFactory(providers.concat(extraProviders).concat({provide:marker,useValue:!0}));else{const injectedProviders=providers.concat(extraProviders).concat({provide:marker,useValue:!0},{provide:INJECTOR_SCOPE,useValue:"platform"});createPlatform(Injector.create({providers:injectedProviders,name:desc}))}return assertPlatform(marker)}}function assertPlatform(requiredToken){const platform=getPlatform();if(!platform)throw new Error("No platform exists!");if(!platform.injector.get(requiredToken,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return platform}function destroyPlatform(){_platform&&!_platform.destroyed&&_platform.destroy()}function getPlatform(){return _platform&&!_platform.destroyed?_platform:null}class PlatformRef{constructor(_injector){this._injector=_injector,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(moduleFactory,options){const ngZone=function getNgZone(ngZoneOption,ngZoneEventCoalescing){let ngZone;ngZone="noop"===ngZoneOption?new NoopNgZone:("zone.js"===ngZoneOption?void 0:ngZoneOption)||new NgZone({enableLongStackTrace:isDevMode(),shouldCoalesceEventChangeDetection:ngZoneEventCoalescing});return ngZone}(options?options.ngZone:void 0,options&&options.ngZoneEventCoalescing||!1),providers=[{provide:NgZone,useValue:ngZone}];return ngZone.run(()=>{const ngZoneInjector=Injector.create({providers:providers,parent:this.injector,name:moduleFactory.moduleType.name}),moduleRef=moduleFactory.create(ngZoneInjector),exceptionHandler=moduleRef.injector.get(ErrorHandler,null);if(!exceptionHandler)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return moduleRef.onDestroy(()=>remove(this._modules,moduleRef)),ngZone.runOutsideAngular(()=>ngZone.onError.subscribe({next:error=>{exceptionHandler.handleError(error)}})),function _callAndReportToErrorHandler(errorHandler,ngZone,callback){try{const result=callback();return isPromise(result)?result.catch(e=>{throw ngZone.runOutsideAngular(()=>errorHandler.handleError(e)),e}):result}catch(e){throw ngZone.runOutsideAngular(()=>errorHandler.handleError(e)),e}}(exceptionHandler,ngZone,()=>{const initStatus=moduleRef.injector.get(ApplicationInitStatus);return initStatus.runInitializers(),initStatus.donePromise.then(()=>{if(ivyEnabled){setLocaleId(moduleRef.injector.get(LOCALE_ID$1,DEFAULT_LOCALE_ID)||DEFAULT_LOCALE_ID)}return this._moduleDoBootstrap(moduleRef),moduleRef})})})}bootstrapModule(moduleType,compilerOptions=[]){const options=optionsReducer({},compilerOptions);return compileNgModuleFactory(this.injector,options,moduleType).then(moduleFactory=>this.bootstrapModuleFactory(moduleFactory,options))}_moduleDoBootstrap(moduleRef){const appRef=moduleRef.injector.get(core_ApplicationRef);if(moduleRef._bootstrapComponents.length>0)moduleRef._bootstrapComponents.forEach(f=>appRef.bootstrap(f));else{if(!moduleRef.instance.ngDoBootstrap)throw new Error(`The module ${stringify(moduleRef.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");moduleRef.instance.ngDoBootstrap(appRef)}this._modules.push(moduleRef)}onDestroy(callback){this._destroyListeners.push(callback)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(module=>module.destroy()),this._destroyListeners.forEach(listener=>listener()),this._destroyed=!0}get destroyed(){return this._destroyed}}function optionsReducer(dst,objs){return dst=Array.isArray(objs)?objs.reduce(optionsReducer,dst):Object.assign(Object.assign({},dst),objs)}PlatformRef.\u0275fac=function PlatformRef_Factory(t){return new(t||PlatformRef)(\u0275\u0275inject(Injector))},PlatformRef.\u0275prov=\u0275\u0275defineInjectable({token:PlatformRef,factory:PlatformRef.\u0275fac}),PlatformRef.ctorParameters=()=>[{type:Injector}];class core_ApplicationRef{constructor(_zone,_console,_injector,_exceptionHandler,_componentFactoryResolver,_initStatus){this._zone=_zone,this._console=_console,this._injector=_injector,this._exceptionHandler=_exceptionHandler,this._componentFactoryResolver=_componentFactoryResolver,this._initStatus=_initStatus,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=isDevMode(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const isCurrentlyStable=new Observable.a(observer=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{observer.next(this._stable),observer.complete()})}),isStable=new Observable.a(observer=>{let stableSub;this._zone.runOutsideAngular(()=>{stableSub=this._zone.onStable.subscribe(()=>{NgZone.assertNotInAngularZone(),scheduleMicroTask(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,observer.next(!0))})})});const unstableSub=this._zone.onUnstable.subscribe(()=>{NgZone.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{observer.next(!1)}))});return(()=>{stableSub.unsubscribe(),unstableSub.unsubscribe()})});this.isStable=function merge(...observables){let concurrent=Number.POSITIVE_INFINITY,scheduler=null,last=observables[observables.length-1];return Object(isScheduler.a)(last)?(scheduler=observables.pop(),observables.length>1&&"number"==typeof observables[observables.length-1]&&(concurrent=observables.pop())):"number"==typeof last&&(concurrent=observables.pop()),null===scheduler&&1===observables.length&&observables[0]instanceof Observable.a?observables[0]:Object(mergeAll.a)(concurrent)(Object(fromArray.a)(observables,scheduler))}(isCurrentlyStable,isStable.pipe(share()))}bootstrap(componentOrFactory,rootSelectorOrNode){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let componentFactory;componentFactory=componentOrFactory instanceof ComponentFactory?componentOrFactory:this._componentFactoryResolver.resolveComponentFactory(componentOrFactory),this.componentTypes.push(componentFactory.componentType);const ngModule=isBoundToModule(componentFactory)?void 0:this._injector.get(NgModuleRef),selectorOrNode=rootSelectorOrNode||componentFactory.selector,compRef=componentFactory.create(Injector.NULL,[],selectorOrNode,ngModule);compRef.onDestroy(()=>{this._unloadComponent(compRef)});const testability=compRef.injector.get(Testability,null);return testability&&compRef.injector.get(TestabilityRegistry).registerApplication(compRef.location.nativeElement,testability),this._loadComponent(compRef),isDevMode()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),compRef}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let view of this._views)view.detectChanges();if(this._enforceNoNewChanges)for(let view of this._views)view.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(viewRef){const view=viewRef;this._views.push(view),view.attachToAppRef(this)}detachView(viewRef){const view=viewRef;remove(this._views,view),view.detachFromAppRef()}_loadComponent(componentRef){this.attachView(componentRef.hostView),this.tick(),this.components.push(componentRef),this._injector.get(APP_BOOTSTRAP_LISTENER,[]).concat(this._bootstrapListeners).forEach(listener=>listener(componentRef))}_unloadComponent(componentRef){this.detachView(componentRef.hostView),remove(this.components,componentRef)}ngOnDestroy(){this._views.slice().forEach(view=>view.destroy())}get viewCount(){return this._views.length}}function remove(list,el){const index=list.indexOf(el);index>-1&&list.splice(index,1)}core_ApplicationRef.\u0275fac=function ApplicationRef_Factory(t){return new(t||core_ApplicationRef)(\u0275\u0275inject(NgZone),\u0275\u0275inject(Console),\u0275\u0275inject(Injector),\u0275\u0275inject(ErrorHandler),\u0275\u0275inject(ComponentFactoryResolver),\u0275\u0275inject(ApplicationInitStatus))},core_ApplicationRef.\u0275prov=\u0275\u0275defineInjectable({token:core_ApplicationRef,factory:core_ApplicationRef.\u0275fac}),core_ApplicationRef.ctorParameters=()=>[{type:NgZone},{type:Console},{type:Injector},{type:ErrorHandler},{type:ComponentFactoryResolver},{type:ApplicationInitStatus}];class NgModuleFactoryLoader{}function getModuleFactory__PRE_R3__(id){const factory=getRegisteredNgModuleType(id);if(!factory)throw noModuleError(id);return factory}function getModuleFactory__POST_R3__(id){const type=getRegisteredNgModuleType(id);if(!type)throw noModuleError(id);return new NgModuleFactory$1(type)}const getModuleFactory=getModuleFactory__POST_R3__;function noModuleError(id){return new Error(`No module with ID ${id} loaded`)}class SystemJsNgModuleLoaderConfig{}const DEFAULT_CONFIG={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class SystemJsNgModuleLoader{constructor(_compiler,config){this._compiler=_compiler,this._config=config||DEFAULT_CONFIG}load(path){return!ivyEnabled&&this._compiler instanceof Compiler?this.loadFactory(path):this.loadAndCompile(path)}loadAndCompile(path){let[module,exportName]=path.split("#");return void 0===exportName&&(exportName="default"),__webpack_require__("zn8P")(module).then(module=>module[exportName]).then(type=>checkNotEmpty(type,module,exportName)).then(type=>this._compiler.compileModuleAsync(type))}loadFactory(path){let[module,exportName]=path.split("#"),factoryClassSuffix="NgFactory";return void 0===exportName&&(exportName="default",factoryClassSuffix=""),__webpack_require__("zn8P")(this._config.factoryPathPrefix+module+this._config.factoryPathSuffix).then(module=>module[exportName+factoryClassSuffix]).then(factory=>checkNotEmpty(factory,module,exportName))}}function checkNotEmpty(value,modulePath,exportName){if(!value)throw new Error(`Cannot find '${exportName}' in '${modulePath}'`);return value}SystemJsNgModuleLoader.\u0275fac=function SystemJsNgModuleLoader_Factory(t){return new(t||SystemJsNgModuleLoader)(\u0275\u0275inject(Compiler),\u0275\u0275inject(SystemJsNgModuleLoaderConfig,8))},SystemJsNgModuleLoader.\u0275prov=\u0275\u0275defineInjectable({token:SystemJsNgModuleLoader,factory:SystemJsNgModuleLoader.\u0275fac}),SystemJsNgModuleLoader.ctorParameters=()=>[{type:Compiler},{type:SystemJsNgModuleLoaderConfig,decorators:[{type:Optional}]}];class ViewRef$1 extends ChangeDetectorRef{}class EmbeddedViewRef extends ViewRef$1{}class DebugEventListener{constructor(name,callback){this.name=name,this.callback=callback}}class DebugNode__PRE_R3__{constructor(nativeNode,parent,_debugContext){this.listeners=[],this.parent=null,this._debugContext=_debugContext,this.nativeNode=nativeNode,parent&&parent instanceof DebugElement__PRE_R3__&&parent.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class DebugElement__PRE_R3__ extends DebugNode__PRE_R3__{constructor(nativeNode,parent,_debugContext){super(nativeNode,parent,_debugContext),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=nativeNode}addChild(child){child&&(this.childNodes.push(child),child.parent=this)}removeChild(child){const childIndex=this.childNodes.indexOf(child);-1!==childIndex&&(child.parent=null,this.childNodes.splice(childIndex,1))}insertChildrenAfter(child,newChildren){const siblingIndex=this.childNodes.indexOf(child);-1!==siblingIndex&&(this.childNodes.splice(siblingIndex+1,0,...newChildren),newChildren.forEach(c=>{c.parent&&c.parent.removeChild(c),child.parent=this}))}insertBefore(refChild,newChild){const refIndex=this.childNodes.indexOf(refChild);-1===refIndex?this.addChild(newChild):(newChild.parent&&newChild.parent.removeChild(newChild),newChild.parent=this,this.childNodes.splice(refIndex,0,newChild))}query(predicate){return this.queryAll(predicate)[0]||null}queryAll(predicate){const matches=[];return function _queryElementChildren(element,predicate,matches){element.childNodes.forEach(node=>{node instanceof DebugElement__PRE_R3__&&(predicate(node)&&matches.push(node),_queryElementChildren(node,predicate,matches))})}(this,predicate,matches),matches}queryAllNodes(predicate){const matches=[];return function _queryNodeChildren(parentNode,predicate,matches){parentNode instanceof DebugElement__PRE_R3__&&parentNode.childNodes.forEach(node=>{predicate(node)&&matches.push(node),node instanceof DebugElement__PRE_R3__&&_queryNodeChildren(node,predicate,matches)})}(this,predicate,matches),matches}get children(){return this.childNodes.filter(node=>node instanceof DebugElement__PRE_R3__)}triggerEventHandler(eventName,eventObj){this.listeners.forEach(listener=>{listener.name==eventName&&listener.callback(eventObj)})}}function asNativeElements(debugEls){return debugEls.map(el=>el.nativeElement)}class DebugNode__POST_R3__{constructor(nativeNode){this.nativeNode=nativeNode}get parent(){const parent=this.nativeNode.parentNode;return parent?new DebugElement__POST_R3__(parent):null}get injector(){return getInjector(this.nativeNode)}get componentInstance(){const nativeElement=this.nativeNode;return nativeElement&&(getComponent(nativeElement)||getOwningComponent(nativeElement))}get context(){return getComponent(this.nativeNode)||getContext(this.nativeNode)}get listeners(){return getListeners(this.nativeNode).filter(listener=>"dom"===listener.type)}get references(){return function getLocalRefs(target){const context=loadLContext(target,!1);return null===context?{}:(void 0===context.localRefs&&(context.localRefs=function discoverLocalRefs(lView,nodeIndex){const tNode=lView[1].data[nodeIndex];if(tNode&&tNode.localNames){const result={};let localIndex=tNode.index+1;for(let i=0;i<tNode.localNames.length;i+=2)result[tNode.localNames[i]]=lView[localIndex],localIndex++;return result}return null}(context.lView,context.nodeIndex)),context.localRefs||{})}(this.nativeNode)}get providerTokens(){return function getInjectionTokens(element){const context=loadLContext(element,!1);if(null===context)return[];const tView=context.lView[1],tNode=tView.data[context.nodeIndex],providerTokens=[],startIndex=65535&tNode.providerIndexes,endIndex=tNode.directiveEnd;for(let i=startIndex;i<endIndex;i++){let value=tView.data[i];void 0!==(obj=value).type&&void 0!==obj.template&&void 0!==obj.declaredInputs&&(value=value.type),providerTokens.push(value)}var obj;return providerTokens}(this.nativeNode)}}class DebugElement__POST_R3__ extends DebugNode__POST_R3__{constructor(nativeNode){super(nativeNode)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){try{const context=loadLContext(this.nativeNode);return context.lView[1].data[context.nodeIndex].tagName}catch(e){return this.nativeNode.nodeName}}get properties(){const context=loadLContext(this.nativeNode,!1);if(null==context)return{};const lView=context.lView,tData=lView[1].data,tNode=tData[context.nodeIndex],properties={};return function copyDomProperties(element,properties){if(element){let obj=Object.getPrototypeOf(element);const NodePrototype=Node.prototype;for(;null!==obj&&obj!==NodePrototype;){const descriptors=Object.getOwnPropertyDescriptors(obj);for(let key in descriptors)if(!key.startsWith("__")&&!key.startsWith("on")){const value=element[key];isPrimitiveValue(value)&&(properties[key]=value)}obj=Object.getPrototypeOf(obj)}}}(this.nativeElement,properties),function collectPropertyBindings(properties,tNode,lView,tData){let bindingIndexes=tNode.propertyBindings;if(null!==bindingIndexes)for(let i=0;i<bindingIndexes.length;i++){const bindingIndex=bindingIndexes[i],metadataParts=tData[bindingIndex].split("\ufffd"),propertyName=metadataParts[0];if(metadataParts.length>1){let value=metadataParts[1];for(let j=1;j<metadataParts.length-1;j++)value+=renderStringify(lView[bindingIndex+j-1])+metadataParts[j+1];properties[propertyName]=value}else properties[propertyName]=lView[bindingIndex]}}(properties,tNode,lView,tData),properties}get attributes(){const attributes={},element=this.nativeElement;if(!element)return attributes;const context=loadLContext(element,!1);if(null==context)return{};const tNodeAttrs=context.lView[1].data[context.nodeIndex].attrs,lowercaseTNodeAttrs=[];if(tNodeAttrs){let i=0;for(;i<tNodeAttrs.length;){const attrName=tNodeAttrs[i];if("string"!=typeof attrName)break;const attrValue=tNodeAttrs[i+1];attributes[attrName]=attrValue,lowercaseTNodeAttrs.push(attrName.toLowerCase()),i+=2}}const eAttrs=element.attributes;for(let i=0;i<eAttrs.length;i++){const attr=eAttrs[i],lowercaseName=attr.name.toLowerCase();-1===lowercaseTNodeAttrs.indexOf(lowercaseName)&&(attributes[lowercaseName]=attr.value)}return attributes}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const result={},className=this.nativeElement.className;return(className&&"string"!=typeof className?className.baseVal.split(" "):className.split(" ")).forEach(value=>result[value]=!0),result}get childNodes(){const childNodes=this.nativeNode.childNodes,children=[];for(let i=0;i<childNodes.length;i++){const element=childNodes[i];children.push(getDebugNode__POST_R3__(element))}return children}get children(){const nativeElement=this.nativeElement;if(!nativeElement)return[];const childNodes=nativeElement.children,children=[];for(let i=0;i<childNodes.length;i++){const element=childNodes[i];children.push(getDebugNode__POST_R3__(element))}return children}query(predicate){return this.queryAll(predicate)[0]||null}queryAll(predicate){const matches=[];return _queryAllR3(this,predicate,matches,!0),matches}queryAllNodes(predicate){const matches=[];return _queryAllR3(this,predicate,matches,!1),matches}triggerEventHandler(eventName,eventObj){const node=this.nativeNode,invokedListeners=[];this.listeners.forEach(listener=>{if(listener.name===eventName){const callback=listener.callback;callback.call(node,eventObj),invokedListeners.push(callback)}}),"function"==typeof node.eventListeners&&node.eventListeners(eventName).forEach(listener=>{if(-1!==listener.toString().indexOf("__ngUnwrap__")){const unwrappedListener=listener("__ngUnwrap__");return-1===invokedListeners.indexOf(unwrappedListener)&&unwrappedListener.call(node,eventObj)}})}}function isPrimitiveValue(value){return"string"==typeof value||"boolean"==typeof value||"number"==typeof value||null===value}function _queryAllR3(parentElement,predicate,matches,elementsOnly){const context=loadLContext(parentElement.nativeNode,!1);if(null!==context){_queryNodeChildrenR3(context.lView[1].data[context.nodeIndex],context.lView,predicate,matches,elementsOnly,parentElement.nativeNode)}else _queryNativeNodeDescendants(parentElement.nativeNode,predicate,matches,elementsOnly)}function _queryNodeChildrenR3(tNode,lView,predicate,matches,elementsOnly,rootNativeNode){const nativeNode=getNativeByTNodeOrNull(tNode,lView);if(3===tNode.type||4===tNode.type){if(_addQueryMatchR3(nativeNode,predicate,matches,elementsOnly,rootNativeNode),isComponentHost(tNode)){const componentView=getComponentLViewByIndex(tNode.index,lView);componentView&&componentView[1].firstChild&&_queryNodeChildrenR3(componentView[1].firstChild,componentView,predicate,matches,elementsOnly,rootNativeNode)}else tNode.child&&_queryNodeChildrenR3(tNode.child,lView,predicate,matches,elementsOnly,rootNativeNode),nativeNode&&_queryNativeNodeDescendants(nativeNode,predicate,matches,elementsOnly);const nodeOrContainer=lView[tNode.index];isLContainer(nodeOrContainer)&&_queryNodeChildrenInContainerR3(nodeOrContainer,predicate,matches,elementsOnly,rootNativeNode)}else if(0===tNode.type){const lContainer=lView[tNode.index];_addQueryMatchR3(lContainer[7],predicate,matches,elementsOnly,rootNativeNode),_queryNodeChildrenInContainerR3(lContainer,predicate,matches,elementsOnly,rootNativeNode)}else if(1===tNode.type){const componentView=lView[16],head=componentView[6].projection[tNode.projection];if(Array.isArray(head))for(let nativeNode of head)_addQueryMatchR3(nativeNode,predicate,matches,elementsOnly,rootNativeNode);else if(head){const nextLView=componentView[3];_queryNodeChildrenR3(nextLView[1].data[head.index],nextLView,predicate,matches,elementsOnly,rootNativeNode)}}else tNode.child&&_queryNodeChildrenR3(tNode.child,lView,predicate,matches,elementsOnly,rootNativeNode);if(rootNativeNode!==nativeNode){const nextTNode=4&tNode.flags?tNode.projectionNext:tNode.next;nextTNode&&_queryNodeChildrenR3(nextTNode,lView,predicate,matches,elementsOnly,rootNativeNode)}}function _queryNodeChildrenInContainerR3(lContainer,predicate,matches,elementsOnly,rootNativeNode){for(let i=9;i<lContainer.length;i++){const childView=lContainer[i];_queryNodeChildrenR3(childView[1].node,childView,predicate,matches,elementsOnly,rootNativeNode)}}function _addQueryMatchR3(nativeNode,predicate,matches,elementsOnly,rootNativeNode){if(rootNativeNode!==nativeNode){const debugNode=getDebugNode$1(nativeNode);if(!debugNode)return;elementsOnly&&debugNode instanceof DebugElement__POST_R3__&&predicate(debugNode)&&-1===matches.indexOf(debugNode)?matches.push(debugNode):!elementsOnly&&predicate(debugNode)&&-1===matches.indexOf(debugNode)&&matches.push(debugNode)}}function _queryNativeNodeDescendants(parentNode,predicate,matches,elementsOnly){const nodes=parentNode.childNodes,length=nodes.length;for(let i=0;i<length;i++){const node=nodes[i],debugNode=getDebugNode$1(node);debugNode&&(elementsOnly&&debugNode instanceof DebugElement__POST_R3__&&predicate(debugNode)&&-1===matches.indexOf(debugNode)?matches.push(debugNode):!elementsOnly&&predicate(debugNode)&&-1===matches.indexOf(debugNode)&&matches.push(debugNode),_queryNativeNodeDescendants(node,predicate,matches,elementsOnly))}}const _nativeNodeToDebugNode=new Map;function getDebugNode__POST_R3__(nativeNode){return nativeNode instanceof Node?(nativeNode.hasOwnProperty("__ng_debug__")||(nativeNode.__ng_debug__=nativeNode.nodeType==Node.ELEMENT_NODE?new DebugElement__POST_R3__(nativeNode):new DebugNode__POST_R3__(nativeNode)),nativeNode.__ng_debug__):null}const getDebugNode$1=getDebugNode__POST_R3__;function getDebugNodeR2__PRE_R3__(nativeNode){return function getDebugNode__PRE_R3__(nativeNode){return _nativeNodeToDebugNode.get(nativeNode)||null}(nativeNode)}const getDebugNodeR2=function getDebugNodeR2__POST_R3__(_nativeNode){return null};function indexDebugNode(node){_nativeNodeToDebugNode.set(node.nativeNode,node)}const DebugNode$1=DebugNode__POST_R3__,DebugElement=DebugElement__POST_R3__,platformCore=createPlatformFactory(null,"core",[{provide:PLATFORM_ID,useValue:"unknown"},{provide:PlatformRef,deps:[Injector]},{provide:TestabilityRegistry,deps:[]},{provide:Console,deps:[]}]);function _iterableDiffersFactory(){return defaultIterableDiffers}function _keyValueDiffersFactory(){return defaultKeyValueDiffers}function _localeFactory(locale){return locale=locale||function getGlobalLocale(){return ivyEnabled&&"undefined"!=typeof $localize&&$localize.locale||DEFAULT_LOCALE_ID}(),ivyEnabled&&setLocaleId(locale),locale}const \u02750$g=USD_CURRENCY_CODE,APPLICATION_MODULE_PROVIDERS=[{provide:core_ApplicationRef,useClass:core_ApplicationRef,deps:[NgZone,Console,Injector,ErrorHandler,ComponentFactoryResolver,ApplicationInitStatus]},{provide:SCHEDULER,deps:[NgZone],useFactory:zoneSchedulerFactory},{provide:ApplicationInitStatus,useClass:ApplicationInitStatus,deps:[[new Optional,APP_INITIALIZER]]},{provide:Compiler,useClass:Compiler,deps:[]},APP_ID_RANDOM_PROVIDER,{provide:IterableDiffers,useFactory:_iterableDiffersFactory,deps:[]},{provide:KeyValueDiffers,useFactory:_keyValueDiffersFactory,deps:[]},{provide:LOCALE_ID$1,useFactory:_localeFactory,deps:[[new Inject(LOCALE_ID$1),new Optional,new SkipSelf]]},{provide:DEFAULT_CURRENCY_CODE,useValue:\u02750$g}];function zoneSchedulerFactory(ngZone){let queue=[];return ngZone.onStable.subscribe(()=>{for(;queue.length;)queue.pop()()}),function(fn){queue.push(fn)}}class ApplicationModule{constructor(appRef){}}function anchorDef(flags,matchedQueriesDsl,ngContentIndex,childCount,handleEvent,templateFactory){flags|=1;const{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}=splitMatchedQueriesDsl(matchedQueriesDsl);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:flags,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:matchedQueries,matchedQueryIds:matchedQueryIds,references:references,ngContentIndex:ngContentIndex,childCount:childCount,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:templateFactory?resolveDefinition(templateFactory):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:handleEvent||NOOP},provider:null,text:null,query:null,ngContent:null}}function elementDef(checkIndex,flags,matchedQueriesDsl,ngContentIndex,childCount,namespaceAndName,fixedAttrs=[],bindings,outputs,handleEvent,componentView,componentRendererType){handleEvent||(handleEvent=NOOP);const{matchedQueries:matchedQueries,references:references,matchedQueryIds:matchedQueryIds}=splitMatchedQueriesDsl(matchedQueriesDsl);let ns=null,name=null;namespaceAndName&&([ns,name]=splitNamespace(namespaceAndName)),bindings=bindings||[];const bindingDefs=[];for(let i=0;i<bindings.length;i++){const[bindingFlags,namespaceAndName,suffixOrSecurityContext]=bindings[i],[ns,name]=splitNamespace(namespaceAndName);let securityContext=void 0,suffix=void 0;switch(15&bindingFlags){case 4:suffix=suffixOrSecurityContext;break;case 1:case 8:securityContext=suffixOrSecurityContext}bindingDefs[i]={flags:bindingFlags,ns:ns,name:name,nonMinifiedName:name,securityContext:securityContext,suffix:suffix}}outputs=outputs||[];const outputDefs=[];for(let i=0;i<outputs.length;i++){const[target,eventName]=outputs[i];outputDefs[i]={type:0,target:target,eventName:eventName,propName:null}}const attrs=(fixedAttrs=fixedAttrs||[]).map(([namespaceAndName,value])=>{const[ns,name]=splitNamespace(namespaceAndName);return[ns,name,value]});return componentRendererType=function resolveRendererType2(type){if(type&&"$$undefined"===type.id){const isFilled=null!=type.encapsulation&&type.encapsulation!==ViewEncapsulation$1.None||type.styles.length||Object.keys(type.data).length;type.id=isFilled?`c${_renderCompCount$1++}`:"$$empty"}return type&&"$$empty"===type.id&&(type=null),type||null}(componentRendererType),componentView&&(flags|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:flags|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:matchedQueries,matchedQueryIds:matchedQueryIds,references:references,ngContentIndex:ngContentIndex,childCount:childCount,bindings:bindingDefs,bindingFlags:calcBindingFlags(bindingDefs),outputs:outputDefs,element:{ns:ns,name:name,attrs:attrs,template:null,componentProvider:null,componentView:componentView||null,componentRendererType:componentRendererType,publicProviders:null,allProviders:null,handleEvent:handleEvent||NOOP},provider:null,text:null,query:null,ngContent:null}}function createElement(view,renderHost,def){const elDef=def.element,rootSelectorOrNode=view.root.selectorOrNode,renderer=view.renderer;let el;if(view.parent||!rootSelectorOrNode){el=elDef.name?renderer.createElement(elDef.name,elDef.ns):renderer.createComment("");const parentEl=getParentRenderElement(view,renderHost,def);parentEl&&renderer.appendChild(parentEl,el)}else{const preserveContent=!!elDef.componentRendererType&&elDef.componentRendererType.encapsulation===ViewEncapsulation$1.ShadowDom;el=renderer.selectRootElement(rootSelectorOrNode,preserveContent)}if(elDef.attrs)for(let i=0;i<elDef.attrs.length;i++){const[ns,name,value]=elDef.attrs[i];renderer.setAttribute(el,name,value,ns)}return el}function listenToElementOutputs(view,compView,def,el){for(let i=0;i<def.outputs.length;i++){const output=def.outputs[i],handleEventClosure=renderEventHandlerClosure(view,def.nodeIndex,(target=output.target,name=output.eventName,target?`${target}:${name}`:name));let listenTarget=output.target,listenerView=view;"component"===output.target&&(listenTarget=null,listenerView=compView);const disposable=listenerView.renderer.listen(listenTarget||el,output.eventName,handleEventClosure);view.disposables[def.outputIndex+i]=disposable}var target,name}function renderEventHandlerClosure(view,index,eventName){return event=>dispatchEvent(view,index,eventName,event)}function checkAndUpdateElementValue(view,def,bindingIdx,value){if(!checkAndUpdateBinding(view,def,bindingIdx,value))return!1;const binding=def.bindings[bindingIdx],elData=asElementData(view,def.nodeIndex),renderNode=elData.renderElement,name=binding.name;switch(15&binding.flags){case 1:!function setElementAttribute(view,binding,renderNode,ns,name,value){const securityContext=binding.securityContext;let renderValue=securityContext?view.root.sanitizer.sanitize(securityContext,value):value;renderValue=null!=renderValue?renderValue.toString():null;const renderer=view.renderer;null!=value?renderer.setAttribute(renderNode,name,renderValue,ns):renderer.removeAttribute(renderNode,name,ns)}(view,binding,renderNode,binding.ns,name,value);break;case 2:!function setElementClass(view,renderNode,name,value){const renderer=view.renderer;value?renderer.addClass(renderNode,name):renderer.removeClass(renderNode,name)}(view,renderNode,name,value);break;case 4:!function setElementStyle(view,binding,renderNode,name,value){let renderValue=view.root.sanitizer.sanitize(SecurityContext.STYLE,value);if(null!=renderValue){renderValue=renderValue.toString();const unit=binding.suffix;null!=unit&&(renderValue+=unit)}else renderValue=null;const renderer=view.renderer;null!=renderValue?renderer.setStyle(renderNode,name,renderValue):renderer.removeStyle(renderNode,name)}(view,binding,renderNode,name,value);break;case 8:!function setElementProperty(view,binding,renderNode,name,value){const securityContext=binding.securityContext;let renderValue=securityContext?view.root.sanitizer.sanitize(securityContext,value):value;view.renderer.setProperty(renderNode,name,renderValue)}(33554432&def.flags&&32&binding.flags?elData.componentView:view,binding,renderNode,name,value)}return!0}function queryDef(flags,id,bindings){let bindingDefs=[];for(let propName in bindings){const bindingType=bindings[propName];bindingDefs.push({propName:propName,bindingType:bindingType})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:flags,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:id,filterId:filterQueryId(id),bindings:bindingDefs},ngContent:null}}function dirtyParentQueries(view){const queryIds=view.def.nodeMatchedQueries;for(;view.parent&&isEmbeddedView(view);){let tplDef=view.parentNodeDef;view=view.parent;const end=tplDef.nodeIndex+tplDef.childCount;for(let i=0;i<=end;i++){const nodeDef=view.def.nodes[i];67108864&nodeDef.flags&&536870912&nodeDef.flags&&(nodeDef.query.filterId&queryIds)===nodeDef.query.filterId&&asQueryList(view,i).setDirty(),!(1&nodeDef.flags&&i+nodeDef.childCount<tplDef.nodeIndex)&&67108864&nodeDef.childFlags&&536870912&nodeDef.childFlags||(i+=nodeDef.childCount)}}if(134217728&view.def.nodeFlags)for(let i=0;i<view.def.nodes.length;i++){const nodeDef=view.def.nodes[i];134217728&nodeDef.flags&&536870912&nodeDef.flags&&asQueryList(view,i).setDirty(),i+=nodeDef.childCount}}function checkAndUpdateQuery(view,nodeDef){const queryList=asQueryList(view,nodeDef.nodeIndex);if(!queryList.dirty)return;let directiveInstance,newValues=void 0;if(67108864&nodeDef.flags){const elementDef=nodeDef.parent.parent;newValues=calcQueryValues(view,elementDef.nodeIndex,elementDef.nodeIndex+elementDef.childCount,nodeDef.query,[]),directiveInstance=asProviderData(view,nodeDef.parent.nodeIndex).instance}else 134217728&nodeDef.flags&&(newValues=calcQueryValues(view,0,view.def.nodes.length-1,nodeDef.query,[]),directiveInstance=view.component);queryList.reset(newValues);const bindings=nodeDef.query.bindings;let notify=!1;for(let i=0;i<bindings.length;i++){const binding=bindings[i];let boundValue;switch(binding.bindingType){case 0:boundValue=queryList.first;break;case 1:boundValue=queryList,notify=!0}directiveInstance[binding.propName]=boundValue}notify&&queryList.notifyOnChanges()}function calcQueryValues(view,startIndex,endIndex,queryDef,values){for(let i=startIndex;i<=endIndex;i++){const nodeDef=view.def.nodes[i],valueType=nodeDef.matchedQueries[queryDef.id];if(null!=valueType&&values.push(getQueryValue(view,nodeDef,valueType)),1&nodeDef.flags&&nodeDef.element.template&&(nodeDef.element.template.nodeMatchedQueries&queryDef.filterId)===queryDef.filterId){const elementData=asElementData(view,i);if((nodeDef.childMatchedQueries&queryDef.filterId)===queryDef.filterId&&(calcQueryValues(view,i+1,i+nodeDef.childCount,queryDef,values),i+=nodeDef.childCount),16777216&nodeDef.flags){const embeddedViews=elementData.viewContainer._embeddedViews;for(let k=0;k<embeddedViews.length;k++){const embeddedView=embeddedViews[k],dvc=declaredViewContainer(embeddedView);dvc&&dvc===elementData&&calcQueryValues(embeddedView,0,embeddedView.def.nodes.length-1,queryDef,values)}}const projectedViews=elementData.template._projectedViews;if(projectedViews)for(let k=0;k<projectedViews.length;k++){const projectedView=projectedViews[k];calcQueryValues(projectedView,0,projectedView.def.nodes.length-1,queryDef,values)}}(nodeDef.childMatchedQueries&queryDef.filterId)!==queryDef.filterId&&(i+=nodeDef.childCount)}return values}function getQueryValue(view,nodeDef,queryValueType){if(null!=queryValueType)switch(queryValueType){case 1:return asElementData(view,nodeDef.nodeIndex).renderElement;case 0:return new ElementRef(asElementData(view,nodeDef.nodeIndex).renderElement);case 2:return asElementData(view,nodeDef.nodeIndex).template;case 3:return asElementData(view,nodeDef.nodeIndex).viewContainer;case 4:return asProviderData(view,nodeDef.nodeIndex).instance}}function ngContentDef(ngContentIndex,index){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:ngContentIndex,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:index}}}function appendNgContent(view,renderHost,def){const parentEl=getParentRenderElement(view,renderHost,def);parentEl&&visitProjectedRenderNodes(view,def.ngContent.index,1,parentEl,null,void 0)}function purePipeDef(checkIndex,argCount){return _pureExpressionDef(128,checkIndex,newArray(argCount+1))}function pureArrayDef(checkIndex,argCount){return _pureExpressionDef(32,checkIndex,newArray(argCount))}function pureObjectDef(checkIndex,propToIndex){const keys=Object.keys(propToIndex),nbKeys=keys.length,propertyNames=[];for(let i=0;i<nbKeys;i++){const key=keys[i];propToIndex[key];propertyNames.push(key)}return _pureExpressionDef(64,checkIndex,propertyNames)}function _pureExpressionDef(flags,checkIndex,propertyNames){const bindings=[];for(let i=0;i<propertyNames.length;i++){const prop=propertyNames[i];bindings.push({flags:8,name:prop,ns:null,nonMinifiedName:prop,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:flags,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:bindings,bindingFlags:calcBindingFlags(bindings),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function textDef(checkIndex,ngContentIndex,staticText){const bindings=[];for(let i=1;i<staticText.length;i++)bindings[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:staticText[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:checkIndex,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:ngContentIndex,childCount:0,bindings:bindings,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:staticText[0]},query:null,ngContent:null}}function createText(view,renderHost,def){let renderNode;const renderer=view.renderer;renderNode=renderer.createText(def.text.prefix);const parentEl=getParentRenderElement(view,renderHost,def);return parentEl&&renderer.appendChild(parentEl,renderNode),{renderText:renderNode}}function _addInterpolationPart(value,binding){return(null!=value?value.toString():"")+binding.suffix}function viewDef(flags,nodes,updateDirectives,updateRenderer){let viewBindingCount=0,viewDisposableCount=0,viewNodeFlags=0,viewRootNodeFlags=0,viewMatchedQueries=0,currentParent=null,currentRenderParent=null,currentElementHasPublicProviders=!1,currentElementHasPrivateProviders=!1,lastRenderRootNode=null;for(let i=0;i<nodes.length;i++){const node=nodes[i];if(node.nodeIndex=i,node.parent=currentParent,node.bindingIndex=viewBindingCount,node.outputIndex=viewDisposableCount,node.renderParent=currentRenderParent,viewNodeFlags|=node.flags,viewMatchedQueries|=node.matchedQueryIds,node.element){const elDef=node.element;elDef.publicProviders=currentParent?currentParent.element.publicProviders:Object.create(null),elDef.allProviders=elDef.publicProviders,currentElementHasPublicProviders=!1,currentElementHasPrivateProviders=!1,node.element.template&&(viewMatchedQueries|=node.element.template.nodeMatchedQueries)}if(validateNode(currentParent,node,nodes.length),viewBindingCount+=node.bindings.length,viewDisposableCount+=node.outputs.length,!currentRenderParent&&3&node.flags&&(lastRenderRootNode=node),20224&node.flags){currentElementHasPublicProviders||(currentElementHasPublicProviders=!0,currentParent.element.publicProviders=Object.create(currentParent.element.publicProviders),currentParent.element.allProviders=currentParent.element.publicProviders);const isPrivateService=0!=(8192&node.flags),isComponent=0!=(32768&node.flags);!isPrivateService||isComponent?currentParent.element.publicProviders[tokenKey(node.provider.token)]=node:(currentElementHasPrivateProviders||(currentElementHasPrivateProviders=!0,currentParent.element.allProviders=Object.create(currentParent.element.publicProviders)),currentParent.element.allProviders[tokenKey(node.provider.token)]=node),isComponent&&(currentParent.element.componentProvider=node)}if(currentParent?(currentParent.childFlags|=node.flags,currentParent.directChildFlags|=node.flags,currentParent.childMatchedQueries|=node.matchedQueryIds,node.element&&node.element.template&&(currentParent.childMatchedQueries|=node.element.template.nodeMatchedQueries)):viewRootNodeFlags|=node.flags,node.childCount>0)currentParent=node,isNgContainer(node)||(currentRenderParent=node);else for(;currentParent&&i===currentParent.nodeIndex+currentParent.childCount;){const newParent=currentParent.parent;newParent&&(newParent.childFlags|=currentParent.childFlags,newParent.childMatchedQueries|=currentParent.childMatchedQueries),currentParent=newParent,currentRenderParent=currentParent&&isNgContainer(currentParent)?currentParent.renderParent:currentParent}}return{factory:null,nodeFlags:viewNodeFlags,rootNodeFlags:viewRootNodeFlags,nodeMatchedQueries:viewMatchedQueries,flags:flags,nodes:nodes,updateDirectives:updateDirectives||NOOP,updateRenderer:updateRenderer||NOOP,handleEvent:(view,nodeIndex,eventName,event)=>nodes[nodeIndex].element.handleEvent(view,eventName,event),bindingCount:viewBindingCount,outputCount:viewDisposableCount,lastRenderRootNode:lastRenderRootNode}}function isNgContainer(node){return 0!=(1&node.flags)&&null===node.element.name}function validateNode(parent,node,nodeCount){const template=node.element&&node.element.template;if(template){if(!template.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(template.lastRenderRootNode&&16777216&template.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${node.nodeIndex}!`)}if(20224&node.flags){if(0==(1&(parent?parent.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${node.nodeIndex}!`)}if(node.query){if(67108864&node.flags&&(!parent||0==(16384&parent.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${node.nodeIndex}!`);if(134217728&node.flags&&parent)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${node.nodeIndex}!`)}if(node.childCount){const parentEnd=parent?parent.nodeIndex+parent.childCount:nodeCount-1;if(node.nodeIndex<=parentEnd&&node.nodeIndex+node.childCount>parentEnd)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${node.nodeIndex}!`)}}function createEmbeddedView(parent,anchorDef,viewDef,context){const view=createView(parent.root,parent.renderer,parent,anchorDef,viewDef);return initView(view,parent.component,context),createViewNodes(view),view}function createRootView(root,def,context){const view=createView(root,root.renderer,null,null,def);return initView(view,context,context),createViewNodes(view),view}function createComponentView(parentView,nodeDef,viewDef,hostElement){const rendererType=nodeDef.element.componentRendererType;let compRenderer;return compRenderer=rendererType?parentView.root.rendererFactory.createRenderer(hostElement,rendererType):parentView.root.renderer,createView(parentView.root,compRenderer,parentView,nodeDef.element.componentProvider,viewDef)}function createView(root,renderer,parent,parentNodeDef,def){const nodes=new Array(def.nodes.length),disposables=def.outputCount?new Array(def.outputCount):null;return{def:def,parent:parent,viewContainerParent:null,parentNodeDef:parentNodeDef,context:null,component:null,nodes:nodes,state:13,root:root,renderer:renderer,oldValues:new Array(def.bindingCount),disposables:disposables,initIndex:-1}}function initView(view,component,context){view.component=component,view.context=context}function createViewNodes(view){let renderHost;if(isComponentView(view)){const hostDef=view.parentNodeDef;renderHost=asElementData(view.parent,hostDef.parent.nodeIndex).renderElement}const def=view.def,nodes=view.nodes;for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];let nodeData;switch(Services.setCurrentNode(view,i),201347067&nodeDef.flags){case 1:const el=createElement(view,renderHost,nodeDef);let componentView=void 0;if(33554432&nodeDef.flags){const compViewDef=resolveDefinition(nodeDef.element.componentView);componentView=Services.createComponentView(view,nodeDef,compViewDef,el)}listenToElementOutputs(view,componentView,nodeDef,el),nodeData={renderElement:el,componentView:componentView,viewContainer:null,template:nodeDef.element.template?createTemplateData(view,nodeDef):void 0},16777216&nodeDef.flags&&(nodeData.viewContainer=createViewContainerData(view,nodeDef,nodeData));break;case 2:nodeData=createText(view,renderHost,nodeDef);break;case 512:case 1024:case 2048:case 256:if(nodeData=nodes[i],!(nodeData||4096&nodeDef.flags)){nodeData={instance:createProviderInstance(view,nodeDef)}}break;case 16:nodeData={instance:createPipeInstance(view,nodeDef)};break;case 16384:if(nodeData=nodes[i],!nodeData){nodeData={instance:createDirectiveInstance(view,nodeDef)}}if(32768&nodeDef.flags){initView(asElementData(view,nodeDef.parent.nodeIndex).componentView,nodeData.instance,nodeData.instance)}break;case 32:case 64:case 128:nodeData={value:void 0};break;case 67108864:case 134217728:nodeData=new QueryList;break;case 8:appendNgContent(view,renderHost,nodeDef),nodeData=void 0}nodes[i]=nodeData}execComponentViewsAction(view,ViewAction.CreateViewNodes),execQueriesAction(view,201326592,268435456,0)}function checkNoChangesView(view){markProjectedViewsForCheck(view),Services.updateDirectives(view,1),execEmbeddedViewsAction(view,ViewAction.CheckNoChanges),Services.updateRenderer(view,1),execComponentViewsAction(view,ViewAction.CheckNoChanges),view.state&=-97}function checkAndUpdateView(view){1&view.state?(view.state&=-2,view.state|=2):view.state&=-3,shiftInitState(view,0,256),markProjectedViewsForCheck(view),Services.updateDirectives(view,0),execEmbeddedViewsAction(view,ViewAction.CheckAndUpdate),execQueriesAction(view,67108864,536870912,0);let callInit=shiftInitState(view,256,512);callLifecycleHooksChildrenFirst(view,2097152|(callInit?1048576:0)),Services.updateRenderer(view,0),execComponentViewsAction(view,ViewAction.CheckAndUpdate),execQueriesAction(view,134217728,536870912,0),callInit=shiftInitState(view,512,768),callLifecycleHooksChildrenFirst(view,8388608|(callInit?4194304:0)),2&view.def.flags&&(view.state&=-9),view.state&=-97,shiftInitState(view,768,1024)}function checkAndUpdateNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){return 0===argStyle?function checkAndUpdateNodeInline(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){switch(201347067&nodeDef.flags){case 1:return function checkAndUpdateElementInline(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const bindLen=def.bindings.length;let changed=!1;return bindLen>0&&checkAndUpdateElementValue(view,def,0,v0)&&(changed=!0),bindLen>1&&checkAndUpdateElementValue(view,def,1,v1)&&(changed=!0),bindLen>2&&checkAndUpdateElementValue(view,def,2,v2)&&(changed=!0),bindLen>3&&checkAndUpdateElementValue(view,def,3,v3)&&(changed=!0),bindLen>4&&checkAndUpdateElementValue(view,def,4,v4)&&(changed=!0),bindLen>5&&checkAndUpdateElementValue(view,def,5,v5)&&(changed=!0),bindLen>6&&checkAndUpdateElementValue(view,def,6,v6)&&(changed=!0),bindLen>7&&checkAndUpdateElementValue(view,def,7,v7)&&(changed=!0),bindLen>8&&checkAndUpdateElementValue(view,def,8,v8)&&(changed=!0),bindLen>9&&checkAndUpdateElementValue(view,def,9,v9)&&(changed=!0),changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);case 2:return function checkAndUpdateTextInline(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){let changed=!1;const bindings=def.bindings,bindLen=bindings.length;if(bindLen>0&&checkAndUpdateBinding(view,def,0,v0)&&(changed=!0),bindLen>1&&checkAndUpdateBinding(view,def,1,v1)&&(changed=!0),bindLen>2&&checkAndUpdateBinding(view,def,2,v2)&&(changed=!0),bindLen>3&&checkAndUpdateBinding(view,def,3,v3)&&(changed=!0),bindLen>4&&checkAndUpdateBinding(view,def,4,v4)&&(changed=!0),bindLen>5&&checkAndUpdateBinding(view,def,5,v5)&&(changed=!0),bindLen>6&&checkAndUpdateBinding(view,def,6,v6)&&(changed=!0),bindLen>7&&checkAndUpdateBinding(view,def,7,v7)&&(changed=!0),bindLen>8&&checkAndUpdateBinding(view,def,8,v8)&&(changed=!0),bindLen>9&&checkAndUpdateBinding(view,def,9,v9)&&(changed=!0),changed){let value=def.text.prefix;bindLen>0&&(value+=_addInterpolationPart(v0,bindings[0])),bindLen>1&&(value+=_addInterpolationPart(v1,bindings[1])),bindLen>2&&(value+=_addInterpolationPart(v2,bindings[2])),bindLen>3&&(value+=_addInterpolationPart(v3,bindings[3])),bindLen>4&&(value+=_addInterpolationPart(v4,bindings[4])),bindLen>5&&(value+=_addInterpolationPart(v5,bindings[5])),bindLen>6&&(value+=_addInterpolationPart(v6,bindings[6])),bindLen>7&&(value+=_addInterpolationPart(v7,bindings[7])),bindLen>8&&(value+=_addInterpolationPart(v8,bindings[8])),bindLen>9&&(value+=_addInterpolationPart(v9,bindings[9]));const renderNode=asTextData(view,def.nodeIndex).renderText;view.renderer.setValue(renderNode,value)}return changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);case 16384:return function checkAndUpdateDirectiveInline(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const providerData=asProviderData(view,def.nodeIndex),directive=providerData.instance;let changed=!1,changes=void 0;const bindLen=def.bindings.length;return bindLen>0&&checkBinding(view,def,0,v0)&&(changed=!0,changes=updateProp(view,providerData,def,0,v0,changes)),bindLen>1&&checkBinding(view,def,1,v1)&&(changed=!0,changes=updateProp(view,providerData,def,1,v1,changes)),bindLen>2&&checkBinding(view,def,2,v2)&&(changed=!0,changes=updateProp(view,providerData,def,2,v2,changes)),bindLen>3&&checkBinding(view,def,3,v3)&&(changed=!0,changes=updateProp(view,providerData,def,3,v3,changes)),bindLen>4&&checkBinding(view,def,4,v4)&&(changed=!0,changes=updateProp(view,providerData,def,4,v4,changes)),bindLen>5&&checkBinding(view,def,5,v5)&&(changed=!0,changes=updateProp(view,providerData,def,5,v5,changes)),bindLen>6&&checkBinding(view,def,6,v6)&&(changed=!0,changes=updateProp(view,providerData,def,6,v6,changes)),bindLen>7&&checkBinding(view,def,7,v7)&&(changed=!0,changes=updateProp(view,providerData,def,7,v7,changes)),bindLen>8&&checkBinding(view,def,8,v8)&&(changed=!0,changes=updateProp(view,providerData,def,8,v8,changes)),bindLen>9&&checkBinding(view,def,9,v9)&&(changed=!0,changes=updateProp(view,providerData,def,9,v9,changes)),changes&&directive.ngOnChanges(changes),65536&def.flags&&shouldCallLifecycleInitHook(view,256,def.nodeIndex)&&directive.ngOnInit(),262144&def.flags&&directive.ngDoCheck(),changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);case 32:case 64:case 128:return function checkAndUpdatePureExpressionInline(view,def,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const bindings=def.bindings;let changed=!1;const bindLen=bindings.length;if(bindLen>0&&checkAndUpdateBinding(view,def,0,v0)&&(changed=!0),bindLen>1&&checkAndUpdateBinding(view,def,1,v1)&&(changed=!0),bindLen>2&&checkAndUpdateBinding(view,def,2,v2)&&(changed=!0),bindLen>3&&checkAndUpdateBinding(view,def,3,v3)&&(changed=!0),bindLen>4&&checkAndUpdateBinding(view,def,4,v4)&&(changed=!0),bindLen>5&&checkAndUpdateBinding(view,def,5,v5)&&(changed=!0),bindLen>6&&checkAndUpdateBinding(view,def,6,v6)&&(changed=!0),bindLen>7&&checkAndUpdateBinding(view,def,7,v7)&&(changed=!0),bindLen>8&&checkAndUpdateBinding(view,def,8,v8)&&(changed=!0),bindLen>9&&checkAndUpdateBinding(view,def,9,v9)&&(changed=!0),changed){const data=asPureExpressionData(view,def.nodeIndex);let value;switch(201347067&def.flags){case 32:value=[],bindLen>0&&value.push(v0),bindLen>1&&value.push(v1),bindLen>2&&value.push(v2),bindLen>3&&value.push(v3),bindLen>4&&value.push(v4),bindLen>5&&value.push(v5),bindLen>6&&value.push(v6),bindLen>7&&value.push(v7),bindLen>8&&value.push(v8),bindLen>9&&value.push(v9);break;case 64:value={},bindLen>0&&(value[bindings[0].name]=v0),bindLen>1&&(value[bindings[1].name]=v1),bindLen>2&&(value[bindings[2].name]=v2),bindLen>3&&(value[bindings[3].name]=v3),bindLen>4&&(value[bindings[4].name]=v4),bindLen>5&&(value[bindings[5].name]=v5),bindLen>6&&(value[bindings[6].name]=v6),bindLen>7&&(value[bindings[7].name]=v7),bindLen>8&&(value[bindings[8].name]=v8),bindLen>9&&(value[bindings[9].name]=v9);break;case 128:const pipe=v0;switch(bindLen){case 1:value=pipe.transform(v0);break;case 2:value=pipe.transform(v1);break;case 3:value=pipe.transform(v1,v2);break;case 4:value=pipe.transform(v1,v2,v3);break;case 5:value=pipe.transform(v1,v2,v3,v4);break;case 6:value=pipe.transform(v1,v2,v3,v4,v5);break;case 7:value=pipe.transform(v1,v2,v3,v4,v5,v6);break;case 8:value=pipe.transform(v1,v2,v3,v4,v5,v6,v7);break;case 9:value=pipe.transform(v1,v2,v3,v4,v5,v6,v7,v8);break;case 10:value=pipe.transform(v1,v2,v3,v4,v5,v6,v7,v8,v9)}}data.value=value}return changed}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9);default:throw"unreachable"}}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9):function checkAndUpdateNodeDynamic(view,nodeDef,values){switch(201347067&nodeDef.flags){case 1:return function checkAndUpdateElementDynamic(view,def,values){let changed=!1;for(let i=0;i<values.length;i++)checkAndUpdateElementValue(view,def,i,values[i])&&(changed=!0);return changed}(view,nodeDef,values);case 2:return function checkAndUpdateTextDynamic(view,def,values){const bindings=def.bindings;let changed=!1;for(let i=0;i<values.length;i++)checkAndUpdateBinding(view,def,i,values[i])&&(changed=!0);if(changed){let value="";for(let i=0;i<values.length;i++)value+=_addInterpolationPart(values[i],bindings[i]);value=def.text.prefix+value;const renderNode=asTextData(view,def.nodeIndex).renderText;view.renderer.setValue(renderNode,value)}return changed}(view,nodeDef,values);case 16384:return function checkAndUpdateDirectiveDynamic(view,def,values){const providerData=asProviderData(view,def.nodeIndex),directive=providerData.instance;let changed=!1,changes=void 0;for(let i=0;i<values.length;i++)checkBinding(view,def,i,values[i])&&(changed=!0,changes=updateProp(view,providerData,def,i,values[i],changes));return changes&&directive.ngOnChanges(changes),65536&def.flags&&shouldCallLifecycleInitHook(view,256,def.nodeIndex)&&directive.ngOnInit(),262144&def.flags&&directive.ngDoCheck(),changed}(view,nodeDef,values);case 32:case 64:case 128:return function checkAndUpdatePureExpressionDynamic(view,def,values){const bindings=def.bindings;let changed=!1;for(let i=0;i<values.length;i++)checkAndUpdateBinding(view,def,i,values[i])&&(changed=!0);if(changed){const data=asPureExpressionData(view,def.nodeIndex);let value;switch(201347067&def.flags){case 32:value=values;break;case 64:value={};for(let i=0;i<values.length;i++)value[bindings[i].name]=values[i];break;case 128:const pipe=values[0],params=values.slice(1);value=pipe.transform(...params)}data.value=value}return changed}(view,nodeDef,values);default:throw"unreachable"}}(view,nodeDef,v0)}function markProjectedViewsForCheck(view){const def=view.def;if(4&def.nodeFlags)for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];if(4&nodeDef.flags){const projectedViews=asElementData(view,i).template._projectedViews;if(projectedViews)for(let i=0;i<projectedViews.length;i++){const projectedView=projectedViews[i];projectedView.state|=32,markParentViewsForCheckProjectedViews(projectedView,view)}}else 0==(4&nodeDef.childFlags)&&(i+=nodeDef.childCount)}}function checkNoChangesNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){return 0===argStyle?function checkNoChangesNodeInline(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const bindLen=nodeDef.bindings.length;bindLen>0&&checkBindingNoChanges(view,nodeDef,0,v0);bindLen>1&&checkBindingNoChanges(view,nodeDef,1,v1);bindLen>2&&checkBindingNoChanges(view,nodeDef,2,v2);bindLen>3&&checkBindingNoChanges(view,nodeDef,3,v3);bindLen>4&&checkBindingNoChanges(view,nodeDef,4,v4);bindLen>5&&checkBindingNoChanges(view,nodeDef,5,v5);bindLen>6&&checkBindingNoChanges(view,nodeDef,6,v6);bindLen>7&&checkBindingNoChanges(view,nodeDef,7,v7);bindLen>8&&checkBindingNoChanges(view,nodeDef,8,v8);bindLen>9&&checkBindingNoChanges(view,nodeDef,9,v9)}(view,nodeDef,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9):function checkNoChangesNodeDynamic(view,nodeDef,values){for(let i=0;i<values.length;i++)checkBindingNoChanges(view,nodeDef,i,values[i])}(view,nodeDef,v0),!1}function checkNoChangesQuery(view,nodeDef){if(asQueryList(view,nodeDef.nodeIndex).dirty)throw expressionChangedAfterItHasBeenCheckedError(Services.createDebugContext(view,nodeDef.nodeIndex),`Query ${nodeDef.query.id} not dirty`,`Query ${nodeDef.query.id} dirty`,0!=(1&view.state))}function destroyView(view){if(!(128&view.state)){if(execEmbeddedViewsAction(view,ViewAction.Destroy),execComponentViewsAction(view,ViewAction.Destroy),callLifecycleHooksChildrenFirst(view,131072),view.disposables)for(let i=0;i<view.disposables.length;i++)view.disposables[i]();!function detachProjectedView(view){if(!(16&view.state))return;const dvcElementData=declaredViewContainer(view);if(dvcElementData){const projectedViews=dvcElementData.template._projectedViews;projectedViews&&(removeFromArray(projectedViews,projectedViews.indexOf(view)),Services.dirtyParentQueries(view))}}(view),view.renderer.destroyNode&&function destroyViewNodes(view){const len=view.def.nodes.length;for(let i=0;i<len;i++){const def=view.def.nodes[i];1&def.flags?view.renderer.destroyNode(asElementData(view,i).renderElement):2&def.flags?view.renderer.destroyNode(asTextData(view,i).renderText):(67108864&def.flags||134217728&def.flags)&&asQueryList(view,i).destroy()}}(view),isComponentView(view)&&view.renderer.destroy(),view.state|=128}}ApplicationModule.\u0275mod=\u0275\u0275defineNgModule({type:ApplicationModule}),ApplicationModule.\u0275inj=\u0275\u0275defineInjector({factory:function ApplicationModule_Factory(t){return new(t||ApplicationModule)(\u0275\u0275inject(core_ApplicationRef))},providers:APPLICATION_MODULE_PROVIDERS}),ApplicationModule.ctorParameters=()=>[{type:core_ApplicationRef}];const ViewAction={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};function execComponentViewsAction(view,action){const def=view.def;if(33554432&def.nodeFlags)for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];33554432&nodeDef.flags?callViewAction(asElementData(view,i).componentView,action):0==(33554432&nodeDef.childFlags)&&(i+=nodeDef.childCount)}}function execEmbeddedViewsAction(view,action){const def=view.def;if(16777216&def.nodeFlags)for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];if(16777216&nodeDef.flags){const embeddedViews=asElementData(view,i).viewContainer._embeddedViews;for(let k=0;k<embeddedViews.length;k++)callViewAction(embeddedViews[k],action)}else 0==(16777216&nodeDef.childFlags)&&(i+=nodeDef.childCount)}}function callViewAction(view,action){const viewState=view.state;switch(action){case ViewAction.CheckNoChanges:0==(128&viewState)&&(12==(12&viewState)?checkNoChangesView(view):64&viewState&&execProjectedViewsAction(view,ViewAction.CheckNoChangesProjectedViews));break;case ViewAction.CheckNoChangesProjectedViews:0==(128&viewState)&&(32&viewState?checkNoChangesView(view):64&viewState&&execProjectedViewsAction(view,action));break;case ViewAction.CheckAndUpdate:0==(128&viewState)&&(12==(12&viewState)?checkAndUpdateView(view):64&viewState&&execProjectedViewsAction(view,ViewAction.CheckAndUpdateProjectedViews));break;case ViewAction.CheckAndUpdateProjectedViews:0==(128&viewState)&&(32&viewState?checkAndUpdateView(view):64&viewState&&execProjectedViewsAction(view,action));break;case ViewAction.Destroy:destroyView(view);break;case ViewAction.CreateViewNodes:createViewNodes(view)}}function execProjectedViewsAction(view,action){execEmbeddedViewsAction(view,action),execComponentViewsAction(view,action)}function execQueriesAction(view,queryFlags,staticDynamicQueryFlag,checkType){if(!(view.def.nodeFlags&queryFlags&&view.def.nodeFlags&staticDynamicQueryFlag))return;const nodeCount=view.def.nodes.length;for(let i=0;i<nodeCount;i++){const nodeDef=view.def.nodes[i];if(nodeDef.flags&queryFlags&&nodeDef.flags&staticDynamicQueryFlag)switch(Services.setCurrentNode(view,nodeDef.nodeIndex),checkType){case 0:checkAndUpdateQuery(view,nodeDef);break;case 1:checkNoChangesQuery(view,nodeDef)}nodeDef.childFlags&queryFlags&&nodeDef.childFlags&staticDynamicQueryFlag||(i+=nodeDef.childCount)}}ViewAction[ViewAction.CreateViewNodes]="CreateViewNodes",ViewAction[ViewAction.CheckNoChanges]="CheckNoChanges",ViewAction[ViewAction.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",ViewAction[ViewAction.CheckAndUpdate]="CheckAndUpdate",ViewAction[ViewAction.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",ViewAction[ViewAction.Destroy]="Destroy";let initialized=!1;function initServicesIfNeeded(){if(initialized)return;initialized=!0;const services=isDevMode()?function createDebugServices(){return{setCurrentNode:debugSetCurrentNode,createRootView:debugCreateRootView,createEmbeddedView:debugCreateEmbeddedView,createComponentView:debugCreateComponentView,createNgModuleRef:debugCreateNgModuleRef,overrideProvider:debugOverrideProvider,overrideComponentView:debugOverrideComponentView,clearOverrides:debugClearOverrides,checkAndUpdateView:debugCheckAndUpdateView,checkNoChangesView:debugCheckNoChangesView,destroyView:debugDestroyView,createDebugContext:(view,nodeIndex)=>new DebugContext_(view,nodeIndex),handleEvent:debugHandleEvent,updateDirectives:debugUpdateDirectives,updateRenderer:debugUpdateRenderer}}():function createProdServices(){return{setCurrentNode:()=>{},createRootView:createProdRootView,createEmbeddedView:createEmbeddedView,createComponentView:createComponentView,createNgModuleRef:createNgModuleRef,overrideProvider:NOOP,overrideComponentView:NOOP,clearOverrides:NOOP,checkAndUpdateView:checkAndUpdateView,checkNoChangesView:checkNoChangesView,destroyView:destroyView,createDebugContext:(view,nodeIndex)=>new DebugContext_(view,nodeIndex),handleEvent:(view,nodeIndex,eventName,event)=>view.def.handleEvent(view,nodeIndex,eventName,event),updateDirectives:(view,checkType)=>view.def.updateDirectives(0===checkType?prodCheckAndUpdateNode:prodCheckNoChangesNode,view),updateRenderer:(view,checkType)=>view.def.updateRenderer(0===checkType?prodCheckAndUpdateNode:prodCheckNoChangesNode,view)}}();Services.setCurrentNode=services.setCurrentNode,Services.createRootView=services.createRootView,Services.createEmbeddedView=services.createEmbeddedView,Services.createComponentView=services.createComponentView,Services.createNgModuleRef=services.createNgModuleRef,Services.overrideProvider=services.overrideProvider,Services.overrideComponentView=services.overrideComponentView,Services.clearOverrides=services.clearOverrides,Services.checkAndUpdateView=services.checkAndUpdateView,Services.checkNoChangesView=services.checkNoChangesView,Services.destroyView=services.destroyView,Services.resolveDep=resolveDep,Services.createDebugContext=services.createDebugContext,Services.handleEvent=services.handleEvent,Services.updateDirectives=services.updateDirectives,Services.updateRenderer=services.updateRenderer,Services.dirtyParentQueries=dirtyParentQueries}function createProdRootView(elInjector,projectableNodes,rootSelectorOrNode,def,ngModule,context){const rendererFactory=ngModule.injector.get(RendererFactory2);return createRootView(createRootData(elInjector,ngModule,rendererFactory,projectableNodes,rootSelectorOrNode),def,context)}function debugCreateRootView(elInjector,projectableNodes,rootSelectorOrNode,def,ngModule,context){const rendererFactory=ngModule.injector.get(RendererFactory2),root=createRootData(elInjector,ngModule,new DebugRendererFactory2(rendererFactory),projectableNodes,rootSelectorOrNode),defWithOverride=applyProviderOverridesToView(def);return callWithDebugContext(DebugAction.create,createRootView,null,[root,defWithOverride,context])}function createRootData(elInjector,ngModule,rendererFactory,projectableNodes,rootSelectorOrNode){const sanitizer=ngModule.injector.get(Sanitizer),errorHandler=ngModule.injector.get(ErrorHandler),renderer=rendererFactory.createRenderer(null,null);return{ngModule:ngModule,injector:elInjector,projectableNodes:projectableNodes,selectorOrNode:rootSelectorOrNode,sanitizer:sanitizer,rendererFactory:rendererFactory,renderer:renderer,errorHandler:errorHandler}}function debugCreateEmbeddedView(parentView,anchorDef,viewDef,context){const defWithOverride=applyProviderOverridesToView(viewDef);return callWithDebugContext(DebugAction.create,createEmbeddedView,null,[parentView,anchorDef,defWithOverride,context])}function debugCreateComponentView(parentView,nodeDef,viewDef,hostElement){const overrideComponentView=viewDefOverrides.get(nodeDef.element.componentProvider.provider.token);return viewDef=overrideComponentView||applyProviderOverridesToView(viewDef),callWithDebugContext(DebugAction.create,createComponentView,null,[parentView,nodeDef,viewDef,hostElement])}function debugCreateNgModuleRef(moduleType,parentInjector,bootstrapComponents,def){return createNgModuleRef(moduleType,parentInjector,bootstrapComponents,function applyProviderOverridesToNgModule(def){const{hasOverrides:hasOverrides,hasDeprecatedOverrides:hasDeprecatedOverrides}=function calcHasOverrides(def){let hasOverrides=!1,hasDeprecatedOverrides=!1;if(0===providerOverrides.size)return{hasOverrides:hasOverrides,hasDeprecatedOverrides:hasDeprecatedOverrides};return def.providers.forEach(node=>{const override=providerOverrides.get(node.token);3840&node.flags&&override&&(hasOverrides=!0,hasDeprecatedOverrides=hasDeprecatedOverrides||override.deprecatedBehavior)}),def.modules.forEach(module=>{providerOverridesWithScope.forEach((override,token)=>{getInjectableDef(token).providedIn===module&&(hasOverrides=!0,hasDeprecatedOverrides=hasDeprecatedOverrides||override.deprecatedBehavior)})}),{hasOverrides:hasOverrides,hasDeprecatedOverrides:hasDeprecatedOverrides}}(def);if(!hasOverrides)return def;return function applyProviderOverrides(def){for(let i=0;i<def.providers.length;i++){const provider=def.providers[i];hasDeprecatedOverrides&&(provider.flags|=4096);const override=providerOverrides.get(provider.token);override&&(provider.flags=-3841&provider.flags|override.flags,provider.deps=splitDepsDsl(override.deps),provider.value=override.value)}if(providerOverridesWithScope.size>0){let moduleSet=new Set(def.modules);providerOverridesWithScope.forEach((override,token)=>{if(moduleSet.has(getInjectableDef(token).providedIn)){let provider={token:token,flags:override.flags|(hasDeprecatedOverrides?4096:0),deps:splitDepsDsl(override.deps),value:override.value,index:def.providers.length};def.providers.push(provider),def.providersByKey[tokenKey(token)]=provider}})}}(def=def.factory(()=>NOOP)),def}(def))}const providerOverrides=new Map,providerOverridesWithScope=new Map,viewDefOverrides=new Map;function debugOverrideProvider(override){let injectableDef;providerOverrides.set(override.token,override),"function"==typeof override.token&&(injectableDef=getInjectableDef(override.token))&&"function"==typeof injectableDef.providedIn&&providerOverridesWithScope.set(override.token,override)}function debugOverrideComponentView(comp,compFactory){const hostViewDef=resolveDefinition(getComponentViewDefinitionFactory(compFactory)),compViewDef=resolveDefinition(hostViewDef.nodes[0].element.componentView);viewDefOverrides.set(comp,compViewDef)}function debugClearOverrides(){providerOverrides.clear(),providerOverridesWithScope.clear(),viewDefOverrides.clear()}function applyProviderOverridesToView(def){if(0===providerOverrides.size)return def;const elementIndicesWithOverwrittenProviders=function findElementIndicesWithOverwrittenProviders(def){const elIndicesWithOverwrittenProviders=[];let lastElementDef=null;for(let i=0;i<def.nodes.length;i++){const nodeDef=def.nodes[i];1&nodeDef.flags&&(lastElementDef=nodeDef),lastElementDef&&3840&nodeDef.flags&&providerOverrides.has(nodeDef.provider.token)&&(elIndicesWithOverwrittenProviders.push(lastElementDef.nodeIndex),lastElementDef=null)}return elIndicesWithOverwrittenProviders}(def);if(0===elementIndicesWithOverwrittenProviders.length)return def;def=def.factory(()=>NOOP);for(let i=0;i<elementIndicesWithOverwrittenProviders.length;i++)applyProviderOverridesToElement(def,elementIndicesWithOverwrittenProviders[i]);return def;function applyProviderOverridesToElement(viewDef,elIndex){for(let i=elIndex+1;i<viewDef.nodes.length;i++){const nodeDef=viewDef.nodes[i];if(1&nodeDef.flags)return;if(3840&nodeDef.flags){const provider=nodeDef.provider,override=providerOverrides.get(provider.token);override&&(nodeDef.flags=-3841&nodeDef.flags|override.flags,provider.deps=splitDepsDsl(override.deps),provider.value=override.value)}}}}function prodCheckAndUpdateNode(view,checkIndex,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const nodeDef=view.def.nodes[checkIndex];return checkAndUpdateNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9),224&nodeDef.flags?asPureExpressionData(view,checkIndex).value:void 0}function prodCheckNoChangesNode(view,checkIndex,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9){const nodeDef=view.def.nodes[checkIndex];return checkNoChangesNode(view,nodeDef,argStyle,v0,v1,v2,v3,v4,v5,v6,v7,v8,v9),224&nodeDef.flags?asPureExpressionData(view,checkIndex).value:void 0}function debugCheckAndUpdateView(view){return callWithDebugContext(DebugAction.detectChanges,checkAndUpdateView,null,[view])}function debugCheckNoChangesView(view){return callWithDebugContext(DebugAction.checkNoChanges,checkNoChangesView,null,[view])}function debugDestroyView(view){return callWithDebugContext(DebugAction.destroy,destroyView,null,[view])}const DebugAction={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};let _currentAction,_currentView,_currentNodeIndex;function debugSetCurrentNode(view,nodeIndex){_currentView=view,_currentNodeIndex=nodeIndex}function debugHandleEvent(view,nodeIndex,eventName,event){return debugSetCurrentNode(view,nodeIndex),callWithDebugContext(DebugAction.handleEvent,view.def.handleEvent,null,[view,nodeIndex,eventName,event])}function debugUpdateDirectives(view,checkType){if(128&view.state)throw viewDestroyedError(DebugAction[_currentAction]);return debugSetCurrentNode(view,nextDirectiveWithBinding(view,0)),view.def.updateDirectives((function debugCheckDirectivesFn(view,nodeIndex,argStyle,...values){const nodeDef=view.def.nodes[nodeIndex];0===checkType?debugCheckAndUpdateNode(view,nodeDef,argStyle,values):debugCheckNoChangesNode(view,nodeDef,argStyle,values);16384&nodeDef.flags&&debugSetCurrentNode(view,nextDirectiveWithBinding(view,nodeIndex));return 224&nodeDef.flags?asPureExpressionData(view,nodeDef.nodeIndex).value:void 0}),view)}function debugUpdateRenderer(view,checkType){if(128&view.state)throw viewDestroyedError(DebugAction[_currentAction]);return debugSetCurrentNode(view,nextRenderNodeWithBinding(view,0)),view.def.updateRenderer((function debugCheckRenderNodeFn(view,nodeIndex,argStyle,...values){const nodeDef=view.def.nodes[nodeIndex];0===checkType?debugCheckAndUpdateNode(view,nodeDef,argStyle,values):debugCheckNoChangesNode(view,nodeDef,argStyle,values);3&nodeDef.flags&&debugSetCurrentNode(view,nextRenderNodeWithBinding(view,nodeIndex));return 224&nodeDef.flags?asPureExpressionData(view,nodeDef.nodeIndex).value:void 0}),view)}function debugCheckAndUpdateNode(view,nodeDef,argStyle,givenValues){if(checkAndUpdateNode(view,nodeDef,argStyle,...givenValues)){const values=1===argStyle?givenValues[0]:givenValues;if(16384&nodeDef.flags){const bindingValues={};for(let i=0;i<nodeDef.bindings.length;i++){const binding=nodeDef.bindings[i],value=values[i];8&binding.flags&&(bindingValues[normalizeDebugBindingName(binding.nonMinifiedName)]=normalizeDebugBindingValue(value))}const elDef=nodeDef.parent,el=asElementData(view,elDef.nodeIndex).renderElement;if(elDef.element.name)for(let attr in bindingValues){const value=bindingValues[attr];null!=value?view.renderer.setAttribute(el,attr,value):view.renderer.removeAttribute(el,attr)}else view.renderer.setValue(el,`bindings=${JSON.stringify(bindingValues,null,2)}`)}}}function debugCheckNoChangesNode(view,nodeDef,argStyle,values){checkNoChangesNode(view,nodeDef,argStyle,...values)}function nextDirectiveWithBinding(view,nodeIndex){for(let i=nodeIndex;i<view.def.nodes.length;i++){const nodeDef=view.def.nodes[i];if(16384&nodeDef.flags&&nodeDef.bindings&&nodeDef.bindings.length)return i}return null}function nextRenderNodeWithBinding(view,nodeIndex){for(let i=nodeIndex;i<view.def.nodes.length;i++){const nodeDef=view.def.nodes[i];if(3&nodeDef.flags&&nodeDef.bindings&&nodeDef.bindings.length)return i}return null}DebugAction[DebugAction.create]="create",DebugAction[DebugAction.detectChanges]="detectChanges",DebugAction[DebugAction.checkNoChanges]="checkNoChanges",DebugAction[DebugAction.destroy]="destroy",DebugAction[DebugAction.handleEvent]="handleEvent";class DebugContext_{constructor(view,nodeIndex){this.view=view,this.nodeIndex=nodeIndex,null==nodeIndex&&(this.nodeIndex=nodeIndex=0),this.nodeDef=view.def.nodes[nodeIndex];let elDef=this.nodeDef,elView=view;for(;elDef&&0==(1&elDef.flags);)elDef=elDef.parent;if(!elDef)for(;!elDef&&elView;)elDef=viewParentEl(elView),elView=elView.parent;this.elDef=elDef,this.elView=elView}get elOrCompView(){return asElementData(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return createInjector$1(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const tokens=[];if(this.elDef)for(let i=this.elDef.nodeIndex+1;i<=this.elDef.nodeIndex+this.elDef.childCount;i++){const childDef=this.elView.def.nodes[i];20224&childDef.flags&&tokens.push(childDef.provider.token),i+=childDef.childCount}return tokens}get references(){const references={};if(this.elDef){collectReferences(this.elView,this.elDef,references);for(let i=this.elDef.nodeIndex+1;i<=this.elDef.nodeIndex+this.elDef.childCount;i++){const childDef=this.elView.def.nodes[i];20224&childDef.flags&&collectReferences(this.elView,childDef,references),i+=childDef.childCount}}return references}get componentRenderElement(){const elData=function findHostElement(view){for(;view&&!isComponentView(view);)view=view.parent;if(view.parent)return asElementData(view.parent,viewParentEl(view).nodeIndex);return null}(this.elOrCompView);return elData?elData.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?renderNode(this.view,this.nodeDef):renderNode(this.elView,this.elDef)}logError(console,...values){let logViewDef,logNodeIndex;2&this.nodeDef.flags?(logViewDef=this.view.def,logNodeIndex=this.nodeDef.nodeIndex):(logViewDef=this.elView.def,logNodeIndex=this.elDef.nodeIndex);const renderNodeIndex=function getRenderNodeIndex(viewDef,nodeIndex){let renderNodeIndex=-1;for(let i=0;i<=nodeIndex;i++){3&viewDef.nodes[i].flags&&renderNodeIndex++}return renderNodeIndex}(logViewDef,logNodeIndex);let currRenderNodeIndex=-1;logViewDef.factory(()=>(currRenderNodeIndex++,currRenderNodeIndex===renderNodeIndex?console.error.bind(console,...values):NOOP)),currRenderNodeIndex<renderNodeIndex&&(console.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),console.error(...values))}}function collectReferences(view,nodeDef,references){for(let refName in nodeDef.references)references[refName]=getQueryValue(view,nodeDef,nodeDef.references[refName])}function callWithDebugContext(action,fn,self,args){const oldAction=_currentAction,oldView=_currentView,oldNodeIndex=_currentNodeIndex;try{_currentAction=action;const result=fn.apply(self,args);return _currentView=oldView,_currentNodeIndex=oldNodeIndex,_currentAction=oldAction,result}catch(e){if(function isViewDebugError(err){return!!getDebugContext(err)}(e)||!_currentView)throw e;throw function viewWrappedDebugError(err,context){return err instanceof Error||(err=new Error(err.toString())),_addDebugContext(err,context),err}(e,getCurrentDebugContext())}}function getCurrentDebugContext(){return _currentView?new DebugContext_(_currentView,_currentNodeIndex):null}class DebugRendererFactory2{constructor(delegate){this.delegate=delegate}createRenderer(element,renderData){return new DebugRenderer2(this.delegate.createRenderer(element,renderData))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class DebugRenderer2{constructor(delegate){this.delegate=delegate,this.debugContextFactory=getCurrentDebugContext,this.data=this.delegate.data}createDebugContext(nativeElement){return this.debugContextFactory(nativeElement)}destroyNode(node){const debugNode=getDebugNode$1(node);!function removeDebugNodeFromIndex(node){_nativeNodeToDebugNode.delete(node.nativeNode)}(debugNode),debugNode instanceof DebugNode__PRE_R3__&&(debugNode.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(node)}destroy(){this.delegate.destroy()}createElement(name,namespace){const el=this.delegate.createElement(name,namespace),debugCtx=this.createDebugContext(el);if(debugCtx){const debugEl=new DebugElement__PRE_R3__(el,null,debugCtx);debugEl.name=name,indexDebugNode(debugEl)}return el}createComment(value){const comment=this.delegate.createComment(value),debugCtx=this.createDebugContext(comment);return debugCtx&&indexDebugNode(new DebugNode__PRE_R3__(comment,null,debugCtx)),comment}createText(value){const text=this.delegate.createText(value),debugCtx=this.createDebugContext(text);return debugCtx&&indexDebugNode(new DebugNode__PRE_R3__(text,null,debugCtx)),text}appendChild(parent,newChild){const debugEl=getDebugNode$1(parent),debugChildEl=getDebugNode$1(newChild);debugEl&&debugChildEl&&debugEl instanceof DebugElement__PRE_R3__&&debugEl.addChild(debugChildEl),this.delegate.appendChild(parent,newChild)}insertBefore(parent,newChild,refChild){const debugEl=getDebugNode$1(parent),debugChildEl=getDebugNode$1(newChild),debugRefEl=getDebugNode$1(refChild);debugEl&&debugChildEl&&debugEl instanceof DebugElement__PRE_R3__&&debugEl.insertBefore(debugRefEl,debugChildEl),this.delegate.insertBefore(parent,newChild,refChild)}removeChild(parent,oldChild){const debugEl=getDebugNode$1(parent),debugChildEl=getDebugNode$1(oldChild);debugEl&&debugChildEl&&debugEl instanceof DebugElement__PRE_R3__&&debugEl.removeChild(debugChildEl),this.delegate.removeChild(parent,oldChild)}selectRootElement(selectorOrNode,preserveContent){const el=this.delegate.selectRootElement(selectorOrNode,preserveContent),debugCtx=getCurrentDebugContext();return debugCtx&&indexDebugNode(new DebugElement__PRE_R3__(el,null,debugCtx)),el}setAttribute(el,name,value,namespace){const debugEl=getDebugNode$1(el);if(debugEl&&debugEl instanceof DebugElement__PRE_R3__){const fullName=namespace?namespace+":"+name:name;debugEl.attributes[fullName]=value}this.delegate.setAttribute(el,name,value,namespace)}removeAttribute(el,name,namespace){const debugEl=getDebugNode$1(el);if(debugEl&&debugEl instanceof DebugElement__PRE_R3__){const fullName=namespace?namespace+":"+name:name;debugEl.attributes[fullName]=null}this.delegate.removeAttribute(el,name,namespace)}addClass(el,name){const debugEl=getDebugNode$1(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.classes[name]=!0),this.delegate.addClass(el,name)}removeClass(el,name){const debugEl=getDebugNode$1(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.classes[name]=!1),this.delegate.removeClass(el,name)}setStyle(el,style,value,flags){const debugEl=getDebugNode$1(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.styles[style]=value),this.delegate.setStyle(el,style,value,flags)}removeStyle(el,style,flags){const debugEl=getDebugNode$1(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.styles[style]=null),this.delegate.removeStyle(el,style,flags)}setProperty(el,name,value){const debugEl=getDebugNode$1(el);debugEl&&debugEl instanceof DebugElement__PRE_R3__&&(debugEl.properties[name]=value),this.delegate.setProperty(el,name,value)}listen(target,eventName,callback){if("string"!=typeof target){const debugEl=getDebugNode$1(target);debugEl&&debugEl.listeners.push(new DebugEventListener(eventName,callback))}return this.delegate.listen(target,eventName,callback)}parentNode(node){return this.delegate.parentNode(node)}nextSibling(node){return this.delegate.nextSibling(node)}setValue(node,value){return this.delegate.setValue(node,value)}}function overrideProvider(override){return initServicesIfNeeded(),Services.overrideProvider(override)}function overrideComponentView(comp,componentFactory){return initServicesIfNeeded(),Services.overrideComponentView(comp,componentFactory)}function clearOverrides(){return initServicesIfNeeded(),Services.clearOverrides()}function createNgModuleFactory(ngModuleType,bootstrapComponents,defFactory){return new NgModuleFactory_(ngModuleType,bootstrapComponents,defFactory)}class NgModuleFactory_ extends NgModuleFactory{constructor(moduleType,_bootstrapComponents,_ngModuleDefFactory){super(),this.moduleType=moduleType,this._bootstrapComponents=_bootstrapComponents,this._ngModuleDefFactory=_ngModuleDefFactory}create(parentInjector){initServicesIfNeeded();const def=function cloneNgModuleDefinition(def){const providers=Array.from(def.providers),modules=Array.from(def.modules),providersByKey={};for(const key in def.providersByKey)providersByKey[key]=def.providersByKey[key];return{factory:def.factory,scope:def.scope,providers:providers,modules:modules,providersByKey:providersByKey}}(resolveDefinition(this._ngModuleDefFactory));return Services.createNgModuleRef(this.moduleType,parentInjector||Injector.NULL,this._bootstrapComponents,def)}}},"fcJ+":function(module,exports,__webpack_require__){"use strict";var Node=__webpack_require__("P6n3"),Element=__webpack_require__("ryL4"),CSSStyleDeclaration=__webpack_require__("4CHZ"),utils=__webpack_require__("Wo4J"),URLUtils=__webpack_require__("VvZs"),defineElement=__webpack_require__("tgGq"),htmlElements=exports.elements={},htmlNameToImpl=Object.create(null);function define(spec){return defineElement(spec,HTMLElement,htmlElements,htmlNameToImpl)}function URL(attr){return{get:function(){var v=this._getattr(attr);if(null===v)return"";var url=this.doc._resolve(v);return null===url?v:url},set:function(value){this._setattr(attr,value)}}}function CORS(attr){return{get:function(){var v=this._getattr(attr);return null===v?null:"use-credentials"===v.toLowerCase()?"use-credentials":"anonymous"},set:function(value){null==value?this.removeAttribute(attr):this._setattr(attr,value)}}}exports.createElement=function(doc,localName,prefix){return new(htmlNameToImpl[localName]||HTMLUnknownElement)(doc,localName,prefix)};var REFERRER={type:["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],missing:""},focusableElements={A:!0,LINK:!0,BUTTON:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0,COMMAND:!0},HTMLFormElement=function(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix),this._form=null},HTMLElement=exports.HTMLElement=define({superclass:Element,ctor:function HTMLElement(doc,localName,prefix){Element.call(this,doc,localName,utils.NAMESPACE.HTML,prefix)},props:{innerHTML:{get:function(){return this.serialize()},set:function(v){var parser=this.ownerDocument.implementation.mozHTMLParser(this.ownerDocument._address,this);parser.parse(null===v?"":String(v),!0);for(var target=this instanceof htmlNameToImpl.template?this.content:this;target.hasChildNodes();)target.removeChild(target.firstChild);target.appendChild(parser._asDocumentFragment())}},style:{get:function(){return this._style||(this._style=new CSSStyleDeclaration(this)),this._style},set:function(v){null==v&&(v=""),this._setattr("style",String(v))}},blur:{value:function(){}},focus:{value:function(){}},forceSpellCheck:{value:function(){}},click:{value:function(){if(!this._click_in_progress){this._click_in_progress=!0;try{this._pre_click_activation_steps&&this._pre_click_activation_steps();var event=this.ownerDocument.createEvent("MouseEvent");event.initMouseEvent("click",!0,!0,this.ownerDocument.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null),this.dispatchEvent(event)?this._post_click_activation_steps&&this._post_click_activation_steps(event):this._cancelled_activation_steps&&this._cancelled_activation_steps()}finally{this._click_in_progress=!1}}}},submit:{value:utils.nyi}},attributes:{title:String,lang:String,dir:{type:["ltr","rtl","auto"],missing:""},accessKey:String,hidden:Boolean,tabIndex:{type:"long",default:function(){return this.tagName in focusableElements||this.contentEditable?0:-1}}},events:["abort","canplay","canplaythrough","change","click","contextmenu","cuechange","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","input","invalid","keydown","keypress","keyup","loadeddata","loadedmetadata","loadstart","mousedown","mousemove","mouseout","mouseover","mouseup","mousewheel","pause","play","playing","progress","ratechange","readystatechange","reset","seeked","seeking","select","show","stalled","submit","suspend","timeupdate","volumechange","waiting","blur","error","focus","load","scroll"]}),HTMLUnknownElement=define({ctor:function HTMLUnknownElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)}}),formAssociatedProps={form:{get:function(){return this._form}}};define({tag:"a",ctor:function HTMLAnchorElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},props:{_post_click_activation_steps:{value:function(e){this.href&&(this.ownerDocument.defaultView.location=this.href)}}},attributes:{href:URL,ping:String,download:String,target:String,rel:String,media:String,hreflang:String,type:String,referrerPolicy:REFERRER,coords:String,charset:String,name:String,rev:String,shape:String}}),URLUtils._inherit(htmlNameToImpl.a.prototype),define({tag:"area",ctor:function HTMLAreaElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{alt:String,target:String,download:String,rel:String,media:String,href:URL,hreflang:String,type:String,shape:String,coords:String,ping:String,referrerPolicy:REFERRER,noHref:Boolean}}),URLUtils._inherit(htmlNameToImpl.area.prototype),define({tag:"br",ctor:function HTMLBRElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{clear:String}}),define({tag:"base",ctor:function HTMLBaseElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{target:String}}),define({tag:"body",ctor:function HTMLBodyElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},events:["afterprint","beforeprint","beforeunload","blur","error","focus","hashchange","load","message","offline","online","pagehide","pageshow","popstate","resize","scroll","storage","unload"],attributes:{text:{type:String,treatNullAsEmptyString:!0},link:{type:String,treatNullAsEmptyString:!0},vLink:{type:String,treatNullAsEmptyString:!0},aLink:{type:String,treatNullAsEmptyString:!0},bgColor:{type:String,treatNullAsEmptyString:!0},background:String}}),define({tag:"button",ctor:function HTMLButtonElement(doc,localName,prefix){HTMLFormElement.call(this,doc,localName,prefix)},props:formAssociatedProps,attributes:{name:String,value:String,disabled:Boolean,autofocus:Boolean,type:{type:["submit","reset","button","menu"],missing:"submit"},formTarget:String,formNoValidate:Boolean,formMethod:{type:["get","post","dialog"],invalid:"get",missing:""},formEnctype:{type:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],invalid:"application/x-www-form-urlencoded",missing:""}}}),define({tag:"dl",ctor:function HTMLDListElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{compact:Boolean}}),define({tag:"data",ctor:function HTMLDataElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{value:String}}),define({tag:"datalist",ctor:function HTMLDataListElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)}}),define({tag:"details",ctor:function HTMLDetailsElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{open:Boolean}}),define({tag:"div",ctor:function HTMLDivElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{align:String}}),define({tag:"embed",ctor:function HTMLEmbedElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{src:URL,type:String,width:String,height:String,align:String,name:String}}),define({tag:"fieldset",ctor:function HTMLFieldSetElement(doc,localName,prefix){HTMLFormElement.call(this,doc,localName,prefix)},props:formAssociatedProps,attributes:{disabled:Boolean,name:String}}),define({tag:"form",ctor:function HTMLFormElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{action:String,autocomplete:{type:["on","off"],missing:"on"},name:String,acceptCharset:{name:"accept-charset"},target:String,noValidate:Boolean,method:{type:["get","post","dialog"],invalid:"get",missing:"get"},enctype:{type:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],invalid:"application/x-www-form-urlencoded",missing:"application/x-www-form-urlencoded"},encoding:{name:"enctype",type:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],invalid:"application/x-www-form-urlencoded",missing:"application/x-www-form-urlencoded"}}}),define({tag:"hr",ctor:function HTMLHRElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{align:String,color:String,noShade:Boolean,size:String,width:String}}),define({tag:"head",ctor:function HTMLHeadElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)}}),define({tags:["h1","h2","h3","h4","h5","h6"],ctor:function HTMLHeadingElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{align:String}}),define({tag:"html",ctor:function HTMLHtmlElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{version:String}}),define({tag:"iframe",ctor:function HTMLIFrameElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix);var Window=__webpack_require__("AF4J");this._contentWindow=new Window},props:{contentWindow:{get:function(){return this._contentWindow}},contentDocument:{get:function(){return this.contentWindow.document}}},attributes:{src:URL,srcdoc:String,name:String,width:String,height:String,seamless:Boolean,allowFullscreen:Boolean,allowUserMedia:Boolean,allowPaymentRequest:Boolean,referrerPolicy:REFERRER,align:String,scrolling:String,frameBorder:String,longDesc:URL,marginHeight:{type:String,treatNullAsEmptyString:!0},marginWidth:{type:String,treatNullAsEmptyString:!0}}}),define({tag:"img",ctor:function HTMLImageElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{alt:String,src:URL,srcset:String,crossOrigin:CORS,useMap:String,isMap:Boolean,height:{type:"unsigned long",default:0},width:{type:"unsigned long",default:0},referrerPolicy:REFERRER,name:String,lowsrc:URL,align:String,hspace:{type:"unsigned long",default:0},vspace:{type:"unsigned long",default:0},longDesc:URL,border:{type:String,treatNullAsEmptyString:!0}}}),define({tag:"input",ctor:function HTMLInputElement(doc,localName,prefix){HTMLFormElement.call(this,doc,localName,prefix)},props:{form:formAssociatedProps.form,_post_click_activation_steps:{value:function(e){if("checkbox"===this.type)this.checked=!this.checked;else if("radio"===this.type)for(var group=this.form.getElementsByName(this.name),i=group.length-1;i>=0;i--){var el=group[i];el.checked=el===this}}}},attributes:{name:String,disabled:Boolean,autofocus:Boolean,accept:String,alt:String,max:String,min:String,pattern:String,placeholder:String,step:String,dirName:String,defaultValue:{name:"value"},multiple:Boolean,required:Boolean,readOnly:Boolean,checked:Boolean,value:String,src:URL,defaultChecked:{name:"checked",type:Boolean},size:{type:"unsigned long",default:20,min:1,setmin:1},width:{type:"unsigned long",min:0,setmin:0,default:0},height:{type:"unsigned long",min:0,setmin:0,default:0},minLength:{type:"unsigned long",min:0,setmin:0,default:-1},maxLength:{type:"unsigned long",min:0,setmin:0,default:-1},autocomplete:String,type:{type:["text","hidden","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"],missing:"text"},formTarget:String,formNoValidate:Boolean,formMethod:{type:["get","post"],invalid:"get",missing:""},formEnctype:{type:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],invalid:"application/x-www-form-urlencoded",missing:""},inputMode:{type:["verbatim","latin","latin-name","latin-prose","full-width-latin","kana","kana-name","katakana","numeric","tel","email","url"],missing:""},align:String,useMap:String}}),define({tag:"keygen",ctor:function HTMLKeygenElement(doc,localName,prefix){HTMLFormElement.call(this,doc,localName,prefix)},props:formAssociatedProps,attributes:{name:String,disabled:Boolean,autofocus:Boolean,challenge:String,keytype:{type:["rsa"],missing:""}}}),define({tag:"li",ctor:function HTMLLIElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{value:{type:"long",default:0},type:String}}),define({tag:"label",ctor:function HTMLLabelElement(doc,localName,prefix){HTMLFormElement.call(this,doc,localName,prefix)},props:formAssociatedProps,attributes:{htmlFor:{name:"for",type:String}}}),define({tag:"legend",ctor:function HTMLLegendElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{align:String}}),define({tag:"link",ctor:function HTMLLinkElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{href:URL,rel:String,media:String,hreflang:String,type:String,crossOrigin:CORS,nonce:String,integrity:String,referrerPolicy:REFERRER,charset:String,rev:String,target:String}}),define({tag:"map",ctor:function HTMLMapElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{name:String}}),define({tag:"menu",ctor:function HTMLMenuElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{type:{type:["context","popup","toolbar"],missing:"toolbar"},label:String,compact:Boolean}}),define({tag:"meta",ctor:function HTMLMetaElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{name:String,content:String,httpEquiv:{name:"http-equiv",type:String},scheme:String}}),define({tag:"meter",ctor:function HTMLMeterElement(doc,localName,prefix){HTMLFormElement.call(this,doc,localName,prefix)},props:formAssociatedProps}),define({tags:["ins","del"],ctor:function HTMLModElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{cite:URL,dateTime:String}}),define({tag:"ol",ctor:function HTMLOListElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},props:{_numitems:{get:function(){var items=0;return this.childNodes.forEach((function(n){n.nodeType===Node.ELEMENT_NODE&&"LI"===n.tagName&&items++})),items}}},attributes:{type:String,reversed:Boolean,start:{type:"long",default:function(){return this.reversed?this._numitems:1}},compact:Boolean}}),define({tag:"object",ctor:function HTMLObjectElement(doc,localName,prefix){HTMLFormElement.call(this,doc,localName,prefix)},props:formAssociatedProps,attributes:{data:URL,type:String,name:String,useMap:String,typeMustMatch:Boolean,width:String,height:String,align:String,archive:String,code:String,declare:Boolean,hspace:{type:"unsigned long",default:0},standby:String,vspace:{type:"unsigned long",default:0},codeBase:URL,codeType:String,border:{type:String,treatNullAsEmptyString:!0}}}),define({tag:"optgroup",ctor:function HTMLOptGroupElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{disabled:Boolean,label:String}}),define({tag:"option",ctor:function HTMLOptionElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},props:{form:{get:function(){for(var p=this.parentNode;p&&p.nodeType===Node.ELEMENT_NODE;){if("select"===p.localName)return p.form;p=p.parentNode}}},value:{get:function(){return this._getattr("value")||this.text},set:function(v){this._setattr("value",v)}},text:{get:function(){return this.textContent.replace(/[ \t\n\f\r]+/g," ").trim()},set:function(v){this.textContent=v}}},attributes:{disabled:Boolean,defaultSelected:{name:"selected",type:Boolean},label:String}}),define({tag:"output",ctor:function HTMLOutputElement(doc,localName,prefix){HTMLFormElement.call(this,doc,localName,prefix)},props:formAssociatedProps,attributes:{name:String}}),define({tag:"p",ctor:function HTMLParagraphElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{align:String}}),define({tag:"param",ctor:function HTMLParamElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{name:String,value:String,type:String,valueType:String}}),define({tags:["pre","listing","xmp"],ctor:function HTMLPreElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{width:{type:"long",default:0}}}),define({tag:"progress",ctor:function HTMLProgressElement(doc,localName,prefix){HTMLFormElement.call(this,doc,localName,prefix)},props:formAssociatedProps,attributes:{max:{type:Number,float:!0,default:1,min:0}}}),define({tags:["q","blockquote"],ctor:function HTMLQuoteElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{cite:URL}}),define({tag:"script",ctor:function HTMLScriptElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},props:{text:{get:function(){for(var s="",i=0,n=this.childNodes.length;i<n;i++){var child=this.childNodes[i];child.nodeType===Node.TEXT_NODE&&(s+=child._data)}return s},set:function(value){this.removeChildren(),null!==value&&""!==value&&this.appendChild(this.ownerDocument.createTextNode(value))}}},attributes:{src:URL,type:String,charset:String,defer:Boolean,async:Boolean,crossOrigin:CORS,nonce:String,integrity:String}}),define({tag:"select",ctor:function HTMLSelectElement(doc,localName,prefix){HTMLFormElement.call(this,doc,localName,prefix)},props:{form:formAssociatedProps.form,options:{get:function(){return this.getElementsByTagName("option")}}},attributes:{autocomplete:String,name:String,disabled:Boolean,autofocus:Boolean,multiple:Boolean,required:Boolean,size:{type:"unsigned long",default:0}}}),define({tag:"source",ctor:function HTMLSourceElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{src:URL,type:String,media:String}}),define({tag:"span",ctor:function HTMLSpanElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)}}),define({tag:"style",ctor:function HTMLStyleElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{media:String,type:String,scoped:Boolean}}),define({tag:"caption",ctor:function HTMLTableCaptionElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{align:String}}),define({ctor:function HTMLTableCellElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{colSpan:{type:"unsigned long",default:1},rowSpan:{type:"unsigned long",default:1},scope:{type:["row","col","rowgroup","colgroup"],missing:""},abbr:String,align:String,axis:String,height:String,width:String,ch:{name:"char",type:String},chOff:{name:"charoff",type:String},noWrap:Boolean,vAlign:String,bgColor:{type:String,treatNullAsEmptyString:!0}}}),define({tags:["col","colgroup"],ctor:function HTMLTableColElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{span:{type:"limited unsigned long with fallback",default:1,min:1},align:String,ch:{name:"char",type:String},chOff:{name:"charoff",type:String},vAlign:String,width:String}}),define({tag:"table",ctor:function HTMLTableElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},props:{rows:{get:function(){return this.getElementsByTagName("tr")}}},attributes:{align:String,border:String,frame:String,rules:String,summary:String,width:String,bgColor:{type:String,treatNullAsEmptyString:!0},cellPadding:{type:String,treatNullAsEmptyString:!0},cellSpacing:{type:String,treatNullAsEmptyString:!0}}}),define({tag:"template",ctor:function HTMLTemplateElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix),this._contentFragment=doc._templateDoc.createDocumentFragment()},props:{content:{get:function(){return this._contentFragment}},serialize:{value:function(){return this.content.serialize()}}}}),define({tag:"tr",ctor:function HTMLTableRowElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},props:{cells:{get:function(){return this.querySelectorAll("td,th")}}},attributes:{align:String,ch:{name:"char",type:String},chOff:{name:"charoff",type:String},vAlign:String,bgColor:{type:String,treatNullAsEmptyString:!0}}}),define({tags:["thead","tfoot","tbody"],ctor:function HTMLTableSectionElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},props:{rows:{get:function(){return this.getElementsByTagName("tr")}}},attributes:{align:String,ch:{name:"char",type:String},chOff:{name:"charoff",type:String},vAlign:String}}),define({tag:"textarea",ctor:function HTMLTextAreaElement(doc,localName,prefix){HTMLFormElement.call(this,doc,localName,prefix)},props:{form:formAssociatedProps.form,type:{get:function(){return"textarea"}},defaultValue:{get:function(){return this.textContent},set:function(v){this.textContent=v}},value:{get:function(){return this.defaultValue},set:function(v){this.defaultValue=v}},textLength:{get:function(){return this.value.length}}},attributes:{autocomplete:String,name:String,disabled:Boolean,autofocus:Boolean,placeholder:String,wrap:String,dirName:String,required:Boolean,readOnly:Boolean,rows:{type:"limited unsigned long with fallback",default:2},cols:{type:"limited unsigned long with fallback",default:20},maxLength:{type:"unsigned long",min:0,setmin:0,default:-1},minLength:{type:"unsigned long",min:0,setmin:0,default:-1},inputMode:{type:["verbatim","latin","latin-name","latin-prose","full-width-latin","kana","kana-name","katakana","numeric","tel","email","url"],missing:""}}}),define({tag:"time",ctor:function HTMLTimeElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{dateTime:String,pubDate:Boolean}}),define({tag:"title",ctor:function HTMLTitleElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},props:{text:{get:function(){return this.textContent}}}}),define({tag:"ul",ctor:function HTMLUListElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{type:String,compact:Boolean}}),define({ctor:function HTMLMediaElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{src:URL,crossOrigin:CORS,preload:{type:["metadata","none","auto",{value:"",alias:"auto"}],missing:"auto"},loop:Boolean,autoplay:Boolean,mediaGroup:String,controls:Boolean,defaultMuted:{name:"muted",type:Boolean}}}),define({tag:"audio",superclass:htmlElements.HTMLMediaElement,ctor:function HTMLAudioElement(doc,localName,prefix){htmlElements.HTMLMediaElement.call(this,doc,localName,prefix)}}),define({tag:"video",superclass:htmlElements.HTMLMediaElement,ctor:function HTMLVideoElement(doc,localName,prefix){htmlElements.HTMLMediaElement.call(this,doc,localName,prefix)},attributes:{poster:URL,width:{type:"unsigned long",min:0,default:0},height:{type:"unsigned long",min:0,default:0}}}),define({tag:"td",superclass:htmlElements.HTMLTableCellElement,ctor:function HTMLTableDataCellElement(doc,localName,prefix){htmlElements.HTMLTableCellElement.call(this,doc,localName,prefix)}}),define({tag:"th",superclass:htmlElements.HTMLTableCellElement,ctor:function HTMLTableHeaderCellElement(doc,localName,prefix){htmlElements.HTMLTableCellElement.call(this,doc,localName,prefix)}}),define({tag:"frameset",ctor:function HTMLFrameSetElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)}}),define({tag:"frame",ctor:function HTMLFrameElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)}}),define({tag:"canvas",ctor:function HTMLCanvasElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},props:{getContext:{value:utils.nyi},probablySupportsContext:{value:utils.nyi},setContext:{value:utils.nyi},transferControlToProxy:{value:utils.nyi},toDataURL:{value:utils.nyi},toBlob:{value:utils.nyi}},attributes:{width:{type:"unsigned long",default:300},height:{type:"unsigned long",default:150}}}),define({tag:"dialog",ctor:function HTMLDialogElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},props:{show:{value:utils.nyi},showModal:{value:utils.nyi},close:{value:utils.nyi}},attributes:{open:Boolean,returnValue:String}}),define({tag:"menuitem",ctor:function HTMLMenuItemElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},props:{_label:{get:function(){var val=this._getattr("label");return null!==val&&""!==val?val:(val=this.textContent).replace(/[ \t\n\f\r]+/g," ").trim()}},label:{get:function(){var val=this._getattr("label");return null!==val?val:this._label},set:function(v){this._setattr("label",v)}}},attributes:{type:{type:["command","checkbox","radio"],missing:"command"},icon:URL,disabled:Boolean,checked:Boolean,radiogroup:String,default:Boolean}}),define({tag:"source",ctor:function HTMLSourceElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{srcset:String,sizes:String,media:String,src:URL,type:String}}),define({tag:"track",ctor:function HTMLTrackElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{src:URL,srclang:String,label:String,default:Boolean,kind:{type:["subtitles","captions","descriptions","chapters","metadata"],missing:"subtitles",invalid:"metadata"}},props:{NONE:{get:function(){return 0}},LOADING:{get:function(){return 1}},LOADED:{get:function(){return 2}},ERROR:{get:function(){return 3}},readyState:{get:utils.nyi},track:{get:utils.nyi}}}),define({tag:"font",ctor:function HTMLFontElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{color:{type:String,treatNullAsEmptyString:!0},face:{type:String},size:{type:String}}}),define({tag:"dir",ctor:function HTMLDirectoryElement(doc,localName,prefix){HTMLElement.call(this,doc,localName,prefix)},attributes:{compact:Boolean}}),define({tags:["abbr","address","article","aside","b","bdi","bdo","cite","code","dd","dfn","dt","em","figcaption","figure","footer","header","hgroup","i","kbd","main","mark","nav","noscript","rb","rp","rt","rtc","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr","acronym","basefont","big","center","nobr","noembed","noframes","plaintext","strike","tt"]})},"g/dZ":function(module,exports,__webpack_require__){"use strict";var Node=__webpack_require__("P6n3"),LinkedList=__webpack_require__("C/lp"),createDocumentFragmentFromArguments=function(document,args){for(var docFrag=document.createDocumentFragment(),i=0;i<args.length;i++){var argItem=args[i],isNode=argItem instanceof Node;docFrag.appendChild(isNode?argItem:document.createTextNode(String(argItem)))}return docFrag},ChildNode={after:{value:function after(){var argArr=Array.prototype.slice.call(arguments),parentNode=this.parentNode,nextSibling=this.nextSibling;if(null!==parentNode){for(;nextSibling&&argArr.some((function(v){return v===nextSibling}));)nextSibling=nextSibling.nextSibling;var docFrag=createDocumentFragmentFromArguments(this.doc,argArr);parentNode.insertBefore(docFrag,nextSibling)}}},before:{value:function before(){var argArr=Array.prototype.slice.call(arguments),parentNode=this.parentNode,prevSibling=this.previousSibling;if(null!==parentNode){for(;prevSibling&&argArr.some((function(v){return v===prevSibling}));)prevSibling=prevSibling.previousSibling;var docFrag=createDocumentFragmentFromArguments(this.doc,argArr),nextSibling=prevSibling?prevSibling.nextSibling:parentNode.firstChild;parentNode.insertBefore(docFrag,nextSibling)}}},remove:{value:function remove(){null!==this.parentNode&&(this.doc&&(this.doc._preremoveNodeIterators(this),this.rooted&&this.doc.mutateRemove(this)),this._remove(),this.parentNode=null)}},_remove:{value:function _remove(){var parent=this.parentNode;null!==parent&&(parent._childNodes?parent._childNodes.splice(this.index,1):parent._firstChild===this&&(this._nextSibling===this?parent._firstChild=null:parent._firstChild=this._nextSibling),LinkedList.remove(this),parent.modify())}},replaceWith:{value:function replaceWith(){var argArr=Array.prototype.slice.call(arguments),parentNode=this.parentNode,nextSibling=this.nextSibling;if(null!==parentNode){for(;nextSibling&&argArr.some((function(v){return v===nextSibling}));)nextSibling=nextSibling.nextSibling;var docFrag=createDocumentFragmentFromArguments(this.doc,argArr);this.parentNode===parentNode?parentNode.replaceChild(docFrag,this):parentNode.insertBefore(docFrag,nextSibling)}}}};module.exports=ChildNode},gRHU:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return empty}));var _config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2fFW"),_util_hostReportError__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("NJ4a");const empty={closed:!0,next(value){},error(err){if(_config__WEBPACK_IMPORTED_MODULE_0__.a.useDeprecatedSynchronousErrorHandling)throw err;Object(_util_hostReportError__WEBPACK_IMPORTED_MODULE_1__.a)(err)},complete(){}}},jMmm:function(module,exports,__webpack_require__){"use strict";module.exports=ProcessingInstruction;var Node=__webpack_require__("P6n3"),CharacterData=__webpack_require__("KqMX");function ProcessingInstruction(doc,target,data){CharacterData.call(this),this.nodeType=Node.PROCESSING_INSTRUCTION_NODE,this.ownerDocument=doc,this.target=target,this._data=data}var nodeValue={get:function(){return this._data},set:function(v){v=null==v?"":String(v),this._data=v,this.rooted&&this.ownerDocument.mutateValue(this)}};ProcessingInstruction.prototype=Object.create(CharacterData.prototype,{nodeName:{get:function(){return this.target}},nodeValue:nodeValue,textContent:nodeValue,data:{get:nodeValue.get,set:function(v){nodeValue.set.call(this,null===v?"":String(v))}},clone:{value:function clone(){return new ProcessingInstruction(this.ownerDocument,this.target,this._data)}},isEqual:{value:function isEqual(n){return this.target===n.target&&this._data===n._data}}})},jZKg:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return scheduleArray}));var _Observable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("HDdC"),_Subscription__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("quSY");function scheduleArray(input,scheduler){return new _Observable__WEBPACK_IMPORTED_MODULE_0__.a(subscriber=>{const sub=new _Subscription__WEBPACK_IMPORTED_MODULE_1__.a;let i=0;return sub.add(scheduler.schedule((function(){i!==input.length?(subscriber.next(input[i++]),subscriber.closed||sub.add(this.schedule())):subscriber.complete()}))),sub})}},jhN1:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"BrowserModule",(function(){return BrowserModule})),__webpack_require__.d(__webpack_exports__,"BrowserTransferStateModule",(function(){return BrowserTransferStateModule})),__webpack_require__.d(__webpack_exports__,"By",(function(){return By})),__webpack_require__.d(__webpack_exports__,"DomSanitizer",(function(){return DomSanitizer})),__webpack_require__.d(__webpack_exports__,"EVENT_MANAGER_PLUGINS",(function(){return EVENT_MANAGER_PLUGINS})),__webpack_require__.d(__webpack_exports__,"EventManager",(function(){return EventManager})),__webpack_require__.d(__webpack_exports__,"HAMMER_GESTURE_CONFIG",(function(){return HAMMER_GESTURE_CONFIG})),__webpack_require__.d(__webpack_exports__,"HAMMER_LOADER",(function(){return HAMMER_LOADER})),__webpack_require__.d(__webpack_exports__,"HammerGestureConfig",(function(){return HammerGestureConfig})),__webpack_require__.d(__webpack_exports__,"HammerModule",(function(){return HammerModule})),__webpack_require__.d(__webpack_exports__,"Meta",(function(){return Meta})),__webpack_require__.d(__webpack_exports__,"Title",(function(){return Title})),__webpack_require__.d(__webpack_exports__,"TransferState",(function(){return TransferState})),__webpack_require__.d(__webpack_exports__,"VERSION",(function(){return VERSION})),__webpack_require__.d(__webpack_exports__,"disableDebugTools",(function(){return disableDebugTools})),__webpack_require__.d(__webpack_exports__,"enableDebugTools",(function(){return enableDebugTools})),__webpack_require__.d(__webpack_exports__,"makeStateKey",(function(){return makeStateKey})),__webpack_require__.d(__webpack_exports__,"platformBrowser",(function(){return platformBrowser})),__webpack_require__.d(__webpack_exports__,"\u0275BROWSER_SANITIZATION_PROVIDERS",(function(){return BROWSER_SANITIZATION_PROVIDERS})),__webpack_require__.d(__webpack_exports__,"\u0275BROWSER_SANITIZATION_PROVIDERS__POST_R3__",(function(){return BROWSER_SANITIZATION_PROVIDERS__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275BrowserDomAdapter",(function(){return BrowserDomAdapter})),__webpack_require__.d(__webpack_exports__,"\u0275BrowserGetTestability",(function(){return BrowserGetTestability})),__webpack_require__.d(__webpack_exports__,"\u0275DomEventsPlugin",(function(){return DomEventsPlugin})),__webpack_require__.d(__webpack_exports__,"\u0275DomRendererFactory2",(function(){return DomRendererFactory2})),__webpack_require__.d(__webpack_exports__,"\u0275DomSanitizerImpl",(function(){return DomSanitizerImpl})),__webpack_require__.d(__webpack_exports__,"\u0275DomSharedStylesHost",(function(){return DomSharedStylesHost})),__webpack_require__.d(__webpack_exports__,"\u0275ELEMENT_PROBE_PROVIDERS",(function(){return ELEMENT_PROBE_PROVIDERS})),__webpack_require__.d(__webpack_exports__,"\u0275ELEMENT_PROBE_PROVIDERS__POST_R3__",(function(){return ELEMENT_PROBE_PROVIDERS__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275HAMMER_PROVIDERS__POST_R3__",(function(){return HAMMER_PROVIDERS__POST_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275HammerGesturesPlugin",(function(){return HammerGesturesPlugin})),__webpack_require__.d(__webpack_exports__,"\u0275INTERNAL_BROWSER_PLATFORM_PROVIDERS",(function(){return INTERNAL_BROWSER_PLATFORM_PROVIDERS})),__webpack_require__.d(__webpack_exports__,"\u0275KeyEventsPlugin",(function(){return KeyEventsPlugin})),__webpack_require__.d(__webpack_exports__,"\u0275NAMESPACE_URIS",(function(){return NAMESPACE_URIS})),__webpack_require__.d(__webpack_exports__,"\u0275SharedStylesHost",(function(){return SharedStylesHost})),__webpack_require__.d(__webpack_exports__,"\u0275TRANSITION_ID",(function(){return TRANSITION_ID})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_browser_platform_browser_a",(function(){return errorHandler})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_browser_platform_browser_b",(function(){return _document})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_browser_platform_browser_c",(function(){return BROWSER_MODULE_PROVIDERS})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_browser_platform_browser_d",(function(){return createMeta})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_browser_platform_browser_e",(function(){return createTitle})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_browser_platform_browser_f",(function(){return initTransferState})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_browser_platform_browser_g",(function(){return EventManagerPlugin})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_browser_platform_browser_h",(function(){return HAMMER_PROVIDERS__PRE_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_browser_platform_browser_i",(function(){return HAMMER_PROVIDERS})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_browser_platform_browser_j",(function(){return domSanitizerImplFactory})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_browser_platform_browser_k",(function(){return appInitializerFactory})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_browser_platform_browser_l",(function(){return SERVER_TRANSITION_PROVIDERS})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_browser_platform_browser_m",(function(){return _createNgProbeR2})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_browser_platform_browser_n",(function(){return ELEMENT_PROBE_PROVIDERS__PRE_R3__})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_platform_browser_platform_browser_o",(function(){return GenericBrowserDomAdapter})),__webpack_require__.d(__webpack_exports__,"\u0275escapeHtml",(function(){return escapeHtml})),__webpack_require__.d(__webpack_exports__,"\u0275flattenStyles",(function(){return flattenStyles})),__webpack_require__.d(__webpack_exports__,"\u0275initDomAdapter",(function(){return initDomAdapter})),__webpack_require__.d(__webpack_exports__,"\u0275shimContentAttribute",(function(){return shimContentAttribute})),__webpack_require__.d(__webpack_exports__,"\u0275shimHostAttribute",(function(){return shimHostAttribute}));var _angular_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("ofXK"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("fXoL");__webpack_require__.d(__webpack_exports__,"\u0275getDOM",(function(){return _angular_common__WEBPACK_IMPORTED_MODULE_0__["\u0275getDOM"]}));class GenericBrowserDomAdapter extends _angular_common__WEBPACK_IMPORTED_MODULE_0__["\u0275DomAdapter"]{constructor(){super()}supportsDOMEvents(){return!0}}(()=>{if(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275global"].Node)_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275global"].Node.prototype.contains})();class BrowserDomAdapter extends GenericBrowserDomAdapter{static makeCurrent(){Object(_angular_common__WEBPACK_IMPORTED_MODULE_0__["\u0275setRootDomAdapter"])(new BrowserDomAdapter)}getProperty(el,name){return el[name]}log(error){window.console&&window.console.log&&window.console.log(error)}logGroup(error){window.console&&window.console.group&&window.console.group(error)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(el,evt,listener){return el.addEventListener(evt,listener,!1),()=>{el.removeEventListener(evt,listener,!1)}}dispatchEvent(el,evt){el.dispatchEvent(evt)}remove(node){return node.parentNode&&node.parentNode.removeChild(node),node}getValue(el){return el.value}createElement(tagName,doc){return(doc=doc||this.getDefaultDocument()).createElement(tagName)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(node){return node.nodeType===Node.ELEMENT_NODE}isShadowRoot(node){return node instanceof DocumentFragment}getGlobalEventTarget(doc,target){return"window"===target?window:"document"===target?doc:"body"===target?doc.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(doc){const href=function getBaseElementHref(){if(!baseElement&&(baseElement=document.querySelector("base"),!baseElement))return null;return baseElement.getAttribute("href")}();return null==href?null:function relativePath(url){urlParsingNode||(urlParsingNode=document.createElement("a"));return urlParsingNode.setAttribute("href",url),"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}(href)}resetBaseElement(){baseElement=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(name){return Object(_angular_common__WEBPACK_IMPORTED_MODULE_0__["\u0275parseCookieValue"])(document.cookie,name)}}let urlParsingNode,baseElement=null;const TRANSITION_ID=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("TRANSITION_ID");function appInitializerFactory(transitionId,document,injector){return()=>{injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationInitStatus).donePromise.then(()=>{const dom=Object(_angular_common__WEBPACK_IMPORTED_MODULE_0__["\u0275getDOM"])();Array.prototype.slice.apply(document.querySelectorAll("style[ng-transition]")).filter(el=>el.getAttribute("ng-transition")===transitionId).forEach(el=>dom.remove(el))})}}const SERVER_TRANSITION_PROVIDERS=[{provide:_angular_core__WEBPACK_IMPORTED_MODULE_1__.APP_INITIALIZER,useFactory:appInitializerFactory,deps:[TRANSITION_ID,_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector],multi:!0}];class BrowserGetTestability{static init(){Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.setTestabilityGetter)(new BrowserGetTestability)}addToWindow(registry){_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275global"].getAngularTestability=(elem,findInAncestors=!0)=>{const testability=registry.findTestabilityInTree(elem,findInAncestors);if(null==testability)throw new Error("Could not find testability for element.");return testability},_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275global"].getAllAngularTestabilities=()=>registry.getAllTestabilities(),_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275global"].getAllAngularRootElements=()=>registry.getAllRootElements();_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275global"].frameworkStabilizers||(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275global"].frameworkStabilizers=[]),_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275global"].frameworkStabilizers.push(callback=>{const testabilities=_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275global"].getAllAngularTestabilities();let count=testabilities.length,didWork=!1;const decrement=function(didWork_){didWork=didWork||didWork_,count--,0==count&&callback(didWork)};testabilities.forEach((function(testability){testability.whenStable(decrement)}))})}findTestabilityInTree(registry,elem,findInAncestors){if(null==elem)return null;const t=registry.getTestability(elem);return null!=t?t:findInAncestors?Object(_angular_common__WEBPACK_IMPORTED_MODULE_0__["\u0275getDOM"])().isShadowRoot(elem)?this.findTestabilityInTree(registry,elem.host,!0):this.findTestabilityInTree(registry,elem.parentElement,!0):null}}function exportNgVar(name,value){if("undefined"==typeof COMPILED||!COMPILED){(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275global"].ng=_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275global"].ng||{})[name]=value}}const CORE_TOKENS={ApplicationRef:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef,NgZone:_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone};function inspectNativeElementR2(element){return Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275getDebugNodeR2"])(element)}function _createNgProbeR2(coreTokens){return exportNgVar("probe",inspectNativeElementR2),exportNgVar("coreTokens",Object.assign(Object.assign({},CORE_TOKENS),function _ngProbeTokensToMap(tokens){return tokens.reduce((prev,t)=>(prev[t.name]=t.token,prev),{})}(coreTokens||[]))),()=>inspectNativeElementR2}const ELEMENT_PROBE_PROVIDERS__POST_R3__=[],ELEMENT_PROBE_PROVIDERS__PRE_R3__=[{provide:_angular_core__WEBPACK_IMPORTED_MODULE_1__.APP_INITIALIZER,useFactory:_createNgProbeR2,deps:[[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgProbeToken,new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional]],multi:!0}],ELEMENT_PROBE_PROVIDERS=ELEMENT_PROBE_PROVIDERS__POST_R3__,EVENT_MANAGER_PLUGINS=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("EventManagerPlugins");class EventManager{constructor(plugins,_zone){this._zone=_zone,this._eventNameToPlugin=new Map,plugins.forEach(p=>p.manager=this),this._plugins=plugins.slice().reverse()}addEventListener(element,eventName,handler){return this._findPluginFor(eventName).addEventListener(element,eventName,handler)}addGlobalEventListener(target,eventName,handler){return this._findPluginFor(eventName).addGlobalEventListener(target,eventName,handler)}getZone(){return this._zone}_findPluginFor(eventName){const plugin=this._eventNameToPlugin.get(eventName);if(plugin)return plugin;const plugins=this._plugins;for(let i=0;i<plugins.length;i++){const plugin=plugins[i];if(plugin.supports(eventName))return this._eventNameToPlugin.set(eventName,plugin),plugin}throw new Error(`No event manager plugin found for event ${eventName}`)}}EventManager.\u0275fac=function EventManager_Factory(t){return new(t||EventManager)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"](EVENT_MANAGER_PLUGINS),_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone))},EventManager.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineInjectable"]({token:EventManager,factory:EventManager.\u0275fac}),EventManager.ctorParameters=()=>[{type:Array,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[EVENT_MANAGER_PLUGINS]}]},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone}];class EventManagerPlugin{constructor(_doc){this._doc=_doc}addGlobalEventListener(element,eventName,handler){const target=Object(_angular_common__WEBPACK_IMPORTED_MODULE_0__["\u0275getDOM"])().getGlobalEventTarget(this._doc,element);if(!target)throw new Error(`Unsupported event target ${target} for event ${eventName}`);return this.addEventListener(target,eventName,handler)}}class SharedStylesHost{constructor(){this._stylesSet=new Set}addStyles(styles){const additions=new Set;styles.forEach(style=>{this._stylesSet.has(style)||(this._stylesSet.add(style),additions.add(style))}),this.onStylesAdded(additions)}onStylesAdded(additions){}getAllStyles(){return Array.from(this._stylesSet)}}SharedStylesHost.\u0275fac=function SharedStylesHost_Factory(t){return new(t||SharedStylesHost)},SharedStylesHost.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineInjectable"]({token:SharedStylesHost,factory:SharedStylesHost.\u0275fac});class DomSharedStylesHost extends SharedStylesHost{constructor(_doc){super(),this._doc=_doc,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(_doc.head)}_addStylesToHost(styles,host){styles.forEach(style=>{const styleEl=this._doc.createElement("style");styleEl.textContent=style,this._styleNodes.add(host.appendChild(styleEl))})}addHost(hostNode){this._addStylesToHost(this._stylesSet,hostNode),this._hostNodes.add(hostNode)}removeHost(hostNode){this._hostNodes.delete(hostNode)}onStylesAdded(additions){this._hostNodes.forEach(hostNode=>this._addStylesToHost(additions,hostNode))}ngOnDestroy(){this._styleNodes.forEach(styleNode=>Object(_angular_common__WEBPACK_IMPORTED_MODULE_0__["\u0275getDOM"])().remove(styleNode))}}DomSharedStylesHost.\u0275fac=function DomSharedStylesHost_Factory(t){return new(t||DomSharedStylesHost)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"](_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT))},DomSharedStylesHost.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineInjectable"]({token:DomSharedStylesHost,factory:DomSharedStylesHost.\u0275fac}),DomSharedStylesHost.ctorParameters=()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT]}]}];const NAMESPACE_URIS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},COMPONENT_REGEX=/%COMP%/g,HOST_ATTR="_nghost-%COMP%",CONTENT_ATTR="_ngcontent-%COMP%";function shimContentAttribute(componentShortId){return CONTENT_ATTR.replace(COMPONENT_REGEX,componentShortId)}function shimHostAttribute(componentShortId){return HOST_ATTR.replace(COMPONENT_REGEX,componentShortId)}function flattenStyles(compId,styles,target){for(let i=0;i<styles.length;i++){let style=styles[i];Array.isArray(style)?flattenStyles(compId,style,target):(style=style.replace(COMPONENT_REGEX,compId),target.push(style))}return target}function decoratePreventDefault(eventHandler){return event=>{if("__ngUnwrap__"===event)return eventHandler;!1===eventHandler(event)&&(event.preventDefault(),event.returnValue=!1)}}class DomRendererFactory2{constructor(eventManager,sharedStylesHost,appId){this.eventManager=eventManager,this.sharedStylesHost=sharedStylesHost,this.appId=appId,this.rendererByCompId=new Map,this.defaultRenderer=new DefaultDomRenderer2(eventManager)}createRenderer(element,type){if(!element||!type)return this.defaultRenderer;switch(type.encapsulation){case _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewEncapsulation.Emulated:{let renderer=this.rendererByCompId.get(type.id);return renderer||(renderer=new EmulatedEncapsulationDomRenderer2(this.eventManager,this.sharedStylesHost,type,this.appId),this.rendererByCompId.set(type.id,renderer)),renderer.applyToHost(element),renderer}case _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewEncapsulation.Native:case _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewEncapsulation.ShadowDom:return new ShadowDomRenderer(this.eventManager,this.sharedStylesHost,element,type);default:if(!this.rendererByCompId.has(type.id)){const styles=flattenStyles(type.id,type.styles,[]);this.sharedStylesHost.addStyles(styles),this.rendererByCompId.set(type.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}DomRendererFactory2.\u0275fac=function DomRendererFactory2_Factory(t){return new(t||DomRendererFactory2)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"](EventManager),_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"](DomSharedStylesHost),_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.APP_ID))},DomRendererFactory2.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineInjectable"]({token:DomRendererFactory2,factory:DomRendererFactory2.\u0275fac}),DomRendererFactory2.ctorParameters=()=>[{type:EventManager},{type:DomSharedStylesHost},{type:String,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.APP_ID]}]}];class DefaultDomRenderer2{constructor(eventManager){this.eventManager=eventManager,this.data=Object.create(null)}destroy(){}createElement(name,namespace){return namespace?document.createElementNS(NAMESPACE_URIS[namespace]||namespace,name):document.createElement(name)}createComment(value){return document.createComment(value)}createText(value){return document.createTextNode(value)}appendChild(parent,newChild){parent.appendChild(newChild)}insertBefore(parent,newChild,refChild){parent&&parent.insertBefore(newChild,refChild)}removeChild(parent,oldChild){parent&&parent.removeChild(oldChild)}selectRootElement(selectorOrNode,preserveContent){let el="string"==typeof selectorOrNode?document.querySelector(selectorOrNode):selectorOrNode;if(!el)throw new Error(`The selector "${selectorOrNode}" did not match any elements`);return preserveContent||(el.textContent=""),el}parentNode(node){return node.parentNode}nextSibling(node){return node.nextSibling}setAttribute(el,name,value,namespace){if(namespace){name=namespace+":"+name;const namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.setAttributeNS(namespaceUri,name,value):el.setAttribute(name,value)}else el.setAttribute(name,value)}removeAttribute(el,name,namespace){if(namespace){const namespaceUri=NAMESPACE_URIS[namespace];namespaceUri?el.removeAttributeNS(namespaceUri,name):el.removeAttribute(`${namespace}:${name}`)}else el.removeAttribute(name)}addClass(el,name){el.classList.add(name)}removeClass(el,name){el.classList.remove(name)}setStyle(el,style,value,flags){flags&_angular_core__WEBPACK_IMPORTED_MODULE_1__.RendererStyleFlags2.DashCase?el.style.setProperty(style,value,flags&_angular_core__WEBPACK_IMPORTED_MODULE_1__.RendererStyleFlags2.Important?"important":""):el.style[style]=value}removeStyle(el,style,flags){flags&_angular_core__WEBPACK_IMPORTED_MODULE_1__.RendererStyleFlags2.DashCase?el.style.removeProperty(style):el.style[style]=""}setProperty(el,name,value){el[name]=value}setValue(node,value){node.nodeValue=value}listen(target,event,callback){return"string"==typeof target?this.eventManager.addGlobalEventListener(target,event,decoratePreventDefault(callback)):this.eventManager.addEventListener(target,event,decoratePreventDefault(callback))}}"@".charCodeAt(0);class EmulatedEncapsulationDomRenderer2 extends DefaultDomRenderer2{constructor(eventManager,sharedStylesHost,component,appId){super(eventManager),this.component=component;const styles=flattenStyles(appId+"-"+component.id,component.styles,[]);sharedStylesHost.addStyles(styles),this.contentAttr=shimContentAttribute(appId+"-"+component.id),this.hostAttr=shimHostAttribute(appId+"-"+component.id)}applyToHost(element){super.setAttribute(element,this.hostAttr,"")}createElement(parent,name){const el=super.createElement(parent,name);return super.setAttribute(el,this.contentAttr,""),el}}class ShadowDomRenderer extends DefaultDomRenderer2{constructor(eventManager,sharedStylesHost,hostEl,component){super(eventManager),this.sharedStylesHost=sharedStylesHost,this.hostEl=hostEl,this.component=component,component.encapsulation===_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewEncapsulation.ShadowDom?this.shadowRoot=hostEl.attachShadow({mode:"open"}):this.shadowRoot=hostEl.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const styles=flattenStyles(component.id,component.styles,[]);for(let i=0;i<styles.length;i++){const styleEl=document.createElement("style");styleEl.textContent=styles[i],this.shadowRoot.appendChild(styleEl)}}nodeOrShadowRoot(node){return node===this.hostEl?this.shadowRoot:node}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(parent,newChild){return super.appendChild(this.nodeOrShadowRoot(parent),newChild)}insertBefore(parent,newChild,refChild){return super.insertBefore(this.nodeOrShadowRoot(parent),newChild,refChild)}removeChild(parent,oldChild){return super.removeChild(this.nodeOrShadowRoot(parent),oldChild)}parentNode(node){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(node)))}}class DomEventsPlugin extends EventManagerPlugin{constructor(doc){super(doc)}supports(eventName){return!0}addEventListener(element,eventName,handler){return element.addEventListener(eventName,handler,!1),()=>this.removeEventListener(element,eventName,handler)}removeEventListener(target,eventName,callback){return target.removeEventListener(eventName,callback)}}DomEventsPlugin.\u0275fac=function DomEventsPlugin_Factory(t){return new(t||DomEventsPlugin)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"](_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT))},DomEventsPlugin.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineInjectable"]({token:DomEventsPlugin,factory:DomEventsPlugin.\u0275fac}),DomEventsPlugin.ctorParameters=()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT]}]}];const EVENT_NAMES={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},HAMMER_GESTURE_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("HammerGestureConfig"),HAMMER_LOADER=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("HammerLoader");class HammerGestureConfig{constructor(){this.events=[],this.overrides={}}buildHammer(element){const mc=new Hammer(element,this.options);mc.get("pinch").set({enable:!0}),mc.get("rotate").set({enable:!0});for(const eventName in this.overrides)mc.get(eventName).set(this.overrides[eventName]);return mc}}HammerGestureConfig.\u0275fac=function HammerGestureConfig_Factory(t){return new(t||HammerGestureConfig)},HammerGestureConfig.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineInjectable"]({token:HammerGestureConfig,factory:HammerGestureConfig.\u0275fac});class HammerGesturesPlugin extends EventManagerPlugin{constructor(doc,_config,console,loader){super(doc),this._config=_config,this.console=console,this.loader=loader}supports(eventName){return!(!EVENT_NAMES.hasOwnProperty(eventName.toLowerCase())&&!this.isCustomEvent(eventName))&&(!(!window.Hammer&&!this.loader)||(this.console.warn(`The "${eventName}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),!1))}addEventListener(element,eventName,handler){const zone=this.manager.getZone();if(eventName=eventName.toLowerCase(),!window.Hammer&&this.loader){let cancelRegistration=!1,deregister=()=>{cancelRegistration=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(deregister=()=>{});cancelRegistration||(deregister=this.addEventListener(element,eventName,handler))}).catch(()=>{this.console.warn(`The "${eventName}" event cannot be bound because the custom `+"Hammer.JS loader failed."),deregister=()=>{}}),()=>{deregister()}}return zone.runOutsideAngular(()=>{const mc=this._config.buildHammer(element),callback=function(eventObj){zone.runGuarded((function(){handler(eventObj)}))};return mc.on(eventName,callback),()=>{mc.off(eventName,callback),"function"==typeof mc.destroy&&mc.destroy()}})}isCustomEvent(eventName){return this._config.events.indexOf(eventName)>-1}}HammerGesturesPlugin.\u0275fac=function HammerGesturesPlugin_Factory(t){return new(t||HammerGesturesPlugin)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"](_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT),_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"](HAMMER_GESTURE_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275Console"]),_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"](HAMMER_LOADER,8))},HammerGesturesPlugin.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineInjectable"]({token:HammerGesturesPlugin,factory:HammerGesturesPlugin.\u0275fac}),HammerGesturesPlugin.ctorParameters=()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT]}]},{type:HammerGestureConfig,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[HAMMER_GESTURE_CONFIG]}]},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275Console"]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[HAMMER_LOADER]}]}];const HAMMER_PROVIDERS__POST_R3__=[],HAMMER_PROVIDERS__PRE_R3__=[{provide:EVENT_MANAGER_PLUGINS,useClass:HammerGesturesPlugin,multi:!0,deps:[_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT,HAMMER_GESTURE_CONFIG,_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275Console"],[new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional,HAMMER_LOADER]]},{provide:HAMMER_GESTURE_CONFIG,useClass:HammerGestureConfig,deps:[]}],HAMMER_PROVIDERS=HAMMER_PROVIDERS__POST_R3__;class HammerModule{}HammerModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineNgModule"]({type:HammerModule}),HammerModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineInjector"]({factory:function HammerModule_Factory(t){return new(t||HammerModule)},providers:HAMMER_PROVIDERS__PRE_R3__});const MODIFIER_KEYS=["alt","control","meta","shift"],_keyMap={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_chromeNumKeyPadMap={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},MODIFIER_KEY_GETTERS={alt:event=>event.altKey,control:event=>event.ctrlKey,meta:event=>event.metaKey,shift:event=>event.shiftKey};class KeyEventsPlugin extends EventManagerPlugin{constructor(doc){super(doc)}supports(eventName){return null!=KeyEventsPlugin.parseEventName(eventName)}addEventListener(element,eventName,handler){const parsedEvent=KeyEventsPlugin.parseEventName(eventName),outsideHandler=KeyEventsPlugin.eventCallback(parsedEvent.fullKey,handler,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(_angular_common__WEBPACK_IMPORTED_MODULE_0__["\u0275getDOM"])().onAndCancel(element,parsedEvent.domEventName,outsideHandler))}static parseEventName(eventName){const parts=eventName.toLowerCase().split("."),domEventName=parts.shift();if(0===parts.length||"keydown"!==domEventName&&"keyup"!==domEventName)return null;const key=KeyEventsPlugin._normalizeKey(parts.pop());let fullKey="";if(MODIFIER_KEYS.forEach(modifierName=>{const index=parts.indexOf(modifierName);index>-1&&(parts.splice(index,1),fullKey+=modifierName+".")}),fullKey+=key,0!=parts.length||0===key.length)return null;const result={};return result.domEventName=domEventName,result.fullKey=fullKey,result}static getEventFullKey(event){let fullKey="",key=function getEventKey(event){let key=event.key;if(null==key){if(key=event.keyIdentifier,null==key)return"Unidentified";key.startsWith("U+")&&(key=String.fromCharCode(parseInt(key.substring(2),16)),3===event.location&&_chromeNumKeyPadMap.hasOwnProperty(key)&&(key=_chromeNumKeyPadMap[key]))}return _keyMap[key]||key}(event);return key=key.toLowerCase()," "===key?key="space":"."===key&&(key="dot"),MODIFIER_KEYS.forEach(modifierName=>{if(modifierName!=key){(0,MODIFIER_KEY_GETTERS[modifierName])(event)&&(fullKey+=modifierName+".")}}),fullKey+=key,fullKey}static eventCallback(fullKey,handler,zone){return event=>{KeyEventsPlugin.getEventFullKey(event)===fullKey&&zone.runGuarded(()=>handler(event))}}static _normalizeKey(keyName){switch(keyName){case"esc":return"escape";default:return keyName}}}KeyEventsPlugin.\u0275fac=function KeyEventsPlugin_Factory(t){return new(t||KeyEventsPlugin)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"](_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT))},KeyEventsPlugin.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineInjectable"]({token:KeyEventsPlugin,factory:KeyEventsPlugin.\u0275fac}),KeyEventsPlugin.ctorParameters=()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT]}]}];class DomSanitizer{}function domSanitizerImplFactory(injector){return new DomSanitizerImpl(injector.get(_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT))}DomSanitizer.\u0275fac=function DomSanitizer_Factory(t){return new(t||DomSanitizer)},DomSanitizer.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineInjectable"])({factory:function DomSanitizer_Factory(){return Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"])(DomSanitizerImpl)},token:DomSanitizer,providedIn:"root"});class DomSanitizerImpl extends DomSanitizer{constructor(_doc){super(),this._doc=_doc}sanitize(ctx,value){if(null==value)return null;switch(ctx){case _angular_core__WEBPACK_IMPORTED_MODULE_1__.SecurityContext.NONE:return value;case _angular_core__WEBPACK_IMPORTED_MODULE_1__.SecurityContext.HTML:return Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275allowSanitizationBypassAndThrow"])(value,"HTML")?Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275unwrapSafeValue"])(value):Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275_sanitizeHtml"])(this._doc,String(value));case _angular_core__WEBPACK_IMPORTED_MODULE_1__.SecurityContext.STYLE:return Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275allowSanitizationBypassAndThrow"])(value,"Style")?Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275unwrapSafeValue"])(value):Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275_sanitizeStyle"])(value);case _angular_core__WEBPACK_IMPORTED_MODULE_1__.SecurityContext.SCRIPT:if(Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275allowSanitizationBypassAndThrow"])(value,"Script"))return Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275unwrapSafeValue"])(value);throw new Error("unsafe value used in a script context");case _angular_core__WEBPACK_IMPORTED_MODULE_1__.SecurityContext.URL:Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275getSanitizationBypassType"])(value);return Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275allowSanitizationBypassAndThrow"])(value,"URL")?Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275unwrapSafeValue"])(value):Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275_sanitizeUrl"])(String(value));case _angular_core__WEBPACK_IMPORTED_MODULE_1__.SecurityContext.RESOURCE_URL:if(Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275allowSanitizationBypassAndThrow"])(value,"ResourceURL"))return Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275unwrapSafeValue"])(value);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ctx} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(value){return Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275bypassSanitizationTrustHtml"])(value)}bypassSecurityTrustStyle(value){return Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275bypassSanitizationTrustStyle"])(value)}bypassSecurityTrustScript(value){return Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275bypassSanitizationTrustScript"])(value)}bypassSecurityTrustUrl(value){return Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275bypassSanitizationTrustUrl"])(value)}bypassSecurityTrustResourceUrl(value){return Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275bypassSanitizationTrustResourceUrl"])(value)}}function initDomAdapter(){BrowserDomAdapter.makeCurrent(),BrowserGetTestability.init()}function errorHandler(){return new _angular_core__WEBPACK_IMPORTED_MODULE_1__.ErrorHandler}function _document(){return Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275setDocument"])(document),document}DomSanitizerImpl.\u0275fac=function DomSanitizerImpl_Factory(t){return new(t||DomSanitizerImpl)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"](_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT))},DomSanitizerImpl.ctorParameters=()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT]}]}],DomSanitizerImpl.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineInjectable"])({factory:function DomSanitizerImpl_Factory(){return domSanitizerImplFactory(Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"])(_angular_core__WEBPACK_IMPORTED_MODULE_1__.INJECTOR))},token:DomSanitizerImpl,providedIn:"root"});const \u02750$4=_angular_common__WEBPACK_IMPORTED_MODULE_0__["\u0275PLATFORM_BROWSER_ID"],INTERNAL_BROWSER_PLATFORM_PROVIDERS=[{provide:_angular_core__WEBPACK_IMPORTED_MODULE_1__.PLATFORM_ID,useValue:\u02750$4},{provide:_angular_core__WEBPACK_IMPORTED_MODULE_1__.PLATFORM_INITIALIZER,useValue:initDomAdapter,multi:!0},{provide:_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT,useFactory:_document,deps:[]}],BROWSER_SANITIZATION_PROVIDERS__POST_R3__=(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Sanitizer,_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT,[]),BROWSER_SANITIZATION_PROVIDERS=BROWSER_SANITIZATION_PROVIDERS__POST_R3__,platformBrowser=Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.createPlatformFactory)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.platformCore,"browser",INTERNAL_BROWSER_PLATFORM_PROVIDERS),BROWSER_MODULE_PROVIDERS=[BROWSER_SANITIZATION_PROVIDERS,{provide:_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275INJECTOR_SCOPE"],useValue:"root"},{provide:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ErrorHandler,useFactory:errorHandler,deps:[]},{provide:EVENT_MANAGER_PLUGINS,useClass:DomEventsPlugin,multi:!0,deps:[_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT,_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone,_angular_core__WEBPACK_IMPORTED_MODULE_1__.PLATFORM_ID]},{provide:EVENT_MANAGER_PLUGINS,useClass:KeyEventsPlugin,multi:!0,deps:[_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT]},HAMMER_PROVIDERS,{provide:DomRendererFactory2,useClass:DomRendererFactory2,deps:[EventManager,DomSharedStylesHost,_angular_core__WEBPACK_IMPORTED_MODULE_1__.APP_ID]},{provide:_angular_core__WEBPACK_IMPORTED_MODULE_1__.RendererFactory2,useExisting:DomRendererFactory2},{provide:SharedStylesHost,useExisting:DomSharedStylesHost},{provide:DomSharedStylesHost,useClass:DomSharedStylesHost,deps:[_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT]},{provide:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Testability,useClass:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Testability,deps:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone]},{provide:EventManager,useClass:EventManager,deps:[EVENT_MANAGER_PLUGINS,_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone]},ELEMENT_PROBE_PROVIDERS];class BrowserModule{constructor(parentModule){if(parentModule)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(params){return{ngModule:BrowserModule,providers:[{provide:_angular_core__WEBPACK_IMPORTED_MODULE_1__.APP_ID,useValue:params.appId},{provide:TRANSITION_ID,useExisting:_angular_core__WEBPACK_IMPORTED_MODULE_1__.APP_ID},SERVER_TRANSITION_PROVIDERS]}}}function createMeta(){return new Meta(Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"])(_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT))}BrowserModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineNgModule"]({type:BrowserModule}),BrowserModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineInjector"]({factory:function BrowserModule_Factory(t){return new(t||BrowserModule)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"](BrowserModule,12))},providers:BROWSER_MODULE_PROVIDERS,imports:[_angular_common__WEBPACK_IMPORTED_MODULE_0__.CommonModule,_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationModule]}),BrowserModule.ctorParameters=()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[BrowserModule]}]}];class Meta{constructor(_doc){this._doc=_doc,this._dom=Object(_angular_common__WEBPACK_IMPORTED_MODULE_0__["\u0275getDOM"])()}addTag(tag,forceCreation=!1){return tag?this._getOrCreateElement(tag,forceCreation):null}addTags(tags,forceCreation=!1){return tags?tags.reduce((result,tag)=>(tag&&result.push(this._getOrCreateElement(tag,forceCreation)),result),[]):[]}getTag(attrSelector){return attrSelector&&this._doc.querySelector(`meta[${attrSelector}]`)||null}getTags(attrSelector){if(!attrSelector)return[];const list=this._doc.querySelectorAll(`meta[${attrSelector}]`);return list?[].slice.call(list):[]}updateTag(tag,selector){if(!tag)return null;selector=selector||this._parseSelector(tag);const meta=this.getTag(selector);return meta?this._setMetaElementAttributes(tag,meta):this._getOrCreateElement(tag,!0)}removeTag(attrSelector){this.removeTagElement(this.getTag(attrSelector))}removeTagElement(meta){meta&&this._dom.remove(meta)}_getOrCreateElement(meta,forceCreation=!1){if(!forceCreation){const selector=this._parseSelector(meta),elem=this.getTag(selector);if(elem&&this._containsAttributes(meta,elem))return elem}const element=this._dom.createElement("meta");return this._setMetaElementAttributes(meta,element),this._doc.getElementsByTagName("head")[0].appendChild(element),element}_setMetaElementAttributes(tag,el){return Object.keys(tag).forEach(prop=>el.setAttribute(prop,tag[prop])),el}_parseSelector(tag){const attr=tag.name?"name":"property";return`${attr}="${tag[attr]}"`}_containsAttributes(tag,elem){return Object.keys(tag).every(key=>elem.getAttribute(key)===tag[key])}}function createTitle(){return new Title(Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"])(_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT))}Meta.\u0275fac=function Meta_Factory(t){return new(t||Meta)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"](_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT))},Meta.ctorParameters=()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT]}]}],Meta.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineInjectable"])({factory:createMeta,token:Meta,providedIn:"root"});class Title{constructor(_doc){this._doc=_doc}getTitle(){return this._doc.title}setTitle(newTitle){this._doc.title=newTitle||""}}Title.\u0275fac=function Title_Factory(t){return new(t||Title)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275inject"](_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT))},Title.ctorParameters=()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT]}]}],Title.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineInjectable"])({factory:createTitle,token:Title,providedIn:"root"});const win="undefined"!=typeof window&&window||{};class ChangeDetectionPerfRecord{constructor(msPerTick,numTicks){this.msPerTick=msPerTick,this.numTicks=numTicks}}class AngularProfiler{constructor(ref){this.appRef=ref.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef)}timeChangeDetection(config){const record=config&&config.record,isProfilerAvailable=null!=win.console.profile;record&&isProfilerAvailable&&win.console.profile("Change Detection");const start=Object(_angular_common__WEBPACK_IMPORTED_MODULE_0__["\u0275getDOM"])().performanceNow();let numTicks=0;for(;numTicks<5||Object(_angular_common__WEBPACK_IMPORTED_MODULE_0__["\u0275getDOM"])().performanceNow()-start<500;)this.appRef.tick(),numTicks++;const end=Object(_angular_common__WEBPACK_IMPORTED_MODULE_0__["\u0275getDOM"])().performanceNow();record&&isProfilerAvailable&&win.console.profileEnd("Change Detection");const msPerTick=(end-start)/numTicks;return win.console.log(`ran ${numTicks} change detection cycles`),win.console.log(`${msPerTick.toFixed(2)} ms per check`),new ChangeDetectionPerfRecord(msPerTick,numTicks)}}function enableDebugTools(ref){return exportNgVar("profiler",new AngularProfiler(ref)),ref}function disableDebugTools(){exportNgVar("profiler",null)}function escapeHtml(text){const escapedText={"&":"&a;",'"':"&q;","'":"&s;","<":"&l;",">":"&g;"};return text.replace(/[&"'<>]/g,s=>escapedText[s])}function makeStateKey(key){return key}class TransferState{constructor(){this.store={},this.onSerializeCallbacks={}}static init(initState){const transferState=new TransferState;return transferState.store=initState,transferState}get(key,defaultValue){return void 0!==this.store[key]?this.store[key]:defaultValue}set(key,value){this.store[key]=value}remove(key){delete this.store[key]}hasKey(key){return this.store.hasOwnProperty(key)}onSerialize(key,callback){this.onSerializeCallbacks[key]=callback}toJson(){for(const key in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(key))try{this.store[key]=this.onSerializeCallbacks[key]()}catch(e){console.warn("Exception in onSerialize callback: ",e)}return JSON.stringify(this.store)}}function initTransferState(doc,appId){const script=doc.getElementById(appId+"-state");let initialState={};if(script&&script.textContent)try{initialState=JSON.parse(function unescapeHtml(text){const unescapedText={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return text.replace(/&[^;]+;/g,s=>unescapedText[s])}(script.textContent))}catch(e){console.warn("Exception while restoring TransferState for app "+appId,e)}return TransferState.init(initialState)}TransferState.\u0275fac=function TransferState_Factory(t){return new(t||TransferState)},TransferState.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineInjectable"]({token:TransferState,factory:TransferState.\u0275fac});class BrowserTransferStateModule{}BrowserTransferStateModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineNgModule"]({type:BrowserTransferStateModule}),BrowserTransferStateModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_1__["\u0275\u0275defineInjector"]({factory:function BrowserTransferStateModule_Factory(t){return new(t||BrowserTransferStateModule)},providers:[{provide:TransferState,useFactory:initTransferState,deps:[_angular_common__WEBPACK_IMPORTED_MODULE_0__.DOCUMENT,_angular_core__WEBPACK_IMPORTED_MODULE_1__.APP_ID]}]});class By{static all(){return()=>!0}static css(selector){return debugElement=>null!=debugElement.nativeElement&&function elementMatches(n,selector){if(Object(_angular_common__WEBPACK_IMPORTED_MODULE_0__["\u0275getDOM"])().isElementNode(n))return n.matches&&n.matches(selector)||n.msMatchesSelector&&n.msMatchesSelector(selector)||n.webkitMatchesSelector&&n.webkitMatchesSelector(selector);return!1}(debugElement.nativeElement,selector)}static directive(type){return debugNode=>-1!==debugNode.providerTokens.indexOf(type)}}const VERSION=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Version("9.0.7")},"jle/":function(module,exports){module.exports=require("os")},kJWO:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return observable}));const observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},kqfC:function(module,exports,__webpack_require__){"use strict";module.exports=Text;var utils=__webpack_require__("Wo4J"),Node=__webpack_require__("P6n3"),CharacterData=__webpack_require__("KqMX");function Text(doc,data){CharacterData.call(this),this.nodeType=Node.TEXT_NODE,this.ownerDocument=doc,this._data=data,this._index=void 0}var nodeValue={get:function(){return this._data},set:function(v){(v=null==v?"":String(v))!==this._data&&(this._data=v,this.rooted&&this.ownerDocument.mutateValue(this),this.parentNode&&this.parentNode._textchangehook&&this.parentNode._textchangehook(this))}};Text.prototype=Object.create(CharacterData.prototype,{nodeName:{value:"#text"},nodeValue:nodeValue,textContent:nodeValue,data:{get:nodeValue.get,set:function(v){nodeValue.set.call(this,null===v?"":String(v))}},splitText:{value:function splitText(offset){(offset>this._data.length||offset<0)&&utils.IndexSizeError();var newdata=this._data.substring(offset),newnode=this.ownerDocument.createTextNode(newdata);this.data=this.data.substring(0,offset);var parent=this.parentNode;return null!==parent&&parent.insertBefore(newnode,this.nextSibling),newnode}},wholeText:{get:function wholeText(){for(var result=this.textContent,next=this.nextSibling;next&&next.nodeType===Node.TEXT_NODE;next=next.nextSibling)result+=next.textContent;return result}},replaceWholeText:{value:utils.nyi},clone:{value:function clone(){return new Text(this.ownerDocument,this._data)}}})},l7GE:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return OuterSubscriber}));var _Subscriber__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7o/Q");class OuterSubscriber extends _Subscriber__WEBPACK_IMPORTED_MODULE_0__.a{notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}notifyError(error,innerSub){this.destination.error(error)}notifyComplete(innerSub){this.destination.complete()}}},lJxs:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return map}));var _Subscriber__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7o/Q");function map(project,thisArg){return function mapOperation(source){if("function"!=typeof project)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return source.lift(new MapOperator(project,thisArg))}}class MapOperator{constructor(project,thisArg){this.project=project,this.thisArg=thisArg}call(subscriber,source){return source.subscribe(new MapSubscriber(subscriber,this.project,this.thisArg))}}class MapSubscriber extends _Subscriber__WEBPACK_IMPORTED_MODULE_0__.a{constructor(destination,project,thisArg){super(destination),this.project=project,this.count=0,this.thisArg=thisArg||this}_next(value){let result;try{result=this.project.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}this.destination.next(result)}}},mCNh:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return pipe})),__webpack_require__.d(__webpack_exports__,"b",(function(){return pipeFromArray}));var _identity__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("SpAZ");function pipe(...fns){return pipeFromArray(fns)}function pipeFromArray(fns){return 0===fns.length?_identity__WEBPACK_IMPORTED_MODULE_0__.a:1===fns.length?fns[0]:function piped(input){return fns.reduce((prev,fn)=>fn(prev),input)}}},mO4B:function(module,exports,__webpack_require__){"use strict";var NavigatorID=Object.create(null,{appCodeName:{value:"Mozilla"},appName:{value:"Netscape"},appVersion:{value:"4.0"},platform:{value:""},product:{value:"Gecko"},productSub:{value:"20100101"},userAgent:{value:""},vendor:{value:""},vendorSub:{value:""},taintEnabled:{value:function(){return!1}}});module.exports=NavigatorID},n6bG:function(module,__webpack_exports__,__webpack_require__){"use strict";function isFunction(x){return"function"==typeof x}__webpack_require__.d(__webpack_exports__,"a",(function(){return isFunction}))},ngJS:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return subscribeToArray}));const subscribeToArray=array=>subscriber=>{for(let i=0,len=array.length;i<len&&!subscriber.closed;i++)subscriber.next(array[i]);subscriber.complete()}},ofXK:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"APP_BASE_HREF",(function(){return APP_BASE_HREF})),__webpack_require__.d(__webpack_exports__,"AsyncPipe",(function(){return AsyncPipe})),__webpack_require__.d(__webpack_exports__,"CommonModule",(function(){return CommonModule})),__webpack_require__.d(__webpack_exports__,"CurrencyPipe",(function(){return CurrencyPipe})),__webpack_require__.d(__webpack_exports__,"DOCUMENT",(function(){return DOCUMENT})),__webpack_require__.d(__webpack_exports__,"DatePipe",(function(){return DatePipe})),__webpack_require__.d(__webpack_exports__,"DecimalPipe",(function(){return DecimalPipe})),__webpack_require__.d(__webpack_exports__,"FormStyle",(function(){return FormStyle})),__webpack_require__.d(__webpack_exports__,"FormatWidth",(function(){return FormatWidth})),__webpack_require__.d(__webpack_exports__,"HashLocationStrategy",(function(){return HashLocationStrategy})),__webpack_require__.d(__webpack_exports__,"I18nPluralPipe",(function(){return I18nPluralPipe})),__webpack_require__.d(__webpack_exports__,"I18nSelectPipe",(function(){return I18nSelectPipe})),__webpack_require__.d(__webpack_exports__,"JsonPipe",(function(){return JsonPipe})),__webpack_require__.d(__webpack_exports__,"KeyValuePipe",(function(){return KeyValuePipe})),__webpack_require__.d(__webpack_exports__,"LOCATION_INITIALIZED",(function(){return LOCATION_INITIALIZED})),__webpack_require__.d(__webpack_exports__,"Location",(function(){return Location})),__webpack_require__.d(__webpack_exports__,"LocationStrategy",(function(){return LocationStrategy})),__webpack_require__.d(__webpack_exports__,"LowerCasePipe",(function(){return LowerCasePipe})),__webpack_require__.d(__webpack_exports__,"NgClass",(function(){return NgClass})),__webpack_require__.d(__webpack_exports__,"NgComponentOutlet",(function(){return NgComponentOutlet})),__webpack_require__.d(__webpack_exports__,"NgForOf",(function(){return NgForOf})),__webpack_require__.d(__webpack_exports__,"NgForOfContext",(function(){return NgForOfContext})),__webpack_require__.d(__webpack_exports__,"NgIf",(function(){return NgIf})),__webpack_require__.d(__webpack_exports__,"NgIfContext",(function(){return NgIfContext})),__webpack_require__.d(__webpack_exports__,"NgLocaleLocalization",(function(){return NgLocaleLocalization})),__webpack_require__.d(__webpack_exports__,"NgLocalization",(function(){return NgLocalization})),__webpack_require__.d(__webpack_exports__,"NgPlural",(function(){return NgPlural})),__webpack_require__.d(__webpack_exports__,"NgPluralCase",(function(){return NgPluralCase})),__webpack_require__.d(__webpack_exports__,"NgStyle",(function(){return NgStyle})),__webpack_require__.d(__webpack_exports__,"NgSwitch",(function(){return NgSwitch})),__webpack_require__.d(__webpack_exports__,"NgSwitchCase",(function(){return NgSwitchCase})),__webpack_require__.d(__webpack_exports__,"NgSwitchDefault",(function(){return NgSwitchDefault})),__webpack_require__.d(__webpack_exports__,"NgTemplateOutlet",(function(){return NgTemplateOutlet})),__webpack_require__.d(__webpack_exports__,"NumberFormatStyle",(function(){return NumberFormatStyle})),__webpack_require__.d(__webpack_exports__,"NumberSymbol",(function(){return NumberSymbol})),__webpack_require__.d(__webpack_exports__,"PathLocationStrategy",(function(){return PathLocationStrategy})),__webpack_require__.d(__webpack_exports__,"PercentPipe",(function(){return PercentPipe})),__webpack_require__.d(__webpack_exports__,"PlatformLocation",(function(){return PlatformLocation})),__webpack_require__.d(__webpack_exports__,"Plural",(function(){return Plural})),__webpack_require__.d(__webpack_exports__,"SlicePipe",(function(){return SlicePipe})),__webpack_require__.d(__webpack_exports__,"TitleCasePipe",(function(){return TitleCasePipe})),__webpack_require__.d(__webpack_exports__,"TranslationWidth",(function(){return TranslationWidth})),__webpack_require__.d(__webpack_exports__,"UpperCasePipe",(function(){return UpperCasePipe})),__webpack_require__.d(__webpack_exports__,"VERSION",(function(){return VERSION})),__webpack_require__.d(__webpack_exports__,"ViewportScroller",(function(){return ViewportScroller})),__webpack_require__.d(__webpack_exports__,"WeekDay",(function(){return WeekDay})),__webpack_require__.d(__webpack_exports__,"formatCurrency",(function(){return formatCurrency})),__webpack_require__.d(__webpack_exports__,"formatDate",(function(){return formatDate})),__webpack_require__.d(__webpack_exports__,"formatNumber",(function(){return formatNumber})),__webpack_require__.d(__webpack_exports__,"formatPercent",(function(){return formatPercent})),__webpack_require__.d(__webpack_exports__,"getCurrencySymbol",(function(){return getCurrencySymbol})),__webpack_require__.d(__webpack_exports__,"getLocaleCurrencyCode",(function(){return getLocaleCurrencyCode})),__webpack_require__.d(__webpack_exports__,"getLocaleCurrencyName",(function(){return getLocaleCurrencyName})),__webpack_require__.d(__webpack_exports__,"getLocaleCurrencySymbol",(function(){return getLocaleCurrencySymbol})),__webpack_require__.d(__webpack_exports__,"getLocaleDateFormat",(function(){return getLocaleDateFormat})),__webpack_require__.d(__webpack_exports__,"getLocaleDateTimeFormat",(function(){return getLocaleDateTimeFormat})),__webpack_require__.d(__webpack_exports__,"getLocaleDayNames",(function(){return getLocaleDayNames})),__webpack_require__.d(__webpack_exports__,"getLocaleDayPeriods",(function(){return getLocaleDayPeriods})),__webpack_require__.d(__webpack_exports__,"getLocaleEraNames",(function(){return getLocaleEraNames})),__webpack_require__.d(__webpack_exports__,"getLocaleExtraDayPeriodRules",(function(){return getLocaleExtraDayPeriodRules})),__webpack_require__.d(__webpack_exports__,"getLocaleExtraDayPeriods",(function(){return getLocaleExtraDayPeriods})),__webpack_require__.d(__webpack_exports__,"getLocaleFirstDayOfWeek",(function(){return getLocaleFirstDayOfWeek})),__webpack_require__.d(__webpack_exports__,"getLocaleId",(function(){return getLocaleId})),__webpack_require__.d(__webpack_exports__,"getLocaleMonthNames",(function(){return getLocaleMonthNames})),__webpack_require__.d(__webpack_exports__,"getLocaleNumberFormat",(function(){return getLocaleNumberFormat})),__webpack_require__.d(__webpack_exports__,"getLocaleNumberSymbol",(function(){return getLocaleNumberSymbol})),__webpack_require__.d(__webpack_exports__,"getLocalePluralCase",(function(){return getLocalePluralCase})),__webpack_require__.d(__webpack_exports__,"getLocaleTimeFormat",(function(){return getLocaleTimeFormat})),__webpack_require__.d(__webpack_exports__,"getLocaleWeekEndRange",(function(){return getLocaleWeekEndRange})),__webpack_require__.d(__webpack_exports__,"getNumberOfCurrencyDigits",(function(){return getNumberOfCurrencyDigits})),__webpack_require__.d(__webpack_exports__,"isPlatformBrowser",(function(){return isPlatformBrowser})),__webpack_require__.d(__webpack_exports__,"isPlatformServer",(function(){return isPlatformServer})),__webpack_require__.d(__webpack_exports__,"isPlatformWorkerApp",(function(){return isPlatformWorkerApp})),__webpack_require__.d(__webpack_exports__,"isPlatformWorkerUi",(function(){return isPlatformWorkerUi})),__webpack_require__.d(__webpack_exports__,"registerLocaleData",(function(){return registerLocaleData})),__webpack_require__.d(__webpack_exports__,"\u0275BrowserPlatformLocation",(function(){return BrowserPlatformLocation})),__webpack_require__.d(__webpack_exports__,"\u0275DomAdapter",(function(){return DomAdapter})),__webpack_require__.d(__webpack_exports__,"\u0275NullViewportScroller",(function(){return NullViewportScroller})),__webpack_require__.d(__webpack_exports__,"\u0275PLATFORM_BROWSER_ID",(function(){return PLATFORM_BROWSER_ID})),__webpack_require__.d(__webpack_exports__,"\u0275PLATFORM_SERVER_ID",(function(){return PLATFORM_SERVER_ID})),__webpack_require__.d(__webpack_exports__,"\u0275PLATFORM_WORKER_APP_ID",(function(){return PLATFORM_WORKER_APP_ID})),__webpack_require__.d(__webpack_exports__,"\u0275PLATFORM_WORKER_UI_ID",(function(){return PLATFORM_WORKER_UI_ID})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_common_common_a",(function(){return useBrowserPlatformLocation})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_common_common_b",(function(){return createBrowserPlatformLocation})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_common_common_c",(function(){return createLocation})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_common_common_d",(function(){return provideLocationStrategy})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_common_common_e",(function(){return COMMON_DIRECTIVES})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_common_common_f",(function(){return COMMON_PIPES})),__webpack_require__.d(__webpack_exports__,"\u0275getDOM",(function(){return getDOM})),__webpack_require__.d(__webpack_exports__,"\u0275parseCookieValue",(function(){return parseCookieValue})),__webpack_require__.d(__webpack_exports__,"\u0275setRootDomAdapter",(function(){return setRootDomAdapter}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL");let _DOM=null;function getDOM(){return _DOM}function setRootDomAdapter(adapter){_DOM||(_DOM=adapter)}class DomAdapter{}const DOCUMENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("DocumentToken");class PlatformLocation{}function useBrowserPlatformLocation(){return Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"])(BrowserPlatformLocation)}PlatformLocation.\u0275fac=function PlatformLocation_Factory(t){return new(t||PlatformLocation)},PlatformLocation.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineInjectable"])({factory:useBrowserPlatformLocation,token:PlatformLocation,providedIn:"platform"});const LOCATION_INITIALIZED=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("Location Initialized");class BrowserPlatformLocation extends PlatformLocation{constructor(_doc){super(),this._doc=_doc,this._init()}_init(){this.location=getDOM().getLocation(),this._history=getDOM().getHistory()}getBaseHrefFromDOM(){return getDOM().getBaseHref(this._doc)}onPopState(fn){getDOM().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",fn,!1)}onHashChange(fn){getDOM().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",fn,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(newPath){this.location.pathname=newPath}pushState(state,title,url){supportsState()?this._history.pushState(state,title,url):this.location.hash=url}replaceState(state,title,url){supportsState()?this._history.replaceState(state,title,url):this.location.hash=url}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}function supportsState(){return!!window.history.pushState}function createBrowserPlatformLocation(){return new BrowserPlatformLocation(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"])(DOCUMENT))}function joinWithSlash(start,end){if(0==start.length)return end;if(0==end.length)return start;let slashes=0;return start.endsWith("/")&&slashes++,end.startsWith("/")&&slashes++,2==slashes?start+end.substring(1):1==slashes?start+end:start+"/"+end}function stripTrailingSlash(url){const match=url.match(/#|\?|$/),pathEndIdx=match&&match.index||url.length,droppedSlashIdx=pathEndIdx-("/"===url[pathEndIdx-1]?1:0);return url.slice(0,droppedSlashIdx)+url.slice(pathEndIdx)}function normalizeQueryParams(params){return params&&"?"!==params[0]?"?"+params:params}BrowserPlatformLocation.\u0275fac=function BrowserPlatformLocation_Factory(t){return new(t||BrowserPlatformLocation)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"](DOCUMENT))},BrowserPlatformLocation.ctorParameters=()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[DOCUMENT]}]}],BrowserPlatformLocation.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineInjectable"])({factory:createBrowserPlatformLocation,token:BrowserPlatformLocation,providedIn:"platform"});class LocationStrategy{}function provideLocationStrategy(platformLocation){const location=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"])(DOCUMENT).location;return new PathLocationStrategy(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"])(PlatformLocation),location&&location.origin||"")}LocationStrategy.\u0275fac=function LocationStrategy_Factory(t){return new(t||LocationStrategy)},LocationStrategy.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineInjectable"])({factory:provideLocationStrategy,token:LocationStrategy,providedIn:"root"});const APP_BASE_HREF=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("appBaseHref");class PathLocationStrategy extends LocationStrategy{constructor(_platformLocation,href){if(super(),this._platformLocation=_platformLocation,null==href&&(href=this._platformLocation.getBaseHrefFromDOM()),null==href)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=href}onPopState(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)}getBaseHref(){return this._baseHref}prepareExternalUrl(internal){return joinWithSlash(this._baseHref,internal)}path(includeHash=!1){const pathname=this._platformLocation.pathname+normalizeQueryParams(this._platformLocation.search),hash=this._platformLocation.hash;return hash&&includeHash?`${pathname}${hash}`:pathname}pushState(state,title,url,queryParams){const externalUrl=this.prepareExternalUrl(url+normalizeQueryParams(queryParams));this._platformLocation.pushState(state,title,externalUrl)}replaceState(state,title,url,queryParams){const externalUrl=this.prepareExternalUrl(url+normalizeQueryParams(queryParams));this._platformLocation.replaceState(state,title,externalUrl)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}PathLocationStrategy.\u0275fac=function PathLocationStrategy_Factory(t){return new(t||PathLocationStrategy)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"](PlatformLocation),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"](APP_BASE_HREF,8))},PathLocationStrategy.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineInjectable"]({token:PathLocationStrategy,factory:PathLocationStrategy.\u0275fac}),PathLocationStrategy.ctorParameters=()=>[{type:PlatformLocation},{type:String,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[APP_BASE_HREF]}]}];class HashLocationStrategy extends LocationStrategy{constructor(_platformLocation,_baseHref){super(),this._platformLocation=_platformLocation,this._baseHref="",null!=_baseHref&&(this._baseHref=_baseHref)}onPopState(fn){this._platformLocation.onPopState(fn),this._platformLocation.onHashChange(fn)}getBaseHref(){return this._baseHref}path(includeHash=!1){let path=this._platformLocation.hash;return null==path&&(path="#"),path.length>0?path.substring(1):path}prepareExternalUrl(internal){const url=joinWithSlash(this._baseHref,internal);return url.length>0?"#"+url:url}pushState(state,title,path,queryParams){let url=this.prepareExternalUrl(path+normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.pushState(state,title,url)}replaceState(state,title,path,queryParams){let url=this.prepareExternalUrl(path+normalizeQueryParams(queryParams));0==url.length&&(url=this._platformLocation.pathname),this._platformLocation.replaceState(state,title,url)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}HashLocationStrategy.\u0275fac=function HashLocationStrategy_Factory(t){return new(t||HashLocationStrategy)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"](PlatformLocation),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"](APP_BASE_HREF,8))},HashLocationStrategy.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineInjectable"]({token:HashLocationStrategy,factory:HashLocationStrategy.\u0275fac}),HashLocationStrategy.ctorParameters=()=>[{type:PlatformLocation},{type:String,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Optional},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[APP_BASE_HREF]}]}];class Location{constructor(platformStrategy,platformLocation){this._subject=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=platformStrategy;const browserBaseHref=this._platformStrategy.getBaseHref();this._platformLocation=platformLocation,this._baseHref=stripTrailingSlash(_stripIndexHtml(browserBaseHref)),this._platformStrategy.onPopState(ev=>{this._subject.emit({url:this.path(!0),pop:!0,state:ev.state,type:ev.type})})}path(includeHash=!1){return this.normalize(this._platformStrategy.path(includeHash))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(path,query=""){return this.path()==this.normalize(path+normalizeQueryParams(query))}normalize(url){return Location.stripTrailingSlash(function _stripBaseHref(baseHref,url){return baseHref&&url.startsWith(baseHref)?url.substring(baseHref.length):url}(this._baseHref,_stripIndexHtml(url)))}prepareExternalUrl(url){return url&&"/"!==url[0]&&(url="/"+url),this._platformStrategy.prepareExternalUrl(url)}go(path,query="",state=null){this._platformStrategy.pushState(state,"",path,query),this._notifyUrlChangeListeners(this.prepareExternalUrl(path+normalizeQueryParams(query)),state)}replaceState(path,query="",state=null){this._platformStrategy.replaceState(state,"",path,query),this._notifyUrlChangeListeners(this.prepareExternalUrl(path+normalizeQueryParams(query)),state)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(fn){this._urlChangeListeners.push(fn),this.subscribe(v=>{this._notifyUrlChangeListeners(v.url,v.state)})}_notifyUrlChangeListeners(url="",state){this._urlChangeListeners.forEach(fn=>fn(url,state))}subscribe(onNext,onThrow,onReturn){return this._subject.subscribe({next:onNext,error:onThrow,complete:onReturn})}}function createLocation(){return new Location(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"])(LocationStrategy),Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"])(PlatformLocation))}function _stripIndexHtml(url){return url.replace(/\/index.html$/,"")}Location.\u0275fac=function Location_Factory(t){return new(t||Location)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"](LocationStrategy),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"](PlatformLocation))},Location.normalizeQueryParams=normalizeQueryParams,Location.joinWithSlash=joinWithSlash,Location.stripTrailingSlash=stripTrailingSlash,Location.ctorParameters=()=>[{type:LocationStrategy},{type:PlatformLocation}],Location.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineInjectable"])({factory:createLocation,token:Location,providedIn:"root"});const CURRENCIES_EN={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},NumberFormatStyle={Decimal:0,Percent:1,Currency:2,Scientific:3};NumberFormatStyle[NumberFormatStyle.Decimal]="Decimal",NumberFormatStyle[NumberFormatStyle.Percent]="Percent",NumberFormatStyle[NumberFormatStyle.Currency]="Currency",NumberFormatStyle[NumberFormatStyle.Scientific]="Scientific";const Plural={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};Plural[Plural.Zero]="Zero",Plural[Plural.One]="One",Plural[Plural.Two]="Two",Plural[Plural.Few]="Few",Plural[Plural.Many]="Many",Plural[Plural.Other]="Other";const FormStyle={Format:0,Standalone:1};FormStyle[FormStyle.Format]="Format",FormStyle[FormStyle.Standalone]="Standalone";const TranslationWidth={Narrow:0,Abbreviated:1,Wide:2,Short:3};TranslationWidth[TranslationWidth.Narrow]="Narrow",TranslationWidth[TranslationWidth.Abbreviated]="Abbreviated",TranslationWidth[TranslationWidth.Wide]="Wide",TranslationWidth[TranslationWidth.Short]="Short";const FormatWidth={Short:0,Medium:1,Long:2,Full:3};FormatWidth[FormatWidth.Short]="Short",FormatWidth[FormatWidth.Medium]="Medium",FormatWidth[FormatWidth.Long]="Long",FormatWidth[FormatWidth.Full]="Full";const NumberSymbol={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};NumberSymbol[NumberSymbol.Decimal]="Decimal",NumberSymbol[NumberSymbol.Group]="Group",NumberSymbol[NumberSymbol.List]="List",NumberSymbol[NumberSymbol.PercentSign]="PercentSign",NumberSymbol[NumberSymbol.PlusSign]="PlusSign",NumberSymbol[NumberSymbol.MinusSign]="MinusSign",NumberSymbol[NumberSymbol.Exponential]="Exponential",NumberSymbol[NumberSymbol.SuperscriptingExponent]="SuperscriptingExponent",NumberSymbol[NumberSymbol.PerMille]="PerMille",NumberSymbol[NumberSymbol.Infinity]="Infinity",NumberSymbol[NumberSymbol.NaN]="NaN",NumberSymbol[NumberSymbol.TimeSeparator]="TimeSeparator",NumberSymbol[NumberSymbol.CurrencyDecimal]="CurrencyDecimal",NumberSymbol[NumberSymbol.CurrencyGroup]="CurrencyGroup";const WeekDay={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};function getLocaleId(locale){return Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275findLocaleData"])(locale)[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].LocaleId]}function getLocaleDayPeriods(locale,formStyle,width){const data=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275findLocaleData"])(locale),amPm=getLastDefinedValue([data[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].DayPeriodsFormat],data[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].DayPeriodsStandalone]],formStyle);return getLastDefinedValue(amPm,width)}function getLocaleDayNames(locale,formStyle,width){const data=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275findLocaleData"])(locale),days=getLastDefinedValue([data[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].DaysFormat],data[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].DaysStandalone]],formStyle);return getLastDefinedValue(days,width)}function getLocaleMonthNames(locale,formStyle,width){const data=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275findLocaleData"])(locale),months=getLastDefinedValue([data[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].MonthsFormat],data[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].MonthsStandalone]],formStyle);return getLastDefinedValue(months,width)}function getLocaleEraNames(locale,width){return getLastDefinedValue(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275findLocaleData"])(locale)[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].Eras],width)}function getLocaleFirstDayOfWeek(locale){return Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275findLocaleData"])(locale)[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].FirstDayOfWeek]}function getLocaleWeekEndRange(locale){return Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275findLocaleData"])(locale)[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].WeekendRange]}function getLocaleDateFormat(locale,width){return getLastDefinedValue(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275findLocaleData"])(locale)[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].DateFormat],width)}function getLocaleTimeFormat(locale,width){return getLastDefinedValue(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275findLocaleData"])(locale)[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].TimeFormat],width)}function getLocaleDateTimeFormat(locale,width){return getLastDefinedValue(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275findLocaleData"])(locale)[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].DateTimeFormat],width)}function getLocaleNumberSymbol(locale,symbol){const data=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275findLocaleData"])(locale),res=data[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].NumberSymbols][symbol];if(void 0===res){if(symbol===NumberSymbol.CurrencyDecimal)return data[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].NumberSymbols][NumberSymbol.Decimal];if(symbol===NumberSymbol.CurrencyGroup)return data[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].NumberSymbols][NumberSymbol.Group]}return res}function getLocaleNumberFormat(locale,type){return Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275findLocaleData"])(locale)[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].NumberFormats][type]}function getLocaleCurrencySymbol(locale){return Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275findLocaleData"])(locale)[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].CurrencySymbol]||null}function getLocaleCurrencyName(locale){return Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275findLocaleData"])(locale)[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].CurrencyName]||null}function getLocaleCurrencyCode(locale){return Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275getLocaleCurrencyCode"])(locale)}WeekDay[WeekDay.Sunday]="Sunday",WeekDay[WeekDay.Monday]="Monday",WeekDay[WeekDay.Tuesday]="Tuesday",WeekDay[WeekDay.Wednesday]="Wednesday",WeekDay[WeekDay.Thursday]="Thursday",WeekDay[WeekDay.Friday]="Friday",WeekDay[WeekDay.Saturday]="Saturday";const getLocalePluralCase=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275getLocalePluralCase"];function checkFullData(data){if(!data[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].ExtraData])throw new Error(`Missing extra locale data for the locale "${data[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function getLocaleExtraDayPeriodRules(locale){const data=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275findLocaleData"])(locale);return checkFullData(data),(data[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].ExtraData][2]||[]).map(rule=>"string"==typeof rule?extractTime(rule):[extractTime(rule[0]),extractTime(rule[1])])}function getLocaleExtraDayPeriods(locale,formStyle,width){const data=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275findLocaleData"])(locale);checkFullData(data);const dayPeriods=getLastDefinedValue([data[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].ExtraData][0],data[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].ExtraData][1]],formStyle)||[];return getLastDefinedValue(dayPeriods,width)||[]}function getLastDefinedValue(data,index){for(let i=index;i>-1;i--)if(void 0!==data[i])return data[i];throw new Error("Locale data API: locale data undefined")}function extractTime(time){const[h,m]=time.split(":");return{hours:+h,minutes:+m}}function getCurrencySymbol(code,format,locale="en"){const currency=function getLocaleCurrencies(locale){return Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275findLocaleData"])(locale)[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275LocaleDataIndex"].Currencies]}(locale)[code]||CURRENCIES_EN[code]||[],symbolNarrow=currency[1];return"narrow"===format&&"string"==typeof symbolNarrow?symbolNarrow:currency[0]||code}function getNumberOfCurrencyDigits(code){let digits;const currency=CURRENCIES_EN[code];return currency&&(digits=currency[2]),"number"==typeof digits?digits:2}const ISO8601_DATE_REGEX=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,NAMED_FORMATS={},DATE_FORMATS_SPLIT=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ZoneWidth={Short:0,ShortGMT:1,Long:2,Extended:3};ZoneWidth[ZoneWidth.Short]="Short",ZoneWidth[ZoneWidth.ShortGMT]="ShortGMT",ZoneWidth[ZoneWidth.Long]="Long",ZoneWidth[ZoneWidth.Extended]="Extended";const DateType={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};DateType[DateType.FullYear]="FullYear",DateType[DateType.Month]="Month",DateType[DateType.Date]="Date",DateType[DateType.Hours]="Hours",DateType[DateType.Minutes]="Minutes",DateType[DateType.Seconds]="Seconds",DateType[DateType.FractionalSeconds]="FractionalSeconds",DateType[DateType.Day]="Day";const TranslationType={DayPeriods:0,Days:1,Months:2,Eras:3};function formatDate(value,format,locale,timezone){let date=function toDate(value){if(isDate(value))return value;if("number"==typeof value&&!isNaN(value))return new Date(value);if("string"==typeof value){value=value.trim();const parsedNb=parseFloat(value);if(!isNaN(value-parsedNb))return new Date(parsedNb);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(value)){const[y,m,d]=value.split("-").map(val=>+val);return new Date(y,m-1,d)}let match;if(match=value.match(ISO8601_DATE_REGEX))return function isoStringToDate(match){const date=new Date(0);let tzHour=0,tzMin=0;const dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;match[9]&&(tzHour=Number(match[9]+match[10]),tzMin=Number(match[9]+match[11]));dateSetter.call(date,Number(match[1]),Number(match[2])-1,Number(match[3]));const h=Number(match[4]||0)-tzHour,m=Number(match[5]||0)-tzMin,s=Number(match[6]||0),ms=Math.round(1e3*parseFloat("0."+(match[7]||0)));return timeSetter.call(date,h,m,s,ms),date}(match)}const date=new Date(value);if(!isDate(date))throw new Error(`Unable to convert "${value}" into a date`);return date}(value);format=function getNamedFormat(locale,format){const localeId=getLocaleId(locale);if(NAMED_FORMATS[localeId]=NAMED_FORMATS[localeId]||{},NAMED_FORMATS[localeId][format])return NAMED_FORMATS[localeId][format];let formatValue="";switch(format){case"shortDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Short);break;case"mediumDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Medium);break;case"longDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Long);break;case"fullDate":formatValue=getLocaleDateFormat(locale,FormatWidth.Full);break;case"shortTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Short);break;case"mediumTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Medium);break;case"longTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Long);break;case"fullTime":formatValue=getLocaleTimeFormat(locale,FormatWidth.Full);break;case"short":const shortTime=getNamedFormat(locale,"shortTime"),shortDate=getNamedFormat(locale,"shortDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Short),[shortTime,shortDate]);break;case"medium":const mediumTime=getNamedFormat(locale,"mediumTime"),mediumDate=getNamedFormat(locale,"mediumDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Medium),[mediumTime,mediumDate]);break;case"long":const longTime=getNamedFormat(locale,"longTime"),longDate=getNamedFormat(locale,"longDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Long),[longTime,longDate]);break;case"full":const fullTime=getNamedFormat(locale,"fullTime"),fullDate=getNamedFormat(locale,"fullDate");formatValue=formatDateTime(getLocaleDateTimeFormat(locale,FormatWidth.Full),[fullTime,fullDate])}formatValue&&(NAMED_FORMATS[localeId][format]=formatValue);return formatValue}(locale,format)||format;let match,parts=[];for(;format;){if(match=DATE_FORMATS_SPLIT.exec(format),!match){parts.push(format);break}{parts=parts.concat(match.slice(1));const part=parts.pop();if(!part)break;format=part}}let dateTimezoneOffset=date.getTimezoneOffset();timezone&&(dateTimezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset),date=function convertTimezoneToLocal(date,timezone,reverse){const reverseValue=reverse?-1:1,dateTimezoneOffset=date.getTimezoneOffset(),timezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset);return function addDateMinutes(date,minutes){return(date=new Date(date.getTime())).setMinutes(date.getMinutes()+minutes),date}(date,reverseValue*(timezoneOffset-dateTimezoneOffset))}(date,timezone,!0));let text="";return parts.forEach(value=>{const dateFormatter=function getDateFormatter(format){if(DATE_FORMATS[format])return DATE_FORMATS[format];let formatter;switch(format){case"G":case"GG":case"GGG":formatter=dateStrGetter(TranslationType.Eras,TranslationWidth.Abbreviated);break;case"GGGG":formatter=dateStrGetter(TranslationType.Eras,TranslationWidth.Wide);break;case"GGGGG":formatter=dateStrGetter(TranslationType.Eras,TranslationWidth.Narrow);break;case"y":formatter=dateGetter(DateType.FullYear,1,0,!1,!0);break;case"yy":formatter=dateGetter(DateType.FullYear,2,0,!0,!0);break;case"yyy":formatter=dateGetter(DateType.FullYear,3,0,!1,!0);break;case"yyyy":formatter=dateGetter(DateType.FullYear,4,0,!1,!0);break;case"M":case"L":formatter=dateGetter(DateType.Month,1,1);break;case"MM":case"LL":formatter=dateGetter(DateType.Month,2,1);break;case"MMM":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Abbreviated);break;case"MMMM":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Wide);break;case"MMMMM":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Narrow);break;case"LLL":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Abbreviated,FormStyle.Standalone);break;case"LLLL":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Wide,FormStyle.Standalone);break;case"LLLLL":formatter=dateStrGetter(TranslationType.Months,TranslationWidth.Narrow,FormStyle.Standalone);break;case"w":formatter=weekGetter(1);break;case"ww":formatter=weekGetter(2);break;case"W":formatter=weekGetter(1,!0);break;case"d":formatter=dateGetter(DateType.Date,1);break;case"dd":formatter=dateGetter(DateType.Date,2);break;case"E":case"EE":case"EEE":formatter=dateStrGetter(TranslationType.Days,TranslationWidth.Abbreviated);break;case"EEEE":formatter=dateStrGetter(TranslationType.Days,TranslationWidth.Wide);break;case"EEEEE":formatter=dateStrGetter(TranslationType.Days,TranslationWidth.Narrow);break;case"EEEEEE":formatter=dateStrGetter(TranslationType.Days,TranslationWidth.Short);break;case"a":case"aa":case"aaa":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Abbreviated);break;case"aaaa":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Wide);break;case"aaaaa":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Narrow);break;case"b":case"bb":case"bbb":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Abbreviated,FormStyle.Standalone,!0);break;case"bbbb":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Wide,FormStyle.Standalone,!0);break;case"bbbbb":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Narrow,FormStyle.Standalone,!0);break;case"B":case"BB":case"BBB":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Abbreviated,FormStyle.Format,!0);break;case"BBBB":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Wide,FormStyle.Format,!0);break;case"BBBBB":formatter=dateStrGetter(TranslationType.DayPeriods,TranslationWidth.Narrow,FormStyle.Format,!0);break;case"h":formatter=dateGetter(DateType.Hours,1,-12);break;case"hh":formatter=dateGetter(DateType.Hours,2,-12);break;case"H":formatter=dateGetter(DateType.Hours,1);break;case"HH":formatter=dateGetter(DateType.Hours,2);break;case"m":formatter=dateGetter(DateType.Minutes,1);break;case"mm":formatter=dateGetter(DateType.Minutes,2);break;case"s":formatter=dateGetter(DateType.Seconds,1);break;case"ss":formatter=dateGetter(DateType.Seconds,2);break;case"S":formatter=dateGetter(DateType.FractionalSeconds,1);break;case"SS":formatter=dateGetter(DateType.FractionalSeconds,2);break;case"SSS":formatter=dateGetter(DateType.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":formatter=timeZoneGetter(ZoneWidth.Short);break;case"ZZZZZ":formatter=timeZoneGetter(ZoneWidth.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":formatter=timeZoneGetter(ZoneWidth.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":formatter=timeZoneGetter(ZoneWidth.Long);break;default:return null}return DATE_FORMATS[format]=formatter,formatter}(value);text+=dateFormatter?dateFormatter(date,locale,dateTimezoneOffset):"''"===value?"'":value.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),text}function formatDateTime(str,opt_values){return opt_values&&(str=str.replace(/\{([^}]+)}/g,(function(match,key){return null!=opt_values&&key in opt_values?opt_values[key]:match}))),str}function padNumber(num,digits,minusSign="-",trim,negWrap){let neg="";(num<0||negWrap&&num<=0)&&(negWrap?num=1-num:(num=-num,neg=minusSign));let strNum=String(num);for(;strNum.length<digits;)strNum="0"+strNum;return trim&&(strNum=strNum.substr(strNum.length-digits)),neg+strNum}function dateGetter(name,size,offset=0,trim=!1,negWrap=!1){return function(date,locale){let part=function getDatePart(part,date){switch(part){case DateType.FullYear:return date.getFullYear();case DateType.Month:return date.getMonth();case DateType.Date:return date.getDate();case DateType.Hours:return date.getHours();case DateType.Minutes:return date.getMinutes();case DateType.Seconds:return date.getSeconds();case DateType.FractionalSeconds:return date.getMilliseconds();case DateType.Day:return date.getDay();default:throw new Error(`Unknown DateType value "${part}".`)}}(name,date);if((offset>0||part>-offset)&&(part+=offset),name===DateType.Hours)0===part&&-12===offset&&(part=12);else if(name===DateType.FractionalSeconds)return function formatFractionalSeconds(milliseconds,digits){return padNumber(milliseconds,3).substr(0,digits)}(part,size);const localeMinus=getLocaleNumberSymbol(locale,NumberSymbol.MinusSign);return padNumber(part,size,localeMinus,trim,negWrap)}}function dateStrGetter(name,width,form=FormStyle.Format,extended=!1){return function(date,locale){return function getDateTranslation(date,locale,name,width,form,extended){switch(name){case TranslationType.Months:return getLocaleMonthNames(locale,form,width)[date.getMonth()];case TranslationType.Days:return getLocaleDayNames(locale,form,width)[date.getDay()];case TranslationType.DayPeriods:const currentHours=date.getHours(),currentMinutes=date.getMinutes();if(extended){const rules=getLocaleExtraDayPeriodRules(locale),dayPeriods=getLocaleExtraDayPeriods(locale,form,width);let result;if(rules.forEach((rule,index)=>{if(Array.isArray(rule)){const{hours:hoursFrom,minutes:minutesFrom}=rule[0],{hours:hoursTo,minutes:minutesTo}=rule[1];currentHours>=hoursFrom&&currentMinutes>=minutesFrom&&(currentHours<hoursTo||currentHours===hoursTo&&currentMinutes<minutesTo)&&(result=dayPeriods[index])}else{const{hours:hours,minutes:minutes}=rule;hours===currentHours&&minutes===currentMinutes&&(result=dayPeriods[index])}}),result)return result}return getLocaleDayPeriods(locale,form,width)[currentHours<12?0:1];case TranslationType.Eras:return getLocaleEraNames(locale,width)[date.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${name}`)}}(date,locale,name,width,form,extended)}}function timeZoneGetter(width){return function(date,locale,offset){const zone=-1*offset,minusSign=getLocaleNumberSymbol(locale,NumberSymbol.MinusSign),hours=zone>0?Math.floor(zone/60):Math.ceil(zone/60);switch(width){case ZoneWidth.Short:return(zone>=0?"+":"")+padNumber(hours,2,minusSign)+padNumber(Math.abs(zone%60),2,minusSign);case ZoneWidth.ShortGMT:return"GMT"+(zone>=0?"+":"")+padNumber(hours,1,minusSign);case ZoneWidth.Long:return"GMT"+(zone>=0?"+":"")+padNumber(hours,2,minusSign)+":"+padNumber(Math.abs(zone%60),2,minusSign);case ZoneWidth.Extended:return 0===offset?"Z":(zone>=0?"+":"")+padNumber(hours,2,minusSign)+":"+padNumber(Math.abs(zone%60),2,minusSign);default:throw new Error(`Unknown zone width "${width}"`)}}}TranslationType[TranslationType.DayPeriods]="DayPeriods",TranslationType[TranslationType.Days]="Days",TranslationType[TranslationType.Months]="Months",TranslationType[TranslationType.Eras]="Eras";function weekGetter(size,monthBased=!1){return function(date,locale){let result;if(monthBased){const nbDaysBefore1stDayOfMonth=new Date(date.getFullYear(),date.getMonth(),1).getDay()-1,today=date.getDate();result=1+Math.floor((today+nbDaysBefore1stDayOfMonth)/7)}else{const firstThurs=function getFirstThursdayOfYear(year){const firstDayOfYear=new Date(year,0,1).getDay();return new Date(year,0,1+(firstDayOfYear<=4?4:11)-firstDayOfYear)}(date.getFullYear()),diff=function getThursdayThisWeek(datetime){return new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(4-datetime.getDay()))}(date).getTime()-firstThurs.getTime();result=1+Math.round(diff/6048e5)}return padNumber(result,size,getLocaleNumberSymbol(locale,NumberSymbol.MinusSign))}}const DATE_FORMATS={};function timezoneToOffset(timezone,fallback){timezone=timezone.replace(/:/g,"");const requestedTimezoneOffset=Date.parse("Jan 01, 1970 00:00:00 "+timezone)/6e4;return isNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset}function isDate(value){return value instanceof Date&&!isNaN(value.valueOf())}const NUMBER_FORMAT_REGEXP=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function formatNumberToLocaleString(value,pattern,locale,groupSymbol,decimalSymbol,digitsInfo,isPercent=!1){let formattedText="",isZero=!1;if(isFinite(value)){let parsedNumber=function parseNumber(num){let digits,integerLen,i,j,zeros,numStr=Math.abs(num)+"",exponent=0;(integerLen=numStr.indexOf("."))>-1&&(numStr=numStr.replace(".",""));(i=numStr.search(/e/i))>0?(integerLen<0&&(integerLen=i),integerLen+=+numStr.slice(i+1),numStr=numStr.substring(0,i)):integerLen<0&&(integerLen=numStr.length);for(i=0;"0"===numStr.charAt(i);i++);if(i===(zeros=numStr.length))digits=[0],integerLen=1;else{for(zeros--;"0"===numStr.charAt(zeros);)zeros--;for(integerLen-=i,digits=[],j=0;i<=zeros;i++,j++)digits[j]=Number(numStr.charAt(i))}integerLen>22&&(digits=digits.splice(0,21),exponent=integerLen-1,integerLen=1);return{digits:digits,exponent:exponent,integerLen:integerLen}}(value);isPercent&&(parsedNumber=function toPercent(parsedNumber){if(0===parsedNumber.digits[0])return parsedNumber;const fractionLen=parsedNumber.digits.length-parsedNumber.integerLen;parsedNumber.exponent?parsedNumber.exponent+=2:(0===fractionLen?parsedNumber.digits.push(0,0):1===fractionLen&&parsedNumber.digits.push(0),parsedNumber.integerLen+=2);return parsedNumber}(parsedNumber));let minInt=pattern.minInt,minFraction=pattern.minFrac,maxFraction=pattern.maxFrac;if(digitsInfo){const parts=digitsInfo.match(NUMBER_FORMAT_REGEXP);if(null===parts)throw new Error(`${digitsInfo} is not a valid digit info`);const minIntPart=parts[1],minFractionPart=parts[3],maxFractionPart=parts[5];null!=minIntPart&&(minInt=parseIntAutoRadix(minIntPart)),null!=minFractionPart&&(minFraction=parseIntAutoRadix(minFractionPart)),null!=maxFractionPart?maxFraction=parseIntAutoRadix(maxFractionPart):null!=minFractionPart&&minFraction>maxFraction&&(maxFraction=minFraction)}!function roundNumber(parsedNumber,minFrac,maxFrac){if(minFrac>maxFrac)throw new Error(`The minimum number of digits after fraction (${minFrac}) is higher than the maximum (${maxFrac}).`);let digits=parsedNumber.digits,fractionLen=digits.length-parsedNumber.integerLen;const fractionSize=Math.min(Math.max(minFrac,fractionLen),maxFrac);let roundAt=fractionSize+parsedNumber.integerLen,digit=digits[roundAt];if(roundAt>0){digits.splice(Math.max(parsedNumber.integerLen,roundAt));for(let j=roundAt;j<digits.length;j++)digits[j]=0}else{fractionLen=Math.max(0,fractionLen),parsedNumber.integerLen=1,digits.length=Math.max(1,roundAt=fractionSize+1),digits[0]=0;for(let i=1;i<roundAt;i++)digits[i]=0}if(digit>=5)if(roundAt-1<0){for(let k=0;k>roundAt;k--)digits.unshift(0),parsedNumber.integerLen++;digits.unshift(1),parsedNumber.integerLen++}else digits[roundAt-1]++;for(;fractionLen<Math.max(0,fractionSize);fractionLen++)digits.push(0);let dropTrailingZeros=0!==fractionSize;const minLen=minFrac+parsedNumber.integerLen,carry=digits.reduceRight((function(carry,d,i,digits){return d+=carry,digits[i]=d<10?d:d-10,dropTrailingZeros&&(0===digits[i]&&i>=minLen?digits.pop():dropTrailingZeros=!1),d>=10?1:0}),0);carry&&(digits.unshift(carry),parsedNumber.integerLen++)}(parsedNumber,minFraction,maxFraction);let digits=parsedNumber.digits,integerLen=parsedNumber.integerLen;const exponent=parsedNumber.exponent;let decimals=[];for(isZero=digits.every(d=>!d);integerLen<minInt;integerLen++)digits.unshift(0);for(;integerLen<0;integerLen++)digits.unshift(0);integerLen>0?decimals=digits.splice(integerLen,digits.length):(decimals=digits,digits=[0]);const groups=[];for(digits.length>=pattern.lgSize&&groups.unshift(digits.splice(-pattern.lgSize,digits.length).join(""));digits.length>pattern.gSize;)groups.unshift(digits.splice(-pattern.gSize,digits.length).join(""));digits.length&&groups.unshift(digits.join("")),formattedText=groups.join(getLocaleNumberSymbol(locale,groupSymbol)),decimals.length&&(formattedText+=getLocaleNumberSymbol(locale,decimalSymbol)+decimals.join("")),exponent&&(formattedText+=getLocaleNumberSymbol(locale,NumberSymbol.Exponential)+"+"+exponent)}else formattedText=getLocaleNumberSymbol(locale,NumberSymbol.Infinity);return formattedText=value<0&&!isZero?pattern.negPre+formattedText+pattern.negSuf:pattern.posPre+formattedText+pattern.posSuf,formattedText}function formatCurrency(value,locale,currency,currencyCode,digitsInfo){const pattern=parseNumberFormat(getLocaleNumberFormat(locale,NumberFormatStyle.Currency),getLocaleNumberSymbol(locale,NumberSymbol.MinusSign));return pattern.minFrac=getNumberOfCurrencyDigits(currencyCode),pattern.maxFrac=pattern.minFrac,formatNumberToLocaleString(value,pattern,locale,NumberSymbol.CurrencyGroup,NumberSymbol.CurrencyDecimal,digitsInfo).replace("\xa4",currency).replace("\xa4","").trim()}function formatPercent(value,locale,digitsInfo){return formatNumberToLocaleString(value,parseNumberFormat(getLocaleNumberFormat(locale,NumberFormatStyle.Percent),getLocaleNumberSymbol(locale,NumberSymbol.MinusSign)),locale,NumberSymbol.Group,NumberSymbol.Decimal,digitsInfo,!0).replace(new RegExp("%","g"),getLocaleNumberSymbol(locale,NumberSymbol.PercentSign))}function formatNumber(value,locale,digitsInfo){return formatNumberToLocaleString(value,parseNumberFormat(getLocaleNumberFormat(locale,NumberFormatStyle.Decimal),getLocaleNumberSymbol(locale,NumberSymbol.MinusSign)),locale,NumberSymbol.Group,NumberSymbol.Decimal,digitsInfo)}function parseNumberFormat(format,minusSign="-"){const p={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},patternParts=format.split(";"),positive=patternParts[0],negative=patternParts[1],positiveParts=-1!==positive.indexOf(".")?positive.split("."):[positive.substring(0,positive.lastIndexOf("0")+1),positive.substring(positive.lastIndexOf("0")+1)],integer=positiveParts[0],fraction=positiveParts[1]||"";p.posPre=integer.substr(0,integer.indexOf("#"));for(let i=0;i<fraction.length;i++){const ch=fraction.charAt(i);"0"===ch?p.minFrac=p.maxFrac=i+1:"#"===ch?p.maxFrac=i+1:p.posSuf+=ch}const groups=integer.split(",");if(p.gSize=groups[1]?groups[1].length:0,p.lgSize=groups[2]||groups[1]?(groups[2]||groups[1]).length:0,negative){const trunkLen=positive.length-p.posPre.length-p.posSuf.length,pos=negative.indexOf("#");p.negPre=negative.substr(0,pos).replace(/'/g,""),p.negSuf=negative.substr(pos+trunkLen).replace(/'/g,"")}else p.negPre=minusSign+p.posPre,p.negSuf=p.posSuf;return p}function parseIntAutoRadix(text){const result=parseInt(text);if(isNaN(result))throw new Error("Invalid integer literal when parsing "+text);return result}class NgLocalization{}function getPluralCategory(value,cases,ngLocalization,locale){let key=`=${value}`;if(cases.indexOf(key)>-1)return key;if(key=ngLocalization.getPluralCategory(value,locale),cases.indexOf(key)>-1)return key;if(cases.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${value}"`)}class NgLocaleLocalization extends NgLocalization{constructor(locale){super(),this.locale=locale}getPluralCategory(value,locale){switch(getLocalePluralCase(locale||this.locale)(value)){case Plural.Zero:return"zero";case Plural.One:return"one";case Plural.Two:return"two";case Plural.Few:return"few";case Plural.Many:return"many";default:return"other"}}}function registerLocaleData(data,localeId,extraData){return Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275registerLocaleData"])(data,localeId,extraData)}function parseCookieValue(cookieStr,name){name=encodeURIComponent(name);for(const cookie of cookieStr.split(";")){const eqIndex=cookie.indexOf("="),[cookieName,cookieValue]=-1==eqIndex?[cookie,""]:[cookie.slice(0,eqIndex),cookie.slice(eqIndex+1)];if(cookieName.trim()===name)return decodeURIComponent(cookieValue)}return null}NgLocaleLocalization.\u0275fac=function NgLocaleLocalization_Factory(t){return new(t||NgLocaleLocalization)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.LOCALE_ID))},NgLocaleLocalization.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineInjectable"]({token:NgLocaleLocalization,factory:NgLocaleLocalization.\u0275fac}),NgLocaleLocalization.ctorParameters=()=>[{type:String,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.LOCALE_ID]}]}];class NgClass{constructor(_iterableDiffers,_keyValueDiffers,_ngEl,_renderer){this._iterableDiffers=_iterableDiffers,this._keyValueDiffers=_keyValueDiffers,this._ngEl=_ngEl,this._renderer=_renderer,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(value){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof value?value.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(value){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof value?value.split(/\s+/):value,this._rawClass&&(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const iterableChanges=this._iterableDiffer.diff(this._rawClass);iterableChanges&&this._applyIterableChanges(iterableChanges)}else if(this._keyValueDiffer){const keyValueChanges=this._keyValueDiffer.diff(this._rawClass);keyValueChanges&&this._applyKeyValueChanges(keyValueChanges)}}_applyKeyValueChanges(changes){changes.forEachAddedItem(record=>this._toggleClass(record.key,record.currentValue)),changes.forEachChangedItem(record=>this._toggleClass(record.key,record.currentValue)),changes.forEachRemovedItem(record=>{record.previousValue&&this._toggleClass(record.key,!1)})}_applyIterableChanges(changes){changes.forEachAddedItem(record=>{if("string"!=typeof record.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275stringify"])(record.item)}`);this._toggleClass(record.item,!0)}),changes.forEachRemovedItem(record=>this._toggleClass(record.item,!1))}_applyClasses(rawClassVal){rawClassVal&&(Array.isArray(rawClassVal)||rawClassVal instanceof Set?rawClassVal.forEach(klass=>this._toggleClass(klass,!0)):Object.keys(rawClassVal).forEach(klass=>this._toggleClass(klass,!!rawClassVal[klass])))}_removeClasses(rawClassVal){rawClassVal&&(Array.isArray(rawClassVal)||rawClassVal instanceof Set?rawClassVal.forEach(klass=>this._toggleClass(klass,!1)):Object.keys(rawClassVal).forEach(klass=>this._toggleClass(klass,!1)))}_toggleClass(klass,enabled){(klass=klass.trim())&&klass.split(/\s+/g).forEach(klass=>{enabled?this._renderer.addClass(this._ngEl.nativeElement,klass):this._renderer.removeClass(this._ngEl.nativeElement,klass)})}}NgClass.\u0275fac=function NgClass_Factory(t){return new(t||NgClass)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.IterableDiffers),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.KeyValueDiffers),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2))},NgClass.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({type:NgClass,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),NgClass.ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.IterableDiffers},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.KeyValueDiffers},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2}],NgClass.propDecorators={klass:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["class"]}],ngClass:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["ngClass"]}]};class NgComponentOutlet{constructor(_viewContainerRef){this._viewContainerRef=_viewContainerRef,this._componentRef=null,this._moduleRef=null}ngOnChanges(changes){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const elInjector=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(changes.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const parentModule=elInjector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(parentModule.injector)}else this._moduleRef=null;const componentFactory=(this._moduleRef?this._moduleRef.componentFactoryResolver:elInjector.get(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(componentFactory,this._viewContainerRef.length,elInjector,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}NgComponentOutlet.\u0275fac=function NgComponentOutlet_Factory(t){return new(t||NgComponentOutlet)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef))},NgComponentOutlet.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({type:NgComponentOutlet,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275NgOnChangesFeature"]]}),NgComponentOutlet.ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef}],NgComponentOutlet.propDecorators={ngComponentOutlet:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],ngComponentOutletInjector:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],ngComponentOutletContent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],ngComponentOutletNgModuleFactory:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}]};class NgForOfContext{constructor($implicit,ngForOf,index,count){this.$implicit=$implicit,this.ngForOf=ngForOf,this.index=index,this.count=count}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class NgForOf{constructor(_viewContainer,_template,_differs){this._viewContainer=_viewContainer,this._template=_template,this._differs=_differs,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(ngForOf){this._ngForOf=ngForOf,this._ngForOfDirty=!0}set ngForTrackBy(fn){Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__.isDevMode)()&&null!=fn&&"function"!=typeof fn&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(fn)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=fn}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(value){value&&(this._template=value)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const value=this._ngForOf;if(!this._differ&&value)try{this._differ=this._differs.find(value).create(this.ngForTrackBy)}catch(_a){throw new Error(`Cannot find a differ supporting object '${value}' of type '${function getTypeName(type){return type.name||typeof type}(value)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const changes=this._differ.diff(this._ngForOf);changes&&this._applyChanges(changes)}}_applyChanges(changes){const insertTuples=[];changes.forEachOperation((item,adjustedPreviousIndex,currentIndex)=>{if(null==item.previousIndex){const view=this._viewContainer.createEmbeddedView(this._template,new NgForOfContext(null,this._ngForOf,-1,-1),null===currentIndex?void 0:currentIndex),tuple=new RecordViewTuple(item,view);insertTuples.push(tuple)}else if(null==currentIndex)this._viewContainer.remove(null===adjustedPreviousIndex?void 0:adjustedPreviousIndex);else if(null!==adjustedPreviousIndex){const view=this._viewContainer.get(adjustedPreviousIndex);this._viewContainer.move(view,currentIndex);const tuple=new RecordViewTuple(item,view);insertTuples.push(tuple)}});for(let i=0;i<insertTuples.length;i++)this._perViewChange(insertTuples[i].view,insertTuples[i].record);for(let i=0,ilen=this._viewContainer.length;i<ilen;i++){const viewRef=this._viewContainer.get(i);viewRef.context.index=i,viewRef.context.count=ilen,viewRef.context.ngForOf=this._ngForOf}changes.forEachIdentityChange(record=>{this._viewContainer.get(record.currentIndex).context.$implicit=record.item})}_perViewChange(view,record){view.context.$implicit=record.item}static ngTemplateContextGuard(dir,ctx){return!0}}NgForOf.\u0275fac=function NgForOf_Factory(t){return new(t||NgForOf)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.IterableDiffers))},NgForOf.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({type:NgForOf,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),NgForOf.ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.IterableDiffers}],NgForOf.propDecorators={ngForOf:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],ngForTrackBy:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],ngForTemplate:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}]};class RecordViewTuple{constructor(record,view){this.record=record,this.view=view}}class NgIf{constructor(_viewContainer,templateRef){this._viewContainer=_viewContainer,this._context=new NgIfContext,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=templateRef}set ngIf(condition){this._context.$implicit=this._context.ngIf=condition,this._updateView()}set ngIfThen(templateRef){assertTemplate("ngIfThen",templateRef),this._thenTemplateRef=templateRef,this._thenViewRef=null,this._updateView()}set ngIfElse(templateRef){assertTemplate("ngIfElse",templateRef),this._elseTemplateRef=templateRef,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(dir,ctx){return!0}}NgIf.\u0275fac=function NgIf_Factory(t){return new(t||NgIf)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef))},NgIf.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({type:NgIf,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),NgIf.ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef}],NgIf.propDecorators={ngIf:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],ngIfThen:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],ngIfElse:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}]};class NgIfContext{constructor(){this.$implicit=null,this.ngIf=null}}function assertTemplate(property,templateRef){if(!!(templateRef&&!templateRef.createEmbeddedView))throw new Error(`${property} must be a TemplateRef, but received '${Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275stringify"])(templateRef)}'.`)}class SwitchView{constructor(_viewContainerRef,_templateRef){this._viewContainerRef=_viewContainerRef,this._templateRef=_templateRef,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(created){created&&!this._created?this.create():!created&&this._created&&this.destroy()}}class NgSwitch{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(newValue){this._ngSwitch=newValue,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(view){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(view)}_matchCase(value){const matched=value==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||matched,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),matched}_updateDefaultCases(useDefault){if(this._defaultViews&&useDefault!==this._defaultUsed){this._defaultUsed=useDefault;for(let i=0;i<this._defaultViews.length;i++){this._defaultViews[i].enforceState(useDefault)}}}}NgSwitch.\u0275fac=function NgSwitch_Factory(t){return new(t||NgSwitch)},NgSwitch.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({type:NgSwitch,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),NgSwitch.propDecorators={ngSwitch:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}]};class NgSwitchCase{constructor(viewContainer,templateRef,ngSwitch){this.ngSwitch=ngSwitch,ngSwitch._addCase(),this._view=new SwitchView(viewContainer,templateRef)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}NgSwitchCase.\u0275fac=function NgSwitchCase_Factory(t){return new(t||NgSwitchCase)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](NgSwitch,1))},NgSwitchCase.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({type:NgSwitchCase,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),NgSwitchCase.ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef},{type:NgSwitch,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Host}]}],NgSwitchCase.propDecorators={ngSwitchCase:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}]};class NgSwitchDefault{constructor(viewContainer,templateRef,ngSwitch){ngSwitch._addDefault(new SwitchView(viewContainer,templateRef))}}NgSwitchDefault.\u0275fac=function NgSwitchDefault_Factory(t){return new(t||NgSwitchDefault)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](NgSwitch,1))},NgSwitchDefault.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({type:NgSwitchDefault,selectors:[["","ngSwitchDefault",""]]}),NgSwitchDefault.ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef},{type:NgSwitch,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Host}]}];class NgPlural{constructor(_localization){this._localization=_localization,this._caseViews={}}set ngPlural(value){this._switchValue=value,this._updateView()}addCase(value,switchView){this._caseViews[value]=switchView}_updateView(){this._clearViews();const cases=Object.keys(this._caseViews),key=getPluralCategory(this._switchValue,cases,this._localization);this._activateView(this._caseViews[key])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(view){view&&(this._activeView=view,this._activeView.create())}}NgPlural.\u0275fac=function NgPlural_Factory(t){return new(t||NgPlural)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](NgLocalization))},NgPlural.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({type:NgPlural,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),NgPlural.ctorParameters=()=>[{type:NgLocalization}],NgPlural.propDecorators={ngPlural:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}]};class NgPluralCase{constructor(value,template,viewContainer,ngPlural){this.value=value;const isANumber=!isNaN(Number(value));ngPlural.addCase(isANumber?`=${value}`:value,new SwitchView(viewContainer,template))}}NgPluralCase.\u0275fac=function NgPluralCase_Factory(t){return new(t||NgPluralCase)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275injectAttribute"]("ngPluralCase"),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](NgPlural,1))},NgPluralCase.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({type:NgPluralCase,selectors:[["","ngPluralCase",""]]}),NgPluralCase.ctorParameters=()=>[{type:String,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["ngPluralCase"]}]},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.TemplateRef},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef},{type:NgPlural,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Host}]}];class NgStyle{constructor(_ngEl,_differs,_renderer){this._ngEl=_ngEl,this._differs=_differs,this._renderer=_renderer,this._ngStyle=null,this._differ=null}set ngStyle(values){this._ngStyle=values,!this._differ&&values&&(this._differ=this._differs.find(values).create())}ngDoCheck(){if(this._differ){const changes=this._differ.diff(this._ngStyle);changes&&this._applyChanges(changes)}}_setStyle(nameAndUnit,value){const[name,unit]=nameAndUnit.split(".");null!=(value=null!=value&&unit?`${value}${unit}`:value)?this._renderer.setStyle(this._ngEl.nativeElement,name,value):this._renderer.removeStyle(this._ngEl.nativeElement,name)}_applyChanges(changes){changes.forEachRemovedItem(record=>this._setStyle(record.key,null)),changes.forEachAddedItem(record=>this._setStyle(record.key,record.currentValue)),changes.forEachChangedItem(record=>this._setStyle(record.key,record.currentValue))}}NgStyle.\u0275fac=function NgStyle_Factory(t){return new(t||NgStyle)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.KeyValueDiffers),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2))},NgStyle.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({type:NgStyle,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),NgStyle.ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.KeyValueDiffers},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2}],NgStyle.propDecorators={ngStyle:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["ngStyle"]}]};class NgTemplateOutlet{constructor(_viewContainerRef){this._viewContainerRef=_viewContainerRef,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(changes){if(this._shouldRecreateView(changes)){const viewContainerRef=this._viewContainerRef;this._viewRef&&viewContainerRef.remove(viewContainerRef.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(changes){const ctxChange=changes.ngTemplateOutletContext;return!!changes.ngTemplateOutlet||ctxChange&&this._hasContextShapeChanged(ctxChange)}_hasContextShapeChanged(ctxChange){const prevCtxKeys=Object.keys(ctxChange.previousValue||{}),currCtxKeys=Object.keys(ctxChange.currentValue||{});if(prevCtxKeys.length===currCtxKeys.length){for(let propName of currCtxKeys)if(-1===prevCtxKeys.indexOf(propName))return!0;return!1}return!0}_updateExistingContext(ctx){for(let propName of Object.keys(ctx))this._viewRef.context[propName]=this.ngTemplateOutletContext[propName]}}NgTemplateOutlet.\u0275fac=function NgTemplateOutlet_Factory(t){return new(t||NgTemplateOutlet)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef))},NgTemplateOutlet.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineDirective"]({type:NgTemplateOutlet,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275NgOnChangesFeature"]]}),NgTemplateOutlet.ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef}],NgTemplateOutlet.propDecorators={ngTemplateOutletContext:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],ngTemplateOutlet:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}]};const COMMON_DIRECTIVES=[NgClass,NgComponentOutlet,NgForOf,NgIf,NgTemplateOutlet,NgStyle,NgSwitch,NgSwitchCase,NgSwitchDefault,NgPlural,NgPluralCase];function invalidPipeArgumentError(type,value){return Error(`InvalidPipeArgument: '${value}' for pipe '${Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275stringify"])(type)}'`)}const _promiseStrategy=new class{createSubscription(async,updateLatestValue){return async.then(updateLatestValue,e=>{throw e})}dispose(subscription){}onDestroy(subscription){}},_observableStrategy=new class{createSubscription(async,updateLatestValue){return async.subscribe({next:updateLatestValue,error:e=>{throw e}})}dispose(subscription){subscription.unsubscribe()}onDestroy(subscription){subscription.unsubscribe()}};class AsyncPipe{constructor(_ref){this._ref=_ref,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(obj){return this._obj?obj!==this._obj?(this._dispose(),this.transform(obj)):Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275looseIdentical"])(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,_angular_core__WEBPACK_IMPORTED_MODULE_0__.WrappedValue.wrap(this._latestValue)):(obj&&this._subscribe(obj),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(obj){this._obj=obj,this._strategy=this._selectStrategy(obj),this._subscription=this._strategy.createSubscription(obj,value=>this._updateLatestValue(obj,value))}_selectStrategy(obj){if(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275isPromise"])(obj))return _promiseStrategy;if(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275isObservable"])(obj))return _observableStrategy;throw invalidPipeArgumentError(AsyncPipe,obj)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(async,value){async===this._obj&&(this._latestValue=value,this._ref.markForCheck())}}AsyncPipe.\u0275fac=function AsyncPipe_Factory(t){return new(t||AsyncPipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275injectPipeChangeDetectorRef"]())},AsyncPipe.\u0275pipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275definePipe"]({name:"async",type:AsyncPipe,pure:!1}),AsyncPipe.ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef}];class LowerCasePipe{transform(value){if(!value)return value;if("string"!=typeof value)throw invalidPipeArgumentError(LowerCasePipe,value);return value.toLowerCase()}}LowerCasePipe.\u0275fac=function LowerCasePipe_Factory(t){return new(t||LowerCasePipe)},LowerCasePipe.\u0275pipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275definePipe"]({name:"lowercase",type:LowerCasePipe,pure:!0});const unicodeWordMatch=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;class TitleCasePipe{transform(value){if(!value)return value;if("string"!=typeof value)throw invalidPipeArgumentError(TitleCasePipe,value);return value.replace(unicodeWordMatch,txt=>txt[0].toUpperCase()+txt.substr(1).toLowerCase())}}TitleCasePipe.\u0275fac=function TitleCasePipe_Factory(t){return new(t||TitleCasePipe)},TitleCasePipe.\u0275pipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275definePipe"]({name:"titlecase",type:TitleCasePipe,pure:!0});class UpperCasePipe{transform(value){if(!value)return value;if("string"!=typeof value)throw invalidPipeArgumentError(UpperCasePipe,value);return value.toUpperCase()}}UpperCasePipe.\u0275fac=function UpperCasePipe_Factory(t){return new(t||UpperCasePipe)},UpperCasePipe.\u0275pipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275definePipe"]({name:"uppercase",type:UpperCasePipe,pure:!0});class DatePipe{constructor(locale){this.locale=locale}transform(value,format="mediumDate",timezone,locale){if(null==value||""===value||value!=value)return null;try{return formatDate(value,format,locale||this.locale,timezone)}catch(error){throw invalidPipeArgumentError(DatePipe,error.message)}}}DatePipe.\u0275fac=function DatePipe_Factory(t){return new(t||DatePipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.LOCALE_ID))},DatePipe.\u0275pipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275definePipe"]({name:"date",type:DatePipe,pure:!0}),DatePipe.ctorParameters=()=>[{type:String,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.LOCALE_ID]}]}];const _INTERPOLATION_REGEXP=/#/g;class I18nPluralPipe{constructor(_localization){this._localization=_localization}transform(value,pluralMap,locale){if(null==value)return"";if("object"!=typeof pluralMap||null===pluralMap)throw invalidPipeArgumentError(I18nPluralPipe,pluralMap);return pluralMap[getPluralCategory(value,Object.keys(pluralMap),this._localization,locale)].replace(_INTERPOLATION_REGEXP,value.toString())}}I18nPluralPipe.\u0275fac=function I18nPluralPipe_Factory(t){return new(t||I18nPluralPipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](NgLocalization))},I18nPluralPipe.\u0275pipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275definePipe"]({name:"i18nPlural",type:I18nPluralPipe,pure:!0}),I18nPluralPipe.ctorParameters=()=>[{type:NgLocalization}];class I18nSelectPipe{transform(value,mapping){if(null==value)return"";if("object"!=typeof mapping||"string"!=typeof value)throw invalidPipeArgumentError(I18nSelectPipe,mapping);return mapping.hasOwnProperty(value)?mapping[value]:mapping.hasOwnProperty("other")?mapping.other:""}}I18nSelectPipe.\u0275fac=function I18nSelectPipe_Factory(t){return new(t||I18nSelectPipe)},I18nSelectPipe.\u0275pipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275definePipe"]({name:"i18nSelect",type:I18nSelectPipe,pure:!0});class JsonPipe{transform(value){return JSON.stringify(value,null,2)}}JsonPipe.\u0275fac=function JsonPipe_Factory(t){return new(t||JsonPipe)},JsonPipe.\u0275pipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275definePipe"]({name:"json",type:JsonPipe,pure:!1});class KeyValuePipe{constructor(differs){this.differs=differs,this.keyValues=[]}transform(input,compareFn=defaultComparator){if(!input||!(input instanceof Map)&&"object"!=typeof input)return null;this.differ||(this.differ=this.differs.find(input).create());const differChanges=this.differ.diff(input);return differChanges&&(this.keyValues=[],differChanges.forEachItem(r=>{this.keyValues.push(function makeKeyValuePair(key,value){return{key:key,value:value}}(r.key,r.currentValue))}),this.keyValues.sort(compareFn)),this.keyValues}}function defaultComparator(keyValueA,keyValueB){const a=keyValueA.key,b=keyValueB.key;if(a===b)return 0;if(void 0===a)return 1;if(void 0===b)return-1;if(null===a)return 1;if(null===b)return-1;if("string"==typeof a&&"string"==typeof b)return a<b?-1:1;if("number"==typeof a&&"number"==typeof b)return a-b;if("boolean"==typeof a&&"boolean"==typeof b)return a<b?-1:1;const aString=String(a),bString=String(b);return aString==bString?0:aString<bString?-1:1}KeyValuePipe.\u0275fac=function KeyValuePipe_Factory(t){return new(t||KeyValuePipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.KeyValueDiffers))},KeyValuePipe.\u0275pipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275definePipe"]({name:"keyvalue",type:KeyValuePipe,pure:!1}),KeyValuePipe.ctorParameters=()=>[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.KeyValueDiffers}];class DecimalPipe{constructor(_locale){this._locale=_locale}transform(value,digitsInfo,locale){if(isEmpty(value))return null;locale=locale||this._locale;try{return formatNumber(strToNumber(value),locale,digitsInfo)}catch(error){throw invalidPipeArgumentError(DecimalPipe,error.message)}}}DecimalPipe.\u0275fac=function DecimalPipe_Factory(t){return new(t||DecimalPipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.LOCALE_ID))},DecimalPipe.\u0275pipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275definePipe"]({name:"number",type:DecimalPipe,pure:!0}),DecimalPipe.ctorParameters=()=>[{type:String,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.LOCALE_ID]}]}];class PercentPipe{constructor(_locale){this._locale=_locale}transform(value,digitsInfo,locale){if(isEmpty(value))return null;locale=locale||this._locale;try{return formatPercent(strToNumber(value),locale,digitsInfo)}catch(error){throw invalidPipeArgumentError(PercentPipe,error.message)}}}PercentPipe.\u0275fac=function PercentPipe_Factory(t){return new(t||PercentPipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.LOCALE_ID))},PercentPipe.\u0275pipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275definePipe"]({name:"percent",type:PercentPipe,pure:!0}),PercentPipe.ctorParameters=()=>[{type:String,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.LOCALE_ID]}]}];class CurrencyPipe{constructor(_locale,_defaultCurrencyCode="USD"){this._locale=_locale,this._defaultCurrencyCode=_defaultCurrencyCode}transform(value,currencyCode,display="symbol",digitsInfo,locale){if(isEmpty(value))return null;locale=locale||this._locale,"boolean"==typeof display&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),display=display?"symbol":"code");let currency=currencyCode||this._defaultCurrencyCode;"code"!==display&&(currency="symbol"===display||"symbol-narrow"===display?getCurrencySymbol(currency,"symbol"===display?"wide":"narrow",locale):display);try{return formatCurrency(strToNumber(value),locale,currency,currencyCode,digitsInfo)}catch(error){throw invalidPipeArgumentError(CurrencyPipe,error.message)}}}function isEmpty(value){return null==value||""===value||value!=value}function strToNumber(value){if("string"==typeof value&&!isNaN(Number(value)-parseFloat(value)))return Number(value);if("number"!=typeof value)throw new Error(`${value} is not a number`);return value}CurrencyPipe.\u0275fac=function CurrencyPipe_Factory(t){return new(t||CurrencyPipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.LOCALE_ID),_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275directiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_CURRENCY_CODE))},CurrencyPipe.\u0275pipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275definePipe"]({name:"currency",type:CurrencyPipe,pure:!0}),CurrencyPipe.ctorParameters=()=>[{type:String,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.LOCALE_ID]}]},{type:String,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_CURRENCY_CODE]}]}];class SlicePipe{transform(value,start,end){if(null==value)return value;if(!this.supports(value))throw invalidPipeArgumentError(SlicePipe,value);return value.slice(start,end)}supports(obj){return"string"==typeof obj||Array.isArray(obj)}}SlicePipe.\u0275fac=function SlicePipe_Factory(t){return new(t||SlicePipe)},SlicePipe.\u0275pipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275definePipe"]({name:"slice",type:SlicePipe,pure:!1});const COMMON_PIPES=[AsyncPipe,UpperCasePipe,LowerCasePipe,JsonPipe,SlicePipe,DecimalPipe,PercentPipe,TitleCasePipe,CurrencyPipe,DatePipe,I18nPluralPipe,I18nSelectPipe,KeyValuePipe];class CommonModule{}CommonModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineNgModule"]({type:CommonModule}),CommonModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineInjector"]({factory:function CommonModule_Factory(t){return new(t||CommonModule)},providers:[{provide:NgLocalization,useClass:NgLocaleLocalization}]});const PLATFORM_BROWSER_ID="browser",PLATFORM_SERVER_ID="server",PLATFORM_WORKER_APP_ID="browserWorkerApp",PLATFORM_WORKER_UI_ID="browserWorkerUi";function isPlatformBrowser(platformId){return platformId===PLATFORM_BROWSER_ID}function isPlatformServer(platformId){return platformId===PLATFORM_SERVER_ID}function isPlatformWorkerApp(platformId){return platformId===PLATFORM_WORKER_APP_ID}function isPlatformWorkerUi(platformId){return platformId===PLATFORM_WORKER_UI_ID}const VERSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.Version("9.0.7");class ViewportScroller{}ViewportScroller.\u0275prov=Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275defineInjectable"])({token:ViewportScroller,providedIn:"root",factory:()=>new BrowserViewportScroller(Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"])(DOCUMENT),window,Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["\u0275\u0275inject"])(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ErrorHandler))});class BrowserViewportScroller{constructor(document,window,errorHandler){this.document=document,this.window=window,this.errorHandler=errorHandler,this.offset=()=>[0,0]}setOffset(offset){Array.isArray(offset)?this.offset=()=>offset:this.offset=offset}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(position){this.supportScrollRestoration()&&this.window.scrollTo(position[0],position[1])}scrollToAnchor(anchor){if(this.supportScrollRestoration()){anchor=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(anchor):anchor.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const elSelectedById=this.document.querySelector(`#${anchor}`);if(elSelectedById)return void this.scrollToElement(elSelectedById);const elSelectedByName=this.document.querySelector(`[name='${anchor}']`);if(elSelectedByName)return void this.scrollToElement(elSelectedByName)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(scrollRestoration){if(this.supportScrollRestoration()){const history=this.window.history;history&&history.scrollRestoration&&(history.scrollRestoration=scrollRestoration)}}scrollToElement(el){const rect=el.getBoundingClientRect(),left=rect.left+this.window.pageXOffset,top=rect.top+this.window.pageYOffset,offset=this.offset();this.window.scrollTo(left-offset[0],top-offset[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(_a){return!1}}}class NullViewportScroller{setOffset(offset){}getScrollPosition(){return[0,0]}scrollToPosition(position){}scrollToAnchor(anchor){}setHistoryScrollRestoration(scrollRestoration){}}},owBI:function(module,exports,__webpack_require__){"use strict";var DOMImplementation=__webpack_require__("Cj8W"),HTMLParser=__webpack_require__("y1on"),Window=__webpack_require__("AF4J");exports.createDOMImplementation=function(){return new DOMImplementation(null)},exports.createDocument=function(html,force){if(html||force){var parser=new HTMLParser;return parser.parse(html||"",!0),parser.document()}return new DOMImplementation(null).createHTMLDocument("")},exports.createIncrementalHTMLParser=function(){var parser=new HTMLParser;return{write:function(s){s.length>0&&parser.parse(s,!1,(function(){return!0}))},end:function(s){parser.parse(s||"",!0,(function(){return!0}))},process:function(shouldPauseFunc){return parser.parse("",!1,shouldPauseFunc)},document:function(){return parser.document()}}},exports.createWindow=function(html,address){var document=exports.createDocument(html);return void 0!==address&&(document._address=address),new Window(document)},exports.impl=__webpack_require__("eHbt")},pLZG:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return filter}));var _Subscriber__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7o/Q");function filter(predicate,thisArg){return function filterOperatorFunction(source){return source.lift(new FilterOperator(predicate,thisArg))}}class FilterOperator{constructor(predicate,thisArg){this.predicate=predicate,this.thisArg=thisArg}call(subscriber,source){return source.subscribe(new FilterSubscriber(subscriber,this.predicate,this.thisArg))}}class FilterSubscriber extends _Subscriber__WEBPACK_IMPORTED_MODULE_0__.a{constructor(destination,predicate,thisArg){super(destination),this.predicate=predicate,this.thisArg=thisArg,this.count=0}_next(value){let result;try{result=this.predicate.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}result&&this.destination.next(value)}}},quSY:function(module,__webpack_exports__,__webpack_require__){"use strict";var isArray=__webpack_require__("DH7j"),isObject=__webpack_require__("XoHu"),isFunction=__webpack_require__("n6bG");const UnsubscriptionError=(()=>{function UnsubscriptionErrorImpl(errors){return Error.call(this),this.message=errors?`${errors.length} errors occurred during unsubscription:\n${errors.map((err,i)=>`${i+1}) ${err.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=errors,this}return UnsubscriptionErrorImpl.prototype=Object.create(Error.prototype),UnsubscriptionErrorImpl})();__webpack_require__.d(__webpack_exports__,"a",(function(){return Subscription_Subscription}));class Subscription_Subscription{constructor(unsubscribe){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,unsubscribe&&(this._unsubscribe=unsubscribe)}unsubscribe(){let errors;if(this.closed)return;let{_parentOrParents:_parentOrParents,_unsubscribe:_unsubscribe,_subscriptions:_subscriptions}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,_parentOrParents instanceof Subscription_Subscription)_parentOrParents.remove(this);else if(null!==_parentOrParents)for(let index=0;index<_parentOrParents.length;++index){_parentOrParents[index].remove(this)}if(Object(isFunction.a)(_unsubscribe))try{_unsubscribe.call(this)}catch(e){errors=e instanceof UnsubscriptionError?flattenUnsubscriptionErrors(e.errors):[e]}if(Object(isArray.a)(_subscriptions)){let index=-1,len=_subscriptions.length;for(;++index<len;){const sub=_subscriptions[index];if(Object(isObject.a)(sub))try{sub.unsubscribe()}catch(e){errors=errors||[],e instanceof UnsubscriptionError?errors=errors.concat(flattenUnsubscriptionErrors(e.errors)):errors.push(e)}}}if(errors)throw new UnsubscriptionError(errors)}add(teardown){let subscription=teardown;if(!teardown)return Subscription_Subscription.EMPTY;switch(typeof teardown){case"function":subscription=new Subscription_Subscription(teardown);case"object":if(subscription===this||subscription.closed||"function"!=typeof subscription.unsubscribe)return subscription;if(this.closed)return subscription.unsubscribe(),subscription;if(!(subscription instanceof Subscription_Subscription)){const tmp=subscription;subscription=new Subscription_Subscription,subscription._subscriptions=[tmp]}break;default:throw new Error("unrecognized teardown "+teardown+" added to Subscription.")}let{_parentOrParents:_parentOrParents}=subscription;if(null===_parentOrParents)subscription._parentOrParents=this;else if(_parentOrParents instanceof Subscription_Subscription){if(_parentOrParents===this)return subscription;subscription._parentOrParents=[_parentOrParents,this]}else{if(-1!==_parentOrParents.indexOf(this))return subscription;_parentOrParents.push(this)}const subscriptions=this._subscriptions;return null===subscriptions?this._subscriptions=[subscription]:subscriptions.push(subscription),subscription}remove(subscription){const subscriptions=this._subscriptions;if(subscriptions){const subscriptionIndex=subscriptions.indexOf(subscription);-1!==subscriptionIndex&&subscriptions.splice(subscriptionIndex,1)}}}var empty;function flattenUnsubscriptionErrors(errors){return errors.reduce((errs,err)=>errs.concat(err instanceof UnsubscriptionError?err.errors:err),[])}Subscription_Subscription.EMPTY=((empty=new Subscription_Subscription).closed=!0,empty)},rbP0:function(module,exports,__webpack_require__){"use strict";module.exports=DocumentFragment;var Node=__webpack_require__("P6n3"),NodeList=__webpack_require__("Igrf"),ContainerNode=__webpack_require__("UQIz"),Element=__webpack_require__("ryL4"),select=__webpack_require__("ddNv"),utils=__webpack_require__("Wo4J");function DocumentFragment(doc){ContainerNode.call(this),this.nodeType=Node.DOCUMENT_FRAGMENT_NODE,this.ownerDocument=doc}DocumentFragment.prototype=Object.create(ContainerNode.prototype,{nodeName:{value:"#document-fragment"},nodeValue:{get:function(){return null},set:function(){}},textContent:Object.getOwnPropertyDescriptor(Element.prototype,"textContent"),querySelector:{value:function(selector){var nodes=this.querySelectorAll(selector);return nodes.length?nodes[0]:null}},querySelectorAll:{value:function(selector){var context=Object.create(this);context.isHTML=!0,context.getElementsByTagName=Element.prototype.getElementsByTagName,context.nextElement=Object.getOwnPropertyDescriptor(Element.prototype,"firstElementChild").get;var nodes=select(selector,context);return nodes.item?nodes:new NodeList(nodes)}},clone:{value:function clone(){return new DocumentFragment(this.ownerDocument)}},isEqual:{value:function isEqual(n){return!0}},innerHTML:{get:function(){return this.serialize()},set:utils.nyi},outerHTML:{get:function(){return this.serialize()},set:utils.nyi}})},ryL4:function(module,exports,__webpack_require__){"use strict";module.exports=Element;var xml=__webpack_require__("CCM7"),utils=__webpack_require__("Wo4J"),NAMESPACE=utils.NAMESPACE,attributes=__webpack_require__("JSbx"),Node=__webpack_require__("P6n3"),NodeList=__webpack_require__("Igrf"),NodeUtils=__webpack_require__("VUyW"),FilteredElementList=__webpack_require__("WG2O"),DOMException=__webpack_require__("28gj"),DOMTokenList=__webpack_require__("7SXX"),select=__webpack_require__("ddNv"),ContainerNode=__webpack_require__("UQIz"),ChildNode=__webpack_require__("g/dZ"),NonDocumentTypeChildNode=__webpack_require__("O+/d"),NamedNodeMap=__webpack_require__("NgqP"),uppercaseCache=Object.create(null);function Element(doc,localName,namespaceURI,prefix){ContainerNode.call(this),this.nodeType=Node.ELEMENT_NODE,this.ownerDocument=doc,this.localName=localName,this.namespaceURI=namespaceURI,this.prefix=prefix,this._tagName=void 0,this._attrsByQName=Object.create(null),this._attrsByLName=Object.create(null),this._attrKeys=[]}function Attr(elt,lname,prefix,namespace,value){this.localName=lname,this.prefix=null===prefix||""===prefix?null:""+prefix,this.namespaceURI=null===namespace||""===namespace?null:""+namespace,this.data=value,this._setOwnerElement(elt)}function AttributesArray(elt){for(var name in NamedNodeMap.call(this,elt),elt._attrsByQName)this[name]=elt._attrsByQName[name];for(var i=0;i<elt._attrKeys.length;i++)this[i]=elt._attrsByLName[elt._attrKeys[i]]}function ChildrenCollection(e){this.element=e,this.updateCache()}function localNameElementFilter(lname){return function(e){return e.localName===lname}}Element.prototype=Object.create(ContainerNode.prototype,{isHTML:{get:function isHTML(){return this.namespaceURI===NAMESPACE.HTML&&this.ownerDocument.isHTML}},tagName:{get:function tagName(){if(void 0===this._tagName){var tn;if(tn=null===this.prefix?this.localName:this.prefix+":"+this.localName,this.isHTML){var up=uppercaseCache[tn];up||(uppercaseCache[tn]=up=utils.toASCIIUpperCase(tn)),tn=up}this._tagName=tn}return this._tagName}},nodeName:{get:function(){return this.tagName}},nodeValue:{get:function(){return null},set:function(){}},textContent:{get:function(){var strings=[];return function recursiveGetText(node,a){if(node.nodeType===Node.TEXT_NODE)a.push(node._data);else for(var i=0,n=node.childNodes.length;i<n;i++)recursiveGetText(node.childNodes[i],a)}(this,strings),strings.join("")},set:function(newtext){this.removeChildren(),null!=newtext&&""!==newtext&&this._appendChild(this.ownerDocument.createTextNode(newtext))}},innerHTML:{get:function(){return this.serialize()},set:utils.nyi},outerHTML:{get:function(){return NodeUtils.serializeOne(this,{nodeType:0})},set:function(v){var document=this.ownerDocument,parent=this.parentNode;if(null!==parent){parent.nodeType===Node.DOCUMENT_NODE&&utils.NoModificationAllowedError(),parent.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(parent=parent.ownerDocument.createElement("body"));var parser=document.implementation.mozHTMLParser(document._address,parent);parser.parse(null===v?"":String(v),!0),this.replaceWith(parser._asDocumentFragment())}}},_insertAdjacent:{value:function _insertAdjacent(position,node){var first=!1;switch(position){case"beforebegin":first=!0;case"afterend":var parent=this.parentNode;return null===parent?null:parent.insertBefore(node,first?this:this.nextSibling);case"afterbegin":first=!0;case"beforeend":return this.insertBefore(node,first?this.firstChild:null);default:return utils.SyntaxError()}}},insertAdjacentElement:{value:function insertAdjacentElement(position,element){if(element.nodeType!==Node.ELEMENT_NODE)throw new TypeError("not an element");return position=utils.toASCIILowerCase(String(position)),this._insertAdjacent(position,element)}},insertAdjacentText:{value:function insertAdjacentText(position,data){var textNode=this.ownerDocument.createTextNode(data);position=utils.toASCIILowerCase(String(position)),this._insertAdjacent(position,textNode)}},insertAdjacentHTML:{value:function insertAdjacentHTML(position,text){var context;switch(position=utils.toASCIILowerCase(String(position)),text=String(text),position){case"beforebegin":case"afterend":null!==(context=this.parentNode)&&context.nodeType!==Node.DOCUMENT_NODE||utils.NoModificationAllowedError();break;case"afterbegin":case"beforeend":context=this;break;default:utils.SyntaxError()}context instanceof Element&&(!context.ownerDocument.isHTML||"html"!==context.localName||context.namespaceURI!==NAMESPACE.HTML)||(context=context.ownerDocument.createElementNS(NAMESPACE.HTML,"body"));var parser=this.ownerDocument.implementation.mozHTMLParser(this.ownerDocument._address,context);parser.parse(text,!0),this._insertAdjacent(position,parser._asDocumentFragment())}},children:{get:function(){return this._children||(this._children=new ChildrenCollection(this)),this._children}},attributes:{get:function(){return this._attributes||(this._attributes=new AttributesArray(this)),this._attributes}},firstElementChild:{get:function(){for(var kid=this.firstChild;null!==kid;kid=kid.nextSibling)if(kid.nodeType===Node.ELEMENT_NODE)return kid;return null}},lastElementChild:{get:function(){for(var kid=this.lastChild;null!==kid;kid=kid.previousSibling)if(kid.nodeType===Node.ELEMENT_NODE)return kid;return null}},childElementCount:{get:function(){return this.children.length}},nextElement:{value:function(root){root||(root=this.ownerDocument.documentElement);var next=this.firstElementChild;if(!next){if(this===root)return null;next=this.nextElementSibling}if(next)return next;for(var parent=this.parentElement;parent&&parent!==root;parent=parent.parentElement)if(next=parent.nextElementSibling)return next;return null}},getElementsByTagName:{value:function getElementsByTagName(lname){var filter;return lname?(filter="*"===lname?function(){return!0}:this.isHTML?function htmlLocalNameElementFilter(lname){var lclname=utils.toASCIILowerCase(lname);return lclname===lname?localNameElementFilter(lname):function(e){return e.isHTML?e.localName===lclname:e.localName===lname}}(lname):localNameElementFilter(lname),new FilteredElementList(this,filter)):new NodeList}},getElementsByTagNameNS:{value:function getElementsByTagNameNS(ns,lname){var filter;return filter="*"===ns&&"*"===lname?function(){return!0}:"*"===ns?localNameElementFilter(lname):"*"===lname?function namespaceElementFilter(ns){return function(e){return e.namespaceURI===ns}}(ns):function namespaceLocalNameElementFilter(ns,lname){return function(e){return e.namespaceURI===ns&&e.localName===lname}}(ns,lname),new FilteredElementList(this,filter)}},getElementsByClassName:{value:function getElementsByClassName(names){return""===(names=String(names).trim())?new NodeList:(names=names.split(/[ \t\r\n\f]+/),new FilteredElementList(this,function classNamesElementFilter(names){return function(e){return names.every((function(n){return e.classList.contains(n)}))}}(names)))}},getElementsByName:{value:function getElementsByName(name){return new FilteredElementList(this,function elementNameFilter(name){return function(e){return e.namespaceURI===NAMESPACE.HTML&&e.getAttribute("name")===name}}(String(name)))}},clone:{value:function clone(){var e;e=this.namespaceURI!==NAMESPACE.HTML||this.prefix||!this.ownerDocument.isHTML?this.ownerDocument.createElementNS(this.namespaceURI,null!==this.prefix?this.prefix+":"+this.localName:this.localName):this.ownerDocument.createElement(this.localName);for(var i=0,n=this._attrKeys.length;i<n;i++){var lname=this._attrKeys[i],b=this._attrsByLName[lname].cloneNode();b._setOwnerElement(e),e._attrsByLName[lname]=b,e._addQName(b)}return e._attrKeys=this._attrKeys.concat(),e}},isEqual:{value:function isEqual(that){if(this.localName!==that.localName||this.namespaceURI!==that.namespaceURI||this.prefix!==that.prefix||this._numattrs!==that._numattrs)return!1;for(var i=0,n=this._numattrs;i<n;i++){var a=this._attr(i);if(!that.hasAttributeNS(a.namespaceURI,a.localName))return!1;if(that.getAttributeNS(a.namespaceURI,a.localName)!==a.value)return!1}return!0}},_lookupNamespacePrefix:{value:function _lookupNamespacePrefix(ns,originalElement){if(this.namespaceURI&&this.namespaceURI===ns&&null!==this.prefix&&originalElement.lookupNamespaceURI(this.prefix)===ns)return this.prefix;for(var i=0,n=this._numattrs;i<n;i++){var a=this._attr(i);if("xmlns"===a.prefix&&a.value===ns&&originalElement.lookupNamespaceURI(a.localName)===ns)return a.localName}var parent=this.parentElement;return parent?parent._lookupNamespacePrefix(ns,originalElement):null}},lookupNamespaceURI:{value:function lookupNamespaceURI(prefix){if(""!==prefix&&void 0!==prefix||(prefix=null),null!==this.namespaceURI&&this.prefix===prefix)return this.namespaceURI;for(var i=0,n=this._numattrs;i<n;i++){var a=this._attr(i);if(a.namespaceURI===NAMESPACE.XMLNS&&("xmlns"===a.prefix&&a.localName===prefix||null===prefix&&null===a.prefix&&"xmlns"===a.localName))return a.value||null}var parent=this.parentElement;return parent?parent.lookupNamespaceURI(prefix):null}},getAttribute:{value:function getAttribute(qname){var attr=this.getAttributeNode(qname);return attr?attr.value:null}},getAttributeNS:{value:function getAttributeNS(ns,lname){var attr=this.getAttributeNodeNS(ns,lname);return attr?attr.value:null}},getAttributeNode:{value:function getAttributeNode(qname){qname=String(qname),/[A-Z]/.test(qname)&&this.isHTML&&(qname=utils.toASCIILowerCase(qname));var attr=this._attrsByQName[qname];return attr?(Array.isArray(attr)&&(attr=attr[0]),attr):null}},getAttributeNodeNS:{value:function getAttributeNodeNS(ns,lname){ns=null==ns?"":String(ns),lname=String(lname);var attr=this._attrsByLName[ns+"|"+lname];return attr||null}},hasAttribute:{value:function hasAttribute(qname){return qname=String(qname),/[A-Z]/.test(qname)&&this.isHTML&&(qname=utils.toASCIILowerCase(qname)),void 0!==this._attrsByQName[qname]}},hasAttributeNS:{value:function hasAttributeNS(ns,lname){var key=(ns=null==ns?"":String(ns))+"|"+(lname=String(lname));return void 0!==this._attrsByLName[key]}},hasAttributes:{value:function hasAttributes(){return this._numattrs>0}},toggleAttribute:{value:function toggleAttribute(qname,force){return qname=String(qname),xml.isValidName(qname)||utils.InvalidCharacterError(),/[A-Z]/.test(qname)&&this.isHTML&&(qname=utils.toASCIILowerCase(qname)),void 0===this._attrsByQName[qname]?(void 0===force||!0===force)&&(this._setAttribute(qname,""),!0):void 0!==force&&!1!==force||(this.removeAttribute(qname),!1)}},_setAttribute:{value:function _setAttribute(qname,value){var isnew,attr=this._attrsByQName[qname];attr?Array.isArray(attr)&&(attr=attr[0]):(attr=this._newattr(qname),isnew=!0),attr.value=value,this._attributes&&(this._attributes[qname]=attr),isnew&&this._newattrhook&&this._newattrhook(qname,value)}},setAttribute:{value:function setAttribute(qname,value){qname=String(qname),xml.isValidName(qname)||utils.InvalidCharacterError(),/[A-Z]/.test(qname)&&this.isHTML&&(qname=utils.toASCIILowerCase(qname)),this._setAttribute(qname,String(value))}},_setAttributeNS:{value:function _setAttributeNS(ns,qname,value){var prefix,lname,pos=qname.indexOf(":");pos<0?(prefix=null,lname=qname):(prefix=qname.substring(0,pos),lname=qname.substring(pos+1)),""!==ns&&void 0!==ns||(ns=null);var isnew,key=(null===ns?"":ns)+"|"+lname,attr=this._attrsByLName[key];attr||(attr=new Attr(this,lname,prefix,ns),isnew=!0,this._attrsByLName[key]=attr,this._attributes&&(this._attributes[this._attrKeys.length]=attr),this._attrKeys.push(key),this._addQName(attr)),attr.value=value,isnew&&this._newattrhook&&this._newattrhook(qname,value)}},setAttributeNS:{value:function setAttributeNS(ns,qname,value){ns=null==ns||""===ns?null:String(ns),qname=String(qname),xml.isValidQName(qname)||utils.InvalidCharacterError();var pos=qname.indexOf(":"),prefix=pos<0?null:qname.substring(0,pos);(null!==prefix&&null===ns||"xml"===prefix&&ns!==NAMESPACE.XML||("xmlns"===qname||"xmlns"===prefix)&&ns!==NAMESPACE.XMLNS||ns===NAMESPACE.XMLNS&&"xmlns"!==qname&&"xmlns"!==prefix)&&utils.NamespaceError(),this._setAttributeNS(ns,qname,String(value))}},setAttributeNode:{value:function setAttributeNode(attr){if(null!==attr.ownerElement&&attr.ownerElement!==this)throw new DOMException(DOMException.INUSE_ATTRIBUTE_ERR);var result=null,oldAttrs=this._attrsByQName[attr.name];if(oldAttrs){if(Array.isArray(oldAttrs)||(oldAttrs=[oldAttrs]),oldAttrs.some((function(a){return a===attr})))return attr;if(null!==attr.ownerElement)throw new DOMException(DOMException.INUSE_ATTRIBUTE_ERR);oldAttrs.forEach((function(a){this.removeAttributeNode(a)}),this),result=oldAttrs[0]}return this.setAttributeNodeNS(attr),result}},setAttributeNodeNS:{value:function setAttributeNodeNS(attr){if(null!==attr.ownerElement)throw new DOMException(DOMException.INUSE_ATTRIBUTE_ERR);var ns=attr.namespaceURI,key=(null===ns?"":ns)+"|"+attr.localName,oldAttr=this._attrsByLName[key];return oldAttr&&this.removeAttributeNode(oldAttr),attr._setOwnerElement(this),this._attrsByLName[key]=attr,this._attributes&&(this._attributes[this._attrKeys.length]=attr),this._attrKeys.push(key),this._addQName(attr),this._newattrhook&&this._newattrhook(attr.name,attr.value),oldAttr||null}},removeAttribute:{value:function removeAttribute(qname){qname=String(qname),/[A-Z]/.test(qname)&&this.isHTML&&(qname=utils.toASCIILowerCase(qname));var attr=this._attrsByQName[qname];if(attr){Array.isArray(attr)?attr.length>2?attr=attr.shift():(this._attrsByQName[qname]=attr[1],attr=attr[0]):this._attrsByQName[qname]=void 0;var ns=attr.namespaceURI,key=(null===ns?"":ns)+"|"+attr.localName;this._attrsByLName[key]=void 0;var i=this._attrKeys.indexOf(key);this._attributes&&(Array.prototype.splice.call(this._attributes,i,1),this._attributes[qname]=void 0),this._attrKeys.splice(i,1);var onchange=attr.onchange;attr._setOwnerElement(null),onchange&&onchange.call(attr,this,attr.localName,attr.value,null),this.rooted&&this.ownerDocument.mutateRemoveAttr(attr)}}},removeAttributeNS:{value:function removeAttributeNS(ns,lname){var key=(ns=null==ns?"":String(ns))+"|"+(lname=String(lname)),attr=this._attrsByLName[key];if(attr){this._attrsByLName[key]=void 0;var i=this._attrKeys.indexOf(key);this._attributes&&Array.prototype.splice.call(this._attributes,i,1),this._attrKeys.splice(i,1),this._removeQName(attr);var onchange=attr.onchange;attr._setOwnerElement(null),onchange&&onchange.call(attr,this,attr.localName,attr.value,null),this.rooted&&this.ownerDocument.mutateRemoveAttr(attr)}}},removeAttributeNode:{value:function removeAttributeNode(attr){var ns=attr.namespaceURI,key=(null===ns?"":ns)+"|"+attr.localName;return this._attrsByLName[key]!==attr&&utils.NotFoundError(),this.removeAttributeNS(ns,attr.localName),attr}},getAttributeNames:{value:function getAttributeNames(){var elt=this;return this._attrKeys.map((function(key){return elt._attrsByLName[key].name}))}},_getattr:{value:function _getattr(qname){var attr=this._attrsByQName[qname];return attr?attr.value:null}},_setattr:{value:function _setattr(qname,value){var isnew,attr=this._attrsByQName[qname];attr||(attr=this._newattr(qname),isnew=!0),attr.value=String(value),this._attributes&&(this._attributes[qname]=attr),isnew&&this._newattrhook&&this._newattrhook(qname,value)}},_newattr:{value:function _newattr(qname){var attr=new Attr(this,qname,null,null),key="|"+qname;return this._attrsByQName[qname]=attr,this._attrsByLName[key]=attr,this._attributes&&(this._attributes[this._attrKeys.length]=attr),this._attrKeys.push(key),attr}},_addQName:{value:function(attr){var qname=attr.name,existing=this._attrsByQName[qname];existing?Array.isArray(existing)?existing.push(attr):this._attrsByQName[qname]=[existing,attr]:this._attrsByQName[qname]=attr,this._attributes&&(this._attributes[qname]=attr)}},_removeQName:{value:function(attr){var qname=attr.name,target=this._attrsByQName[qname];if(Array.isArray(target)){var idx=target.indexOf(attr);utils.assert(-1!==idx),2===target.length?(this._attrsByQName[qname]=target[1-idx],this._attributes&&(this._attributes[qname]=this._attrsByQName[qname])):(target.splice(idx,1),this._attributes&&this._attributes[qname]===attr&&(this._attributes[qname]=target[0]))}else utils.assert(target===attr),this._attrsByQName[qname]=void 0,this._attributes&&(this._attributes[qname]=void 0)}},_numattrs:{get:function(){return this._attrKeys.length}},_attr:{value:function(n){return this._attrsByLName[this._attrKeys[n]]}},id:attributes.property({name:"id"}),className:attributes.property({name:"class"}),classList:{get:function(){var self=this;if(this._classList)return this._classList;var dtlist=new DOMTokenList((function(){return self.className||""}),(function(v){self.className=v}));return this._classList=dtlist,dtlist},set:function(v){this.className=v}},matches:{value:function(selector){return select.matches(this,selector)}},closest:{value:function(selector){var el=this;do{if(el.matches&&el.matches(selector))return el;el=el.parentElement||el.parentNode}while(null!==el&&el.nodeType===Node.ELEMENT_NODE);return null}},querySelector:{value:function(selector){return select(selector,this)[0]}},querySelectorAll:{value:function(selector){var nodes=select(selector,this);return nodes.item?nodes:new NodeList(nodes)}}}),Object.defineProperties(Element.prototype,ChildNode),Object.defineProperties(Element.prototype,NonDocumentTypeChildNode),attributes.registerChangeHandler(Element,"id",(function(element,lname,oldval,newval){element.rooted&&(oldval&&element.ownerDocument.delId(oldval,element),newval&&element.ownerDocument.addId(newval,element))})),attributes.registerChangeHandler(Element,"class",(function(element,lname,oldval,newval){element._classList&&element._classList._update()})),Attr.prototype=Object.create(Object.prototype,{ownerElement:{get:function(){return this._ownerElement}},_setOwnerElement:{value:function _setOwnerElement(elt){this._ownerElement=elt,null===this.prefix&&null===this.namespaceURI&&elt?this.onchange=elt._attributeChangeHandlers[this.localName]:this.onchange=null}},name:{get:function(){return this.prefix?this.prefix+":"+this.localName:this.localName}},specified:{get:function(){return!0}},value:{get:function(){return this.data},set:function(value){var oldval=this.data;(value=void 0===value?"":value+"")!==oldval&&(this.data=value,this.ownerElement&&(this.onchange&&this.onchange(this.ownerElement,this.localName,oldval,value),this.ownerElement.rooted&&this.ownerElement.ownerDocument.mutateAttr(this,oldval)))}},cloneNode:{value:function cloneNode(deep){return new Attr(null,this.localName,this.prefix,this.namespaceURI,this.data)}},nodeType:{get:function(){return Node.ATTRIBUTE_NODE}},nodeName:{get:function(){return this.name}},nodeValue:{get:function(){return this.value},set:function(v){this.value=v}},textContent:{get:function(){return this.value},set:function(v){null==v&&(v=""),this.value=v}}}),Element._Attr=Attr,AttributesArray.prototype=Object.create(NamedNodeMap.prototype,{length:{get:function(){return this.element._attrKeys.length},set:function(){}},item:{value:function(n){return(n>>>=0)>=this.length?null:this.element._attrsByLName[this.element._attrKeys[n]]}}}),global.Symbol&&global.Symbol.iterator&&(AttributesArray.prototype[global.Symbol.iterator]=function(){var i=0,n=this.length,self=this;return{next:function(){return i<n?{value:self.item(i++)}:{done:!0}}}}),ChildrenCollection.prototype=Object.create(Object.prototype,{length:{get:function(){return this.updateCache(),this.childrenByNumber.length}},item:{value:function item(n){return this.updateCache(),this.childrenByNumber[n]||null}},namedItem:{value:function namedItem(name){return this.updateCache(),this.childrenByName[name]||null}},namedItems:{get:function(){return this.updateCache(),this.childrenByName}},updateCache:{value:function updateCache(){var namedElts=/^(a|applet|area|embed|form|frame|frameset|iframe|img|object)$/;if(this.lastModTime!==this.element.lastModTime){this.lastModTime=this.element.lastModTime;for(var n=this.childrenByNumber&&this.childrenByNumber.length||0,i=0;i<n;i++)this[i]=void 0;this.childrenByNumber=[],this.childrenByName=Object.create(null);for(var c=this.element.firstChild;null!==c;c=c.nextSibling)if(c.nodeType===Node.ELEMENT_NODE){this[this.childrenByNumber.length]=c,this.childrenByNumber.push(c);var id=c.getAttribute("id");id&&!this.childrenByName[id]&&(this.childrenByName[id]=c);var name=c.getAttribute("name");name&&this.element.namespaceURI===NAMESPACE.HTML&&namedElts.test(this.element.localName)&&!this.childrenByName[name]&&(this.childrenByName[id]=c)}}}}})},sVev:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return EmptyError}));const EmptyError=(()=>{function EmptyErrorImpl(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return EmptyErrorImpl.prototype=Object.create(Error.prototype),EmptyErrorImpl})()},tgGq:function(module,exports,__webpack_require__){"use strict";var attributes=__webpack_require__("JSbx"),sloppy=__webpack_require__("wPkN"),isApiWritable=__webpack_require__("Pd6R").isApiWritable;function EventHandlerBuilder(body,document,form,element){this.body=body,this.document=document,this.form=form,this.element=element}function EventHandlerChangeHandler(elt,name,oldval,newval){var doc=elt.ownerDocument||Object.create(null),form=elt.form||Object.create(null);elt[name]=new EventHandlerBuilder(newval,doc,form,elt).build()}module.exports=function(spec,defaultConstructor,tagList,tagNameToImpl){var c=spec.ctor;if(c){var props=spec.props||{};if(spec.attributes)for(var n in spec.attributes){var attr=spec.attributes[n];("object"!=typeof attr||Array.isArray(attr))&&(attr={type:attr}),attr.name||(attr.name=n.toLowerCase()),props[n]=attributes.property(attr)}props.constructor={value:c,writable:isApiWritable},c.prototype=Object.create((spec.superclass||defaultConstructor).prototype,props),spec.events&&function addEventHandlers(c,eventHandlerTypes){var p=c.prototype;eventHandlerTypes.forEach((function(type){Object.defineProperty(p,"on"+type,{get:function(){return this._getEventHandler(type)},set:function(v){this._setEventHandler(type,v)}}),attributes.registerChangeHandler(c,"on"+type,EventHandlerChangeHandler)}))}(c,spec.events),tagList[c.name]=c}else c=defaultConstructor;return(spec.tags||spec.tag&&[spec.tag]||[]).forEach((function(tag){tagNameToImpl[tag]=c})),c},EventHandlerBuilder.prototype.build=sloppy.EventHandlerBuilder_build},tyNb:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var common=__webpack_require__("ofXK"),core=__webpack_require__("fXoL"),of=__webpack_require__("LRne"),from=__webpack_require__("Cfvw"),Subject=__webpack_require__("XNiG"),ObjectUnsubscribedError=__webpack_require__("9ppp");class BehaviorSubject_BehaviorSubject extends Subject.a{constructor(_value){super(),this._value=_value}get value(){return this.getValue()}_subscribe(subscriber){const subscription=super._subscribe(subscriber);return subscription&&!subscription.closed&&subscriber.next(this._value),subscription}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError.a;return this._value}next(value){super.next(this._value=value)}}var Observable=__webpack_require__("HDdC"),EmptyError=__webpack_require__("sVev"),isScheduler=__webpack_require__("z+Ro"),isArray=__webpack_require__("DH7j"),OuterSubscriber=__webpack_require__("l7GE"),subscribeToResult=__webpack_require__("ZUHj"),fromArray=__webpack_require__("yCtX");const NONE={};class CombineLatestOperator{constructor(resultSelector){this.resultSelector=resultSelector}call(subscriber,source){return source.subscribe(new combineLatest_CombineLatestSubscriber(subscriber,this.resultSelector))}}class combineLatest_CombineLatestSubscriber extends OuterSubscriber.a{constructor(destination,resultSelector){super(destination),this.resultSelector=resultSelector,this.active=0,this.values=[],this.observables=[]}_next(observable){this.values.push(NONE),this.observables.push(observable)}_complete(){const observables=this.observables,len=observables.length;if(0===len)this.destination.complete();else{this.active=len,this.toRespond=len;for(let i=0;i<len;i++){const observable=observables[i];this.add(Object(subscribeToResult.a)(this,observable,observable,i))}}}notifyComplete(unused){0==(this.active-=1)&&this.destination.complete()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){const values=this.values,oldVal=values[outerIndex],toRespond=this.toRespond?oldVal===NONE?--this.toRespond:this.toRespond:0;values[outerIndex]=innerValue,0===toRespond&&(this.resultSelector?this._tryResultSelector(values):this.destination.next(values.slice()))}_tryResultSelector(values){let result;try{result=this.resultSelector.apply(this,values)}catch(err){return void this.destination.error(err)}this.destination.next(result)}}var empty=__webpack_require__("EY2u");function defer(observableFactory){return new Observable.a(subscriber=>{let input;try{input=observableFactory()}catch(err){return void subscriber.error(err)}return(input?Object(from.a)(input):Object(empty.b)()).subscribe(subscriber)})}var map=__webpack_require__("lJxs"),mergeAll=__webpack_require__("bHdf");function concatAll(){return Object(mergeAll.a)(1)}var filter=__webpack_require__("pLZG"),Subscriber=__webpack_require__("7o/Q"),ArgumentOutOfRangeError=__webpack_require__("4I5i");function takeLast(count){return function takeLastOperatorFunction(source){return 0===count?Object(empty.b)():source.lift(new takeLast_TakeLastOperator(count))}}class takeLast_TakeLastOperator{constructor(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError.a}call(subscriber,source){return source.subscribe(new takeLast_TakeLastSubscriber(subscriber,this.total))}}class takeLast_TakeLastSubscriber extends Subscriber.a{constructor(destination,total){super(destination),this.total=total,this.ring=new Array,this.count=0}_next(value){const ring=this.ring,total=this.total,count=this.count++;if(ring.length<total)ring.push(value);else{ring[count%total]=value}}_complete(){const destination=this.destination;let count=this.count;if(count>0){const total=this.count>=this.total?this.total:this.count,ring=this.ring;for(let i=0;i<total;i++){const idx=count++%total;destination.next(ring[idx])}}destination.complete()}}var throwIfEmpty=__webpack_require__("XDbj"),defaultIfEmpty=__webpack_require__("xbPD"),identity=__webpack_require__("SpAZ");function last(predicate,defaultValue){const hasDefaultValue=arguments.length>=2;return source=>source.pipe(predicate?Object(filter.a)((v,i)=>predicate(v,i,source)):identity.a,takeLast(1),hasDefaultValue?Object(defaultIfEmpty.a)(defaultValue):Object(throwIfEmpty.a)(()=>new EmptyError.a))}var InnerSubscriber=__webpack_require__("51Dv");function catchError(selector){return function catchErrorOperatorFunction(source){const operator=new CatchOperator(selector),caught=source.lift(operator);return operator.caught=caught}}class CatchOperator{constructor(selector){this.selector=selector}call(subscriber,source){return source.subscribe(new catchError_CatchSubscriber(subscriber,this.selector,this.caught))}}class catchError_CatchSubscriber extends OuterSubscriber.a{constructor(destination,selector,caught){super(destination),this.selector=selector,this.caught=caught}error(err){if(!this.isStopped){let result;try{result=this.selector(err,this.caught)}catch(err2){return void super.error(err2)}this._unsubscribeAndRecycle();const innerSubscriber=new InnerSubscriber.a(this,void 0,void 0);this.add(innerSubscriber);const innerSubscription=Object(subscribeToResult.a)(this,result,void 0,void 0,innerSubscriber);innerSubscription!==innerSubscriber&&this.add(innerSubscription)}}}var first=__webpack_require__("SxV6"),mergeMap=__webpack_require__("5+tZ");class EveryOperator{constructor(predicate,thisArg,source){this.predicate=predicate,this.thisArg=thisArg,this.source=source}call(observer,source){return source.subscribe(new every_EverySubscriber(observer,this.predicate,this.thisArg,this.source))}}class every_EverySubscriber extends Subscriber.a{constructor(destination,predicate,thisArg,source){super(destination),this.predicate=predicate,this.thisArg=thisArg,this.source=source,this.index=0,this.thisArg=thisArg||this}notifyComplete(everyValueMatch){this.destination.next(everyValueMatch),this.destination.complete()}_next(value){let result=!1;try{result=this.predicate.call(this.thisArg,value,this.index++,this.source)}catch(err){return void this.destination.error(err)}result||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function switchMap(project,resultSelector){return"function"==typeof resultSelector?source=>source.pipe(switchMap((a,i)=>Object(from.a)(project(a,i)).pipe(Object(map.a)((b,ii)=>resultSelector(a,b,i,ii))))):source=>source.lift(new SwitchMapOperator(project))}class SwitchMapOperator{constructor(project){this.project=project}call(subscriber,source){return source.subscribe(new switchMap_SwitchMapSubscriber(subscriber,this.project))}}class switchMap_SwitchMapSubscriber extends OuterSubscriber.a{constructor(destination,project){super(destination),this.project=project,this.index=0}_next(value){let result;const index=this.index++;try{result=this.project(value,index)}catch(error){return void this.destination.error(error)}this._innerSub(result,value,index)}_innerSub(result,value,index){const innerSubscription=this.innerSubscription;innerSubscription&&innerSubscription.unsubscribe();const innerSubscriber=new InnerSubscriber.a(this,value,index),destination=this.destination;destination.add(innerSubscriber),this.innerSubscription=Object(subscribeToResult.a)(this,result,void 0,void 0,innerSubscriber),this.innerSubscription!==innerSubscriber&&destination.add(this.innerSubscription)}_complete(){const{innerSubscription:innerSubscription}=this;innerSubscription&&!innerSubscription.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(innerSub){this.destination.remove(innerSub),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)}}var take=__webpack_require__("IzEk");function concat(...observables){return concatAll()(Object(of.a)(...observables))}function scan(accumulator,seed){let hasSeed=!1;return arguments.length>=2&&(hasSeed=!0),function scanOperatorFunction(source){return source.lift(new ScanOperator(accumulator,seed,hasSeed))}}class ScanOperator{constructor(accumulator,seed,hasSeed=!1){this.accumulator=accumulator,this.seed=seed,this.hasSeed=hasSeed}call(subscriber,source){return source.subscribe(new scan_ScanSubscriber(subscriber,this.accumulator,this.seed,this.hasSeed))}}class scan_ScanSubscriber extends Subscriber.a{constructor(destination,accumulator,_seed,hasSeed){super(destination),this.accumulator=accumulator,this._seed=_seed,this.hasSeed=hasSeed,this.index=0}get seed(){return this._seed}set seed(value){this.hasSeed=!0,this._seed=value}_next(value){if(this.hasSeed)return this._tryNext(value);this.seed=value,this.destination.next(value)}_tryNext(value){const index=this.index++;let result;try{result=this.accumulator(this.seed,value,index)}catch(err){this.destination.error(err)}this.seed=result,this.destination.next(result)}}var concatMap=__webpack_require__("bOdf"),pipe=__webpack_require__("mCNh");function noop(){}var isFunction=__webpack_require__("n6bG");function tap(nextOrObserver,error,complete){return function tapOperatorFunction(source){return source.lift(new DoOperator(nextOrObserver,error,complete))}}class DoOperator{constructor(nextOrObserver,error,complete){this.nextOrObserver=nextOrObserver,this.error=error,this.complete=complete}call(subscriber,source){return source.subscribe(new tap_TapSubscriber(subscriber,this.nextOrObserver,this.error,this.complete))}}class tap_TapSubscriber extends Subscriber.a{constructor(destination,observerOrNext,error,complete){super(destination),this._tapNext=noop,this._tapError=noop,this._tapComplete=noop,this._tapError=error||noop,this._tapComplete=complete||noop,Object(isFunction.a)(observerOrNext)?(this._context=this,this._tapNext=observerOrNext):observerOrNext&&(this._context=observerOrNext,this._tapNext=observerOrNext.next||noop,this._tapError=observerOrNext.error||noop,this._tapComplete=observerOrNext.complete||noop)}_next(value){try{this._tapNext.call(this._context,value)}catch(err){return void this.destination.error(err)}this.destination.next(value)}_error(err){try{this._tapError.call(this._context,err)}catch(err){return void this.destination.error(err)}this.destination.error(err)}_complete(){try{this._tapComplete.call(this._context)}catch(err){return void this.destination.error(err)}return this.destination.complete()}}var Subscription=__webpack_require__("quSY");class FinallyOperator{constructor(callback){this.callback=callback}call(subscriber,source){return source.subscribe(new finalize_FinallySubscriber(subscriber,this.callback))}}class finalize_FinallySubscriber extends Subscriber.a{constructor(destination,callback){super(destination),this.add(new Subscription.a(callback))}}__webpack_require__.d(__webpack_exports__,"ActivatedRoute",(function(){return router_ActivatedRoute})),__webpack_require__.d(__webpack_exports__,"ActivatedRouteSnapshot",(function(){return ActivatedRouteSnapshot})),__webpack_require__.d(__webpack_exports__,"ActivationEnd",(function(){return ActivationEnd})),__webpack_require__.d(__webpack_exports__,"ActivationStart",(function(){return ActivationStart})),__webpack_require__.d(__webpack_exports__,"ChildActivationEnd",(function(){return ChildActivationEnd})),__webpack_require__.d(__webpack_exports__,"ChildActivationStart",(function(){return ChildActivationStart})),__webpack_require__.d(__webpack_exports__,"ChildrenOutletContexts",(function(){return ChildrenOutletContexts})),__webpack_require__.d(__webpack_exports__,"DefaultUrlSerializer",(function(){return DefaultUrlSerializer})),__webpack_require__.d(__webpack_exports__,"GuardsCheckEnd",(function(){return GuardsCheckEnd})),__webpack_require__.d(__webpack_exports__,"GuardsCheckStart",(function(){return GuardsCheckStart})),__webpack_require__.d(__webpack_exports__,"NavigationCancel",(function(){return NavigationCancel})),__webpack_require__.d(__webpack_exports__,"NavigationEnd",(function(){return NavigationEnd})),__webpack_require__.d(__webpack_exports__,"NavigationError",(function(){return NavigationError})),__webpack_require__.d(__webpack_exports__,"NavigationStart",(function(){return NavigationStart})),__webpack_require__.d(__webpack_exports__,"NoPreloading",(function(){return router_NoPreloading})),__webpack_require__.d(__webpack_exports__,"OutletContext",(function(){return OutletContext})),__webpack_require__.d(__webpack_exports__,"PRIMARY_OUTLET",(function(){return PRIMARY_OUTLET})),__webpack_require__.d(__webpack_exports__,"PreloadAllModules",(function(){return router_PreloadAllModules})),__webpack_require__.d(__webpack_exports__,"PreloadingStrategy",(function(){return PreloadingStrategy})),__webpack_require__.d(__webpack_exports__,"ROUTER_CONFIGURATION",(function(){return ROUTER_CONFIGURATION})),__webpack_require__.d(__webpack_exports__,"ROUTER_INITIALIZER",(function(){return ROUTER_INITIALIZER})),__webpack_require__.d(__webpack_exports__,"ROUTES",(function(){return ROUTES})),__webpack_require__.d(__webpack_exports__,"ResolveEnd",(function(){return ResolveEnd})),__webpack_require__.d(__webpack_exports__,"ResolveStart",(function(){return ResolveStart})),__webpack_require__.d(__webpack_exports__,"RouteConfigLoadEnd",(function(){return RouteConfigLoadEnd})),__webpack_require__.d(__webpack_exports__,"RouteConfigLoadStart",(function(){return RouteConfigLoadStart})),__webpack_require__.d(__webpack_exports__,"RouteReuseStrategy",(function(){return RouteReuseStrategy})),__webpack_require__.d(__webpack_exports__,"Router",(function(){return router_Router})),__webpack_require__.d(__webpack_exports__,"RouterEvent",(function(){return RouterEvent})),__webpack_require__.d(__webpack_exports__,"RouterLink",(function(){return router_RouterLink})),__webpack_require__.d(__webpack_exports__,"RouterLinkActive",(function(){return RouterLinkActive})),__webpack_require__.d(__webpack_exports__,"RouterLinkWithHref",(function(){return router_RouterLinkWithHref})),__webpack_require__.d(__webpack_exports__,"RouterModule",(function(){return router_RouterModule})),__webpack_require__.d(__webpack_exports__,"RouterOutlet",(function(){return router_RouterOutlet})),__webpack_require__.d(__webpack_exports__,"RouterPreloader",(function(){return router_RouterPreloader})),__webpack_require__.d(__webpack_exports__,"RouterState",(function(){return RouterState})),__webpack_require__.d(__webpack_exports__,"RouterStateSnapshot",(function(){return RouterStateSnapshot})),__webpack_require__.d(__webpack_exports__,"RoutesRecognized",(function(){return RoutesRecognized})),__webpack_require__.d(__webpack_exports__,"Scroll",(function(){return Scroll})),__webpack_require__.d(__webpack_exports__,"UrlHandlingStrategy",(function(){return UrlHandlingStrategy})),__webpack_require__.d(__webpack_exports__,"UrlSegment",(function(){return UrlSegment})),__webpack_require__.d(__webpack_exports__,"UrlSegmentGroup",(function(){return UrlSegmentGroup})),__webpack_require__.d(__webpack_exports__,"UrlSerializer",(function(){return UrlSerializer})),__webpack_require__.d(__webpack_exports__,"UrlTree",(function(){return UrlTree})),__webpack_require__.d(__webpack_exports__,"VERSION",(function(){return VERSION})),__webpack_require__.d(__webpack_exports__,"convertToParamMap",(function(){return convertToParamMap})),__webpack_require__.d(__webpack_exports__,"provideRoutes",(function(){return provideRoutes})),__webpack_require__.d(__webpack_exports__,"\u0275EmptyOutletComponent",(function(){return \u0275EmptyOutletComponent})),__webpack_require__.d(__webpack_exports__,"\u0275ROUTER_PROVIDERS",(function(){return ROUTER_PROVIDERS})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_router_router_a",(function(){return ROUTER_FORROOT_GUARD})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_router_router_b",(function(){return routerNgProbeToken})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_router_router_c",(function(){return createRouterScroller})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_router_router_d",(function(){return provideLocationStrategy})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_router_router_e",(function(){return provideForRootGuard})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_router_router_f",(function(){return setupRouter})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_router_router_g",(function(){return rootRoute})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_router_router_h",(function(){return router_RouterInitializer})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_router_router_i",(function(){return getAppInitializer})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_router_router_j",(function(){return getBootstrapListener})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_router_router_k",(function(){return provideRouterInitializer})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_router_router_l",(function(){return \u0275EmptyOutletComponent})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_router_router_m",(function(){return Tree})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_router_router_n",(function(){return TreeNode})),__webpack_require__.d(__webpack_exports__,"\u0275angular_packages_router_router_o",(function(){return RouterScroller})),__webpack_require__.d(__webpack_exports__,"\u0275flatten",(function(){return flatten}));class RouterEvent{constructor(id,url){this.id=id,this.url=url}}class NavigationStart extends RouterEvent{constructor(id,url,navigationTrigger="imperative",restoredState=null){super(id,url),this.navigationTrigger=navigationTrigger,this.restoredState=restoredState}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class NavigationEnd extends RouterEvent{constructor(id,url,urlAfterRedirects){super(id,url),this.urlAfterRedirects=urlAfterRedirects}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class NavigationCancel extends RouterEvent{constructor(id,url,reason){super(id,url),this.reason=reason}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class NavigationError extends RouterEvent{constructor(id,url,error){super(id,url),this.error=error}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class RoutesRecognized extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckStart extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckEnd extends RouterEvent{constructor(id,url,urlAfterRedirects,state,shouldActivate){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state,this.shouldActivate=shouldActivate}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ResolveStart extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ResolveEnd extends RouterEvent{constructor(id,url,urlAfterRedirects,state){super(id,url),this.urlAfterRedirects=urlAfterRedirects,this.state=state}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RouteConfigLoadStart{constructor(route){this.route=route}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class RouteConfigLoadEnd{constructor(route){this.route=route}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ChildActivationStart{constructor(snapshot){this.snapshot=snapshot}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ChildActivationEnd{constructor(snapshot){this.snapshot=snapshot}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ActivationStart{constructor(snapshot){this.snapshot=snapshot}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ActivationEnd{constructor(snapshot){this.snapshot=snapshot}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Scroll{constructor(routerEvent,position,anchor){this.routerEvent=routerEvent,this.position=position,this.anchor=anchor}toString(){const pos=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${pos}')`}}class \u0275EmptyOutletComponent{}\u0275EmptyOutletComponent.\u0275fac=function \u0275EmptyOutletComponent_Factory(t){return new(t||\u0275EmptyOutletComponent)},\u0275EmptyOutletComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:\u0275EmptyOutletComponent,selectors:[["ng-component"]],decls:1,vars:0,template:function \u0275EmptyOutletComponent_Template(rf,ctx){1&rf&&core["\u0275\u0275element"](0,"router-outlet")},directives:function(){return[router_RouterOutlet]},encapsulation:2});const PRIMARY_OUTLET="primary";class ParamsAsMap{constructor(params){this.params=params||{}}has(name){return this.params.hasOwnProperty(name)}get(name){if(this.has(name)){const v=this.params[name];return Array.isArray(v)?v[0]:v}return null}getAll(name){if(this.has(name)){const v=this.params[name];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function convertToParamMap(params){return new ParamsAsMap(params)}function navigationCancelingError(message){const error=Error("NavigationCancelingError: "+message);return error.ngNavigationCancelingError=!0,error}function defaultUrlMatcher(segments,segmentGroup,route){const parts=route.path.split("/");if(parts.length>segments.length)return null;if("full"===route.pathMatch&&(segmentGroup.hasChildren()||parts.length<segments.length))return null;const posParams={};for(let index=0;index<parts.length;index++){const part=parts[index],segment=segments[index];if(part.startsWith(":"))posParams[part.substring(1)]=segment;else if(part!==segment.path)return null}return{consumed:segments.slice(0,parts.length),posParams:posParams}}class LoadedRouterConfig{constructor(routes,module){this.routes=routes,this.module=module}}function validateConfig(config,parentPath=""){for(let i=0;i<config.length;i++){const route=config[i];validateNode(route,getFullPath(parentPath,route))}}function validateNode(route,fullPath){if(!route)throw new Error(`\n      Invalid configuration of route '${fullPath}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(route))throw new Error(`Invalid configuration of route '${fullPath}': Array cannot be specified`);if(!route.component&&!route.children&&!route.loadChildren&&route.outlet&&route.outlet!==PRIMARY_OUTLET)throw new Error(`Invalid configuration of route '${fullPath}': a componentless route without children or loadChildren cannot have a named outlet set`);if(route.redirectTo&&route.children)throw new Error(`Invalid configuration of route '${fullPath}': redirectTo and children cannot be used together`);if(route.redirectTo&&route.loadChildren)throw new Error(`Invalid configuration of route '${fullPath}': redirectTo and loadChildren cannot be used together`);if(route.children&&route.loadChildren)throw new Error(`Invalid configuration of route '${fullPath}': children and loadChildren cannot be used together`);if(route.redirectTo&&route.component)throw new Error(`Invalid configuration of route '${fullPath}': redirectTo and component cannot be used together`);if(route.path&&route.matcher)throw new Error(`Invalid configuration of route '${fullPath}': path and matcher cannot be used together`);if(void 0===route.redirectTo&&!route.component&&!route.children&&!route.loadChildren)throw new Error(`Invalid configuration of route '${fullPath}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===route.path&&void 0===route.matcher)throw new Error(`Invalid configuration of route '${fullPath}': routes must have either a path or a matcher specified`);if("string"==typeof route.path&&"/"===route.path.charAt(0))throw new Error(`Invalid configuration of route '${fullPath}': path cannot start with a slash`);if(""===route.path&&void 0!==route.redirectTo&&void 0===route.pathMatch){const exp="The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.";throw new Error(`Invalid configuration of route '{path: "${fullPath}", redirectTo: "${route.redirectTo}"}': please provide 'pathMatch'. ${exp}`)}if(void 0!==route.pathMatch&&"full"!==route.pathMatch&&"prefix"!==route.pathMatch)throw new Error(`Invalid configuration of route '${fullPath}': pathMatch can only be set to 'prefix' or 'full'`);route.children&&validateConfig(route.children,fullPath)}function getFullPath(parentPath,currentRoute){return currentRoute?parentPath||currentRoute.path?parentPath&&!currentRoute.path?`${parentPath}/`:!parentPath&&currentRoute.path?currentRoute.path:`${parentPath}/${currentRoute.path}`:"":parentPath}function standardizeConfig(r){const children=r.children&&r.children.map(standardizeConfig),c=children?Object.assign(Object.assign({},r),{children:children}):Object.assign({},r);return!c.component&&(children||c.loadChildren)&&c.outlet&&c.outlet!==PRIMARY_OUTLET&&(c.component=\u0275EmptyOutletComponent),c}function shallowEqual(a,b){const k1=Object.keys(a),k2=Object.keys(b);if(!k1||!k2||k1.length!=k2.length)return!1;let key;for(let i=0;i<k1.length;i++)if(key=k1[i],!equalArraysOrString(a[key],b[key]))return!1;return!0}function equalArraysOrString(a,b){return Array.isArray(a)&&Array.isArray(b)?a.length==b.length&&a.every(aItem=>b.indexOf(aItem)>-1):a===b}function flatten(arr){return Array.prototype.concat.apply([],arr)}function router_last(a){return a.length>0?a[a.length-1]:null}function forEach(map,callback){for(const prop in map)map.hasOwnProperty(prop)&&callback(map[prop],prop)}function wrapIntoObservable(value){return Object(core["\u0275isObservable"])(value)?value:Object(core["\u0275isPromise"])(value)?Object(from.a)(Promise.resolve(value)):Object(of.a)(value)}function containsTree(container,containee,exact){return exact?function equalQueryParams(container,containee){return shallowEqual(container,containee)}(container.queryParams,containee.queryParams)&&function equalSegmentGroups(container,containee){if(!equalPath(container.segments,containee.segments))return!1;if(container.numberOfChildren!==containee.numberOfChildren)return!1;for(const c in containee.children){if(!container.children[c])return!1;if(!equalSegmentGroups(container.children[c],containee.children[c]))return!1}return!0}(container.root,containee.root):function containsQueryParams(container,containee){return Object.keys(containee).length<=Object.keys(container).length&&Object.keys(containee).every(key=>equalArraysOrString(container[key],containee[key]))}(container.queryParams,containee.queryParams)&&containsSegmentGroup(container.root,containee.root)}function containsSegmentGroup(container,containee){return function containsSegmentGroupHelper(container,containee,containeePaths){if(container.segments.length>containeePaths.length){return!!equalPath(container.segments.slice(0,containeePaths.length),containeePaths)&&!containee.hasChildren()}if(container.segments.length===containeePaths.length){if(!equalPath(container.segments,containeePaths))return!1;for(const c in containee.children){if(!container.children[c])return!1;if(!containsSegmentGroup(container.children[c],containee.children[c]))return!1}return!0}{const current=containeePaths.slice(0,container.segments.length),next=containeePaths.slice(container.segments.length);return!!equalPath(container.segments,current)&&(!!container.children[PRIMARY_OUTLET]&&containsSegmentGroupHelper(container.children[PRIMARY_OUTLET],containee,next))}}(container,containee,containee.segments)}class UrlTree{constructor(root,queryParams,fragment){this.root=root,this.queryParams=queryParams,this.fragment=fragment}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap}toString(){return DEFAULT_SERIALIZER.serialize(this)}}class UrlSegmentGroup{constructor(segments,children){this.segments=segments,this.children=children,this.parent=null,forEach(children,(v,k)=>v.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return serializePaths(this)}}class UrlSegment{constructor(path,parameters){this.path=path,this.parameters=parameters}get parameterMap(){return this._parameterMap||(this._parameterMap=convertToParamMap(this.parameters)),this._parameterMap}toString(){return serializePath(this)}}function equalPath(as,bs){return as.length===bs.length&&as.every((a,i)=>a.path===bs[i].path)}function mapChildrenIntoArray(segment,fn){let res=[];return forEach(segment.children,(child,childOutlet)=>{childOutlet===PRIMARY_OUTLET&&(res=res.concat(fn(child,childOutlet)))}),forEach(segment.children,(child,childOutlet)=>{childOutlet!==PRIMARY_OUTLET&&(res=res.concat(fn(child,childOutlet)))}),res}class UrlSerializer{}class DefaultUrlSerializer{parse(url){const p=new UrlParser(url);return new UrlTree(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())}serialize(tree){return`${`/${function serializeSegment(segment,root){if(!segment.hasChildren())return serializePaths(segment);if(root){const primary=segment.children[PRIMARY_OUTLET]?serializeSegment(segment.children[PRIMARY_OUTLET],!1):"",children=[];return forEach(segment.children,(v,k)=>{k!==PRIMARY_OUTLET&&children.push(`${k}:${serializeSegment(v,!1)}`)}),children.length>0?`${primary}(${children.join("//")})`:primary}{const children=mapChildrenIntoArray(segment,(v,k)=>k===PRIMARY_OUTLET?[serializeSegment(segment.children[PRIMARY_OUTLET],!1)]:[`${k}:${serializeSegment(v,!1)}`]);return`${serializePaths(segment)}/(${children.join("//")})`}}(tree.root,!0)}`}${function serializeQueryParams(params){const strParams=Object.keys(params).map(name=>{const value=params[name];return Array.isArray(value)?value.map(v=>`${encodeUriQuery(name)}=${encodeUriQuery(v)}`).join("&"):`${encodeUriQuery(name)}=${encodeUriQuery(value)}`});return strParams.length?`?${strParams.join("&")}`:""}(tree.queryParams)}${"string"==typeof tree.fragment?`#${function encodeUriFragment(s){return encodeURI(s)}(tree.fragment)}`:""}`}}const DEFAULT_SERIALIZER=new DefaultUrlSerializer;function serializePaths(segment){return segment.segments.map(p=>serializePath(p)).join("/")}function encodeUriString(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function encodeUriQuery(s){return encodeUriString(s).replace(/%3B/gi,";")}function encodeUriSegment(s){return encodeUriString(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function decode(s){return decodeURIComponent(s)}function decodeQuery(s){return decode(s.replace(/\+/g,"%20"))}function serializePath(path){return`${encodeUriSegment(path.path)}${function serializeMatrixParams(params){return Object.keys(params).map(key=>`;${encodeUriSegment(key)}=${encodeUriSegment(params[key])}`).join("")}(path.parameters)}`}const SEGMENT_RE=/^[^\/()?;=#]+/;function matchSegments(str){const match=str.match(SEGMENT_RE);return match?match[0]:""}const QUERY_PARAM_RE=/^[^=?&#]+/;const QUERY_PARAM_VALUE_RE=/^[^?&#]+/;class UrlParser{constructor(url){this.url=url,this.remaining=url}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new UrlSegmentGroup([],{}):new UrlSegmentGroup([],this.parseChildren())}parseQueryParams(){const params={};if(this.consumeOptional("?"))do{this.parseQueryParam(params)}while(this.consumeOptional("&"));return params}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const segments=[];for(this.peekStartsWith("(")||segments.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),segments.push(this.parseSegment());let children={};this.peekStartsWith("/(")&&(this.capture("/"),children=this.parseParens(!0));let res={};return this.peekStartsWith("(")&&(res=this.parseParens(!1)),(segments.length>0||Object.keys(children).length>0)&&(res[PRIMARY_OUTLET]=new UrlSegmentGroup(segments,children)),res}parseSegment(){const path=matchSegments(this.remaining);if(""===path&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(path),new UrlSegment(decode(path),this.parseMatrixParams())}parseMatrixParams(){const params={};for(;this.consumeOptional(";");)this.parseParam(params);return params}parseParam(params){const key=matchSegments(this.remaining);if(!key)return;this.capture(key);let value="";if(this.consumeOptional("=")){const valueMatch=matchSegments(this.remaining);valueMatch&&(value=valueMatch,this.capture(value))}params[decode(key)]=decode(value)}parseQueryParam(params){const key=function matchQueryParams(str){const match=str.match(QUERY_PARAM_RE);return match?match[0]:""}(this.remaining);if(!key)return;this.capture(key);let value="";if(this.consumeOptional("=")){const valueMatch=function matchUrlQueryParamValue(str){const match=str.match(QUERY_PARAM_VALUE_RE);return match?match[0]:""}(this.remaining);valueMatch&&(value=valueMatch,this.capture(value))}const decodedKey=decodeQuery(key),decodedVal=decodeQuery(value);if(params.hasOwnProperty(decodedKey)){let currentVal=params[decodedKey];Array.isArray(currentVal)||(currentVal=[currentVal],params[decodedKey]=currentVal),currentVal.push(decodedVal)}else params[decodedKey]=decodedVal}parseParens(allowPrimary){const segments={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const path=matchSegments(this.remaining),next=this.remaining[path.length];if("/"!==next&&")"!==next&&";"!==next)throw new Error(`Cannot parse url '${this.url}'`);let outletName=void 0;path.indexOf(":")>-1?(outletName=path.substr(0,path.indexOf(":")),this.capture(outletName),this.capture(":")):allowPrimary&&(outletName=PRIMARY_OUTLET);const children=this.parseChildren();segments[outletName]=1===Object.keys(children).length?children[PRIMARY_OUTLET]:new UrlSegmentGroup([],children),this.consumeOptional("//")}return segments}peekStartsWith(str){return this.remaining.startsWith(str)}consumeOptional(str){return!!this.peekStartsWith(str)&&(this.remaining=this.remaining.substring(str.length),!0)}capture(str){if(!this.consumeOptional(str))throw new Error(`Expected "${str}".`)}}class Tree{constructor(root){this._root=root}get root(){return this._root.value}parent(t){const p=this.pathFromRoot(t);return p.length>1?p[p.length-2]:null}children(t){const n=findNode(t,this._root);return n?n.children.map(t=>t.value):[]}firstChild(t){const n=findNode(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const p=findPath(t,this._root);return p.length<2?[]:p[p.length-2].children.map(c=>c.value).filter(cc=>cc!==t)}pathFromRoot(t){return findPath(t,this._root).map(s=>s.value)}}function findNode(value,node){if(value===node.value)return node;for(const child of node.children){const node=findNode(value,child);if(node)return node}return null}function findPath(value,node){if(value===node.value)return[node];for(const child of node.children){const path=findPath(value,child);if(path.length)return path.unshift(node),path}return[]}class TreeNode{constructor(value,children){this.value=value,this.children=children}toString(){return`TreeNode(${this.value})`}}function nodeChildrenAsMap(node){const map={};return node&&node.children.forEach(child=>map[child.value.outlet]=child),map}class RouterState extends Tree{constructor(root,snapshot){super(root),this.snapshot=snapshot,setRouterState(this,root)}toString(){return this.snapshot.toString()}}function createEmptyState(urlTree,rootComponent){const snapshot=function createEmptyStateSnapshot(urlTree,rootComponent){const activated=new ActivatedRouteSnapshot([],{},{},"",{},PRIMARY_OUTLET,rootComponent,null,urlTree.root,-1,{});return new RouterStateSnapshot("",new TreeNode(activated,[]))}(urlTree,rootComponent),emptyUrl=new BehaviorSubject_BehaviorSubject([new UrlSegment("",{})]),emptyParams=new BehaviorSubject_BehaviorSubject({}),emptyData=new BehaviorSubject_BehaviorSubject({}),emptyQueryParams=new BehaviorSubject_BehaviorSubject({}),fragment=new BehaviorSubject_BehaviorSubject(""),activated=new router_ActivatedRoute(emptyUrl,emptyParams,emptyQueryParams,fragment,emptyData,PRIMARY_OUTLET,rootComponent,snapshot.root);return activated.snapshot=snapshot.root,new RouterState(new TreeNode(activated,[]),snapshot)}class router_ActivatedRoute{constructor(url,params,queryParams,fragment,data,outlet,component,futureSnapshot){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this._futureSnapshot=futureSnapshot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(map.a)(p=>convertToParamMap(p)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(map.a)(p=>convertToParamMap(p)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function inheritedParamsDataResolve(route,paramsInheritanceStrategy="emptyOnly"){const pathFromRoot=route.pathFromRoot;let inheritingStartingFrom=0;if("always"!==paramsInheritanceStrategy)for(inheritingStartingFrom=pathFromRoot.length-1;inheritingStartingFrom>=1;){const current=pathFromRoot[inheritingStartingFrom],parent=pathFromRoot[inheritingStartingFrom-1];if(current.routeConfig&&""===current.routeConfig.path)inheritingStartingFrom--;else{if(parent.component)break;inheritingStartingFrom--}}return function flattenInherited(pathFromRoot){return pathFromRoot.reduce((res,curr)=>({params:Object.assign(Object.assign({},res.params),curr.params),data:Object.assign(Object.assign({},res.data),curr.data),resolve:Object.assign(Object.assign({},res.resolve),curr._resolvedData)}),{params:{},data:{},resolve:{}})}(pathFromRoot.slice(inheritingStartingFrom))}class ActivatedRouteSnapshot{constructor(url,params,queryParams,fragment,data,outlet,component,routeConfig,urlSegment,lastPathIndex,resolve){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this.routeConfig=routeConfig,this._urlSegment=urlSegment,this._lastPathIndex=lastPathIndex,this._resolve=resolve}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=convertToParamMap(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(segment=>segment.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RouterStateSnapshot extends Tree{constructor(url,root){super(root),this.url=url,setRouterState(this,root)}toString(){return serializeNode(this._root)}}function setRouterState(state,node){node.value._routerState=state,node.children.forEach(c=>setRouterState(state,c))}function serializeNode(node){const c=node.children.length>0?` { ${node.children.map(serializeNode).join(", ")} } `:"";return`${node.value}${c}`}function advanceActivatedRoute(route){if(route.snapshot){const currentSnapshot=route.snapshot,nextSnapshot=route._futureSnapshot;route.snapshot=nextSnapshot,shallowEqual(currentSnapshot.queryParams,nextSnapshot.queryParams)||route.queryParams.next(nextSnapshot.queryParams),currentSnapshot.fragment!==nextSnapshot.fragment&&route.fragment.next(nextSnapshot.fragment),shallowEqual(currentSnapshot.params,nextSnapshot.params)||route.params.next(nextSnapshot.params),function shallowEqualArrays(a,b){if(a.length!==b.length)return!1;for(let i=0;i<a.length;++i)if(!shallowEqual(a[i],b[i]))return!1;return!0}(currentSnapshot.url,nextSnapshot.url)||route.url.next(nextSnapshot.url),shallowEqual(currentSnapshot.data,nextSnapshot.data)||route.data.next(nextSnapshot.data)}else route.snapshot=route._futureSnapshot,route.data.next(route._futureSnapshot.data)}function equalParamsAndUrlSegments(a,b){const equalUrlParams=shallowEqual(a.params,b.params)&&function equalSegments(as,bs){return equalPath(as,bs)&&as.every((a,i)=>shallowEqual(a.parameters,bs[i].parameters))}(a.url,b.url),parentsMismatch=!a.parent!=!b.parent;return equalUrlParams&&!parentsMismatch&&(!a.parent||equalParamsAndUrlSegments(a.parent,b.parent))}function createNode(routeReuseStrategy,curr,prevState){if(prevState&&routeReuseStrategy.shouldReuseRoute(curr.value,prevState.value.snapshot)){const value=prevState.value;value._futureSnapshot=curr.value;const children=function createOrReuseChildren(routeReuseStrategy,curr,prevState){return curr.children.map(child=>{for(const p of prevState.children)if(routeReuseStrategy.shouldReuseRoute(p.value.snapshot,child.value))return createNode(routeReuseStrategy,child,p);return createNode(routeReuseStrategy,child)})}(routeReuseStrategy,curr,prevState);return new TreeNode(value,children)}{const detachedRouteHandle=routeReuseStrategy.retrieve(curr.value);if(detachedRouteHandle){const tree=detachedRouteHandle.route;return function setFutureSnapshotsOfActivatedRoutes(curr,result){if(curr.value.routeConfig!==result.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(curr.children.length!==result.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");result.value._futureSnapshot=curr.value;for(let i=0;i<curr.children.length;++i)setFutureSnapshotsOfActivatedRoutes(curr.children[i],result.children[i])}(curr,tree),tree}{const value=function createActivatedRoute(c){return new router_ActivatedRoute(new BehaviorSubject_BehaviorSubject(c.url),new BehaviorSubject_BehaviorSubject(c.params),new BehaviorSubject_BehaviorSubject(c.queryParams),new BehaviorSubject_BehaviorSubject(c.fragment),new BehaviorSubject_BehaviorSubject(c.data),c.outlet,c.component,c)}(curr.value),children=curr.children.map(c=>createNode(routeReuseStrategy,c));return new TreeNode(value,children)}}}function createUrlTree(route,urlTree,commands,queryParams,fragment){if(0===commands.length)return router_tree(urlTree.root,urlTree.root,urlTree,queryParams,fragment);const nav=function computeNavigation(commands){if("string"==typeof commands[0]&&1===commands.length&&"/"===commands[0])return new Navigation(!0,0,commands);let numberOfDoubleDots=0,isAbsolute=!1;const res=commands.reduce((res,cmd,cmdIdx)=>{if("object"==typeof cmd&&null!=cmd){if(cmd.outlets){const outlets={};return forEach(cmd.outlets,(commands,name)=>{outlets[name]="string"==typeof commands?commands.split("/"):commands}),[...res,{outlets:outlets}]}if(cmd.segmentPath)return[...res,cmd.segmentPath]}return"string"!=typeof cmd?[...res,cmd]:0===cmdIdx?(cmd.split("/").forEach((urlPart,partIndex)=>{0==partIndex&&"."===urlPart||(0==partIndex&&""===urlPart?isAbsolute=!0:".."===urlPart?numberOfDoubleDots++:""!=urlPart&&res.push(urlPart))}),res):[...res,cmd]},[]);return new Navigation(isAbsolute,numberOfDoubleDots,res)}(commands);if(nav.toRoot())return router_tree(urlTree.root,new UrlSegmentGroup([],{}),urlTree,queryParams,fragment);const startingPosition=function findStartingPosition(nav,tree,route){if(nav.isAbsolute)return new Position(tree.root,!0,0);if(-1===route.snapshot._lastPathIndex)return new Position(route.snapshot._urlSegment,!0,0);const modifier=isMatrixParams(nav.commands[0])?0:1,index=route.snapshot._lastPathIndex+modifier;return function createPositionApplyingDoubleDots(group,index,numberOfDoubleDots){let g=group,ci=index,dd=numberOfDoubleDots;for(;dd>ci;){if(dd-=ci,g=g.parent,!g)throw new Error("Invalid number of '../'");ci=g.segments.length}return new Position(g,!1,ci-dd)}(route.snapshot._urlSegment,index,nav.numberOfDoubleDots)}(nav,urlTree,route),segmentGroup=startingPosition.processChildren?updateSegmentGroupChildren(startingPosition.segmentGroup,startingPosition.index,nav.commands):updateSegmentGroup(startingPosition.segmentGroup,startingPosition.index,nav.commands);return router_tree(startingPosition.segmentGroup,segmentGroup,urlTree,queryParams,fragment)}function isMatrixParams(command){return"object"==typeof command&&null!=command&&!command.outlets&&!command.segmentPath}function router_tree(oldSegmentGroup,newSegmentGroup,urlTree,queryParams,fragment){let qp={};return queryParams&&forEach(queryParams,(value,name)=>{qp[name]=Array.isArray(value)?value.map(v=>`${v}`):`${value}`}),urlTree.root===oldSegmentGroup?new UrlTree(newSegmentGroup,qp,fragment):new UrlTree(function replaceSegment(current,oldSegment,newSegment){const children={};return forEach(current.children,(c,outletName)=>{children[outletName]=c===oldSegment?newSegment:replaceSegment(c,oldSegment,newSegment)}),new UrlSegmentGroup(current.segments,children)}(urlTree.root,oldSegmentGroup,newSegmentGroup),qp,fragment)}class Navigation{constructor(isAbsolute,numberOfDoubleDots,commands){if(this.isAbsolute=isAbsolute,this.numberOfDoubleDots=numberOfDoubleDots,this.commands=commands,isAbsolute&&commands.length>0&&isMatrixParams(commands[0]))throw new Error("Root segment cannot have matrix parameters");const cmdWithOutlet=commands.find(c=>"object"==typeof c&&null!=c&&c.outlets);if(cmdWithOutlet&&cmdWithOutlet!==router_last(commands))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Position{constructor(segmentGroup,processChildren,index){this.segmentGroup=segmentGroup,this.processChildren=processChildren,this.index=index}}function getPath(command){return"object"==typeof command&&null!=command&&command.outlets?command.outlets[PRIMARY_OUTLET]:`${command}`}function updateSegmentGroup(segmentGroup,startIndex,commands){if(segmentGroup||(segmentGroup=new UrlSegmentGroup([],{})),0===segmentGroup.segments.length&&segmentGroup.hasChildren())return updateSegmentGroupChildren(segmentGroup,startIndex,commands);const m=function prefixedWith(segmentGroup,startIndex,commands){let currentCommandIndex=0,currentPathIndex=startIndex;const noMatch={match:!1,pathIndex:0,commandIndex:0};for(;currentPathIndex<segmentGroup.segments.length;){if(currentCommandIndex>=commands.length)return noMatch;const path=segmentGroup.segments[currentPathIndex],curr=getPath(commands[currentCommandIndex]),next=currentCommandIndex<commands.length-1?commands[currentCommandIndex+1]:null;if(currentPathIndex>0&&void 0===curr)break;if(curr&&next&&"object"==typeof next&&void 0===next.outlets){if(!compare(curr,next,path))return noMatch;currentCommandIndex+=2}else{if(!compare(curr,{},path))return noMatch;currentCommandIndex++}currentPathIndex++}return{match:!0,pathIndex:currentPathIndex,commandIndex:currentCommandIndex}}(segmentGroup,startIndex,commands),slicedCommands=commands.slice(m.commandIndex);if(m.match&&m.pathIndex<segmentGroup.segments.length){const g=new UrlSegmentGroup(segmentGroup.segments.slice(0,m.pathIndex),{});return g.children[PRIMARY_OUTLET]=new UrlSegmentGroup(segmentGroup.segments.slice(m.pathIndex),segmentGroup.children),updateSegmentGroupChildren(g,0,slicedCommands)}return m.match&&0===slicedCommands.length?new UrlSegmentGroup(segmentGroup.segments,{}):m.match&&!segmentGroup.hasChildren()?createNewSegmentGroup(segmentGroup,startIndex,commands):m.match?updateSegmentGroupChildren(segmentGroup,0,slicedCommands):createNewSegmentGroup(segmentGroup,startIndex,commands)}function updateSegmentGroupChildren(segmentGroup,startIndex,commands){if(0===commands.length)return new UrlSegmentGroup(segmentGroup.segments,{});{const outlets=function getOutlets(commands){return"object"!=typeof commands[0]?{[PRIMARY_OUTLET]:commands}:void 0===commands[0].outlets?{[PRIMARY_OUTLET]:commands}:commands[0].outlets}(commands),children={};return forEach(outlets,(commands,outlet)=>{null!==commands&&(children[outlet]=updateSegmentGroup(segmentGroup.children[outlet],startIndex,commands))}),forEach(segmentGroup.children,(child,childOutlet)=>{void 0===outlets[childOutlet]&&(children[childOutlet]=child)}),new UrlSegmentGroup(segmentGroup.segments,children)}}function createNewSegmentGroup(segmentGroup,startIndex,commands){const paths=segmentGroup.segments.slice(0,startIndex);let i=0;for(;i<commands.length;){if("object"==typeof commands[i]&&void 0!==commands[i].outlets){const children=createNewSegmentChildren(commands[i].outlets);return new UrlSegmentGroup(paths,children)}if(0===i&&isMatrixParams(commands[0])){const p=segmentGroup.segments[startIndex];paths.push(new UrlSegment(p.path,commands[0])),i++;continue}const curr=getPath(commands[i]),next=i<commands.length-1?commands[i+1]:null;curr&&next&&isMatrixParams(next)?(paths.push(new UrlSegment(curr,stringify(next))),i+=2):(paths.push(new UrlSegment(curr,{})),i++)}return new UrlSegmentGroup(paths,{})}function createNewSegmentChildren(outlets){const children={};return forEach(outlets,(commands,outlet)=>{null!==commands&&(children[outlet]=createNewSegmentGroup(new UrlSegmentGroup([],{}),0,commands))}),children}function stringify(params){const res={};return forEach(params,(v,k)=>res[k]=`${v}`),res}function compare(path,params,segment){return path==segment.path&&shallowEqual(params,segment.parameters)}class ActivateRoutes{constructor(routeReuseStrategy,futureState,currState,forwardEvent){this.routeReuseStrategy=routeReuseStrategy,this.futureState=futureState,this.currState=currState,this.forwardEvent=forwardEvent}activate(parentContexts){const futureRoot=this.futureState._root,currRoot=this.currState?this.currState._root:null;this.deactivateChildRoutes(futureRoot,currRoot,parentContexts),advanceActivatedRoute(this.futureState.root),this.activateChildRoutes(futureRoot,currRoot,parentContexts)}deactivateChildRoutes(futureNode,currNode,contexts){const children=nodeChildrenAsMap(currNode);futureNode.children.forEach(futureChild=>{const childOutletName=futureChild.value.outlet;this.deactivateRoutes(futureChild,children[childOutletName],contexts),delete children[childOutletName]}),forEach(children,(v,childName)=>{this.deactivateRouteAndItsChildren(v,contexts)})}deactivateRoutes(futureNode,currNode,parentContext){const future=futureNode.value,curr=currNode?currNode.value:null;if(future===curr)if(future.component){const context=parentContext.getContext(future.outlet);context&&this.deactivateChildRoutes(futureNode,currNode,context.children)}else this.deactivateChildRoutes(futureNode,currNode,parentContext);else curr&&this.deactivateRouteAndItsChildren(currNode,parentContext)}deactivateRouteAndItsChildren(route,parentContexts){this.routeReuseStrategy.shouldDetach(route.value.snapshot)?this.detachAndStoreRouteSubtree(route,parentContexts):this.deactivateRouteAndOutlet(route,parentContexts)}detachAndStoreRouteSubtree(route,parentContexts){const context=parentContexts.getContext(route.value.outlet);if(context&&context.outlet){const componentRef=context.outlet.detach(),contexts=context.children.onOutletDeactivated();this.routeReuseStrategy.store(route.value.snapshot,{componentRef:componentRef,route:route,contexts:contexts})}}deactivateRouteAndOutlet(route,parentContexts){const context=parentContexts.getContext(route.value.outlet);if(context){const children=nodeChildrenAsMap(route),contexts=route.value.component?context.children:parentContexts;forEach(children,(v,k)=>this.deactivateRouteAndItsChildren(v,contexts)),context.outlet&&(context.outlet.deactivate(),context.children.onOutletDeactivated())}}activateChildRoutes(futureNode,currNode,contexts){const children=nodeChildrenAsMap(currNode);futureNode.children.forEach(c=>{this.activateRoutes(c,children[c.value.outlet],contexts),this.forwardEvent(new ActivationEnd(c.value.snapshot))}),futureNode.children.length&&this.forwardEvent(new ChildActivationEnd(futureNode.value.snapshot))}activateRoutes(futureNode,currNode,parentContexts){const future=futureNode.value,curr=currNode?currNode.value:null;if(advanceActivatedRoute(future),future===curr)if(future.component){const context=parentContexts.getOrCreateContext(future.outlet);this.activateChildRoutes(futureNode,currNode,context.children)}else this.activateChildRoutes(futureNode,currNode,parentContexts);else if(future.component){const context=parentContexts.getOrCreateContext(future.outlet);if(this.routeReuseStrategy.shouldAttach(future.snapshot)){const stored=this.routeReuseStrategy.retrieve(future.snapshot);this.routeReuseStrategy.store(future.snapshot,null),context.children.onOutletReAttached(stored.contexts),context.attachRef=stored.componentRef,context.route=stored.route.value,context.outlet&&context.outlet.attach(stored.componentRef,stored.route.value),advanceActivatedRouteNodeAndItsChildren(stored.route)}else{const config=function parentLoadedConfig(snapshot){for(let s=snapshot.parent;s;s=s.parent){const route=s.routeConfig;if(route&&route._loadedConfig)return route._loadedConfig;if(route&&route.component)return null}return null}(future.snapshot),cmpFactoryResolver=config?config.module.componentFactoryResolver:null;context.attachRef=null,context.route=future,context.resolver=cmpFactoryResolver,context.outlet&&context.outlet.activateWith(future,cmpFactoryResolver),this.activateChildRoutes(futureNode,null,context.children)}}else this.activateChildRoutes(futureNode,null,parentContexts)}}function advanceActivatedRouteNodeAndItsChildren(node){advanceActivatedRoute(node.value),node.children.forEach(advanceActivatedRouteNodeAndItsChildren)}function router_isFunction(v){return"function"==typeof v}function isUrlTree(v){return v instanceof UrlTree}class NoMatch{constructor(segmentGroup){this.segmentGroup=segmentGroup||null}}class AbsoluteRedirect{constructor(urlTree){this.urlTree=urlTree}}function noMatch(segmentGroup){return new Observable.a(obs=>obs.error(new NoMatch(segmentGroup)))}function absoluteRedirect(newTree){return new Observable.a(obs=>obs.error(new AbsoluteRedirect(newTree)))}function namedOutletsRedirect(redirectTo){return new Observable.a(obs=>obs.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${redirectTo}'`)))}class router_ApplyRedirects{constructor(moduleInjector,configLoader,urlSerializer,urlTree,config){this.configLoader=configLoader,this.urlSerializer=urlSerializer,this.urlTree=urlTree,this.config=config,this.allowRedirects=!0,this.ngModule=moduleInjector.get(core.NgModuleRef)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,PRIMARY_OUTLET).pipe(Object(map.a)(rootSegmentGroup=>this.createUrlTree(rootSegmentGroup,this.urlTree.queryParams,this.urlTree.fragment))).pipe(catchError(e=>{if(e instanceof AbsoluteRedirect)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof NoMatch)throw this.noMatchError(e);throw e}))}match(tree){return this.expandSegmentGroup(this.ngModule,this.config,tree.root,PRIMARY_OUTLET).pipe(Object(map.a)(rootSegmentGroup=>this.createUrlTree(rootSegmentGroup,tree.queryParams,tree.fragment))).pipe(catchError(e=>{if(e instanceof NoMatch)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(rootCandidate,queryParams,fragment){const root=rootCandidate.segments.length>0?new UrlSegmentGroup([],{[PRIMARY_OUTLET]:rootCandidate}):rootCandidate;return new UrlTree(root,queryParams,fragment)}expandSegmentGroup(ngModule,routes,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.expandChildren(ngModule,routes,segmentGroup).pipe(Object(map.a)(children=>new UrlSegmentGroup([],children))):this.expandSegment(ngModule,segmentGroup,routes,segmentGroup.segments,outlet,!0)}expandChildren(ngModule,routes,segmentGroup){return function waitForMap(obj,fn){if(0===Object.keys(obj).length)return Object(of.a)({});const waitHead=[],waitTail=[],res={};return forEach(obj,(a,k)=>{const mapped=fn(k,a).pipe(Object(map.a)(r=>res[k]=r));k===PRIMARY_OUTLET?waitHead.push(mapped):waitTail.push(mapped)}),of.a.apply(null,waitHead.concat(waitTail)).pipe(concatAll(),last(),Object(map.a)(()=>res))}(segmentGroup.children,(childOutlet,child)=>this.expandSegmentGroup(ngModule,routes,child,childOutlet))}expandSegment(ngModule,segmentGroup,routes,segments,outlet,allowRedirects){return Object(of.a)(...routes).pipe(Object(map.a)(r=>this.expandSegmentAgainstRoute(ngModule,segmentGroup,routes,r,segments,outlet,allowRedirects).pipe(catchError(e=>{if(e instanceof NoMatch)return Object(of.a)(null);throw e}))),concatAll(),Object(first.a)(s=>!!s),catchError((e,_)=>{if(e instanceof EmptyError.a||"EmptyError"===e.name){if(this.noLeftoversInUrl(segmentGroup,segments,outlet))return Object(of.a)(new UrlSegmentGroup([],{}));throw new NoMatch(segmentGroup)}throw e}))}noLeftoversInUrl(segmentGroup,segments,outlet){return 0===segments.length&&!segmentGroup.children[outlet]}expandSegmentAgainstRoute(ngModule,segmentGroup,routes,route,paths,outlet,allowRedirects){return getOutlet(route)!==outlet?noMatch(segmentGroup):void 0===route.redirectTo?this.matchSegmentAgainstRoute(ngModule,segmentGroup,route,paths):allowRedirects&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,paths,outlet):noMatch(segmentGroup)}expandSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet){return"**"===route.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(ngModule,routes,route,outlet):this.expandRegularSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet)}expandWildCardWithParamsAgainstRouteUsingRedirect(ngModule,routes,route,outlet){const newTree=this.applyRedirectCommands([],route.redirectTo,{});return route.redirectTo.startsWith("/")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(Object(mergeMap.a)(newSegments=>{const group=new UrlSegmentGroup(newSegments,{});return this.expandSegment(ngModule,group,routes,newSegments,outlet,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet){const{matched:matched,consumedSegments:consumedSegments,lastChild:lastChild,positionalParamSegments:positionalParamSegments}=match(segmentGroup,route,segments);if(!matched)return noMatch(segmentGroup);const newTree=this.applyRedirectCommands(consumedSegments,route.redirectTo,positionalParamSegments);return route.redirectTo.startsWith("/")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(Object(mergeMap.a)(newSegments=>this.expandSegment(ngModule,segmentGroup,routes,newSegments.concat(segments.slice(lastChild)),outlet,!1)))}matchSegmentAgainstRoute(ngModule,rawSegmentGroup,route,segments){if("**"===route.path)return route.loadChildren?this.configLoader.load(ngModule.injector,route).pipe(Object(map.a)(cfg=>(route._loadedConfig=cfg,new UrlSegmentGroup(segments,{})))):Object(of.a)(new UrlSegmentGroup(segments,{}));const{matched:matched,consumedSegments:consumedSegments,lastChild:lastChild}=match(rawSegmentGroup,route,segments);if(!matched)return noMatch(rawSegmentGroup);const rawSlicedSegments=segments.slice(lastChild);return this.getChildConfig(ngModule,route,segments).pipe(Object(mergeMap.a)(routerConfig=>{const childModule=routerConfig.module,childConfig=routerConfig.routes,{segmentGroup:segmentGroup,slicedSegments:slicedSegments}=function split(segmentGroup,consumedSegments,slicedSegments,config){if(slicedSegments.length>0&&function containsEmptyPathRedirectsWithNamedOutlets(segmentGroup,segments,routes){return routes.some(r=>isEmptyPathRedirect(segmentGroup,segments,r)&&getOutlet(r)!==PRIMARY_OUTLET)}(segmentGroup,slicedSegments,config)){return{segmentGroup:mergeTrivialChildren(new UrlSegmentGroup(consumedSegments,function createChildrenForEmptySegments(routes,primarySegmentGroup){const res={};res[PRIMARY_OUTLET]=primarySegmentGroup;for(const r of routes)""===r.path&&getOutlet(r)!==PRIMARY_OUTLET&&(res[getOutlet(r)]=new UrlSegmentGroup([],{}));return res}(config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)))),slicedSegments:[]}}if(0===slicedSegments.length&&function containsEmptyPathRedirects(segmentGroup,segments,routes){return routes.some(r=>isEmptyPathRedirect(segmentGroup,segments,r))}(segmentGroup,slicedSegments,config)){return{segmentGroup:mergeTrivialChildren(new UrlSegmentGroup(segmentGroup.segments,function addEmptySegmentsToChildrenIfNeeded(segmentGroup,slicedSegments,routes,children){const res={};for(const r of routes)isEmptyPathRedirect(segmentGroup,slicedSegments,r)&&!children[getOutlet(r)]&&(res[getOutlet(r)]=new UrlSegmentGroup([],{}));return Object.assign(Object.assign({},children),res)}(segmentGroup,slicedSegments,config,segmentGroup.children))),slicedSegments:slicedSegments}}return{segmentGroup:segmentGroup,slicedSegments:slicedSegments}}(rawSegmentGroup,consumedSegments,rawSlicedSegments,childConfig);if(0===slicedSegments.length&&segmentGroup.hasChildren()){return this.expandChildren(childModule,childConfig,segmentGroup).pipe(Object(map.a)(children=>new UrlSegmentGroup(consumedSegments,children)))}return 0===childConfig.length&&0===slicedSegments.length?Object(of.a)(new UrlSegmentGroup(consumedSegments,{})):this.expandSegment(childModule,segmentGroup,childConfig,slicedSegments,PRIMARY_OUTLET,!0).pipe(Object(map.a)(cs=>new UrlSegmentGroup(consumedSegments.concat(cs.segments),cs.children)))}))}getChildConfig(ngModule,route,segments){return route.children?Object(of.a)(new LoadedRouterConfig(route.children,ngModule)):route.loadChildren?void 0!==route._loadedConfig?Object(of.a)(route._loadedConfig):function runCanLoadGuard(moduleInjector,route,segments){const canLoad=route.canLoad;return canLoad&&0!==canLoad.length?Object(from.a)(canLoad).pipe(Object(map.a)(injectionToken=>{const guard=moduleInjector.get(injectionToken);let guardVal;if(function isCanLoad(guard){return guard&&router_isFunction(guard.canLoad)}(guard))guardVal=guard.canLoad(route,segments);else{if(!router_isFunction(guard))throw new Error("Invalid CanLoad guard");guardVal=guard(route,segments)}return wrapIntoObservable(guardVal)})).pipe(concatAll(),function every(predicate,thisArg){return source=>source.lift(new EveryOperator(predicate,thisArg,source))}(result=>!0===result)):Object(of.a)(!0)}(ngModule.injector,route,segments).pipe(Object(mergeMap.a)(shouldLoad=>shouldLoad?this.configLoader.load(ngModule.injector,route).pipe(Object(map.a)(cfg=>(route._loadedConfig=cfg,cfg))):function canLoadFails(route){return new Observable.a(obs=>obs.error(navigationCancelingError(`Cannot load children because the guard of the route "path: '${route.path}'" returned false`)))}(route))):Object(of.a)(new LoadedRouterConfig([],ngModule))}lineralizeSegments(route,urlTree){let res=[],c=urlTree.root;for(;;){if(res=res.concat(c.segments),0===c.numberOfChildren)return Object(of.a)(res);if(c.numberOfChildren>1||!c.children[PRIMARY_OUTLET])return namedOutletsRedirect(route.redirectTo);c=c.children[PRIMARY_OUTLET]}}applyRedirectCommands(segments,redirectTo,posParams){return this.applyRedirectCreatreUrlTree(redirectTo,this.urlSerializer.parse(redirectTo),segments,posParams)}applyRedirectCreatreUrlTree(redirectTo,urlTree,segments,posParams){const newRoot=this.createSegmentGroup(redirectTo,urlTree.root,segments,posParams);return new UrlTree(newRoot,this.createQueryParams(urlTree.queryParams,this.urlTree.queryParams),urlTree.fragment)}createQueryParams(redirectToParams,actualParams){const res={};return forEach(redirectToParams,(v,k)=>{if("string"==typeof v&&v.startsWith(":")){const sourceName=v.substring(1);res[k]=actualParams[sourceName]}else res[k]=v}),res}createSegmentGroup(redirectTo,group,segments,posParams){const updatedSegments=this.createSegments(redirectTo,group.segments,segments,posParams);let children={};return forEach(group.children,(child,name)=>{children[name]=this.createSegmentGroup(redirectTo,child,segments,posParams)}),new UrlSegmentGroup(updatedSegments,children)}createSegments(redirectTo,redirectToSegments,actualSegments,posParams){return redirectToSegments.map(s=>s.path.startsWith(":")?this.findPosParam(redirectTo,s,posParams):this.findOrReturn(s,actualSegments))}findPosParam(redirectTo,redirectToUrlSegment,posParams){const pos=posParams[redirectToUrlSegment.path.substring(1)];if(!pos)throw new Error(`Cannot redirect to '${redirectTo}'. Cannot find '${redirectToUrlSegment.path}'.`);return pos}findOrReturn(redirectToUrlSegment,actualSegments){let idx=0;for(const s of actualSegments){if(s.path===redirectToUrlSegment.path)return actualSegments.splice(idx),s;idx++}return redirectToUrlSegment}}function match(segmentGroup,route,segments){if(""===route.path)return"full"===route.pathMatch&&(segmentGroup.hasChildren()||segments.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const res=(route.matcher||defaultUrlMatcher)(segments,segmentGroup,route);return res?{matched:!0,consumedSegments:res.consumed,lastChild:res.consumed.length,positionalParamSegments:res.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function mergeTrivialChildren(s){if(1===s.numberOfChildren&&s.children[PRIMARY_OUTLET]){const c=s.children[PRIMARY_OUTLET];return new UrlSegmentGroup(s.segments.concat(c.segments),c.children)}return s}function isEmptyPathRedirect(segmentGroup,segments,r){return(!(segmentGroup.hasChildren()||segments.length>0)||"full"!==r.pathMatch)&&(""===r.path&&void 0!==r.redirectTo)}function getOutlet(route){return route.outlet||PRIMARY_OUTLET}function applyRedirects$1(moduleInjector,configLoader,urlSerializer,config){return function(source){return source.pipe(switchMap(t=>function applyRedirects(moduleInjector,configLoader,urlSerializer,urlTree,config){return new router_ApplyRedirects(moduleInjector,configLoader,urlSerializer,urlTree,config).apply()}(moduleInjector,configLoader,urlSerializer,t.extractedUrl,config).pipe(Object(map.a)(urlAfterRedirects=>Object.assign(Object.assign({},t),{urlAfterRedirects:urlAfterRedirects})))))}}class CanActivate{constructor(path){this.path=path,this.route=this.path[this.path.length-1]}}class CanDeactivate{constructor(component,route){this.component=component,this.route=route}}function getAllRouteGuards(future,curr,parentContexts){const futureRoot=future._root;return getChildRouteGuards(futureRoot,curr?curr._root:null,parentContexts,[futureRoot.value])}function getToken(token,snapshot,moduleInjector){const config=function getClosestLoadedConfig(snapshot){if(!snapshot)return null;for(let s=snapshot.parent;s;s=s.parent){const route=s.routeConfig;if(route&&route._loadedConfig)return route._loadedConfig}return null}(snapshot);return(config?config.module.injector:moduleInjector).get(token)}function getChildRouteGuards(futureNode,currNode,contexts,futurePath,checks={canDeactivateChecks:[],canActivateChecks:[]}){const prevChildren=nodeChildrenAsMap(currNode);return futureNode.children.forEach(c=>{!function getRouteGuards(futureNode,currNode,parentContexts,futurePath,checks={canDeactivateChecks:[],canActivateChecks:[]}){const future=futureNode.value,curr=currNode?currNode.value:null,context=parentContexts?parentContexts.getContext(futureNode.value.outlet):null;if(curr&&future.routeConfig===curr.routeConfig){const shouldRun=function shouldRunGuardsAndResolvers(curr,future,mode){if("function"==typeof mode)return mode(curr,future);switch(mode){case"pathParamsChange":return!equalPath(curr.url,future.url);case"pathParamsOrQueryParamsChange":return!equalPath(curr.url,future.url)||!shallowEqual(curr.queryParams,future.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!equalParamsAndUrlSegments(curr,future)||!shallowEqual(curr.queryParams,future.queryParams);case"paramsChange":default:return!equalParamsAndUrlSegments(curr,future)}}(curr,future,future.routeConfig.runGuardsAndResolvers);if(shouldRun?checks.canActivateChecks.push(new CanActivate(futurePath)):(future.data=curr.data,future._resolvedData=curr._resolvedData),future.component?getChildRouteGuards(futureNode,currNode,context?context.children:null,futurePath,checks):getChildRouteGuards(futureNode,currNode,parentContexts,futurePath,checks),shouldRun){const component=context&&context.outlet&&context.outlet.component||null;checks.canDeactivateChecks.push(new CanDeactivate(component,curr))}}else curr&&deactivateRouteAndItsChildren(currNode,context,checks),checks.canActivateChecks.push(new CanActivate(futurePath)),future.component?getChildRouteGuards(futureNode,null,context?context.children:null,futurePath,checks):getChildRouteGuards(futureNode,null,parentContexts,futurePath,checks);return checks}(c,prevChildren[c.value.outlet],contexts,futurePath.concat([c.value]),checks),delete prevChildren[c.value.outlet]}),forEach(prevChildren,(v,k)=>deactivateRouteAndItsChildren(v,contexts.getContext(k),checks)),checks}function deactivateRouteAndItsChildren(route,context,checks){const children=nodeChildrenAsMap(route),r=route.value;forEach(children,(node,childName)=>{r.component?deactivateRouteAndItsChildren(node,context?context.children.getContext(childName):null,checks):deactivateRouteAndItsChildren(node,context,checks)}),r.component&&context&&context.outlet&&context.outlet.isActivated?checks.canDeactivateChecks.push(new CanDeactivate(context.outlet.component,r)):checks.canDeactivateChecks.push(new CanDeactivate(null,r))}const INITIAL_VALUE=Symbol("INITIAL_VALUE");function prioritizedGuardValue(){return switchMap(obs=>function combineLatest(...observables){let resultSelector=null,scheduler=null;return Object(isScheduler.a)(observables[observables.length-1])&&(scheduler=observables.pop()),"function"==typeof observables[observables.length-1]&&(resultSelector=observables.pop()),1===observables.length&&Object(isArray.a)(observables[0])&&(observables=observables[0]),Object(fromArray.a)(observables,scheduler).lift(new CombineLatestOperator(resultSelector))}(...obs.map(o=>o.pipe(Object(take.a)(1),function startWith(...array){const scheduler=array[array.length-1];return Object(isScheduler.a)(scheduler)?(array.pop(),source=>concat(array,source,scheduler)):source=>concat(array,source)}(INITIAL_VALUE)))).pipe(scan((acc,list)=>{let isPending=!1;return list.reduce((innerAcc,val,i)=>{if(innerAcc!==INITIAL_VALUE)return innerAcc;if(val===INITIAL_VALUE&&(isPending=!0),!isPending){if(!1===val)return val;if(i===list.length-1||isUrlTree(val))return val}return innerAcc},acc)},INITIAL_VALUE),Object(filter.a)(item=>item!==INITIAL_VALUE),Object(map.a)(item=>isUrlTree(item)?item:!0===item),Object(take.a)(1)))}function checkGuards(moduleInjector,forwardEvent){return function(source){return source.pipe(Object(mergeMap.a)(t=>{const{targetSnapshot:targetSnapshot,currentSnapshot:currentSnapshot,guards:{canActivateChecks:canActivateChecks,canDeactivateChecks:canDeactivateChecks}}=t;return 0===canDeactivateChecks.length&&0===canActivateChecks.length?Object(of.a)(Object.assign(Object.assign({},t),{guardsResult:!0})):function runCanDeactivateChecks(checks,futureRSS,currRSS,moduleInjector){return Object(from.a)(checks).pipe(Object(mergeMap.a)(check=>function runCanDeactivate(component,currARS,currRSS,futureRSS,moduleInjector){const canDeactivate=currARS&&currARS.routeConfig?currARS.routeConfig.canDeactivate:null;if(!canDeactivate||0===canDeactivate.length)return Object(of.a)(!0);const canDeactivateObservables=canDeactivate.map(c=>{const guard=getToken(c,currARS,moduleInjector);let observable;if(function isCanDeactivate(guard){return guard&&router_isFunction(guard.canDeactivate)}(guard))observable=wrapIntoObservable(guard.canDeactivate(component,currARS,currRSS,futureRSS));else{if(!router_isFunction(guard))throw new Error("Invalid CanDeactivate guard");observable=wrapIntoObservable(guard(component,currARS,currRSS,futureRSS))}return observable.pipe(Object(first.a)())});return Object(of.a)(canDeactivateObservables).pipe(prioritizedGuardValue())}(check.component,check.route,currRSS,futureRSS,moduleInjector)),Object(first.a)(result=>!0!==result,!0))}(canDeactivateChecks,targetSnapshot,currentSnapshot,moduleInjector).pipe(Object(mergeMap.a)(canDeactivate=>canDeactivate&&function isBoolean(v){return"boolean"==typeof v}(canDeactivate)?function runCanActivateChecks(futureSnapshot,checks,moduleInjector,forwardEvent){return Object(from.a)(checks).pipe(Object(concatMap.a)(check=>Object(from.a)([fireChildActivationStart(check.route.parent,forwardEvent),fireActivationStart(check.route,forwardEvent),runCanActivateChild(futureSnapshot,check.path,moduleInjector),runCanActivate(futureSnapshot,check.route,moduleInjector)]).pipe(concatAll(),Object(first.a)(result=>!0!==result,!0))),Object(first.a)(result=>!0!==result,!0))}(targetSnapshot,canActivateChecks,moduleInjector,forwardEvent):Object(of.a)(canDeactivate)),Object(map.a)(guardsResult=>Object.assign(Object.assign({},t),{guardsResult:guardsResult})))}))}}function fireActivationStart(snapshot,forwardEvent){return null!==snapshot&&forwardEvent&&forwardEvent(new ActivationStart(snapshot)),Object(of.a)(!0)}function fireChildActivationStart(snapshot,forwardEvent){return null!==snapshot&&forwardEvent&&forwardEvent(new ChildActivationStart(snapshot)),Object(of.a)(!0)}function runCanActivate(futureRSS,futureARS,moduleInjector){const canActivate=futureARS.routeConfig?futureARS.routeConfig.canActivate:null;if(!canActivate||0===canActivate.length)return Object(of.a)(!0);const canActivateObservables=canActivate.map(c=>defer(()=>{const guard=getToken(c,futureARS,moduleInjector);let observable;if(function isCanActivate(guard){return guard&&router_isFunction(guard.canActivate)}(guard))observable=wrapIntoObservable(guard.canActivate(futureARS,futureRSS));else{if(!router_isFunction(guard))throw new Error("Invalid CanActivate guard");observable=wrapIntoObservable(guard(futureARS,futureRSS))}return observable.pipe(Object(first.a)())}));return Object(of.a)(canActivateObservables).pipe(prioritizedGuardValue())}function runCanActivateChild(futureRSS,path,moduleInjector){const futureARS=path[path.length-1],canActivateChildGuardsMapped=path.slice(0,path.length-1).reverse().map(p=>function getCanActivateChild(p){const canActivateChild=p.routeConfig?p.routeConfig.canActivateChild:null;return canActivateChild&&0!==canActivateChild.length?{node:p,guards:canActivateChild}:null}(p)).filter(_=>null!==_).map(d=>defer(()=>{const guardsMapped=d.guards.map(c=>{const guard=getToken(c,d.node,moduleInjector);let observable;if(function isCanActivateChild(guard){return guard&&router_isFunction(guard.canActivateChild)}(guard))observable=wrapIntoObservable(guard.canActivateChild(futureARS,futureRSS));else{if(!router_isFunction(guard))throw new Error("Invalid CanActivateChild guard");observable=wrapIntoObservable(guard(futureARS,futureRSS))}return observable.pipe(Object(first.a)())});return Object(of.a)(guardsMapped).pipe(prioritizedGuardValue())}));return Object(of.a)(canActivateChildGuardsMapped).pipe(prioritizedGuardValue())}class NoMatch$1{}class router_Recognizer{constructor(rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution){this.rootComponentType=rootComponentType,this.config=config,this.urlTree=urlTree,this.url=url,this.paramsInheritanceStrategy=paramsInheritanceStrategy,this.relativeLinkResolution=relativeLinkResolution}recognize(){try{const rootSegmentGroup=split$1(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,children=this.processSegmentGroup(this.config,rootSegmentGroup,PRIMARY_OUTLET),root=new ActivatedRouteSnapshot([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},PRIMARY_OUTLET,this.rootComponentType,null,this.urlTree.root,-1,{}),rootNode=new TreeNode(root,children),routeState=new RouterStateSnapshot(this.url,rootNode);return this.inheritParamsAndData(routeState._root),Object(of.a)(routeState)}catch(e){return new Observable.a(obs=>obs.error(e))}}inheritParamsAndData(routeNode){const route=routeNode.value,i=inheritedParamsDataResolve(route,this.paramsInheritanceStrategy);route.params=Object.freeze(i.params),route.data=Object.freeze(i.data),routeNode.children.forEach(n=>this.inheritParamsAndData(n))}processSegmentGroup(config,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.processChildren(config,segmentGroup):this.processSegment(config,segmentGroup,segmentGroup.segments,outlet)}processChildren(config,segmentGroup){const children=mapChildrenIntoArray(segmentGroup,(child,childOutlet)=>this.processSegmentGroup(config,child,childOutlet));return function checkOutletNameUniqueness(nodes){const names={};nodes.forEach(n=>{const routeWithSameOutletName=names[n.value.outlet];if(routeWithSameOutletName){const p=routeWithSameOutletName.url.map(s=>s.toString()).join("/"),c=n.value.url.map(s=>s.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${p}' and '${c}'.`)}names[n.value.outlet]=n.value})}(children),function sortActivatedRouteSnapshots(nodes){nodes.sort((a,b)=>a.value.outlet===PRIMARY_OUTLET?-1:b.value.outlet===PRIMARY_OUTLET?1:a.value.outlet.localeCompare(b.value.outlet))}(children),children}processSegment(config,segmentGroup,segments,outlet){for(const r of config)try{return this.processSegmentAgainstRoute(r,segmentGroup,segments,outlet)}catch(e){if(!(e instanceof NoMatch$1))throw e}if(this.noLeftoversInUrl(segmentGroup,segments,outlet))return[];throw new NoMatch$1}noLeftoversInUrl(segmentGroup,segments,outlet){return 0===segments.length&&!segmentGroup.children[outlet]}processSegmentAgainstRoute(route,rawSegment,segments,outlet){if(route.redirectTo)throw new NoMatch$1;if((route.outlet||PRIMARY_OUTLET)!==outlet)throw new NoMatch$1;let snapshot,consumedSegments=[],rawSlicedSegments=[];if("**"===route.path){const params=segments.length>0?router_last(segments).parameters:{};snapshot=new ActivatedRouteSnapshot(segments,params,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,getData(route),outlet,route.component,route,getSourceSegmentGroup(rawSegment),getPathIndexShift(rawSegment)+segments.length,getResolve(route))}else{const result=function match$1(segmentGroup,route,segments){if(""===route.path){if("full"===route.pathMatch&&(segmentGroup.hasChildren()||segments.length>0))throw new NoMatch$1;return{consumedSegments:[],lastChild:0,parameters:{}}}const res=(route.matcher||defaultUrlMatcher)(segments,segmentGroup,route);if(!res)throw new NoMatch$1;const posParams={};forEach(res.posParams,(v,k)=>{posParams[k]=v.path});const parameters=res.consumed.length>0?Object.assign(Object.assign({},posParams),res.consumed[res.consumed.length-1].parameters):posParams;return{consumedSegments:res.consumed,lastChild:res.consumed.length,parameters:parameters}}(rawSegment,route,segments);consumedSegments=result.consumedSegments,rawSlicedSegments=segments.slice(result.lastChild),snapshot=new ActivatedRouteSnapshot(consumedSegments,result.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,getData(route),outlet,route.component,route,getSourceSegmentGroup(rawSegment),getPathIndexShift(rawSegment)+consumedSegments.length,getResolve(route))}const childConfig=function getChildConfig(route){if(route.children)return route.children;if(route.loadChildren)return route._loadedConfig.routes;return[]}(route),{segmentGroup:segmentGroup,slicedSegments:slicedSegments}=split$1(rawSegment,consumedSegments,rawSlicedSegments,childConfig,this.relativeLinkResolution);if(0===slicedSegments.length&&segmentGroup.hasChildren()){const children=this.processChildren(childConfig,segmentGroup);return[new TreeNode(snapshot,children)]}if(0===childConfig.length&&0===slicedSegments.length)return[new TreeNode(snapshot,[])];const children=this.processSegment(childConfig,segmentGroup,slicedSegments,PRIMARY_OUTLET);return[new TreeNode(snapshot,children)]}}function getSourceSegmentGroup(segmentGroup){let s=segmentGroup;for(;s._sourceSegment;)s=s._sourceSegment;return s}function getPathIndexShift(segmentGroup){let s=segmentGroup,res=s._segmentIndexShift?s._segmentIndexShift:0;for(;s._sourceSegment;)s=s._sourceSegment,res+=s._segmentIndexShift?s._segmentIndexShift:0;return res-1}function split$1(segmentGroup,consumedSegments,slicedSegments,config,relativeLinkResolution){if(slicedSegments.length>0&&function containsEmptyPathMatchesWithNamedOutlets(segmentGroup,slicedSegments,routes){return routes.some(r=>emptyPathMatch(segmentGroup,slicedSegments,r)&&getOutlet$1(r)!==PRIMARY_OUTLET)}(segmentGroup,slicedSegments,config)){const s=new UrlSegmentGroup(consumedSegments,function createChildrenForEmptyPaths(segmentGroup,consumedSegments,routes,primarySegment){const res={};res[PRIMARY_OUTLET]=primarySegment,primarySegment._sourceSegment=segmentGroup,primarySegment._segmentIndexShift=consumedSegments.length;for(const r of routes)if(""===r.path&&getOutlet$1(r)!==PRIMARY_OUTLET){const s=new UrlSegmentGroup([],{});s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,res[getOutlet$1(r)]=s}return res}(segmentGroup,consumedSegments,config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)));return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:[]}}if(0===slicedSegments.length&&function containsEmptyPathMatches(segmentGroup,slicedSegments,routes){return routes.some(r=>emptyPathMatch(segmentGroup,slicedSegments,r))}(segmentGroup,slicedSegments,config)){const s=new UrlSegmentGroup(segmentGroup.segments,function addEmptyPathsToChildrenIfNeeded(segmentGroup,consumedSegments,slicedSegments,routes,children,relativeLinkResolution){const res={};for(const r of routes)if(emptyPathMatch(segmentGroup,slicedSegments,r)&&!children[getOutlet$1(r)]){const s=new UrlSegmentGroup([],{});s._sourceSegment=segmentGroup,s._segmentIndexShift="legacy"===relativeLinkResolution?segmentGroup.segments.length:consumedSegments.length,res[getOutlet$1(r)]=s}return Object.assign(Object.assign({},children),res)}(segmentGroup,consumedSegments,slicedSegments,config,segmentGroup.children,relativeLinkResolution));return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}const s=new UrlSegmentGroup(segmentGroup.segments,segmentGroup.children);return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}function emptyPathMatch(segmentGroup,slicedSegments,r){return(!(segmentGroup.hasChildren()||slicedSegments.length>0)||"full"!==r.pathMatch)&&(""===r.path&&void 0===r.redirectTo)}function getOutlet$1(route){return route.outlet||PRIMARY_OUTLET}function getData(route){return route.data||{}}function getResolve(route){return route.resolve||{}}function recognize$1(rootComponentType,config,serializer,paramsInheritanceStrategy,relativeLinkResolution){return function(source){return source.pipe(Object(mergeMap.a)(t=>function recognize(rootComponentType,config,urlTree,url,paramsInheritanceStrategy="emptyOnly",relativeLinkResolution="legacy"){return new router_Recognizer(rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution).recognize()}(rootComponentType,config,t.urlAfterRedirects,serializer(t.urlAfterRedirects),paramsInheritanceStrategy,relativeLinkResolution).pipe(Object(map.a)(targetSnapshot=>Object.assign(Object.assign({},t),{targetSnapshot:targetSnapshot})))))}}function resolveData(paramsInheritanceStrategy,moduleInjector){return function(source){return source.pipe(Object(mergeMap.a)(t=>{const{targetSnapshot:targetSnapshot,guards:{canActivateChecks:canActivateChecks}}=t;return canActivateChecks.length?Object(from.a)(canActivateChecks).pipe(Object(concatMap.a)(check=>function runResolve(futureARS,futureRSS,paramsInheritanceStrategy,moduleInjector){return function resolveNode(resolve,futureARS,futureRSS,moduleInjector){const keys=Object.keys(resolve);if(0===keys.length)return Object(of.a)({});if(1===keys.length){const key=keys[0];return getResolver(resolve[key],futureARS,futureRSS,moduleInjector).pipe(Object(map.a)(value=>({[key]:value})))}const data={};return Object(from.a)(keys).pipe(Object(mergeMap.a)(key=>getResolver(resolve[key],futureARS,futureRSS,moduleInjector).pipe(Object(map.a)(value=>(data[key]=value,value))))).pipe(last(),Object(map.a)(()=>data))}(futureARS._resolve,futureARS,futureRSS,moduleInjector).pipe(Object(map.a)(resolvedData=>(futureARS._resolvedData=resolvedData,futureARS.data=Object.assign(Object.assign({},futureARS.data),inheritedParamsDataResolve(futureARS,paramsInheritanceStrategy).resolve),null)))}(check.route,targetSnapshot,paramsInheritanceStrategy,moduleInjector)),function reduce(accumulator,seed){return arguments.length>=2?function reduceOperatorFunctionWithSeed(source){return Object(pipe.a)(scan(accumulator,seed),takeLast(1),Object(defaultIfEmpty.a)(seed))(source)}:function reduceOperatorFunction(source){return Object(pipe.a)(scan((acc,value,index)=>accumulator(acc,value,index+1)),takeLast(1))(source)}}((_,__)=>_),Object(map.a)(_=>t)):Object(of.a)(t)}))}}function getResolver(injectionToken,futureARS,futureRSS,moduleInjector){const resolver=getToken(injectionToken,futureARS,moduleInjector);return resolver.resolve?wrapIntoObservable(resolver.resolve(futureARS,futureRSS)):wrapIntoObservable(resolver(futureARS,futureRSS))}function switchTap(next){return function(source){return source.pipe(switchMap(v=>{const nextResult=next(v);return nextResult?Object(from.a)(nextResult).pipe(Object(map.a)(()=>v)):Object(from.a)([v])}))}}class RouteReuseStrategy{}class DefaultRouteReuseStrategy{shouldDetach(route){return!1}store(route,detachedTree){}shouldAttach(route){return!1}retrieve(route){return null}shouldReuseRoute(future,curr){return future.routeConfig===curr.routeConfig}}const ROUTES=new core.InjectionToken("ROUTES");class router_RouterConfigLoader{constructor(loader,compiler,onLoadStartListener,onLoadEndListener){this.loader=loader,this.compiler=compiler,this.onLoadStartListener=onLoadStartListener,this.onLoadEndListener=onLoadEndListener}load(parentInjector,route){return this.onLoadStartListener&&this.onLoadStartListener(route),this.loadModuleFactory(route.loadChildren).pipe(Object(map.a)(factory=>{this.onLoadEndListener&&this.onLoadEndListener(route);const module=factory.create(parentInjector);return new LoadedRouterConfig(flatten(module.injector.get(ROUTES)).map(standardizeConfig),module)}))}loadModuleFactory(loadChildren){return"string"==typeof loadChildren?Object(from.a)(this.loader.load(loadChildren)):wrapIntoObservable(loadChildren()).pipe(Object(mergeMap.a)(t=>t instanceof core.NgModuleFactory?Object(of.a)(t):Object(from.a)(this.compiler.compileModuleAsync(t))))}}class UrlHandlingStrategy{}class DefaultUrlHandlingStrategy{shouldProcessUrl(url){return!0}extract(url){return url}merge(newUrlPart,wholeUrl){return newUrlPart}}function defaultErrorHandler(error){throw error}function defaultMalformedUriErrorHandler(error,urlSerializer,url){return urlSerializer.parse("/")}function defaultRouterHook(snapshot,runExtras){return Object(of.a)(null)}class router_Router{constructor(rootComponentType,urlSerializer,rootContexts,location,injector,loader,compiler,config){this.rootComponentType=rootComponentType,this.urlSerializer=urlSerializer,this.rootContexts=rootContexts,this.location=location,this.config=config,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Subject.a,this.errorHandler=defaultErrorHandler,this.malformedUriErrorHandler=defaultMalformedUriErrorHandler,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:defaultRouterHook,afterPreactivation:defaultRouterHook},this.urlHandlingStrategy=new DefaultUrlHandlingStrategy,this.routeReuseStrategy=new DefaultRouteReuseStrategy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy";this.ngModule=injector.get(core.NgModuleRef),this.console=injector.get(core["\u0275Console"]);const ngZone=injector.get(core.NgZone);this.isNgZoneEnabled=ngZone instanceof core.NgZone,this.resetConfig(config),this.currentUrlTree=function createEmptyUrlTree(){return new UrlTree(new UrlSegmentGroup([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new router_RouterConfigLoader(loader,compiler,r=>this.triggerEvent(new RouteConfigLoadStart(r)),r=>this.triggerEvent(new RouteConfigLoadEnd(r))),this.routerState=createEmptyState(this.currentUrlTree,this.rootComponentType),this.transitions=new BehaviorSubject_BehaviorSubject({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(transitions){const eventsSubject=this.events;return(transitions.pipe(Object(filter.a)(t=>0!==t.id),Object(map.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),switchMap(t=>{let completed=!1,errored=!1;return Object(of.a)(t).pipe(tap(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),switchMap(t=>{const urlTransition=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||urlTransition)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(of.a)(t).pipe(switchMap(t=>{const transition=this.transitions.getValue();return eventsSubject.next(new NavigationStart(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),transition!==this.transitions.getValue()?empty.a:[t]}),switchMap(t=>Promise.resolve(t)),applyRedirects$1(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),tap(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),recognize$1(this.rootComponentType,this.config,url=>this.serializeUrl(url),this.paramsInheritanceStrategy,this.relativeLinkResolution),tap(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),tap(t=>{const routesRecognized=new RoutesRecognized(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);eventsSubject.next(routesRecognized)}));if(urlTransition&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:id,extractedUrl:extractedUrl,source:source,restoredState:restoredState,extras:extras}=t,navStart=new NavigationStart(id,this.serializeUrl(extractedUrl),source,restoredState);eventsSubject.next(navStart);const targetSnapshot=createEmptyState(extractedUrl,this.rootComponentType).snapshot;return Object(of.a)(Object.assign(Object.assign({},t),{targetSnapshot:targetSnapshot,urlAfterRedirects:extractedUrl,extras:Object.assign(Object.assign({},extras),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),empty.a}),switchTap(t=>{const{targetSnapshot:targetSnapshot,id:navigationId,extractedUrl:appliedUrlTree,rawUrl:rawUrlTree,extras:{skipLocationChange:skipLocationChange,replaceUrl:replaceUrl}}=t;return this.hooks.beforePreactivation(targetSnapshot,{navigationId:navigationId,appliedUrlTree:appliedUrlTree,rawUrlTree:rawUrlTree,skipLocationChange:!!skipLocationChange,replaceUrl:!!replaceUrl})}),tap(t=>{const guardsStart=new GuardsCheckStart(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(guardsStart)}),Object(map.a)(t=>Object.assign(Object.assign({},t),{guards:getAllRouteGuards(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),checkGuards(this.ngModule.injector,evt=>this.triggerEvent(evt)),tap(t=>{if(isUrlTree(t.guardsResult)){const error=navigationCancelingError(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw error.url=t.guardsResult,error}}),tap(t=>{const guardsEnd=new GuardsCheckEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(guardsEnd)}),Object(filter.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),"");return eventsSubject.next(navCancel),t.resolve(!1),!1}return!0}),switchTap(t=>{if(t.guards.canActivateChecks.length)return Object(of.a)(t).pipe(tap(t=>{const resolveStart=new ResolveStart(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(resolveStart)}),resolveData(this.paramsInheritanceStrategy,this.ngModule.injector),tap(t=>{const resolveEnd=new ResolveEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(resolveEnd)}))}),switchTap(t=>{const{targetSnapshot:targetSnapshot,id:navigationId,extractedUrl:appliedUrlTree,rawUrl:rawUrlTree,extras:{skipLocationChange:skipLocationChange,replaceUrl:replaceUrl}}=t;return this.hooks.afterPreactivation(targetSnapshot,{navigationId:navigationId,appliedUrlTree:appliedUrlTree,rawUrlTree:rawUrlTree,skipLocationChange:!!skipLocationChange,replaceUrl:!!replaceUrl})}),Object(map.a)(t=>{const targetRouterState=function createRouterState(routeReuseStrategy,curr,prevState){const root=createNode(routeReuseStrategy,curr._root,prevState?prevState._root:void 0);return new RouterState(root,curr)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:targetRouterState})}),tap(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(rootContexts=this.rootContexts,routeReuseStrategy=this.routeReuseStrategy,forwardEvent=evt=>this.triggerEvent(evt),Object(map.a)(t=>(new ActivateRoutes(routeReuseStrategy,t.targetRouterState,t.currentRouterState,forwardEvent).activate(rootContexts),t))),tap({next(){completed=!0},complete(){completed=!0}}),function finalize(callback){return source=>source.lift(new FinallyOperator(callback))}(()=>{if(!completed&&!errored){this.resetUrlToCurrentUrlTree();const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);eventsSubject.next(navCancel),t.resolve(!1)}this.currentNavigation=null}),catchError(e=>{if(errored=!0,function isNavigationCancelingError(error){return error&&error.ngNavigationCancelingError}(e)){const redirecting=isUrlTree(e.url);redirecting||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const navCancel=new NavigationCancel(t.id,this.serializeUrl(t.extractedUrl),e.message);eventsSubject.next(navCancel),redirecting?setTimeout(()=>{const mergedTree=this.urlHandlingStrategy.merge(e.url,this.rawUrlTree),extras={skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy};return this.scheduleNavigation(mergedTree,"imperative",null,extras,{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const navError=new NavigationError(t.id,this.serializeUrl(t.extractedUrl),e);eventsSubject.next(navError);try{t.resolve(this.errorHandler(e))}catch(ee){t.reject(ee)}}return empty.a}));var rootContexts,routeReuseStrategy,forwardEvent})))}resetRootComponentType(rootComponentType){this.rootComponentType=rootComponentType,this.routerState.root.component=this.rootComponentType}getTransition(){const transition=this.transitions.value;return transition.urlAfterRedirects=this.browserUrlTree,transition}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(change=>{let rawUrlTree=this.parseUrl(change.url);const source="popstate"===change.type?"popstate":"hashchange",state=change.state&&change.state.navigationId?change.state:null;setTimeout(()=>{this.scheduleNavigation(rawUrlTree,source,state,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(event){this.events.next(event)}resetConfig(config){validateConfig(config),this.config=config.map(standardizeConfig),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(commands,navigationExtras={}){const{relativeTo:relativeTo,queryParams:queryParams,fragment:fragment,preserveQueryParams:preserveQueryParams,queryParamsHandling:queryParamsHandling,preserveFragment:preserveFragment}=navigationExtras;Object(core.isDevMode)()&&preserveQueryParams&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const a=relativeTo||this.routerState.root,f=preserveFragment?this.currentUrlTree.fragment:fragment;let q=null;if(queryParamsHandling)switch(queryParamsHandling){case"merge":q=Object.assign(Object.assign({},this.currentUrlTree.queryParams),queryParams);break;case"preserve":q=this.currentUrlTree.queryParams;break;default:q=queryParams||null}else q=preserveQueryParams?this.currentUrlTree.queryParams:queryParams||null;return null!==q&&(q=this.removeEmptyProps(q)),createUrlTree(a,this.currentUrlTree,commands,q,f)}navigateByUrl(url,extras={skipLocationChange:!1}){Object(core.isDevMode)()&&this.isNgZoneEnabled&&!core.NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const urlTree=isUrlTree(url)?url:this.parseUrl(url),mergedTree=this.urlHandlingStrategy.merge(urlTree,this.rawUrlTree);return this.scheduleNavigation(mergedTree,"imperative",null,extras)}navigate(commands,extras={skipLocationChange:!1}){return function validateCommands(commands){for(let i=0;i<commands.length;i++){const cmd=commands[i];if(null==cmd)throw new Error(`The requested path contains ${cmd} segment at index ${i}`)}}(commands),this.navigateByUrl(this.createUrlTree(commands,extras),extras)}serializeUrl(url){return this.urlSerializer.serialize(url)}parseUrl(url){let urlTree;try{urlTree=this.urlSerializer.parse(url)}catch(e){urlTree=this.malformedUriErrorHandler(e,this.urlSerializer,url)}return urlTree}isActive(url,exact){if(isUrlTree(url))return containsTree(this.currentUrlTree,url,exact);const urlTree=this.parseUrl(url);return containsTree(this.currentUrlTree,urlTree,exact)}removeEmptyProps(params){return Object.keys(params).reduce((result,key)=>{const value=params[key];return null!=value&&(result[key]=value),result},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new NavigationEnd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(rawUrl,source,restoredState,extras,priorPromise){const lastNavigation=this.getTransition();if(lastNavigation&&"imperative"!==source&&"imperative"===lastNavigation.source&&lastNavigation.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);if(lastNavigation&&"hashchange"==source&&"popstate"===lastNavigation.source&&lastNavigation.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);if(lastNavigation&&"popstate"==source&&"hashchange"===lastNavigation.source&&lastNavigation.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);let resolve,reject,promise;priorPromise?(resolve=priorPromise.resolve,reject=priorPromise.reject,promise=priorPromise.promise):promise=new Promise((res,rej)=>{resolve=res,reject=rej});const id=++this.navigationId;return this.setTransition({id:id,source:source,restoredState:restoredState,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:rawUrl,extras:extras,resolve:resolve,reject:reject,promise:promise,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),promise.catch(e=>Promise.reject(e))}setBrowserUrl(url,replaceUrl,id,state){const path=this.urlSerializer.serialize(url);state=state||{},this.location.isCurrentPathEqualTo(path)||replaceUrl?this.location.replaceState(path,"",Object.assign(Object.assign({},state),{navigationId:id})):this.location.go(path,"",Object.assign(Object.assign({},state),{navigationId:id}))}resetStateAndUrl(storedState,storedUrl,rawUrl){this.routerState=storedState,this.currentUrlTree=storedUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,rawUrl),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}router_Router.\u0275fac=function Router_Factory(t){core["\u0275\u0275invalidFactory"]()},router_Router.\u0275dir=core["\u0275\u0275defineDirective"]({type:router_Router});class router_RouterLink{constructor(router,route,tabIndex,renderer,el){this.router=router,this.route=route,this.commands=[],null==tabIndex&&renderer.setAttribute(el.nativeElement,"tabindex","0")}set routerLink(commands){this.commands=null!=commands?Array.isArray(commands)?commands:[commands]:[]}set preserveQueryParams(value){Object(core.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=value}onClick(){const extras={skipLocationChange:attrBoolValue(this.skipLocationChange),replaceUrl:attrBoolValue(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,extras),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:attrBoolValue(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:attrBoolValue(this.preserveFragment)})}}router_RouterLink.\u0275fac=function RouterLink_Factory(t){return new(t||router_RouterLink)(core["\u0275\u0275directiveInject"](router_Router),core["\u0275\u0275directiveInject"](router_ActivatedRoute),core["\u0275\u0275injectAttribute"]("tabindex"),core["\u0275\u0275directiveInject"](core.Renderer2),core["\u0275\u0275directiveInject"](core.ElementRef))},router_RouterLink.\u0275dir=core["\u0275\u0275defineDirective"]({type:router_RouterLink,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function RouterLink_HostBindings(rf,ctx){1&rf&&core["\u0275\u0275listener"]("click",(function RouterLink_click_HostBindingHandler(){return ctx.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),router_RouterLink.ctorParameters=()=>[{type:router_Router},{type:router_ActivatedRoute},{type:String,decorators:[{type:core.Attribute,args:["tabindex"]}]},{type:core.Renderer2},{type:core.ElementRef}],router_RouterLink.propDecorators={queryParams:[{type:core.Input}],fragment:[{type:core.Input}],queryParamsHandling:[{type:core.Input}],preserveFragment:[{type:core.Input}],skipLocationChange:[{type:core.Input}],replaceUrl:[{type:core.Input}],state:[{type:core.Input}],routerLink:[{type:core.Input}],preserveQueryParams:[{type:core.Input}],onClick:[{type:core.HostListener,args:["click"]}]};class router_RouterLinkWithHref{constructor(router,route,locationStrategy){this.router=router,this.route=route,this.locationStrategy=locationStrategy,this.commands=[],this.subscription=router.events.subscribe(s=>{s instanceof NavigationEnd&&this.updateTargetUrlAndHref()})}set routerLink(commands){this.commands=null!=commands?Array.isArray(commands)?commands:[commands]:[]}set preserveQueryParams(value){Object(core.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=value}ngOnChanges(changes){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(button,ctrlKey,metaKey,shiftKey){if(0!==button||ctrlKey||metaKey||shiftKey)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const extras={skipLocationChange:attrBoolValue(this.skipLocationChange),replaceUrl:attrBoolValue(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,extras),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:attrBoolValue(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:attrBoolValue(this.preserveFragment)})}}function attrBoolValue(s){return""===s||!!s}router_RouterLinkWithHref.\u0275fac=function RouterLinkWithHref_Factory(t){return new(t||router_RouterLinkWithHref)(core["\u0275\u0275directiveInject"](router_Router),core["\u0275\u0275directiveInject"](router_ActivatedRoute),core["\u0275\u0275directiveInject"](common.LocationStrategy))},router_RouterLinkWithHref.\u0275dir=core["\u0275\u0275defineDirective"]({type:router_RouterLinkWithHref,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function RouterLinkWithHref_HostBindings(rf,ctx){1&rf&&core["\u0275\u0275listener"]("click",(function RouterLinkWithHref_click_HostBindingHandler($event){return ctx.onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)})),2&rf&&(core["\u0275\u0275hostProperty"]("href",ctx.href,core["\u0275\u0275sanitizeUrl"]),core["\u0275\u0275attribute"]("target",ctx.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[core["\u0275\u0275NgOnChangesFeature"]]}),router_RouterLinkWithHref.ctorParameters=()=>[{type:router_Router},{type:router_ActivatedRoute},{type:common.LocationStrategy}],router_RouterLinkWithHref.propDecorators={target:[{type:core.HostBinding,args:["attr.target"]},{type:core.Input}],queryParams:[{type:core.Input}],fragment:[{type:core.Input}],queryParamsHandling:[{type:core.Input}],preserveFragment:[{type:core.Input}],skipLocationChange:[{type:core.Input}],replaceUrl:[{type:core.Input}],state:[{type:core.Input}],href:[{type:core.HostBinding}],routerLink:[{type:core.Input}],preserveQueryParams:[{type:core.Input}],onClick:[{type:core.HostListener,args:["click",["$event.button","$event.ctrlKey","$event.metaKey","$event.shiftKey"]]}]};class RouterLinkActive{constructor(router,element,renderer,link,linkWithHref){this.router=router,this.element=element,this.renderer=renderer,this.link=link,this.linkWithHref=linkWithHref,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=router.events.subscribe(s=>{s instanceof NavigationEnd&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(_=>this.update()),this.linksWithHrefs.changes.subscribe(_=>this.update()),this.update()}set routerLinkActive(data){const classes=Array.isArray(data)?data:data.split(" ");this.classes=classes.filter(c=>!!c)}ngOnChanges(changes){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const hasActiveLinks=this.hasActiveLinks();this.isActive!==hasActiveLinks&&(this.isActive=hasActiveLinks,this.classes.forEach(c=>{hasActiveLinks?this.renderer.addClass(this.element.nativeElement,c):this.renderer.removeClass(this.element.nativeElement,c)}))})}isLinkActive(router){return link=>router.isActive(link.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const isActiveCheckFn=this.isLinkActive(this.router);return this.link&&isActiveCheckFn(this.link)||this.linkWithHref&&isActiveCheckFn(this.linkWithHref)||this.links.some(isActiveCheckFn)||this.linksWithHrefs.some(isActiveCheckFn)}}RouterLinkActive.\u0275fac=function RouterLinkActive_Factory(t){return new(t||RouterLinkActive)(core["\u0275\u0275directiveInject"](router_Router),core["\u0275\u0275directiveInject"](core.ElementRef),core["\u0275\u0275directiveInject"](core.Renderer2),core["\u0275\u0275directiveInject"](router_RouterLink,8),core["\u0275\u0275directiveInject"](router_RouterLinkWithHref,8))},RouterLinkActive.\u0275dir=core["\u0275\u0275defineDirective"]({type:RouterLinkActive,selectors:[["","routerLinkActive",""]],contentQueries:function RouterLinkActive_ContentQueries(rf,ctx,dirIndex){var _t;(1&rf&&(core["\u0275\u0275contentQuery"](dirIndex,router_RouterLink,!0),core["\u0275\u0275contentQuery"](dirIndex,router_RouterLinkWithHref,!0)),2&rf)&&(core["\u0275\u0275queryRefresh"](_t=core["\u0275\u0275loadQuery"]())&&(ctx.links=_t),core["\u0275\u0275queryRefresh"](_t=core["\u0275\u0275loadQuery"]())&&(ctx.linksWithHrefs=_t))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[core["\u0275\u0275NgOnChangesFeature"]]}),RouterLinkActive.ctorParameters=()=>[{type:router_Router},{type:core.ElementRef},{type:core.Renderer2},{type:router_RouterLink,decorators:[{type:core.Optional}]},{type:router_RouterLinkWithHref,decorators:[{type:core.Optional}]}],RouterLinkActive.propDecorators={links:[{type:core.ContentChildren,args:[router_RouterLink,{descendants:!0}]}],linksWithHrefs:[{type:core.ContentChildren,args:[router_RouterLinkWithHref,{descendants:!0}]}],routerLinkActiveOptions:[{type:core.Input}],routerLinkActive:[{type:core.Input}]};class OutletContext{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ChildrenOutletContexts,this.attachRef=null}}class ChildrenOutletContexts{constructor(){this.contexts=new Map}onChildOutletCreated(childName,outlet){const context=this.getOrCreateContext(childName);context.outlet=outlet,this.contexts.set(childName,context)}onChildOutletDestroyed(childName){const context=this.getContext(childName);context&&(context.outlet=null)}onOutletDeactivated(){const contexts=this.contexts;return this.contexts=new Map,contexts}onOutletReAttached(contexts){this.contexts=contexts}getOrCreateContext(childName){let context=this.getContext(childName);return context||(context=new OutletContext,this.contexts.set(childName,context)),context}getContext(childName){return this.contexts.get(childName)||null}}class router_RouterOutlet{constructor(parentContexts,location,resolver,name,changeDetector){this.parentContexts=parentContexts,this.location=location,this.resolver=resolver,this.changeDetector=changeDetector,this.activated=null,this._activatedRoute=null,this.activateEvents=new core.EventEmitter,this.deactivateEvents=new core.EventEmitter,this.name=name||PRIMARY_OUTLET,parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const context=this.parentContexts.getContext(this.name);context&&context.route&&(context.attachRef?this.attach(context.attachRef,context.route):this.activateWith(context.route,context.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return(this._activatedRoute)}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const cmp=this.activated;return this.activated=null,this._activatedRoute=null,cmp}attach(ref,activatedRoute){this.activated=ref,this._activatedRoute=activatedRoute,this.location.insert(ref.hostView)}deactivate(){if(this.activated){const c=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(c)}}activateWith(activatedRoute,resolver){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=activatedRoute;const component=activatedRoute._futureSnapshot.routeConfig.component,factory=(resolver=resolver||this.resolver).resolveComponentFactory(component),childContexts=this.parentContexts.getOrCreateContext(this.name).children,injector=new OutletInjector(activatedRoute,childContexts,this.location.injector);this.activated=this.location.createComponent(factory,this.location.length,injector),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}router_RouterOutlet.\u0275fac=function RouterOutlet_Factory(t){return new(t||router_RouterOutlet)(core["\u0275\u0275directiveInject"](ChildrenOutletContexts),core["\u0275\u0275directiveInject"](core.ViewContainerRef),core["\u0275\u0275directiveInject"](core.ComponentFactoryResolver),core["\u0275\u0275injectAttribute"]("name"),core["\u0275\u0275directiveInject"](core.ChangeDetectorRef))},router_RouterOutlet.\u0275dir=core["\u0275\u0275defineDirective"]({type:router_RouterOutlet,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),router_RouterOutlet.ctorParameters=()=>[{type:ChildrenOutletContexts},{type:core.ViewContainerRef},{type:core.ComponentFactoryResolver},{type:String,decorators:[{type:core.Attribute,args:["name"]}]},{type:core.ChangeDetectorRef}],router_RouterOutlet.propDecorators={activateEvents:[{type:core.Output,args:["activate"]}],deactivateEvents:[{type:core.Output,args:["deactivate"]}]};class OutletInjector{constructor(route,childContexts,parent){this.route=route,this.childContexts=childContexts,this.parent=parent}get(token,notFoundValue){return token===router_ActivatedRoute?this.route:token===ChildrenOutletContexts?this.childContexts:this.parent.get(token,notFoundValue)}}class PreloadingStrategy{}class router_PreloadAllModules{preload(route,fn){return fn().pipe(catchError(()=>Object(of.a)(null)))}}class router_NoPreloading{preload(route,fn){return Object(of.a)(null)}}class router_RouterPreloader{constructor(router,moduleLoader,compiler,injector,preloadingStrategy){this.router=router,this.injector=injector,this.preloadingStrategy=preloadingStrategy;this.loader=new router_RouterConfigLoader(moduleLoader,compiler,r=>router.triggerEvent(new RouteConfigLoadStart(r)),r=>router.triggerEvent(new RouteConfigLoadEnd(r)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(filter.a)(e=>e instanceof NavigationEnd),Object(concatMap.a)(()=>this.preload())).subscribe(()=>{})}preload(){const ngModule=this.injector.get(core.NgModuleRef);return this.processRoutes(ngModule,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(ngModule,routes){const res=[];for(const route of routes)if(route.loadChildren&&!route.canLoad&&route._loadedConfig){const childConfig=route._loadedConfig;res.push(this.processRoutes(childConfig.module,childConfig.routes))}else route.loadChildren&&!route.canLoad?res.push(this.preloadConfig(ngModule,route)):route.children&&res.push(this.processRoutes(ngModule,route.children));return Object(from.a)(res).pipe(Object(mergeAll.a)(),Object(map.a)(_=>{}))}preloadConfig(ngModule,route){return this.preloadingStrategy.preload(route,()=>this.loader.load(ngModule.injector,route).pipe(Object(mergeMap.a)(config=>(route._loadedConfig=config,this.processRoutes(config.module,config.routes)))))}}router_RouterPreloader.\u0275fac=function RouterPreloader_Factory(t){return new(t||router_RouterPreloader)(core["\u0275\u0275inject"](router_Router),core["\u0275\u0275inject"](core.NgModuleFactoryLoader),core["\u0275\u0275inject"](core.Compiler),core["\u0275\u0275inject"](core.Injector),core["\u0275\u0275inject"](PreloadingStrategy))},router_RouterPreloader.\u0275prov=core["\u0275\u0275defineInjectable"]({token:router_RouterPreloader,factory:router_RouterPreloader.\u0275fac}),router_RouterPreloader.ctorParameters=()=>[{type:router_Router},{type:core.NgModuleFactoryLoader},{type:core.Compiler},{type:core.Injector},{type:PreloadingStrategy}];class RouterScroller{constructor(router,viewportScroller,options={}){this.router=router,this.viewportScroller=viewportScroller,this.options=options,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},options.scrollPositionRestoration=options.scrollPositionRestoration||"disabled",options.anchorScrolling=options.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof NavigationStart?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof NavigationEnd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Scroll&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(routerEvent,anchor){this.router.triggerEvent(new Scroll(routerEvent,"popstate"===this.lastSource?this.store[this.restoredId]:null,anchor))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}RouterScroller.\u0275fac=function RouterScroller_Factory(t){core["\u0275\u0275invalidFactory"]()},RouterScroller.\u0275dir=core["\u0275\u0275defineDirective"]({type:RouterScroller});const ROUTER_CONFIGURATION=new core.InjectionToken("ROUTER_CONFIGURATION"),ROUTER_FORROOT_GUARD=new core.InjectionToken("ROUTER_FORROOT_GUARD"),ROUTER_PROVIDERS=[common.Location,{provide:UrlSerializer,useClass:DefaultUrlSerializer},{provide:router_Router,useFactory:setupRouter,deps:[UrlSerializer,ChildrenOutletContexts,common.Location,core.Injector,core.NgModuleFactoryLoader,core.Compiler,ROUTES,ROUTER_CONFIGURATION,[UrlHandlingStrategy,new core.Optional],[RouteReuseStrategy,new core.Optional]]},ChildrenOutletContexts,{provide:router_ActivatedRoute,useFactory:rootRoute,deps:[router_Router]},{provide:core.NgModuleFactoryLoader,useClass:core.SystemJsNgModuleLoader},router_RouterPreloader,router_NoPreloading,router_PreloadAllModules,{provide:ROUTER_CONFIGURATION,useValue:{enableTracing:!1}}];function routerNgProbeToken(){return new core.NgProbeToken("Router",router_Router)}class router_RouterModule{constructor(guard,router){}static forRoot(routes,config){return{ngModule:router_RouterModule,providers:[ROUTER_PROVIDERS,provideRoutes(routes),{provide:ROUTER_FORROOT_GUARD,useFactory:provideForRootGuard,deps:[[router_Router,new core.Optional,new core.SkipSelf]]},{provide:ROUTER_CONFIGURATION,useValue:config||{}},{provide:common.LocationStrategy,useFactory:provideLocationStrategy,deps:[common.PlatformLocation,[new core.Inject(common.APP_BASE_HREF),new core.Optional],ROUTER_CONFIGURATION]},{provide:RouterScroller,useFactory:createRouterScroller,deps:[router_Router,common.ViewportScroller,ROUTER_CONFIGURATION]},{provide:PreloadingStrategy,useExisting:config&&config.preloadingStrategy?config.preloadingStrategy:router_NoPreloading},{provide:core.NgProbeToken,multi:!0,useFactory:routerNgProbeToken},provideRouterInitializer()]}}static forChild(routes){return{ngModule:router_RouterModule,providers:[provideRoutes(routes)]}}}function createRouterScroller(router,viewportScroller,config){return config.scrollOffset&&viewportScroller.setOffset(config.scrollOffset),new RouterScroller(router,viewportScroller,config)}function provideLocationStrategy(platformLocationStrategy,baseHref,options={}){return options.useHash?new common.HashLocationStrategy(platformLocationStrategy,baseHref):new common.PathLocationStrategy(platformLocationStrategy,baseHref)}function provideForRootGuard(router){if(router)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function provideRoutes(routes){return[{provide:core.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:routes},{provide:ROUTES,multi:!0,useValue:routes}]}function setupRouter(urlSerializer,contexts,location,injector,loader,compiler,config,opts={},urlHandlingStrategy,routeReuseStrategy){const router=new router_Router(null,urlSerializer,contexts,location,injector,loader,compiler,flatten(config));if(urlHandlingStrategy&&(router.urlHandlingStrategy=urlHandlingStrategy),routeReuseStrategy&&(router.routeReuseStrategy=routeReuseStrategy),opts.errorHandler&&(router.errorHandler=opts.errorHandler),opts.malformedUriErrorHandler&&(router.malformedUriErrorHandler=opts.malformedUriErrorHandler),opts.enableTracing){const dom=Object(common["\u0275getDOM"])();router.events.subscribe(e=>{dom.logGroup(`Router Event: ${e.constructor.name}`),dom.log(e.toString()),dom.log(e),dom.logGroupEnd()})}return opts.onSameUrlNavigation&&(router.onSameUrlNavigation=opts.onSameUrlNavigation),opts.paramsInheritanceStrategy&&(router.paramsInheritanceStrategy=opts.paramsInheritanceStrategy),opts.urlUpdateStrategy&&(router.urlUpdateStrategy=opts.urlUpdateStrategy),opts.relativeLinkResolution&&(router.relativeLinkResolution=opts.relativeLinkResolution),router}function rootRoute(router){return router.routerState.root}router_RouterModule.\u0275mod=core["\u0275\u0275defineNgModule"]({type:router_RouterModule}),router_RouterModule.\u0275inj=core["\u0275\u0275defineInjector"]({factory:function RouterModule_Factory(t){return new(t||router_RouterModule)(core["\u0275\u0275inject"](ROUTER_FORROOT_GUARD,8),core["\u0275\u0275inject"](router_Router,8))}}),router_RouterModule.ctorParameters=()=>[{type:void 0,decorators:[{type:core.Optional},{type:core.Inject,args:[ROUTER_FORROOT_GUARD]}]},{type:router_Router,decorators:[{type:core.Optional}]}];class router_RouterInitializer{constructor(injector){this.injector=injector,this.initNavigation=!1,this.resultOfPreactivationDone=new Subject.a}appInitializer(){return this.injector.get(common.LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{let resolve=null;const res=new Promise(r=>resolve=r),router=this.injector.get(router_Router),opts=this.injector.get(ROUTER_CONFIGURATION);if(this.isLegacyDisabled(opts)||this.isLegacyEnabled(opts))resolve(!0);else if("disabled"===opts.initialNavigation)router.setUpLocationChangeListener(),resolve(!0);else{if("enabled"!==opts.initialNavigation)throw new Error(`Invalid initialNavigation options: '${opts.initialNavigation}'`);router.hooks.afterPreactivation=()=>this.initNavigation?Object(of.a)(null):(this.initNavigation=!0,resolve(!0),this.resultOfPreactivationDone),router.initialNavigation()}return res})}bootstrapListener(bootstrappedComponentRef){const opts=this.injector.get(ROUTER_CONFIGURATION),preloader=this.injector.get(router_RouterPreloader),routerScroller=this.injector.get(RouterScroller),router=this.injector.get(router_Router),ref=this.injector.get(core.ApplicationRef);bootstrappedComponentRef===ref.components[0]&&(this.isLegacyEnabled(opts)?router.initialNavigation():this.isLegacyDisabled(opts)&&router.setUpLocationChangeListener(),preloader.setUpPreloading(),routerScroller.init(),router.resetRootComponentType(ref.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(opts){return"legacy_enabled"===opts.initialNavigation||!0===opts.initialNavigation||void 0===opts.initialNavigation}isLegacyDisabled(opts){return"legacy_disabled"===opts.initialNavigation||!1===opts.initialNavigation}}function getAppInitializer(r){return r.appInitializer.bind(r)}function getBootstrapListener(r){return r.bootstrapListener.bind(r)}router_RouterInitializer.\u0275fac=function RouterInitializer_Factory(t){return new(t||router_RouterInitializer)(core["\u0275\u0275inject"](core.Injector))},router_RouterInitializer.\u0275prov=core["\u0275\u0275defineInjectable"]({token:router_RouterInitializer,factory:router_RouterInitializer.\u0275fac}),router_RouterInitializer.ctorParameters=()=>[{type:core.Injector}];const ROUTER_INITIALIZER=new core.InjectionToken("Router Initializer");function provideRouterInitializer(){return[router_RouterInitializer,{provide:core.APP_INITIALIZER,multi:!0,useFactory:getAppInitializer,deps:[router_RouterInitializer]},{provide:ROUTER_INITIALIZER,useFactory:getBootstrapListener,deps:[router_RouterInitializer]},{provide:core.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:ROUTER_INITIALIZER}]}const VERSION=new core.Version("9.0.7")},vY5A:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const router_1=__webpack_require__("tyNb"),home_component_1=__webpack_require__("9vUh"),tutorials_component_1=__webpack_require__("f8Sz"),i0=__webpack_require__("fXoL"),routes=(__webpack_require__("tyNb"),[{path:"home",component:home_component_1.HomeComponent},{path:"tutorials",component:tutorials_component_1.TutorialsComponent},{path:"**",redirectTo:"home",pathMatch:"full"}]);class AppRoutingModule{}exports.AppRoutingModule=AppRoutingModule,AppRoutingModule.\u0275mod=i0.\u0275\u0275defineNgModule({type:AppRoutingModule}),AppRoutingModule.\u0275inj=i0.\u0275\u0275defineInjector({factory:function AppRoutingModule_Factory(t){return new(t||AppRoutingModule)},imports:[[router_1.RouterModule.forRoot(routes)],router_1.RouterModule]})},wPkN:function(module,exports){module.exports={Window_run:function _run(code,file){with(file&&(code+="\n//@ sourceURL="+file),this)eval(code)},EventHandlerBuilder_build:function build(){try{with(this.document.defaultView||Object.create(null))with(this.document)with(this.form)with(this.element)return eval("(function(event){"+this.body+"})")}catch(err){return function(){throw err}}}}},xbPD:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return defaultIfEmpty}));var _Subscriber__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7o/Q");function defaultIfEmpty(defaultValue=null){return source=>source.lift(new DefaultIfEmptyOperator(defaultValue))}class DefaultIfEmptyOperator{constructor(defaultValue){this.defaultValue=defaultValue}call(subscriber,source){return source.subscribe(new DefaultIfEmptySubscriber(subscriber,this.defaultValue))}}class DefaultIfEmptySubscriber extends _Subscriber__WEBPACK_IMPORTED_MODULE_0__.a{constructor(destination,defaultValue){super(destination),this.defaultValue=defaultValue,this.isEmpty=!0}_next(value){this.isEmpty=!1,this.destination.next(value)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},y1on:function(module,exports,__webpack_require__){"use strict";module.exports=HTMLParser;var Document=__webpack_require__("2cVh"),DocumentType=__webpack_require__("e1qY"),Node=__webpack_require__("P6n3"),NAMESPACE=__webpack_require__("Wo4J").NAMESPACE,html=__webpack_require__("fcJ+"),impl=html.elements,pushAll=Function.prototype.apply.bind(Array.prototype.push),NOATTRS=[],quirkyPublicIds=/^HTML$|^-\/\/W3O\/\/DTD W3 HTML Strict 3\.0\/\/EN\/\/$|^-\/W3C\/DTD HTML 4\.0 Transitional\/EN$|^\+\/\/Silmaril\/\/dtd html Pro v0r11 19970101\/\/|^-\/\/AdvaSoft Ltd\/\/DTD HTML 3\.0 asWedit \+ extensions\/\/|^-\/\/AS\/\/DTD HTML 3\.0 asWedit \+ extensions\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Level 1\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Level 2\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Strict Level 1\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Strict Level 2\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Strict\/\/|^-\/\/IETF\/\/DTD HTML 2\.0\/\/|^-\/\/IETF\/\/DTD HTML 2\.1E\/\/|^-\/\/IETF\/\/DTD HTML 3\.0\/\/|^-\/\/IETF\/\/DTD HTML 3\.2 Final\/\/|^-\/\/IETF\/\/DTD HTML 3\.2\/\/|^-\/\/IETF\/\/DTD HTML 3\/\/|^-\/\/IETF\/\/DTD HTML Level 0\/\/|^-\/\/IETF\/\/DTD HTML Level 1\/\/|^-\/\/IETF\/\/DTD HTML Level 2\/\/|^-\/\/IETF\/\/DTD HTML Level 3\/\/|^-\/\/IETF\/\/DTD HTML Strict Level 0\/\/|^-\/\/IETF\/\/DTD HTML Strict Level 1\/\/|^-\/\/IETF\/\/DTD HTML Strict Level 2\/\/|^-\/\/IETF\/\/DTD HTML Strict Level 3\/\/|^-\/\/IETF\/\/DTD HTML Strict\/\/|^-\/\/IETF\/\/DTD HTML\/\/|^-\/\/Metrius\/\/DTD Metrius Presentational\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 2\.0 HTML Strict\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 2\.0 HTML\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 2\.0 Tables\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 3\.0 HTML Strict\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 3\.0 HTML\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 3\.0 Tables\/\/|^-\/\/Netscape Comm\. Corp\.\/\/DTD HTML\/\/|^-\/\/Netscape Comm\. Corp\.\/\/DTD Strict HTML\/\/|^-\/\/O'Reilly and Associates\/\/DTD HTML 2\.0\/\/|^-\/\/O'Reilly and Associates\/\/DTD HTML Extended 1\.0\/\/|^-\/\/O'Reilly and Associates\/\/DTD HTML Extended Relaxed 1\.0\/\/|^-\/\/SoftQuad Software\/\/DTD HoTMetaL PRO 6\.0::19990601::extensions to HTML 4\.0\/\/|^-\/\/SoftQuad\/\/DTD HoTMetaL PRO 4\.0::19971010::extensions to HTML 4\.0\/\/|^-\/\/Spyglass\/\/DTD HTML 2\.0 Extended\/\/|^-\/\/SQ\/\/DTD HTML 2\.0 HoTMetaL \+ extensions\/\/|^-\/\/Sun Microsystems Corp\.\/\/DTD HotJava HTML\/\/|^-\/\/Sun Microsystems Corp\.\/\/DTD HotJava Strict HTML\/\/|^-\/\/W3C\/\/DTD HTML 3 1995-03-24\/\/|^-\/\/W3C\/\/DTD HTML 3\.2 Draft\/\/|^-\/\/W3C\/\/DTD HTML 3\.2 Final\/\/|^-\/\/W3C\/\/DTD HTML 3\.2\/\/|^-\/\/W3C\/\/DTD HTML 3\.2S Draft\/\/|^-\/\/W3C\/\/DTD HTML 4\.0 Frameset\/\/|^-\/\/W3C\/\/DTD HTML 4\.0 Transitional\/\/|^-\/\/W3C\/\/DTD HTML Experimental 19960712\/\/|^-\/\/W3C\/\/DTD HTML Experimental 970421\/\/|^-\/\/W3C\/\/DTD W3 HTML\/\/|^-\/\/W3O\/\/DTD W3 HTML 3\.0\/\/|^-\/\/WebTechs\/\/DTD Mozilla HTML 2\.0\/\/|^-\/\/WebTechs\/\/DTD Mozilla HTML\/\//i,conditionallyQuirkyPublicIds=/^-\/\/W3C\/\/DTD HTML 4\.01 Frameset\/\/|^-\/\/W3C\/\/DTD HTML 4\.01 Transitional\/\//i,limitedQuirkyPublicIds=/^-\/\/W3C\/\/DTD XHTML 1\.0 Frameset\/\/|^-\/\/W3C\/\/DTD XHTML 1\.0 Transitional\/\//i,specialSet=Object.create(null);specialSet[NAMESPACE.HTML]={__proto__:null,address:!0,applet:!0,area:!0,article:!0,aside:!0,base:!0,basefont:!0,bgsound:!0,blockquote:!0,body:!0,br:!0,button:!0,caption:!0,center:!0,col:!0,colgroup:!0,dd:!0,details:!0,dir:!0,div:!0,dl:!0,dt:!0,embed:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,frame:!0,frameset:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,head:!0,header:!0,hgroup:!0,hr:!0,html:!0,iframe:!0,img:!0,input:!0,li:!0,link:!0,listing:!0,main:!0,marquee:!0,menu:!0,meta:!0,nav:!0,noembed:!0,noframes:!0,noscript:!0,object:!0,ol:!0,p:!0,param:!0,plaintext:!0,pre:!0,script:!0,section:!0,select:!0,source:!0,style:!0,summary:!0,table:!0,tbody:!0,td:!0,template:!0,textarea:!0,tfoot:!0,th:!0,thead:!0,title:!0,tr:!0,track:!0,ul:!0,wbr:!0,xmp:!0},specialSet[NAMESPACE.SVG]={__proto__:null,foreignObject:!0,desc:!0,title:!0},specialSet[NAMESPACE.MATHML]={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0};var addressdivpSet=Object.create(null);addressdivpSet[NAMESPACE.HTML]={__proto__:null,address:!0,div:!0,p:!0};var dddtSet=Object.create(null);dddtSet[NAMESPACE.HTML]={__proto__:null,dd:!0,dt:!0};var tablesectionrowSet=Object.create(null);tablesectionrowSet[NAMESPACE.HTML]={__proto__:null,table:!0,thead:!0,tbody:!0,tfoot:!0,tr:!0};var impliedEndTagsSet=Object.create(null);impliedEndTagsSet[NAMESPACE.HTML]={__proto__:null,dd:!0,dt:!0,li:!0,menuitem:!0,optgroup:!0,option:!0,p:!0,rb:!0,rp:!0,rt:!0,rtc:!0};var thoroughImpliedEndTagsSet=Object.create(null);thoroughImpliedEndTagsSet[NAMESPACE.HTML]={__proto__:null,caption:!0,colgroup:!0,dd:!0,dt:!0,li:!0,optgroup:!0,option:!0,p:!0,rb:!0,rp:!0,rt:!0,rtc:!0,tbody:!0,td:!0,tfoot:!0,th:!0,thead:!0,tr:!0};var tableContextSet=Object.create(null);tableContextSet[NAMESPACE.HTML]={__proto__:null,table:!0,template:!0,html:!0};var tableBodyContextSet=Object.create(null);tableBodyContextSet[NAMESPACE.HTML]={__proto__:null,tbody:!0,tfoot:!0,thead:!0,template:!0,html:!0};var tableRowContextSet=Object.create(null);tableRowContextSet[NAMESPACE.HTML]={__proto__:null,tr:!0,template:!0,html:!0};var formassociatedSet=Object.create(null);formassociatedSet[NAMESPACE.HTML]={__proto__:null,button:!0,fieldset:!0,input:!0,keygen:!0,object:!0,output:!0,select:!0,textarea:!0,img:!0};var inScopeSet=Object.create(null);inScopeSet[NAMESPACE.HTML]={__proto__:null,applet:!0,caption:!0,html:!0,table:!0,td:!0,th:!0,marquee:!0,object:!0,template:!0},inScopeSet[NAMESPACE.MATHML]={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0},inScopeSet[NAMESPACE.SVG]={__proto__:null,foreignObject:!0,desc:!0,title:!0};var inListItemScopeSet=Object.create(inScopeSet);inListItemScopeSet[NAMESPACE.HTML]=Object.create(inScopeSet[NAMESPACE.HTML]),inListItemScopeSet[NAMESPACE.HTML].ol=!0,inListItemScopeSet[NAMESPACE.HTML].ul=!0;var inButtonScopeSet=Object.create(inScopeSet);inButtonScopeSet[NAMESPACE.HTML]=Object.create(inScopeSet[NAMESPACE.HTML]),inButtonScopeSet[NAMESPACE.HTML].button=!0;var inTableScopeSet=Object.create(null);inTableScopeSet[NAMESPACE.HTML]={__proto__:null,html:!0,table:!0,template:!0},Object.create(null)[NAMESPACE.HTML]={__proto__:null,optgroup:!0,option:!0};var mathmlTextIntegrationPointSet=Object.create(null);mathmlTextIntegrationPointSet[NAMESPACE.MATHML]={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0};var htmlIntegrationPointSet=Object.create(null);htmlIntegrationPointSet[NAMESPACE.SVG]={__proto__:null,foreignObject:!0,desc:!0,title:!0};var foreignAttributes={__proto__:null,"xlink:actuate":NAMESPACE.XLINK,"xlink:arcrole":NAMESPACE.XLINK,"xlink:href":NAMESPACE.XLINK,"xlink:role":NAMESPACE.XLINK,"xlink:show":NAMESPACE.XLINK,"xlink:title":NAMESPACE.XLINK,"xlink:type":NAMESPACE.XLINK,"xml:base":NAMESPACE.XML,"xml:lang":NAMESPACE.XML,"xml:space":NAMESPACE.XML,xmlns:NAMESPACE.XMLNS,"xmlns:xlink":NAMESPACE.XMLNS},svgAttrAdjustments={__proto__:null,attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},svgTagNameAdjustments={__proto__:null,altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},numericCharRefReplacements={__proto__:null,0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},namedCharRefs={__proto__:null,AElig:198,"AElig;":198,AMP:38,"AMP;":38,Aacute:193,"Aacute;":193,"Abreve;":258,Acirc:194,"Acirc;":194,"Acy;":1040,"Afr;":[55349,56580],Agrave:192,"Agrave;":192,"Alpha;":913,"Amacr;":256,"And;":10835,"Aogon;":260,"Aopf;":[55349,56632],"ApplyFunction;":8289,Aring:197,"Aring;":197,"Ascr;":[55349,56476],"Assign;":8788,Atilde:195,"Atilde;":195,Auml:196,"Auml;":196,"Backslash;":8726,"Barv;":10983,"Barwed;":8966,"Bcy;":1041,"Because;":8757,"Bernoullis;":8492,"Beta;":914,"Bfr;":[55349,56581],"Bopf;":[55349,56633],"Breve;":728,"Bscr;":8492,"Bumpeq;":8782,"CHcy;":1063,COPY:169,"COPY;":169,"Cacute;":262,"Cap;":8914,"CapitalDifferentialD;":8517,"Cayleys;":8493,"Ccaron;":268,Ccedil:199,"Ccedil;":199,"Ccirc;":264,"Cconint;":8752,"Cdot;":266,"Cedilla;":184,"CenterDot;":183,"Cfr;":8493,"Chi;":935,"CircleDot;":8857,"CircleMinus;":8854,"CirclePlus;":8853,"CircleTimes;":8855,"ClockwiseContourIntegral;":8754,"CloseCurlyDoubleQuote;":8221,"CloseCurlyQuote;":8217,"Colon;":8759,"Colone;":10868,"Congruent;":8801,"Conint;":8751,"ContourIntegral;":8750,"Copf;":8450,"Coproduct;":8720,"CounterClockwiseContourIntegral;":8755,"Cross;":10799,"Cscr;":[55349,56478],"Cup;":8915,"CupCap;":8781,"DD;":8517,"DDotrahd;":10513,"DJcy;":1026,"DScy;":1029,"DZcy;":1039,"Dagger;":8225,"Darr;":8609,"Dashv;":10980,"Dcaron;":270,"Dcy;":1044,"Del;":8711,"Delta;":916,"Dfr;":[55349,56583],"DiacriticalAcute;":180,"DiacriticalDot;":729,"DiacriticalDoubleAcute;":733,"DiacriticalGrave;":96,"DiacriticalTilde;":732,"Diamond;":8900,"DifferentialD;":8518,"Dopf;":[55349,56635],"Dot;":168,"DotDot;":8412,"DotEqual;":8784,"DoubleContourIntegral;":8751,"DoubleDot;":168,"DoubleDownArrow;":8659,"DoubleLeftArrow;":8656,"DoubleLeftRightArrow;":8660,"DoubleLeftTee;":10980,"DoubleLongLeftArrow;":10232,"DoubleLongLeftRightArrow;":10234,"DoubleLongRightArrow;":10233,"DoubleRightArrow;":8658,"DoubleRightTee;":8872,"DoubleUpArrow;":8657,"DoubleUpDownArrow;":8661,"DoubleVerticalBar;":8741,"DownArrow;":8595,"DownArrowBar;":10515,"DownArrowUpArrow;":8693,"DownBreve;":785,"DownLeftRightVector;":10576,"DownLeftTeeVector;":10590,"DownLeftVector;":8637,"DownLeftVectorBar;":10582,"DownRightTeeVector;":10591,"DownRightVector;":8641,"DownRightVectorBar;":10583,"DownTee;":8868,"DownTeeArrow;":8615,"Downarrow;":8659,"Dscr;":[55349,56479],"Dstrok;":272,"ENG;":330,ETH:208,"ETH;":208,Eacute:201,"Eacute;":201,"Ecaron;":282,Ecirc:202,"Ecirc;":202,"Ecy;":1069,"Edot;":278,"Efr;":[55349,56584],Egrave:200,"Egrave;":200,"Element;":8712,"Emacr;":274,"EmptySmallSquare;":9723,"EmptyVerySmallSquare;":9643,"Eogon;":280,"Eopf;":[55349,56636],"Epsilon;":917,"Equal;":10869,"EqualTilde;":8770,"Equilibrium;":8652,"Escr;":8496,"Esim;":10867,"Eta;":919,Euml:203,"Euml;":203,"Exists;":8707,"ExponentialE;":8519,"Fcy;":1060,"Ffr;":[55349,56585],"FilledSmallSquare;":9724,"FilledVerySmallSquare;":9642,"Fopf;":[55349,56637],"ForAll;":8704,"Fouriertrf;":8497,"Fscr;":8497,"GJcy;":1027,GT:62,"GT;":62,"Gamma;":915,"Gammad;":988,"Gbreve;":286,"Gcedil;":290,"Gcirc;":284,"Gcy;":1043,"Gdot;":288,"Gfr;":[55349,56586],"Gg;":8921,"Gopf;":[55349,56638],"GreaterEqual;":8805,"GreaterEqualLess;":8923,"GreaterFullEqual;":8807,"GreaterGreater;":10914,"GreaterLess;":8823,"GreaterSlantEqual;":10878,"GreaterTilde;":8819,"Gscr;":[55349,56482],"Gt;":8811,"HARDcy;":1066,"Hacek;":711,"Hat;":94,"Hcirc;":292,"Hfr;":8460,"HilbertSpace;":8459,"Hopf;":8461,"HorizontalLine;":9472,"Hscr;":8459,"Hstrok;":294,"HumpDownHump;":8782,"HumpEqual;":8783,"IEcy;":1045,"IJlig;":306,"IOcy;":1025,Iacute:205,"Iacute;":205,Icirc:206,"Icirc;":206,"Icy;":1048,"Idot;":304,"Ifr;":8465,Igrave:204,"Igrave;":204,"Im;":8465,"Imacr;":298,"ImaginaryI;":8520,"Implies;":8658,"Int;":8748,"Integral;":8747,"Intersection;":8898,"InvisibleComma;":8291,"InvisibleTimes;":8290,"Iogon;":302,"Iopf;":[55349,56640],"Iota;":921,"Iscr;":8464,"Itilde;":296,"Iukcy;":1030,Iuml:207,"Iuml;":207,"Jcirc;":308,"Jcy;":1049,"Jfr;":[55349,56589],"Jopf;":[55349,56641],"Jscr;":[55349,56485],"Jsercy;":1032,"Jukcy;":1028,"KHcy;":1061,"KJcy;":1036,"Kappa;":922,"Kcedil;":310,"Kcy;":1050,"Kfr;":[55349,56590],"Kopf;":[55349,56642],"Kscr;":[55349,56486],"LJcy;":1033,LT:60,"LT;":60,"Lacute;":313,"Lambda;":923,"Lang;":10218,"Laplacetrf;":8466,"Larr;":8606,"Lcaron;":317,"Lcedil;":315,"Lcy;":1051,"LeftAngleBracket;":10216,"LeftArrow;":8592,"LeftArrowBar;":8676,"LeftArrowRightArrow;":8646,"LeftCeiling;":8968,"LeftDoubleBracket;":10214,"LeftDownTeeVector;":10593,"LeftDownVector;":8643,"LeftDownVectorBar;":10585,"LeftFloor;":8970,"LeftRightArrow;":8596,"LeftRightVector;":10574,"LeftTee;":8867,"LeftTeeArrow;":8612,"LeftTeeVector;":10586,"LeftTriangle;":8882,"LeftTriangleBar;":10703,"LeftTriangleEqual;":8884,"LeftUpDownVector;":10577,"LeftUpTeeVector;":10592,"LeftUpVector;":8639,"LeftUpVectorBar;":10584,"LeftVector;":8636,"LeftVectorBar;":10578,"Leftarrow;":8656,"Leftrightarrow;":8660,"LessEqualGreater;":8922,"LessFullEqual;":8806,"LessGreater;":8822,"LessLess;":10913,"LessSlantEqual;":10877,"LessTilde;":8818,"Lfr;":[55349,56591],"Ll;":8920,"Lleftarrow;":8666,"Lmidot;":319,"LongLeftArrow;":10229,"LongLeftRightArrow;":10231,"LongRightArrow;":10230,"Longleftarrow;":10232,"Longleftrightarrow;":10234,"Longrightarrow;":10233,"Lopf;":[55349,56643],"LowerLeftArrow;":8601,"LowerRightArrow;":8600,"Lscr;":8466,"Lsh;":8624,"Lstrok;":321,"Lt;":8810,"Map;":10501,"Mcy;":1052,"MediumSpace;":8287,"Mellintrf;":8499,"Mfr;":[55349,56592],"MinusPlus;":8723,"Mopf;":[55349,56644],"Mscr;":8499,"Mu;":924,"NJcy;":1034,"Nacute;":323,"Ncaron;":327,"Ncedil;":325,"Ncy;":1053,"NegativeMediumSpace;":8203,"NegativeThickSpace;":8203,"NegativeThinSpace;":8203,"NegativeVeryThinSpace;":8203,"NestedGreaterGreater;":8811,"NestedLessLess;":8810,"NewLine;":10,"Nfr;":[55349,56593],"NoBreak;":8288,"NonBreakingSpace;":160,"Nopf;":8469,"Not;":10988,"NotCongruent;":8802,"NotCupCap;":8813,"NotDoubleVerticalBar;":8742,"NotElement;":8713,"NotEqual;":8800,"NotEqualTilde;":[8770,824],"NotExists;":8708,"NotGreater;":8815,"NotGreaterEqual;":8817,"NotGreaterFullEqual;":[8807,824],"NotGreaterGreater;":[8811,824],"NotGreaterLess;":8825,"NotGreaterSlantEqual;":[10878,824],"NotGreaterTilde;":8821,"NotHumpDownHump;":[8782,824],"NotHumpEqual;":[8783,824],"NotLeftTriangle;":8938,"NotLeftTriangleBar;":[10703,824],"NotLeftTriangleEqual;":8940,"NotLess;":8814,"NotLessEqual;":8816,"NotLessGreater;":8824,"NotLessLess;":[8810,824],"NotLessSlantEqual;":[10877,824],"NotLessTilde;":8820,"NotNestedGreaterGreater;":[10914,824],"NotNestedLessLess;":[10913,824],"NotPrecedes;":8832,"NotPrecedesEqual;":[10927,824],"NotPrecedesSlantEqual;":8928,"NotReverseElement;":8716,"NotRightTriangle;":8939,"NotRightTriangleBar;":[10704,824],"NotRightTriangleEqual;":8941,"NotSquareSubset;":[8847,824],"NotSquareSubsetEqual;":8930,"NotSquareSuperset;":[8848,824],"NotSquareSupersetEqual;":8931,"NotSubset;":[8834,8402],"NotSubsetEqual;":8840,"NotSucceeds;":8833,"NotSucceedsEqual;":[10928,824],"NotSucceedsSlantEqual;":8929,"NotSucceedsTilde;":[8831,824],"NotSuperset;":[8835,8402],"NotSupersetEqual;":8841,"NotTilde;":8769,"NotTildeEqual;":8772,"NotTildeFullEqual;":8775,"NotTildeTilde;":8777,"NotVerticalBar;":8740,"Nscr;":[55349,56489],Ntilde:209,"Ntilde;":209,"Nu;":925,"OElig;":338,Oacute:211,"Oacute;":211,Ocirc:212,"Ocirc;":212,"Ocy;":1054,"Odblac;":336,"Ofr;":[55349,56594],Ograve:210,"Ograve;":210,"Omacr;":332,"Omega;":937,"Omicron;":927,"Oopf;":[55349,56646],"OpenCurlyDoubleQuote;":8220,"OpenCurlyQuote;":8216,"Or;":10836,"Oscr;":[55349,56490],Oslash:216,"Oslash;":216,Otilde:213,"Otilde;":213,"Otimes;":10807,Ouml:214,"Ouml;":214,"OverBar;":8254,"OverBrace;":9182,"OverBracket;":9140,"OverParenthesis;":9180,"PartialD;":8706,"Pcy;":1055,"Pfr;":[55349,56595],"Phi;":934,"Pi;":928,"PlusMinus;":177,"Poincareplane;":8460,"Popf;":8473,"Pr;":10939,"Precedes;":8826,"PrecedesEqual;":10927,"PrecedesSlantEqual;":8828,"PrecedesTilde;":8830,"Prime;":8243,"Product;":8719,"Proportion;":8759,"Proportional;":8733,"Pscr;":[55349,56491],"Psi;":936,QUOT:34,"QUOT;":34,"Qfr;":[55349,56596],"Qopf;":8474,"Qscr;":[55349,56492],"RBarr;":10512,REG:174,"REG;":174,"Racute;":340,"Rang;":10219,"Rarr;":8608,"Rarrtl;":10518,"Rcaron;":344,"Rcedil;":342,"Rcy;":1056,"Re;":8476,"ReverseElement;":8715,"ReverseEquilibrium;":8651,"ReverseUpEquilibrium;":10607,"Rfr;":8476,"Rho;":929,"RightAngleBracket;":10217,"RightArrow;":8594,"RightArrowBar;":8677,"RightArrowLeftArrow;":8644,"RightCeiling;":8969,"RightDoubleBracket;":10215,"RightDownTeeVector;":10589,"RightDownVector;":8642,"RightDownVectorBar;":10581,"RightFloor;":8971,"RightTee;":8866,"RightTeeArrow;":8614,"RightTeeVector;":10587,"RightTriangle;":8883,"RightTriangleBar;":10704,"RightTriangleEqual;":8885,"RightUpDownVector;":10575,"RightUpTeeVector;":10588,"RightUpVector;":8638,"RightUpVectorBar;":10580,"RightVector;":8640,"RightVectorBar;":10579,"Rightarrow;":8658,"Ropf;":8477,"RoundImplies;":10608,"Rrightarrow;":8667,"Rscr;":8475,"Rsh;":8625,"RuleDelayed;":10740,"SHCHcy;":1065,"SHcy;":1064,"SOFTcy;":1068,"Sacute;":346,"Sc;":10940,"Scaron;":352,"Scedil;":350,"Scirc;":348,"Scy;":1057,"Sfr;":[55349,56598],"ShortDownArrow;":8595,"ShortLeftArrow;":8592,"ShortRightArrow;":8594,"ShortUpArrow;":8593,"Sigma;":931,"SmallCircle;":8728,"Sopf;":[55349,56650],"Sqrt;":8730,"Square;":9633,"SquareIntersection;":8851,"SquareSubset;":8847,"SquareSubsetEqual;":8849,"SquareSuperset;":8848,"SquareSupersetEqual;":8850,"SquareUnion;":8852,"Sscr;":[55349,56494],"Star;":8902,"Sub;":8912,"Subset;":8912,"SubsetEqual;":8838,"Succeeds;":8827,"SucceedsEqual;":10928,"SucceedsSlantEqual;":8829,"SucceedsTilde;":8831,"SuchThat;":8715,"Sum;":8721,"Sup;":8913,"Superset;":8835,"SupersetEqual;":8839,"Supset;":8913,THORN:222,"THORN;":222,"TRADE;":8482,"TSHcy;":1035,"TScy;":1062,"Tab;":9,"Tau;":932,"Tcaron;":356,"Tcedil;":354,"Tcy;":1058,"Tfr;":[55349,56599],"Therefore;":8756,"Theta;":920,"ThickSpace;":[8287,8202],"ThinSpace;":8201,"Tilde;":8764,"TildeEqual;":8771,"TildeFullEqual;":8773,"TildeTilde;":8776,"Topf;":[55349,56651],"TripleDot;":8411,"Tscr;":[55349,56495],"Tstrok;":358,Uacute:218,"Uacute;":218,"Uarr;":8607,"Uarrocir;":10569,"Ubrcy;":1038,"Ubreve;":364,Ucirc:219,"Ucirc;":219,"Ucy;":1059,"Udblac;":368,"Ufr;":[55349,56600],Ugrave:217,"Ugrave;":217,"Umacr;":362,"UnderBar;":95,"UnderBrace;":9183,"UnderBracket;":9141,"UnderParenthesis;":9181,"Union;":8899,"UnionPlus;":8846,"Uogon;":370,"Uopf;":[55349,56652],"UpArrow;":8593,"UpArrowBar;":10514,"UpArrowDownArrow;":8645,"UpDownArrow;":8597,"UpEquilibrium;":10606,"UpTee;":8869,"UpTeeArrow;":8613,"Uparrow;":8657,"Updownarrow;":8661,"UpperLeftArrow;":8598,"UpperRightArrow;":8599,"Upsi;":978,"Upsilon;":933,"Uring;":366,"Uscr;":[55349,56496],"Utilde;":360,Uuml:220,"Uuml;":220,"VDash;":8875,"Vbar;":10987,"Vcy;":1042,"Vdash;":8873,"Vdashl;":10982,"Vee;":8897,"Verbar;":8214,"Vert;":8214,"VerticalBar;":8739,"VerticalLine;":124,"VerticalSeparator;":10072,"VerticalTilde;":8768,"VeryThinSpace;":8202,"Vfr;":[55349,56601],"Vopf;":[55349,56653],"Vscr;":[55349,56497],"Vvdash;":8874,"Wcirc;":372,"Wedge;":8896,"Wfr;":[55349,56602],"Wopf;":[55349,56654],"Wscr;":[55349,56498],"Xfr;":[55349,56603],"Xi;":926,"Xopf;":[55349,56655],"Xscr;":[55349,56499],"YAcy;":1071,"YIcy;":1031,"YUcy;":1070,Yacute:221,"Yacute;":221,"Ycirc;":374,"Ycy;":1067,"Yfr;":[55349,56604],"Yopf;":[55349,56656],"Yscr;":[55349,56500],"Yuml;":376,"ZHcy;":1046,"Zacute;":377,"Zcaron;":381,"Zcy;":1047,"Zdot;":379,"ZeroWidthSpace;":8203,"Zeta;":918,"Zfr;":8488,"Zopf;":8484,"Zscr;":[55349,56501],aacute:225,"aacute;":225,"abreve;":259,"ac;":8766,"acE;":[8766,819],"acd;":8767,acirc:226,"acirc;":226,acute:180,"acute;":180,"acy;":1072,aelig:230,"aelig;":230,"af;":8289,"afr;":[55349,56606],agrave:224,"agrave;":224,"alefsym;":8501,"aleph;":8501,"alpha;":945,"amacr;":257,"amalg;":10815,amp:38,"amp;":38,"and;":8743,"andand;":10837,"andd;":10844,"andslope;":10840,"andv;":10842,"ang;":8736,"ange;":10660,"angle;":8736,"angmsd;":8737,"angmsdaa;":10664,"angmsdab;":10665,"angmsdac;":10666,"angmsdad;":10667,"angmsdae;":10668,"angmsdaf;":10669,"angmsdag;":10670,"angmsdah;":10671,"angrt;":8735,"angrtvb;":8894,"angrtvbd;":10653,"angsph;":8738,"angst;":197,"angzarr;":9084,"aogon;":261,"aopf;":[55349,56658],"ap;":8776,"apE;":10864,"apacir;":10863,"ape;":8778,"apid;":8779,"apos;":39,"approx;":8776,"approxeq;":8778,aring:229,"aring;":229,"ascr;":[55349,56502],"ast;":42,"asymp;":8776,"asympeq;":8781,atilde:227,"atilde;":227,auml:228,"auml;":228,"awconint;":8755,"awint;":10769,"bNot;":10989,"backcong;":8780,"backepsilon;":1014,"backprime;":8245,"backsim;":8765,"backsimeq;":8909,"barvee;":8893,"barwed;":8965,"barwedge;":8965,"bbrk;":9141,"bbrktbrk;":9142,"bcong;":8780,"bcy;":1073,"bdquo;":8222,"becaus;":8757,"because;":8757,"bemptyv;":10672,"bepsi;":1014,"bernou;":8492,"beta;":946,"beth;":8502,"between;":8812,"bfr;":[55349,56607],"bigcap;":8898,"bigcirc;":9711,"bigcup;":8899,"bigodot;":10752,"bigoplus;":10753,"bigotimes;":10754,"bigsqcup;":10758,"bigstar;":9733,"bigtriangledown;":9661,"bigtriangleup;":9651,"biguplus;":10756,"bigvee;":8897,"bigwedge;":8896,"bkarow;":10509,"blacklozenge;":10731,"blacksquare;":9642,"blacktriangle;":9652,"blacktriangledown;":9662,"blacktriangleleft;":9666,"blacktriangleright;":9656,"blank;":9251,"blk12;":9618,"blk14;":9617,"blk34;":9619,"block;":9608,"bne;":[61,8421],"bnequiv;":[8801,8421],"bnot;":8976,"bopf;":[55349,56659],"bot;":8869,"bottom;":8869,"bowtie;":8904,"boxDL;":9559,"boxDR;":9556,"boxDl;":9558,"boxDr;":9555,"boxH;":9552,"boxHD;":9574,"boxHU;":9577,"boxHd;":9572,"boxHu;":9575,"boxUL;":9565,"boxUR;":9562,"boxUl;":9564,"boxUr;":9561,"boxV;":9553,"boxVH;":9580,"boxVL;":9571,"boxVR;":9568,"boxVh;":9579,"boxVl;":9570,"boxVr;":9567,"boxbox;":10697,"boxdL;":9557,"boxdR;":9554,"boxdl;":9488,"boxdr;":9484,"boxh;":9472,"boxhD;":9573,"boxhU;":9576,"boxhd;":9516,"boxhu;":9524,"boxminus;":8863,"boxplus;":8862,"boxtimes;":8864,"boxuL;":9563,"boxuR;":9560,"boxul;":9496,"boxur;":9492,"boxv;":9474,"boxvH;":9578,"boxvL;":9569,"boxvR;":9566,"boxvh;":9532,"boxvl;":9508,"boxvr;":9500,"bprime;":8245,"breve;":728,brvbar:166,"brvbar;":166,"bscr;":[55349,56503],"bsemi;":8271,"bsim;":8765,"bsime;":8909,"bsol;":92,"bsolb;":10693,"bsolhsub;":10184,"bull;":8226,"bullet;":8226,"bump;":8782,"bumpE;":10926,"bumpe;":8783,"bumpeq;":8783,"cacute;":263,"cap;":8745,"capand;":10820,"capbrcup;":10825,"capcap;":10827,"capcup;":10823,"capdot;":10816,"caps;":[8745,65024],"caret;":8257,"caron;":711,"ccaps;":10829,"ccaron;":269,ccedil:231,"ccedil;":231,"ccirc;":265,"ccups;":10828,"ccupssm;":10832,"cdot;":267,cedil:184,"cedil;":184,"cemptyv;":10674,cent:162,"cent;":162,"centerdot;":183,"cfr;":[55349,56608],"chcy;":1095,"check;":10003,"checkmark;":10003,"chi;":967,"cir;":9675,"cirE;":10691,"circ;":710,"circeq;":8791,"circlearrowleft;":8634,"circlearrowright;":8635,"circledR;":174,"circledS;":9416,"circledast;":8859,"circledcirc;":8858,"circleddash;":8861,"cire;":8791,"cirfnint;":10768,"cirmid;":10991,"cirscir;":10690,"clubs;":9827,"clubsuit;":9827,"colon;":58,"colone;":8788,"coloneq;":8788,"comma;":44,"commat;":64,"comp;":8705,"compfn;":8728,"complement;":8705,"complexes;":8450,"cong;":8773,"congdot;":10861,"conint;":8750,"copf;":[55349,56660],"coprod;":8720,copy:169,"copy;":169,"copysr;":8471,"crarr;":8629,"cross;":10007,"cscr;":[55349,56504],"csub;":10959,"csube;":10961,"csup;":10960,"csupe;":10962,"ctdot;":8943,"cudarrl;":10552,"cudarrr;":10549,"cuepr;":8926,"cuesc;":8927,"cularr;":8630,"cularrp;":10557,"cup;":8746,"cupbrcap;":10824,"cupcap;":10822,"cupcup;":10826,"cupdot;":8845,"cupor;":10821,"cups;":[8746,65024],"curarr;":8631,"curarrm;":10556,"curlyeqprec;":8926,"curlyeqsucc;":8927,"curlyvee;":8910,"curlywedge;":8911,curren:164,"curren;":164,"curvearrowleft;":8630,"curvearrowright;":8631,"cuvee;":8910,"cuwed;":8911,"cwconint;":8754,"cwint;":8753,"cylcty;":9005,"dArr;":8659,"dHar;":10597,"dagger;":8224,"daleth;":8504,"darr;":8595,"dash;":8208,"dashv;":8867,"dbkarow;":10511,"dblac;":733,"dcaron;":271,"dcy;":1076,"dd;":8518,"ddagger;":8225,"ddarr;":8650,"ddotseq;":10871,deg:176,"deg;":176,"delta;":948,"demptyv;":10673,"dfisht;":10623,"dfr;":[55349,56609],"dharl;":8643,"dharr;":8642,"diam;":8900,"diamond;":8900,"diamondsuit;":9830,"diams;":9830,"die;":168,"digamma;":989,"disin;":8946,"div;":247,divide:247,"divide;":247,"divideontimes;":8903,"divonx;":8903,"djcy;":1106,"dlcorn;":8990,"dlcrop;":8973,"dollar;":36,"dopf;":[55349,56661],"dot;":729,"doteq;":8784,"doteqdot;":8785,"dotminus;":8760,"dotplus;":8724,"dotsquare;":8865,"doublebarwedge;":8966,"downarrow;":8595,"downdownarrows;":8650,"downharpoonleft;":8643,"downharpoonright;":8642,"drbkarow;":10512,"drcorn;":8991,"drcrop;":8972,"dscr;":[55349,56505],"dscy;":1109,"dsol;":10742,"dstrok;":273,"dtdot;":8945,"dtri;":9663,"dtrif;":9662,"duarr;":8693,"duhar;":10607,"dwangle;":10662,"dzcy;":1119,"dzigrarr;":10239,"eDDot;":10871,"eDot;":8785,eacute:233,"eacute;":233,"easter;":10862,"ecaron;":283,"ecir;":8790,ecirc:234,"ecirc;":234,"ecolon;":8789,"ecy;":1101,"edot;":279,"ee;":8519,"efDot;":8786,"efr;":[55349,56610],"eg;":10906,egrave:232,"egrave;":232,"egs;":10902,"egsdot;":10904,"el;":10905,"elinters;":9191,"ell;":8467,"els;":10901,"elsdot;":10903,"emacr;":275,"empty;":8709,"emptyset;":8709,"emptyv;":8709,"emsp13;":8196,"emsp14;":8197,"emsp;":8195,"eng;":331,"ensp;":8194,"eogon;":281,"eopf;":[55349,56662],"epar;":8917,"eparsl;":10723,"eplus;":10865,"epsi;":949,"epsilon;":949,"epsiv;":1013,"eqcirc;":8790,"eqcolon;":8789,"eqsim;":8770,"eqslantgtr;":10902,"eqslantless;":10901,"equals;":61,"equest;":8799,"equiv;":8801,"equivDD;":10872,"eqvparsl;":10725,"erDot;":8787,"erarr;":10609,"escr;":8495,"esdot;":8784,"esim;":8770,"eta;":951,eth:240,"eth;":240,euml:235,"euml;":235,"euro;":8364,"excl;":33,"exist;":8707,"expectation;":8496,"exponentiale;":8519,"fallingdotseq;":8786,"fcy;":1092,"female;":9792,"ffilig;":64259,"fflig;":64256,"ffllig;":64260,"ffr;":[55349,56611],"filig;":64257,"fjlig;":[102,106],"flat;":9837,"fllig;":64258,"fltns;":9649,"fnof;":402,"fopf;":[55349,56663],"forall;":8704,"fork;":8916,"forkv;":10969,"fpartint;":10765,frac12:189,"frac12;":189,"frac13;":8531,frac14:188,"frac14;":188,"frac15;":8533,"frac16;":8537,"frac18;":8539,"frac23;":8532,"frac25;":8534,frac34:190,"frac34;":190,"frac35;":8535,"frac38;":8540,"frac45;":8536,"frac56;":8538,"frac58;":8541,"frac78;":8542,"frasl;":8260,"frown;":8994,"fscr;":[55349,56507],"gE;":8807,"gEl;":10892,"gacute;":501,"gamma;":947,"gammad;":989,"gap;":10886,"gbreve;":287,"gcirc;":285,"gcy;":1075,"gdot;":289,"ge;":8805,"gel;":8923,"geq;":8805,"geqq;":8807,"geqslant;":10878,"ges;":10878,"gescc;":10921,"gesdot;":10880,"gesdoto;":10882,"gesdotol;":10884,"gesl;":[8923,65024],"gesles;":10900,"gfr;":[55349,56612],"gg;":8811,"ggg;":8921,"gimel;":8503,"gjcy;":1107,"gl;":8823,"glE;":10898,"gla;":10917,"glj;":10916,"gnE;":8809,"gnap;":10890,"gnapprox;":10890,"gne;":10888,"gneq;":10888,"gneqq;":8809,"gnsim;":8935,"gopf;":[55349,56664],"grave;":96,"gscr;":8458,"gsim;":8819,"gsime;":10894,"gsiml;":10896,gt:62,"gt;":62,"gtcc;":10919,"gtcir;":10874,"gtdot;":8919,"gtlPar;":10645,"gtquest;":10876,"gtrapprox;":10886,"gtrarr;":10616,"gtrdot;":8919,"gtreqless;":8923,"gtreqqless;":10892,"gtrless;":8823,"gtrsim;":8819,"gvertneqq;":[8809,65024],"gvnE;":[8809,65024],"hArr;":8660,"hairsp;":8202,"half;":189,"hamilt;":8459,"hardcy;":1098,"harr;":8596,"harrcir;":10568,"harrw;":8621,"hbar;":8463,"hcirc;":293,"hearts;":9829,"heartsuit;":9829,"hellip;":8230,"hercon;":8889,"hfr;":[55349,56613],"hksearow;":10533,"hkswarow;":10534,"hoarr;":8703,"homtht;":8763,"hookleftarrow;":8617,"hookrightarrow;":8618,"hopf;":[55349,56665],"horbar;":8213,"hscr;":[55349,56509],"hslash;":8463,"hstrok;":295,"hybull;":8259,"hyphen;":8208,iacute:237,"iacute;":237,"ic;":8291,icirc:238,"icirc;":238,"icy;":1080,"iecy;":1077,iexcl:161,"iexcl;":161,"iff;":8660,"ifr;":[55349,56614],igrave:236,"igrave;":236,"ii;":8520,"iiiint;":10764,"iiint;":8749,"iinfin;":10716,"iiota;":8489,"ijlig;":307,"imacr;":299,"image;":8465,"imagline;":8464,"imagpart;":8465,"imath;":305,"imof;":8887,"imped;":437,"in;":8712,"incare;":8453,"infin;":8734,"infintie;":10717,"inodot;":305,"int;":8747,"intcal;":8890,"integers;":8484,"intercal;":8890,"intlarhk;":10775,"intprod;":10812,"iocy;":1105,"iogon;":303,"iopf;":[55349,56666],"iota;":953,"iprod;":10812,iquest:191,"iquest;":191,"iscr;":[55349,56510],"isin;":8712,"isinE;":8953,"isindot;":8949,"isins;":8948,"isinsv;":8947,"isinv;":8712,"it;":8290,"itilde;":297,"iukcy;":1110,iuml:239,"iuml;":239,"jcirc;":309,"jcy;":1081,"jfr;":[55349,56615],"jmath;":567,"jopf;":[55349,56667],"jscr;":[55349,56511],"jsercy;":1112,"jukcy;":1108,"kappa;":954,"kappav;":1008,"kcedil;":311,"kcy;":1082,"kfr;":[55349,56616],"kgreen;":312,"khcy;":1093,"kjcy;":1116,"kopf;":[55349,56668],"kscr;":[55349,56512],"lAarr;":8666,"lArr;":8656,"lAtail;":10523,"lBarr;":10510,"lE;":8806,"lEg;":10891,"lHar;":10594,"lacute;":314,"laemptyv;":10676,"lagran;":8466,"lambda;":955,"lang;":10216,"langd;":10641,"langle;":10216,"lap;":10885,laquo:171,"laquo;":171,"larr;":8592,"larrb;":8676,"larrbfs;":10527,"larrfs;":10525,"larrhk;":8617,"larrlp;":8619,"larrpl;":10553,"larrsim;":10611,"larrtl;":8610,"lat;":10923,"latail;":10521,"late;":10925,"lates;":[10925,65024],"lbarr;":10508,"lbbrk;":10098,"lbrace;":123,"lbrack;":91,"lbrke;":10635,"lbrksld;":10639,"lbrkslu;":10637,"lcaron;":318,"lcedil;":316,"lceil;":8968,"lcub;":123,"lcy;":1083,"ldca;":10550,"ldquo;":8220,"ldquor;":8222,"ldrdhar;":10599,"ldrushar;":10571,"ldsh;":8626,"le;":8804,"leftarrow;":8592,"leftarrowtail;":8610,"leftharpoondown;":8637,"leftharpoonup;":8636,"leftleftarrows;":8647,"leftrightarrow;":8596,"leftrightarrows;":8646,"leftrightharpoons;":8651,"leftrightsquigarrow;":8621,"leftthreetimes;":8907,"leg;":8922,"leq;":8804,"leqq;":8806,"leqslant;":10877,"les;":10877,"lescc;":10920,"lesdot;":10879,"lesdoto;":10881,"lesdotor;":10883,"lesg;":[8922,65024],"lesges;":10899,"lessapprox;":10885,"lessdot;":8918,"lesseqgtr;":8922,"lesseqqgtr;":10891,"lessgtr;":8822,"lesssim;":8818,"lfisht;":10620,"lfloor;":8970,"lfr;":[55349,56617],"lg;":8822,"lgE;":10897,"lhard;":8637,"lharu;":8636,"lharul;":10602,"lhblk;":9604,"ljcy;":1113,"ll;":8810,"llarr;":8647,"llcorner;":8990,"llhard;":10603,"lltri;":9722,"lmidot;":320,"lmoust;":9136,"lmoustache;":9136,"lnE;":8808,"lnap;":10889,"lnapprox;":10889,"lne;":10887,"lneq;":10887,"lneqq;":8808,"lnsim;":8934,"loang;":10220,"loarr;":8701,"lobrk;":10214,"longleftarrow;":10229,"longleftrightarrow;":10231,"longmapsto;":10236,"longrightarrow;":10230,"looparrowleft;":8619,"looparrowright;":8620,"lopar;":10629,"lopf;":[55349,56669],"loplus;":10797,"lotimes;":10804,"lowast;":8727,"lowbar;":95,"loz;":9674,"lozenge;":9674,"lozf;":10731,"lpar;":40,"lparlt;":10643,"lrarr;":8646,"lrcorner;":8991,"lrhar;":8651,"lrhard;":10605,"lrm;":8206,"lrtri;":8895,"lsaquo;":8249,"lscr;":[55349,56513],"lsh;":8624,"lsim;":8818,"lsime;":10893,"lsimg;":10895,"lsqb;":91,"lsquo;":8216,"lsquor;":8218,"lstrok;":322,lt:60,"lt;":60,"ltcc;":10918,"ltcir;":10873,"ltdot;":8918,"lthree;":8907,"ltimes;":8905,"ltlarr;":10614,"ltquest;":10875,"ltrPar;":10646,"ltri;":9667,"ltrie;":8884,"ltrif;":9666,"lurdshar;":10570,"luruhar;":10598,"lvertneqq;":[8808,65024],"lvnE;":[8808,65024],"mDDot;":8762,macr:175,"macr;":175,"male;":9794,"malt;":10016,"maltese;":10016,"map;":8614,"mapsto;":8614,"mapstodown;":8615,"mapstoleft;":8612,"mapstoup;":8613,"marker;":9646,"mcomma;":10793,"mcy;":1084,"mdash;":8212,"measuredangle;":8737,"mfr;":[55349,56618],"mho;":8487,micro:181,"micro;":181,"mid;":8739,"midast;":42,"midcir;":10992,middot:183,"middot;":183,"minus;":8722,"minusb;":8863,"minusd;":8760,"minusdu;":10794,"mlcp;":10971,"mldr;":8230,"mnplus;":8723,"models;":8871,"mopf;":[55349,56670],"mp;":8723,"mscr;":[55349,56514],"mstpos;":8766,"mu;":956,"multimap;":8888,"mumap;":8888,"nGg;":[8921,824],"nGt;":[8811,8402],"nGtv;":[8811,824],"nLeftarrow;":8653,"nLeftrightarrow;":8654,"nLl;":[8920,824],"nLt;":[8810,8402],"nLtv;":[8810,824],"nRightarrow;":8655,"nVDash;":8879,"nVdash;":8878,"nabla;":8711,"nacute;":324,"nang;":[8736,8402],"nap;":8777,"napE;":[10864,824],"napid;":[8779,824],"napos;":329,"napprox;":8777,"natur;":9838,"natural;":9838,"naturals;":8469,nbsp:160,"nbsp;":160,"nbump;":[8782,824],"nbumpe;":[8783,824],"ncap;":10819,"ncaron;":328,"ncedil;":326,"ncong;":8775,"ncongdot;":[10861,824],"ncup;":10818,"ncy;":1085,"ndash;":8211,"ne;":8800,"neArr;":8663,"nearhk;":10532,"nearr;":8599,"nearrow;":8599,"nedot;":[8784,824],"nequiv;":8802,"nesear;":10536,"nesim;":[8770,824],"nexist;":8708,"nexists;":8708,"nfr;":[55349,56619],"ngE;":[8807,824],"nge;":8817,"ngeq;":8817,"ngeqq;":[8807,824],"ngeqslant;":[10878,824],"nges;":[10878,824],"ngsim;":8821,"ngt;":8815,"ngtr;":8815,"nhArr;":8654,"nharr;":8622,"nhpar;":10994,"ni;":8715,"nis;":8956,"nisd;":8954,"niv;":8715,"njcy;":1114,"nlArr;":8653,"nlE;":[8806,824],"nlarr;":8602,"nldr;":8229,"nle;":8816,"nleftarrow;":8602,"nleftrightarrow;":8622,"nleq;":8816,"nleqq;":[8806,824],"nleqslant;":[10877,824],"nles;":[10877,824],"nless;":8814,"nlsim;":8820,"nlt;":8814,"nltri;":8938,"nltrie;":8940,"nmid;":8740,"nopf;":[55349,56671],not:172,"not;":172,"notin;":8713,"notinE;":[8953,824],"notindot;":[8949,824],"notinva;":8713,"notinvb;":8951,"notinvc;":8950,"notni;":8716,"notniva;":8716,"notnivb;":8958,"notnivc;":8957,"npar;":8742,"nparallel;":8742,"nparsl;":[11005,8421],"npart;":[8706,824],"npolint;":10772,"npr;":8832,"nprcue;":8928,"npre;":[10927,824],"nprec;":8832,"npreceq;":[10927,824],"nrArr;":8655,"nrarr;":8603,"nrarrc;":[10547,824],"nrarrw;":[8605,824],"nrightarrow;":8603,"nrtri;":8939,"nrtrie;":8941,"nsc;":8833,"nsccue;":8929,"nsce;":[10928,824],"nscr;":[55349,56515],"nshortmid;":8740,"nshortparallel;":8742,"nsim;":8769,"nsime;":8772,"nsimeq;":8772,"nsmid;":8740,"nspar;":8742,"nsqsube;":8930,"nsqsupe;":8931,"nsub;":8836,"nsubE;":[10949,824],"nsube;":8840,"nsubset;":[8834,8402],"nsubseteq;":8840,"nsubseteqq;":[10949,824],"nsucc;":8833,"nsucceq;":[10928,824],"nsup;":8837,"nsupE;":[10950,824],"nsupe;":8841,"nsupset;":[8835,8402],"nsupseteq;":8841,"nsupseteqq;":[10950,824],"ntgl;":8825,ntilde:241,"ntilde;":241,"ntlg;":8824,"ntriangleleft;":8938,"ntrianglelefteq;":8940,"ntriangleright;":8939,"ntrianglerighteq;":8941,"nu;":957,"num;":35,"numero;":8470,"numsp;":8199,"nvDash;":8877,"nvHarr;":10500,"nvap;":[8781,8402],"nvdash;":8876,"nvge;":[8805,8402],"nvgt;":[62,8402],"nvinfin;":10718,"nvlArr;":10498,"nvle;":[8804,8402],"nvlt;":[60,8402],"nvltrie;":[8884,8402],"nvrArr;":10499,"nvrtrie;":[8885,8402],"nvsim;":[8764,8402],"nwArr;":8662,"nwarhk;":10531,"nwarr;":8598,"nwarrow;":8598,"nwnear;":10535,"oS;":9416,oacute:243,"oacute;":243,"oast;":8859,"ocir;":8858,ocirc:244,"ocirc;":244,"ocy;":1086,"odash;":8861,"odblac;":337,"odiv;":10808,"odot;":8857,"odsold;":10684,"oelig;":339,"ofcir;":10687,"ofr;":[55349,56620],"ogon;":731,ograve:242,"ograve;":242,"ogt;":10689,"ohbar;":10677,"ohm;":937,"oint;":8750,"olarr;":8634,"olcir;":10686,"olcross;":10683,"oline;":8254,"olt;":10688,"omacr;":333,"omega;":969,"omicron;":959,"omid;":10678,"ominus;":8854,"oopf;":[55349,56672],"opar;":10679,"operp;":10681,"oplus;":8853,"or;":8744,"orarr;":8635,"ord;":10845,"order;":8500,"orderof;":8500,ordf:170,"ordf;":170,ordm:186,"ordm;":186,"origof;":8886,"oror;":10838,"orslope;":10839,"orv;":10843,"oscr;":8500,oslash:248,"oslash;":248,"osol;":8856,otilde:245,"otilde;":245,"otimes;":8855,"otimesas;":10806,ouml:246,"ouml;":246,"ovbar;":9021,"par;":8741,para:182,"para;":182,"parallel;":8741,"parsim;":10995,"parsl;":11005,"part;":8706,"pcy;":1087,"percnt;":37,"period;":46,"permil;":8240,"perp;":8869,"pertenk;":8241,"pfr;":[55349,56621],"phi;":966,"phiv;":981,"phmmat;":8499,"phone;":9742,"pi;":960,"pitchfork;":8916,"piv;":982,"planck;":8463,"planckh;":8462,"plankv;":8463,"plus;":43,"plusacir;":10787,"plusb;":8862,"pluscir;":10786,"plusdo;":8724,"plusdu;":10789,"pluse;":10866,plusmn:177,"plusmn;":177,"plussim;":10790,"plustwo;":10791,"pm;":177,"pointint;":10773,"popf;":[55349,56673],pound:163,"pound;":163,"pr;":8826,"prE;":10931,"prap;":10935,"prcue;":8828,"pre;":10927,"prec;":8826,"precapprox;":10935,"preccurlyeq;":8828,"preceq;":10927,"precnapprox;":10937,"precneqq;":10933,"precnsim;":8936,"precsim;":8830,"prime;":8242,"primes;":8473,"prnE;":10933,"prnap;":10937,"prnsim;":8936,"prod;":8719,"profalar;":9006,"profline;":8978,"profsurf;":8979,"prop;":8733,"propto;":8733,"prsim;":8830,"prurel;":8880,"pscr;":[55349,56517],"psi;":968,"puncsp;":8200,"qfr;":[55349,56622],"qint;":10764,"qopf;":[55349,56674],"qprime;":8279,"qscr;":[55349,56518],"quaternions;":8461,"quatint;":10774,"quest;":63,"questeq;":8799,quot:34,"quot;":34,"rAarr;":8667,"rArr;":8658,"rAtail;":10524,"rBarr;":10511,"rHar;":10596,"race;":[8765,817],"racute;":341,"radic;":8730,"raemptyv;":10675,"rang;":10217,"rangd;":10642,"range;":10661,"rangle;":10217,raquo:187,"raquo;":187,"rarr;":8594,"rarrap;":10613,"rarrb;":8677,"rarrbfs;":10528,"rarrc;":10547,"rarrfs;":10526,"rarrhk;":8618,"rarrlp;":8620,"rarrpl;":10565,"rarrsim;":10612,"rarrtl;":8611,"rarrw;":8605,"ratail;":10522,"ratio;":8758,"rationals;":8474,"rbarr;":10509,"rbbrk;":10099,"rbrace;":125,"rbrack;":93,"rbrke;":10636,"rbrksld;":10638,"rbrkslu;":10640,"rcaron;":345,"rcedil;":343,"rceil;":8969,"rcub;":125,"rcy;":1088,"rdca;":10551,"rdldhar;":10601,"rdquo;":8221,"rdquor;":8221,"rdsh;":8627,"real;":8476,"realine;":8475,"realpart;":8476,"reals;":8477,"rect;":9645,reg:174,"reg;":174,"rfisht;":10621,"rfloor;":8971,"rfr;":[55349,56623],"rhard;":8641,"rharu;":8640,"rharul;":10604,"rho;":961,"rhov;":1009,"rightarrow;":8594,"rightarrowtail;":8611,"rightharpoondown;":8641,"rightharpoonup;":8640,"rightleftarrows;":8644,"rightleftharpoons;":8652,"rightrightarrows;":8649,"rightsquigarrow;":8605,"rightthreetimes;":8908,"ring;":730,"risingdotseq;":8787,"rlarr;":8644,"rlhar;":8652,"rlm;":8207,"rmoust;":9137,"rmoustache;":9137,"rnmid;":10990,"roang;":10221,"roarr;":8702,"robrk;":10215,"ropar;":10630,"ropf;":[55349,56675],"roplus;":10798,"rotimes;":10805,"rpar;":41,"rpargt;":10644,"rppolint;":10770,"rrarr;":8649,"rsaquo;":8250,"rscr;":[55349,56519],"rsh;":8625,"rsqb;":93,"rsquo;":8217,"rsquor;":8217,"rthree;":8908,"rtimes;":8906,"rtri;":9657,"rtrie;":8885,"rtrif;":9656,"rtriltri;":10702,"ruluhar;":10600,"rx;":8478,"sacute;":347,"sbquo;":8218,"sc;":8827,"scE;":10932,"scap;":10936,"scaron;":353,"sccue;":8829,"sce;":10928,"scedil;":351,"scirc;":349,"scnE;":10934,"scnap;":10938,"scnsim;":8937,"scpolint;":10771,"scsim;":8831,"scy;":1089,"sdot;":8901,"sdotb;":8865,"sdote;":10854,"seArr;":8664,"searhk;":10533,"searr;":8600,"searrow;":8600,sect:167,"sect;":167,"semi;":59,"seswar;":10537,"setminus;":8726,"setmn;":8726,"sext;":10038,"sfr;":[55349,56624],"sfrown;":8994,"sharp;":9839,"shchcy;":1097,"shcy;":1096,"shortmid;":8739,"shortparallel;":8741,shy:173,"shy;":173,"sigma;":963,"sigmaf;":962,"sigmav;":962,"sim;":8764,"simdot;":10858,"sime;":8771,"simeq;":8771,"simg;":10910,"simgE;":10912,"siml;":10909,"simlE;":10911,"simne;":8774,"simplus;":10788,"simrarr;":10610,"slarr;":8592,"smallsetminus;":8726,"smashp;":10803,"smeparsl;":10724,"smid;":8739,"smile;":8995,"smt;":10922,"smte;":10924,"smtes;":[10924,65024],"softcy;":1100,"sol;":47,"solb;":10692,"solbar;":9023,"sopf;":[55349,56676],"spades;":9824,"spadesuit;":9824,"spar;":8741,"sqcap;":8851,"sqcaps;":[8851,65024],"sqcup;":8852,"sqcups;":[8852,65024],"sqsub;":8847,"sqsube;":8849,"sqsubset;":8847,"sqsubseteq;":8849,"sqsup;":8848,"sqsupe;":8850,"sqsupset;":8848,"sqsupseteq;":8850,"squ;":9633,"square;":9633,"squarf;":9642,"squf;":9642,"srarr;":8594,"sscr;":[55349,56520],"ssetmn;":8726,"ssmile;":8995,"sstarf;":8902,"star;":9734,"starf;":9733,"straightepsilon;":1013,"straightphi;":981,"strns;":175,"sub;":8834,"subE;":10949,"subdot;":10941,"sube;":8838,"subedot;":10947,"submult;":10945,"subnE;":10955,"subne;":8842,"subplus;":10943,"subrarr;":10617,"subset;":8834,"subseteq;":8838,"subseteqq;":10949,"subsetneq;":8842,"subsetneqq;":10955,"subsim;":10951,"subsub;":10965,"subsup;":10963,"succ;":8827,"succapprox;":10936,"succcurlyeq;":8829,"succeq;":10928,"succnapprox;":10938,"succneqq;":10934,"succnsim;":8937,"succsim;":8831,"sum;":8721,"sung;":9834,sup1:185,"sup1;":185,sup2:178,"sup2;":178,sup3:179,"sup3;":179,"sup;":8835,"supE;":10950,"supdot;":10942,"supdsub;":10968,"supe;":8839,"supedot;":10948,"suphsol;":10185,"suphsub;":10967,"suplarr;":10619,"supmult;":10946,"supnE;":10956,"supne;":8843,"supplus;":10944,"supset;":8835,"supseteq;":8839,"supseteqq;":10950,"supsetneq;":8843,"supsetneqq;":10956,"supsim;":10952,"supsub;":10964,"supsup;":10966,"swArr;":8665,"swarhk;":10534,"swarr;":8601,"swarrow;":8601,"swnwar;":10538,szlig:223,"szlig;":223,"target;":8982,"tau;":964,"tbrk;":9140,"tcaron;":357,"tcedil;":355,"tcy;":1090,"tdot;":8411,"telrec;":8981,"tfr;":[55349,56625],"there4;":8756,"therefore;":8756,"theta;":952,"thetasym;":977,"thetav;":977,"thickapprox;":8776,"thicksim;":8764,"thinsp;":8201,"thkap;":8776,"thksim;":8764,thorn:254,"thorn;":254,"tilde;":732,times:215,"times;":215,"timesb;":8864,"timesbar;":10801,"timesd;":10800,"tint;":8749,"toea;":10536,"top;":8868,"topbot;":9014,"topcir;":10993,"topf;":[55349,56677],"topfork;":10970,"tosa;":10537,"tprime;":8244,"trade;":8482,"triangle;":9653,"triangledown;":9663,"triangleleft;":9667,"trianglelefteq;":8884,"triangleq;":8796,"triangleright;":9657,"trianglerighteq;":8885,"tridot;":9708,"trie;":8796,"triminus;":10810,"triplus;":10809,"trisb;":10701,"tritime;":10811,"trpezium;":9186,"tscr;":[55349,56521],"tscy;":1094,"tshcy;":1115,"tstrok;":359,"twixt;":8812,"twoheadleftarrow;":8606,"twoheadrightarrow;":8608,"uArr;":8657,"uHar;":10595,uacute:250,"uacute;":250,"uarr;":8593,"ubrcy;":1118,"ubreve;":365,ucirc:251,"ucirc;":251,"ucy;":1091,"udarr;":8645,"udblac;":369,"udhar;":10606,"ufisht;":10622,"ufr;":[55349,56626],ugrave:249,"ugrave;":249,"uharl;":8639,"uharr;":8638,"uhblk;":9600,"ulcorn;":8988,"ulcorner;":8988,"ulcrop;":8975,"ultri;":9720,"umacr;":363,uml:168,"uml;":168,"uogon;":371,"uopf;":[55349,56678],"uparrow;":8593,"updownarrow;":8597,"upharpoonleft;":8639,"upharpoonright;":8638,"uplus;":8846,"upsi;":965,"upsih;":978,"upsilon;":965,"upuparrows;":8648,"urcorn;":8989,"urcorner;":8989,"urcrop;":8974,"uring;":367,"urtri;":9721,"uscr;":[55349,56522],"utdot;":8944,"utilde;":361,"utri;":9653,"utrif;":9652,"uuarr;":8648,uuml:252,"uuml;":252,"uwangle;":10663,"vArr;":8661,"vBar;":10984,"vBarv;":10985,"vDash;":8872,"vangrt;":10652,"varepsilon;":1013,"varkappa;":1008,"varnothing;":8709,"varphi;":981,"varpi;":982,"varpropto;":8733,"varr;":8597,"varrho;":1009,"varsigma;":962,"varsubsetneq;":[8842,65024],"varsubsetneqq;":[10955,65024],"varsupsetneq;":[8843,65024],"varsupsetneqq;":[10956,65024],"vartheta;":977,"vartriangleleft;":8882,"vartriangleright;":8883,"vcy;":1074,"vdash;":8866,"vee;":8744,"veebar;":8891,"veeeq;":8794,"vellip;":8942,"verbar;":124,"vert;":124,"vfr;":[55349,56627],"vltri;":8882,"vnsub;":[8834,8402],"vnsup;":[8835,8402],"vopf;":[55349,56679],"vprop;":8733,"vrtri;":8883,"vscr;":[55349,56523],"vsubnE;":[10955,65024],"vsubne;":[8842,65024],"vsupnE;":[10956,65024],"vsupne;":[8843,65024],"vzigzag;":10650,"wcirc;":373,"wedbar;":10847,"wedge;":8743,"wedgeq;":8793,"weierp;":8472,"wfr;":[55349,56628],"wopf;":[55349,56680],"wp;":8472,"wr;":8768,"wreath;":8768,"wscr;":[55349,56524],"xcap;":8898,"xcirc;":9711,"xcup;":8899,"xdtri;":9661,"xfr;":[55349,56629],"xhArr;":10234,"xharr;":10231,"xi;":958,"xlArr;":10232,"xlarr;":10229,"xmap;":10236,"xnis;":8955,"xodot;":10752,"xopf;":[55349,56681],"xoplus;":10753,"xotime;":10754,"xrArr;":10233,"xrarr;":10230,"xscr;":[55349,56525],"xsqcup;":10758,"xuplus;":10756,"xutri;":9651,"xvee;":8897,"xwedge;":8896,yacute:253,"yacute;":253,"yacy;":1103,"ycirc;":375,"ycy;":1099,yen:165,"yen;":165,"yfr;":[55349,56630],"yicy;":1111,"yopf;":[55349,56682],"yscr;":[55349,56526],"yucy;":1102,yuml:255,"yuml;":255,"zacute;":378,"zcaron;":382,"zcy;":1079,"zdot;":380,"zeetrf;":8488,"zeta;":950,"zfr;":[55349,56631],"zhcy;":1078,"zigrarr;":8669,"zopf;":[55349,56683],"zscr;":[55349,56527],"zwj;":8205,"zwnj;":8204},NAMEDCHARREF=/(A(?:Elig;?|MP;?|acute;?|breve;|c(?:irc;?|y;)|fr;|grave;?|lpha;|macr;|nd;|o(?:gon;|pf;)|pplyFunction;|ring;?|s(?:cr;|sign;)|tilde;?|uml;?)|B(?:a(?:ckslash;|r(?:v;|wed;))|cy;|e(?:cause;|rnoullis;|ta;)|fr;|opf;|reve;|scr;|umpeq;)|C(?:Hcy;|OPY;?|a(?:cute;|p(?:;|italDifferentialD;)|yleys;)|c(?:aron;|edil;?|irc;|onint;)|dot;|e(?:dilla;|nterDot;)|fr;|hi;|ircle(?:Dot;|Minus;|Plus;|Times;)|lo(?:ckwiseContourIntegral;|seCurly(?:DoubleQuote;|Quote;))|o(?:lon(?:;|e;)|n(?:gruent;|int;|tourIntegral;)|p(?:f;|roduct;)|unterClockwiseContourIntegral;)|ross;|scr;|up(?:;|Cap;))|D(?:D(?:;|otrahd;)|Jcy;|Scy;|Zcy;|a(?:gger;|rr;|shv;)|c(?:aron;|y;)|el(?:;|ta;)|fr;|i(?:a(?:critical(?:Acute;|Do(?:t;|ubleAcute;)|Grave;|Tilde;)|mond;)|fferentialD;)|o(?:pf;|t(?:;|Dot;|Equal;)|uble(?:ContourIntegral;|Do(?:t;|wnArrow;)|L(?:eft(?:Arrow;|RightArrow;|Tee;)|ong(?:Left(?:Arrow;|RightArrow;)|RightArrow;))|Right(?:Arrow;|Tee;)|Up(?:Arrow;|DownArrow;)|VerticalBar;)|wn(?:Arrow(?:;|Bar;|UpArrow;)|Breve;|Left(?:RightVector;|TeeVector;|Vector(?:;|Bar;))|Right(?:TeeVector;|Vector(?:;|Bar;))|Tee(?:;|Arrow;)|arrow;))|s(?:cr;|trok;))|E(?:NG;|TH;?|acute;?|c(?:aron;|irc;?|y;)|dot;|fr;|grave;?|lement;|m(?:acr;|pty(?:SmallSquare;|VerySmallSquare;))|o(?:gon;|pf;)|psilon;|qu(?:al(?:;|Tilde;)|ilibrium;)|s(?:cr;|im;)|ta;|uml;?|x(?:ists;|ponentialE;))|F(?:cy;|fr;|illed(?:SmallSquare;|VerySmallSquare;)|o(?:pf;|rAll;|uriertrf;)|scr;)|G(?:Jcy;|T;?|amma(?:;|d;)|breve;|c(?:edil;|irc;|y;)|dot;|fr;|g;|opf;|reater(?:Equal(?:;|Less;)|FullEqual;|Greater;|Less;|SlantEqual;|Tilde;)|scr;|t;)|H(?:ARDcy;|a(?:cek;|t;)|circ;|fr;|ilbertSpace;|o(?:pf;|rizontalLine;)|s(?:cr;|trok;)|ump(?:DownHump;|Equal;))|I(?:Ecy;|Jlig;|Ocy;|acute;?|c(?:irc;?|y;)|dot;|fr;|grave;?|m(?:;|a(?:cr;|ginaryI;)|plies;)|n(?:t(?:;|e(?:gral;|rsection;))|visible(?:Comma;|Times;))|o(?:gon;|pf;|ta;)|scr;|tilde;|u(?:kcy;|ml;?))|J(?:c(?:irc;|y;)|fr;|opf;|s(?:cr;|ercy;)|ukcy;)|K(?:Hcy;|Jcy;|appa;|c(?:edil;|y;)|fr;|opf;|scr;)|L(?:Jcy;|T;?|a(?:cute;|mbda;|ng;|placetrf;|rr;)|c(?:aron;|edil;|y;)|e(?:ft(?:A(?:ngleBracket;|rrow(?:;|Bar;|RightArrow;))|Ceiling;|Do(?:ubleBracket;|wn(?:TeeVector;|Vector(?:;|Bar;)))|Floor;|Right(?:Arrow;|Vector;)|T(?:ee(?:;|Arrow;|Vector;)|riangle(?:;|Bar;|Equal;))|Up(?:DownVector;|TeeVector;|Vector(?:;|Bar;))|Vector(?:;|Bar;)|arrow;|rightarrow;)|ss(?:EqualGreater;|FullEqual;|Greater;|Less;|SlantEqual;|Tilde;))|fr;|l(?:;|eftarrow;)|midot;|o(?:ng(?:Left(?:Arrow;|RightArrow;)|RightArrow;|left(?:arrow;|rightarrow;)|rightarrow;)|pf;|wer(?:LeftArrow;|RightArrow;))|s(?:cr;|h;|trok;)|t;)|M(?:ap;|cy;|e(?:diumSpace;|llintrf;)|fr;|inusPlus;|opf;|scr;|u;)|N(?:Jcy;|acute;|c(?:aron;|edil;|y;)|e(?:gative(?:MediumSpace;|Thi(?:ckSpace;|nSpace;)|VeryThinSpace;)|sted(?:GreaterGreater;|LessLess;)|wLine;)|fr;|o(?:Break;|nBreakingSpace;|pf;|t(?:;|C(?:ongruent;|upCap;)|DoubleVerticalBar;|E(?:lement;|qual(?:;|Tilde;)|xists;)|Greater(?:;|Equal;|FullEqual;|Greater;|Less;|SlantEqual;|Tilde;)|Hump(?:DownHump;|Equal;)|Le(?:ftTriangle(?:;|Bar;|Equal;)|ss(?:;|Equal;|Greater;|Less;|SlantEqual;|Tilde;))|Nested(?:GreaterGreater;|LessLess;)|Precedes(?:;|Equal;|SlantEqual;)|R(?:everseElement;|ightTriangle(?:;|Bar;|Equal;))|S(?:quareSu(?:bset(?:;|Equal;)|perset(?:;|Equal;))|u(?:bset(?:;|Equal;)|cceeds(?:;|Equal;|SlantEqual;|Tilde;)|perset(?:;|Equal;)))|Tilde(?:;|Equal;|FullEqual;|Tilde;)|VerticalBar;))|scr;|tilde;?|u;)|O(?:Elig;|acute;?|c(?:irc;?|y;)|dblac;|fr;|grave;?|m(?:acr;|ega;|icron;)|opf;|penCurly(?:DoubleQuote;|Quote;)|r;|s(?:cr;|lash;?)|ti(?:lde;?|mes;)|uml;?|ver(?:B(?:ar;|rac(?:e;|ket;))|Parenthesis;))|P(?:artialD;|cy;|fr;|hi;|i;|lusMinus;|o(?:incareplane;|pf;)|r(?:;|ecedes(?:;|Equal;|SlantEqual;|Tilde;)|ime;|o(?:duct;|portion(?:;|al;)))|s(?:cr;|i;))|Q(?:UOT;?|fr;|opf;|scr;)|R(?:Barr;|EG;?|a(?:cute;|ng;|rr(?:;|tl;))|c(?:aron;|edil;|y;)|e(?:;|verse(?:E(?:lement;|quilibrium;)|UpEquilibrium;))|fr;|ho;|ight(?:A(?:ngleBracket;|rrow(?:;|Bar;|LeftArrow;))|Ceiling;|Do(?:ubleBracket;|wn(?:TeeVector;|Vector(?:;|Bar;)))|Floor;|T(?:ee(?:;|Arrow;|Vector;)|riangle(?:;|Bar;|Equal;))|Up(?:DownVector;|TeeVector;|Vector(?:;|Bar;))|Vector(?:;|Bar;)|arrow;)|o(?:pf;|undImplies;)|rightarrow;|s(?:cr;|h;)|uleDelayed;)|S(?:H(?:CHcy;|cy;)|OFTcy;|acute;|c(?:;|aron;|edil;|irc;|y;)|fr;|hort(?:DownArrow;|LeftArrow;|RightArrow;|UpArrow;)|igma;|mallCircle;|opf;|q(?:rt;|uare(?:;|Intersection;|Su(?:bset(?:;|Equal;)|perset(?:;|Equal;))|Union;))|scr;|tar;|u(?:b(?:;|set(?:;|Equal;))|c(?:ceeds(?:;|Equal;|SlantEqual;|Tilde;)|hThat;)|m;|p(?:;|erset(?:;|Equal;)|set;)))|T(?:HORN;?|RADE;|S(?:Hcy;|cy;)|a(?:b;|u;)|c(?:aron;|edil;|y;)|fr;|h(?:e(?:refore;|ta;)|i(?:ckSpace;|nSpace;))|ilde(?:;|Equal;|FullEqual;|Tilde;)|opf;|ripleDot;|s(?:cr;|trok;))|U(?:a(?:cute;?|rr(?:;|ocir;))|br(?:cy;|eve;)|c(?:irc;?|y;)|dblac;|fr;|grave;?|macr;|n(?:der(?:B(?:ar;|rac(?:e;|ket;))|Parenthesis;)|ion(?:;|Plus;))|o(?:gon;|pf;)|p(?:Arrow(?:;|Bar;|DownArrow;)|DownArrow;|Equilibrium;|Tee(?:;|Arrow;)|arrow;|downarrow;|per(?:LeftArrow;|RightArrow;)|si(?:;|lon;))|ring;|scr;|tilde;|uml;?)|V(?:Dash;|bar;|cy;|dash(?:;|l;)|e(?:e;|r(?:bar;|t(?:;|ical(?:Bar;|Line;|Separator;|Tilde;))|yThinSpace;))|fr;|opf;|scr;|vdash;)|W(?:circ;|edge;|fr;|opf;|scr;)|X(?:fr;|i;|opf;|scr;)|Y(?:Acy;|Icy;|Ucy;|acute;?|c(?:irc;|y;)|fr;|opf;|scr;|uml;)|Z(?:Hcy;|acute;|c(?:aron;|y;)|dot;|e(?:roWidthSpace;|ta;)|fr;|opf;|scr;)|a(?:acute;?|breve;|c(?:;|E;|d;|irc;?|ute;?|y;)|elig;?|f(?:;|r;)|grave;?|l(?:e(?:fsym;|ph;)|pha;)|m(?:a(?:cr;|lg;)|p;?)|n(?:d(?:;|and;|d;|slope;|v;)|g(?:;|e;|le;|msd(?:;|a(?:a;|b;|c;|d;|e;|f;|g;|h;))|rt(?:;|vb(?:;|d;))|s(?:ph;|t;)|zarr;))|o(?:gon;|pf;)|p(?:;|E;|acir;|e;|id;|os;|prox(?:;|eq;))|ring;?|s(?:cr;|t;|ymp(?:;|eq;))|tilde;?|uml;?|w(?:conint;|int;))|b(?:Not;|a(?:ck(?:cong;|epsilon;|prime;|sim(?:;|eq;))|r(?:vee;|wed(?:;|ge;)))|brk(?:;|tbrk;)|c(?:ong;|y;)|dquo;|e(?:caus(?:;|e;)|mptyv;|psi;|rnou;|t(?:a;|h;|ween;))|fr;|ig(?:c(?:ap;|irc;|up;)|o(?:dot;|plus;|times;)|s(?:qcup;|tar;)|triangle(?:down;|up;)|uplus;|vee;|wedge;)|karow;|l(?:a(?:ck(?:lozenge;|square;|triangle(?:;|down;|left;|right;))|nk;)|k(?:1(?:2;|4;)|34;)|ock;)|n(?:e(?:;|quiv;)|ot;)|o(?:pf;|t(?:;|tom;)|wtie;|x(?:D(?:L;|R;|l;|r;)|H(?:;|D;|U;|d;|u;)|U(?:L;|R;|l;|r;)|V(?:;|H;|L;|R;|h;|l;|r;)|box;|d(?:L;|R;|l;|r;)|h(?:;|D;|U;|d;|u;)|minus;|plus;|times;|u(?:L;|R;|l;|r;)|v(?:;|H;|L;|R;|h;|l;|r;)))|prime;|r(?:eve;|vbar;?)|s(?:cr;|emi;|im(?:;|e;)|ol(?:;|b;|hsub;))|u(?:ll(?:;|et;)|mp(?:;|E;|e(?:;|q;))))|c(?:a(?:cute;|p(?:;|and;|brcup;|c(?:ap;|up;)|dot;|s;)|r(?:et;|on;))|c(?:a(?:ps;|ron;)|edil;?|irc;|ups(?:;|sm;))|dot;|e(?:dil;?|mptyv;|nt(?:;|erdot;|))|fr;|h(?:cy;|eck(?:;|mark;)|i;)|ir(?:;|E;|c(?:;|eq;|le(?:arrow(?:left;|right;)|d(?:R;|S;|ast;|circ;|dash;)))|e;|fnint;|mid;|scir;)|lubs(?:;|uit;)|o(?:lon(?:;|e(?:;|q;))|m(?:ma(?:;|t;)|p(?:;|fn;|le(?:ment;|xes;)))|n(?:g(?:;|dot;)|int;)|p(?:f;|rod;|y(?:;|sr;|)))|r(?:arr;|oss;)|s(?:cr;|u(?:b(?:;|e;)|p(?:;|e;)))|tdot;|u(?:darr(?:l;|r;)|e(?:pr;|sc;)|larr(?:;|p;)|p(?:;|brcap;|c(?:ap;|up;)|dot;|or;|s;)|r(?:arr(?:;|m;)|ly(?:eq(?:prec;|succ;)|vee;|wedge;)|ren;?|vearrow(?:left;|right;))|vee;|wed;)|w(?:conint;|int;)|ylcty;)|d(?:Arr;|Har;|a(?:gger;|leth;|rr;|sh(?:;|v;))|b(?:karow;|lac;)|c(?:aron;|y;)|d(?:;|a(?:gger;|rr;)|otseq;)|e(?:g;?|lta;|mptyv;)|f(?:isht;|r;)|har(?:l;|r;)|i(?:am(?:;|ond(?:;|suit;)|s;)|e;|gamma;|sin;|v(?:;|ide(?:;|ontimes;|)|onx;))|jcy;|lc(?:orn;|rop;)|o(?:llar;|pf;|t(?:;|eq(?:;|dot;)|minus;|plus;|square;)|ublebarwedge;|wn(?:arrow;|downarrows;|harpoon(?:left;|right;)))|r(?:bkarow;|c(?:orn;|rop;))|s(?:c(?:r;|y;)|ol;|trok;)|t(?:dot;|ri(?:;|f;))|u(?:arr;|har;)|wangle;|z(?:cy;|igrarr;))|e(?:D(?:Dot;|ot;)|a(?:cute;?|ster;)|c(?:aron;|ir(?:;|c;?)|olon;|y;)|dot;|e;|f(?:Dot;|r;)|g(?:;|rave;?|s(?:;|dot;))|l(?:;|inters;|l;|s(?:;|dot;))|m(?:acr;|pty(?:;|set;|v;)|sp(?:1(?:3;|4;)|;))|n(?:g;|sp;)|o(?:gon;|pf;)|p(?:ar(?:;|sl;)|lus;|si(?:;|lon;|v;))|q(?:c(?:irc;|olon;)|s(?:im;|lant(?:gtr;|less;))|u(?:als;|est;|iv(?:;|DD;))|vparsl;)|r(?:Dot;|arr;)|s(?:cr;|dot;|im;)|t(?:a;|h;?)|u(?:ml;?|ro;)|x(?:cl;|ist;|p(?:ectation;|onentiale;)))|f(?:allingdotseq;|cy;|emale;|f(?:ilig;|l(?:ig;|lig;)|r;)|ilig;|jlig;|l(?:at;|lig;|tns;)|nof;|o(?:pf;|r(?:all;|k(?:;|v;)))|partint;|r(?:a(?:c(?:1(?:2;?|3;|4;?|5;|6;|8;)|2(?:3;|5;)|3(?:4;?|5;|8;)|45;|5(?:6;|8;)|78;)|sl;)|own;)|scr;)|g(?:E(?:;|l;)|a(?:cute;|mma(?:;|d;)|p;)|breve;|c(?:irc;|y;)|dot;|e(?:;|l;|q(?:;|q;|slant;)|s(?:;|cc;|dot(?:;|o(?:;|l;))|l(?:;|es;)))|fr;|g(?:;|g;)|imel;|jcy;|l(?:;|E;|a;|j;)|n(?:E;|ap(?:;|prox;)|e(?:;|q(?:;|q;))|sim;)|opf;|rave;|s(?:cr;|im(?:;|e;|l;))|t(?:;|c(?:c;|ir;)|dot;|lPar;|quest;|r(?:a(?:pprox;|rr;)|dot;|eq(?:less;|qless;)|less;|sim;)|)|v(?:ertneqq;|nE;))|h(?:Arr;|a(?:irsp;|lf;|milt;|r(?:dcy;|r(?:;|cir;|w;)))|bar;|circ;|e(?:arts(?:;|uit;)|llip;|rcon;)|fr;|ks(?:earow;|warow;)|o(?:arr;|mtht;|ok(?:leftarrow;|rightarrow;)|pf;|rbar;)|s(?:cr;|lash;|trok;)|y(?:bull;|phen;))|i(?:acute;?|c(?:;|irc;?|y;)|e(?:cy;|xcl;?)|f(?:f;|r;)|grave;?|i(?:;|i(?:int;|nt;)|nfin;|ota;)|jlig;|m(?:a(?:cr;|g(?:e;|line;|part;)|th;)|of;|ped;)|n(?:;|care;|fin(?:;|tie;)|odot;|t(?:;|cal;|e(?:gers;|rcal;)|larhk;|prod;))|o(?:cy;|gon;|pf;|ta;)|prod;|quest;?|s(?:cr;|in(?:;|E;|dot;|s(?:;|v;)|v;))|t(?:;|ilde;)|u(?:kcy;|ml;?))|j(?:c(?:irc;|y;)|fr;|math;|opf;|s(?:cr;|ercy;)|ukcy;)|k(?:appa(?:;|v;)|c(?:edil;|y;)|fr;|green;|hcy;|jcy;|opf;|scr;)|l(?:A(?:arr;|rr;|tail;)|Barr;|E(?:;|g;)|Har;|a(?:cute;|emptyv;|gran;|mbda;|ng(?:;|d;|le;)|p;|quo;?|rr(?:;|b(?:;|fs;)|fs;|hk;|lp;|pl;|sim;|tl;)|t(?:;|ail;|e(?:;|s;)))|b(?:arr;|brk;|r(?:ac(?:e;|k;)|k(?:e;|sl(?:d;|u;))))|c(?:aron;|e(?:dil;|il;)|ub;|y;)|d(?:ca;|quo(?:;|r;)|r(?:dhar;|ushar;)|sh;)|e(?:;|ft(?:arrow(?:;|tail;)|harpoon(?:down;|up;)|leftarrows;|right(?:arrow(?:;|s;)|harpoons;|squigarrow;)|threetimes;)|g;|q(?:;|q;|slant;)|s(?:;|cc;|dot(?:;|o(?:;|r;))|g(?:;|es;)|s(?:approx;|dot;|eq(?:gtr;|qgtr;)|gtr;|sim;)))|f(?:isht;|loor;|r;)|g(?:;|E;)|h(?:ar(?:d;|u(?:;|l;))|blk;)|jcy;|l(?:;|arr;|corner;|hard;|tri;)|m(?:idot;|oust(?:;|ache;))|n(?:E;|ap(?:;|prox;)|e(?:;|q(?:;|q;))|sim;)|o(?:a(?:ng;|rr;)|brk;|ng(?:left(?:arrow;|rightarrow;)|mapsto;|rightarrow;)|oparrow(?:left;|right;)|p(?:ar;|f;|lus;)|times;|w(?:ast;|bar;)|z(?:;|enge;|f;))|par(?:;|lt;)|r(?:arr;|corner;|har(?:;|d;)|m;|tri;)|s(?:aquo;|cr;|h;|im(?:;|e;|g;)|q(?:b;|uo(?:;|r;))|trok;)|t(?:;|c(?:c;|ir;)|dot;|hree;|imes;|larr;|quest;|r(?:Par;|i(?:;|e;|f;))|)|ur(?:dshar;|uhar;)|v(?:ertneqq;|nE;))|m(?:DDot;|a(?:cr;?|l(?:e;|t(?:;|ese;))|p(?:;|sto(?:;|down;|left;|up;))|rker;)|c(?:omma;|y;)|dash;|easuredangle;|fr;|ho;|i(?:cro;?|d(?:;|ast;|cir;|dot;?)|nus(?:;|b;|d(?:;|u;)))|l(?:cp;|dr;)|nplus;|o(?:dels;|pf;)|p;|s(?:cr;|tpos;)|u(?:;|ltimap;|map;))|n(?:G(?:g;|t(?:;|v;))|L(?:eft(?:arrow;|rightarrow;)|l;|t(?:;|v;))|Rightarrow;|V(?:Dash;|dash;)|a(?:bla;|cute;|ng;|p(?:;|E;|id;|os;|prox;)|tur(?:;|al(?:;|s;)))|b(?:sp;?|ump(?:;|e;))|c(?:a(?:p;|ron;)|edil;|ong(?:;|dot;)|up;|y;)|dash;|e(?:;|Arr;|ar(?:hk;|r(?:;|ow;))|dot;|quiv;|s(?:ear;|im;)|xist(?:;|s;))|fr;|g(?:E;|e(?:;|q(?:;|q;|slant;)|s;)|sim;|t(?:;|r;))|h(?:Arr;|arr;|par;)|i(?:;|s(?:;|d;)|v;)|jcy;|l(?:Arr;|E;|arr;|dr;|e(?:;|ft(?:arrow;|rightarrow;)|q(?:;|q;|slant;)|s(?:;|s;))|sim;|t(?:;|ri(?:;|e;)))|mid;|o(?:pf;|t(?:;|in(?:;|E;|dot;|v(?:a;|b;|c;))|ni(?:;|v(?:a;|b;|c;))|))|p(?:ar(?:;|allel;|sl;|t;)|olint;|r(?:;|cue;|e(?:;|c(?:;|eq;))))|r(?:Arr;|arr(?:;|c;|w;)|ightarrow;|tri(?:;|e;))|s(?:c(?:;|cue;|e;|r;)|hort(?:mid;|parallel;)|im(?:;|e(?:;|q;))|mid;|par;|qsu(?:be;|pe;)|u(?:b(?:;|E;|e;|set(?:;|eq(?:;|q;)))|cc(?:;|eq;)|p(?:;|E;|e;|set(?:;|eq(?:;|q;)))))|t(?:gl;|ilde;?|lg;|riangle(?:left(?:;|eq;)|right(?:;|eq;)))|u(?:;|m(?:;|ero;|sp;))|v(?:Dash;|Harr;|ap;|dash;|g(?:e;|t;)|infin;|l(?:Arr;|e;|t(?:;|rie;))|r(?:Arr;|trie;)|sim;)|w(?:Arr;|ar(?:hk;|r(?:;|ow;))|near;))|o(?:S;|a(?:cute;?|st;)|c(?:ir(?:;|c;?)|y;)|d(?:ash;|blac;|iv;|ot;|sold;)|elig;|f(?:cir;|r;)|g(?:on;|rave;?|t;)|h(?:bar;|m;)|int;|l(?:arr;|c(?:ir;|ross;)|ine;|t;)|m(?:acr;|ega;|i(?:cron;|d;|nus;))|opf;|p(?:ar;|erp;|lus;)|r(?:;|arr;|d(?:;|er(?:;|of;)|f;?|m;?)|igof;|or;|slope;|v;)|s(?:cr;|lash;?|ol;)|ti(?:lde;?|mes(?:;|as;))|uml;?|vbar;)|p(?:ar(?:;|a(?:;|llel;|)|s(?:im;|l;)|t;)|cy;|er(?:cnt;|iod;|mil;|p;|tenk;)|fr;|h(?:i(?:;|v;)|mmat;|one;)|i(?:;|tchfork;|v;)|l(?:an(?:ck(?:;|h;)|kv;)|us(?:;|acir;|b;|cir;|d(?:o;|u;)|e;|mn;?|sim;|two;))|m;|o(?:intint;|pf;|und;?)|r(?:;|E;|ap;|cue;|e(?:;|c(?:;|approx;|curlyeq;|eq;|n(?:approx;|eqq;|sim;)|sim;))|ime(?:;|s;)|n(?:E;|ap;|sim;)|o(?:d;|f(?:alar;|line;|surf;)|p(?:;|to;))|sim;|urel;)|s(?:cr;|i;)|uncsp;)|q(?:fr;|int;|opf;|prime;|scr;|u(?:at(?:ernions;|int;)|est(?:;|eq;)|ot;?))|r(?:A(?:arr;|rr;|tail;)|Barr;|Har;|a(?:c(?:e;|ute;)|dic;|emptyv;|ng(?:;|d;|e;|le;)|quo;?|rr(?:;|ap;|b(?:;|fs;)|c;|fs;|hk;|lp;|pl;|sim;|tl;|w;)|t(?:ail;|io(?:;|nals;)))|b(?:arr;|brk;|r(?:ac(?:e;|k;)|k(?:e;|sl(?:d;|u;))))|c(?:aron;|e(?:dil;|il;)|ub;|y;)|d(?:ca;|ldhar;|quo(?:;|r;)|sh;)|e(?:al(?:;|ine;|part;|s;)|ct;|g;?)|f(?:isht;|loor;|r;)|h(?:ar(?:d;|u(?:;|l;))|o(?:;|v;))|i(?:ght(?:arrow(?:;|tail;)|harpoon(?:down;|up;)|left(?:arrows;|harpoons;)|rightarrows;|squigarrow;|threetimes;)|ng;|singdotseq;)|l(?:arr;|har;|m;)|moust(?:;|ache;)|nmid;|o(?:a(?:ng;|rr;)|brk;|p(?:ar;|f;|lus;)|times;)|p(?:ar(?:;|gt;)|polint;)|rarr;|s(?:aquo;|cr;|h;|q(?:b;|uo(?:;|r;)))|t(?:hree;|imes;|ri(?:;|e;|f;|ltri;))|uluhar;|x;)|s(?:acute;|bquo;|c(?:;|E;|a(?:p;|ron;)|cue;|e(?:;|dil;)|irc;|n(?:E;|ap;|sim;)|polint;|sim;|y;)|dot(?:;|b;|e;)|e(?:Arr;|ar(?:hk;|r(?:;|ow;))|ct;?|mi;|swar;|tm(?:inus;|n;)|xt;)|fr(?:;|own;)|h(?:arp;|c(?:hcy;|y;)|ort(?:mid;|parallel;)|y;?)|i(?:gma(?:;|f;|v;)|m(?:;|dot;|e(?:;|q;)|g(?:;|E;)|l(?:;|E;)|ne;|plus;|rarr;))|larr;|m(?:a(?:llsetminus;|shp;)|eparsl;|i(?:d;|le;)|t(?:;|e(?:;|s;)))|o(?:ftcy;|l(?:;|b(?:;|ar;))|pf;)|pa(?:des(?:;|uit;)|r;)|q(?:c(?:ap(?:;|s;)|up(?:;|s;))|su(?:b(?:;|e;|set(?:;|eq;))|p(?:;|e;|set(?:;|eq;)))|u(?:;|ar(?:e;|f;)|f;))|rarr;|s(?:cr;|etmn;|mile;|tarf;)|t(?:ar(?:;|f;)|r(?:aight(?:epsilon;|phi;)|ns;))|u(?:b(?:;|E;|dot;|e(?:;|dot;)|mult;|n(?:E;|e;)|plus;|rarr;|s(?:et(?:;|eq(?:;|q;)|neq(?:;|q;))|im;|u(?:b;|p;)))|cc(?:;|approx;|curlyeq;|eq;|n(?:approx;|eqq;|sim;)|sim;)|m;|ng;|p(?:1;?|2;?|3;?|;|E;|d(?:ot;|sub;)|e(?:;|dot;)|hs(?:ol;|ub;)|larr;|mult;|n(?:E;|e;)|plus;|s(?:et(?:;|eq(?:;|q;)|neq(?:;|q;))|im;|u(?:b;|p;))))|w(?:Arr;|ar(?:hk;|r(?:;|ow;))|nwar;)|zlig;?)|t(?:a(?:rget;|u;)|brk;|c(?:aron;|edil;|y;)|dot;|elrec;|fr;|h(?:e(?:re(?:4;|fore;)|ta(?:;|sym;|v;))|i(?:ck(?:approx;|sim;)|nsp;)|k(?:ap;|sim;)|orn;?)|i(?:lde;|mes(?:;|b(?:;|ar;)|d;|)|nt;)|o(?:ea;|p(?:;|bot;|cir;|f(?:;|ork;))|sa;)|prime;|r(?:ade;|i(?:angle(?:;|down;|left(?:;|eq;)|q;|right(?:;|eq;))|dot;|e;|minus;|plus;|sb;|time;)|pezium;)|s(?:c(?:r;|y;)|hcy;|trok;)|w(?:ixt;|ohead(?:leftarrow;|rightarrow;)))|u(?:Arr;|Har;|a(?:cute;?|rr;)|br(?:cy;|eve;)|c(?:irc;?|y;)|d(?:arr;|blac;|har;)|f(?:isht;|r;)|grave;?|h(?:ar(?:l;|r;)|blk;)|l(?:c(?:orn(?:;|er;)|rop;)|tri;)|m(?:acr;|l;?)|o(?:gon;|pf;)|p(?:arrow;|downarrow;|harpoon(?:left;|right;)|lus;|si(?:;|h;|lon;)|uparrows;)|r(?:c(?:orn(?:;|er;)|rop;)|ing;|tri;)|scr;|t(?:dot;|ilde;|ri(?:;|f;))|u(?:arr;|ml;?)|wangle;)|v(?:Arr;|Bar(?:;|v;)|Dash;|a(?:ngrt;|r(?:epsilon;|kappa;|nothing;|p(?:hi;|i;|ropto;)|r(?:;|ho;)|s(?:igma;|u(?:bsetneq(?:;|q;)|psetneq(?:;|q;)))|t(?:heta;|riangle(?:left;|right;))))|cy;|dash;|e(?:e(?:;|bar;|eq;)|llip;|r(?:bar;|t;))|fr;|ltri;|nsu(?:b;|p;)|opf;|prop;|rtri;|s(?:cr;|u(?:bn(?:E;|e;)|pn(?:E;|e;)))|zigzag;)|w(?:circ;|e(?:d(?:bar;|ge(?:;|q;))|ierp;)|fr;|opf;|p;|r(?:;|eath;)|scr;)|x(?:c(?:ap;|irc;|up;)|dtri;|fr;|h(?:Arr;|arr;)|i;|l(?:Arr;|arr;)|map;|nis;|o(?:dot;|p(?:f;|lus;)|time;)|r(?:Arr;|arr;)|s(?:cr;|qcup;)|u(?:plus;|tri;)|vee;|wedge;)|y(?:ac(?:ute;?|y;)|c(?:irc;|y;)|en;?|fr;|icy;|opf;|scr;|u(?:cy;|ml;?))|z(?:acute;|c(?:aron;|y;)|dot;|e(?:etrf;|ta;)|fr;|hcy;|igrarr;|opf;|scr;|w(?:j;|nj;)))|[\s\S]/g,DBLQUOTEATTRVAL=/[^\r"&\u0000]+/g,SINGLEQUOTEATTRVAL=/[^\r'&\u0000]+/g,UNQUOTEDATTRVAL=/[^\r\t\n\f &>\u0000]+/g,TAGNAME=/[^\r\t\n\f \/>A-Z\u0000]+/g,ATTRNAME=/[^\r\t\n\f \/=>A-Z\u0000]+/g,CDATATEXT=/[^\]\r\u0000\uffff]*/g,DATATEXT=/[^&<\r\u0000\uffff]*/g,RAWTEXT=/[^<\r\u0000\uffff]*/g,PLAINTEXT=/[^\r\u0000\uffff]*/g,SIMPLETAG=/(?:(\/)?([a-z]+)>)|[\s\S]/g,SIMPLEATTR=/(?:([-a-z]+)[ \t\n\f]*=[ \t\n\f]*('[^'&\r\u0000]*'|"[^"&\r\u0000]*"|[^\t\n\r\f "&'\u0000>][^&> \t\n\r\f\u0000]*[ \t\n\f]))|[\s\S]/g,NONWS=/[^\x09\x0A\x0C\x0D\x20]/,ALLNONWS=/[^\x09\x0A\x0C\x0D\x20]/g,NONWSNONNUL=/[^\x00\x09\x0A\x0C\x0D\x20]/,LEADINGWS=/^[\x09\x0A\x0C\x0D\x20]+/,NULCHARS=/\x00/g;function buf2str(buf){if(buf.length<16384)return String.fromCharCode.apply(String,buf);for(var result="",i=0;i<buf.length;i+=16384)result+=String.fromCharCode.apply(String,buf.slice(i,i+16384));return result}function isA(elt,set){if("string"==typeof set)return elt.namespaceURI===NAMESPACE.HTML&&elt.localName===set;var tagnames=set[elt.namespaceURI];return tagnames&&tagnames[elt.localName]}function isMathmlTextIntegrationPoint(n){return isA(n,mathmlTextIntegrationPointSet)}function isHTMLIntegrationPoint(n){if(isA(n,htmlIntegrationPointSet))return!0;if(n.namespaceURI===NAMESPACE.MATHML&&"annotation-xml"===n.localName){var encoding=n.getAttribute("encoding");if(encoding&&(encoding=encoding.toLowerCase()),"text/html"===encoding||"application/xhtml+xml"===encoding)return!0}return!1}function adjustSVGAttributes(attrs){for(var i=0,n=attrs.length;i<n;i++)attrs[i][0]in svgAttrAdjustments&&(attrs[i][0]=svgAttrAdjustments[attrs[i][0]])}function adjustMathMLAttributes(attrs){for(var i=0,n=attrs.length;i<n;i++)if("definitionurl"===attrs[i][0]){attrs[i][0]="definitionURL";break}}function adjustForeignAttributes(attrs){for(var i=0,n=attrs.length;i<n;i++)attrs[i][0]in foreignAttributes&&attrs[i].push(foreignAttributes[attrs[i][0]])}function transferAttributes(attrs,elt){for(var i=0,n=attrs.length;i<n;i++){var name=attrs[i][0],value=attrs[i][1];elt.hasAttribute(name)||elt._setAttribute(name,value)}}function HTMLParser(address,fragmentContext,options){var return_state,character_reference_code,chars=null,numchars=0,nextchar=0,input_complete=!1,scanner_skip_newline=!1,reentrant_invocations=0,saved_scanner_state=[],leftovers="",first_batch=!0,paused=0,tokenizer=data_state,tagnamebuf="",lasttagname="",tempbuf=[],attrnamebuf="",attrvaluebuf="",commentbuf=[],doctypenamebuf=[],doctypepublicbuf=[],doctypesystembuf=[],attributes=[],is_end_tag=!1,parser=function initial_mode(t,value,arg3,arg4){switch(t){case 1:if(0===(value=value.replace(LEADINGWS,"")).length)return;break;case 4:return void doc._appendChild(doc.createComment(value));case 5:var name=value,publicid=arg3,systemid=arg4;return doc.appendChild(new DocumentType(doc,name,publicid,systemid)),force_quirks||"html"!==name.toLowerCase()||quirkyPublicIds.test(publicid)||systemid&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===systemid.toLowerCase()||void 0===systemid&&conditionallyQuirkyPublicIds.test(publicid)?doc._quirks=!0:(limitedQuirkyPublicIds.test(publicid)||void 0!==systemid&&conditionallyQuirkyPublicIds.test(publicid))&&(doc._limitedQuirks=!0),void(parser=before_html_mode)}doc._quirks=!0,(parser=before_html_mode)(t,value,arg3,arg4)},originalInsertionMode=null,templateInsertionModes=[],stack=new HTMLParser.ElementStack,afe=new HTMLParser.ActiveFormattingElements,fragment=void 0!==fragmentContext,head_element_pointer=null,form_element_pointer=null,scripting_enabled=!0;fragmentContext&&(scripting_enabled=fragmentContext.ownerDocument._scripting_enabled),options&&!1===options.scripting_enabled&&(scripting_enabled=!1);var pending_table_text,text_integration_mode,frameset_ok=!0,force_quirks=!1,textrun=[],textIncludesNUL=!1,ignore_linefeed=!1,htmlparser={document:function(){return doc},_asDocumentFragment:function(){for(var frag=doc.createDocumentFragment(),root=doc.firstChild;root.hasChildNodes();)frag.appendChild(root.firstChild);return frag},pause:function(){paused++},resume:function(){paused--,this.parse("")},parse:function(s,end,shouldPauseFunc){var moreToDo;return paused>0?(leftovers+=s,!0):(0===reentrant_invocations?(leftovers&&(s=leftovers+s,leftovers=""),end&&(s+="\uffff",input_complete=!0),chars=s,numchars=s.length,nextchar=0,first_batch&&(first_batch=!1,65279===chars.charCodeAt(0)&&(nextchar=1)),reentrant_invocations++,moreToDo=scanChars(shouldPauseFunc),leftovers=chars.substring(nextchar,numchars),reentrant_invocations--):(reentrant_invocations++,saved_scanner_state.push(chars,numchars,nextchar),chars=s,numchars=s.length,nextchar=0,scanChars(),moreToDo=!1,leftovers=chars.substring(nextchar,numchars),nextchar=saved_scanner_state.pop(),numchars=saved_scanner_state.pop(),chars=saved_scanner_state.pop(),leftovers&&(chars=leftovers+chars.substring(nextchar),numchars=chars.length,nextchar=0,leftovers=""),reentrant_invocations--),moreToDo)}},doc=new Document(!0,address);if(doc._parser=htmlparser,doc._scripting_enabled=scripting_enabled,fragmentContext){if(fragmentContext.ownerDocument._quirks&&(doc._quirks=!0),fragmentContext.ownerDocument._limitedQuirks&&(doc._limitedQuirks=!0),fragmentContext.namespaceURI===NAMESPACE.HTML)switch(fragmentContext.localName){case"title":case"textarea":tokenizer=rcdata_state;break;case"style":case"xmp":case"iframe":case"noembed":case"noframes":case"script":case"plaintext":tokenizer=plaintext_state;break;case"noscript":scripting_enabled&&(tokenizer=plaintext_state)}var root=doc.createElement("html");doc._appendChild(root),stack.push(root),fragmentContext instanceof impl.HTMLTemplateElement&&templateInsertionModes.push(in_template_mode),resetInsertionMode();for(var e=fragmentContext;null!==e;e=e.parentElement)if(e instanceof impl.HTMLFormElement){form_element_pointer=e;break}}function scanChars(shouldPauseFunc){for(var codepoint,s,pattern,eof;nextchar<numchars;){if(paused>0||shouldPauseFunc&&shouldPauseFunc())return!0;switch(typeof tokenizer.lookahead){case"undefined":if(codepoint=chars.charCodeAt(nextchar++),scanner_skip_newline&&(scanner_skip_newline=!1,10===codepoint)){nextchar++;continue}switch(codepoint){case 13:nextchar<numchars?10===chars.charCodeAt(nextchar)&&nextchar++:scanner_skip_newline=!0,tokenizer(10);break;case 65535:if(input_complete&&nextchar===numchars){tokenizer(-1);break}default:tokenizer(codepoint)}break;case"number":codepoint=chars.charCodeAt(nextchar);var n=tokenizer.lookahead,needsString=!0;if(n<0&&(needsString=!1,n=-n),n<numchars-nextchar)s=needsString?chars.substring(nextchar,nextchar+n):null,eof=!1;else{if(!input_complete)return!0;s=needsString?chars.substring(nextchar,numchars):null,eof=!0,65535===codepoint&&nextchar===numchars-1&&(codepoint=-1)}tokenizer(codepoint,s,eof);break;case"string":codepoint=chars.charCodeAt(nextchar),pattern=tokenizer.lookahead;var pos=chars.indexOf(pattern,nextchar);if(-1!==pos)s=chars.substring(nextchar,pos+pattern.length),eof=!1;else{if(!input_complete)return!0;s=chars.substring(nextchar,numchars),65535===codepoint&&nextchar===numchars-1&&(codepoint=-1),eof=!0}tokenizer(codepoint,s,eof)}}return!1}function addAttribute(name,value){for(var i=0;i<attributes.length;i++)if(attributes[i][0]===name)return;void 0!==value?attributes.push([name,value]):attributes.push([name])}function beginEndTagName(){is_end_tag=!0,tagnamebuf="",attributes.length=0}function beginTempBuf(){tempbuf.length=0}function beginAttrName(){attrnamebuf=""}function beginAttrValue(){attrvaluebuf=""}function beginComment(){commentbuf.length=0}function beginDoctype(){doctypenamebuf.length=0,doctypepublicbuf=null,doctypesystembuf=null}function beginDoctypePublicId(){doctypepublicbuf=[]}function beginDoctypeSystemId(){doctypesystembuf=[]}function forcequirks(){force_quirks=!0}function appropriateEndTag(buf){return lasttagname===buf}function flushText(){if(textrun.length>0){var s=buf2str(textrun);if(textrun.length=0,ignore_linefeed&&(ignore_linefeed=!1,"\n"===s[0]&&(s=s.substring(1)),0===s.length))return;insertToken(1,s),textIncludesNUL=!1}ignore_linefeed=!1}function getMatchingChars(pattern){pattern.lastIndex=nextchar-1;var match=pattern.exec(chars);if(match&&match.index===nextchar-1)return match=match[0],nextchar+=match.length-1,input_complete&&nextchar===numchars&&(match=match.slice(0,-1),nextchar--),match;throw new Error("should never happen")}function emitCharsWhile(pattern){pattern.lastIndex=nextchar-1;var match=pattern.exec(chars)[0];return!!match&&(function emitCharString(s){textrun.length>0&&flushText();if(ignore_linefeed&&(ignore_linefeed=!1,"\n"===s[0]&&(s=s.substring(1)),0===s.length))return;insertToken(1,s)}(match),nextchar+=match.length-1,!0)}function emitTag(){if(is_end_tag)insertToken(3,tagnamebuf);else{var tagname=tagnamebuf;tagnamebuf="",lasttagname=tagname,insertToken(2,tagname,attributes)}}function emitDoctype(){insertToken(5,buf2str(doctypenamebuf),doctypepublicbuf?buf2str(doctypepublicbuf):void 0,doctypesystembuf?buf2str(doctypesystembuf):void 0)}function emitEOF(){flushText(),parser(-1),doc.modclock=1}var insertToken=htmlparser.insertToken=function insertToken(t,value,arg3,arg4){flushText();var current=stack.top;current&&current.namespaceURI!==NAMESPACE.HTML?2!==t&&1!==t?insertForeignToken(t,value,arg3,arg4):isMathmlTextIntegrationPoint(current)&&(1===t||2===t&&"mglyph"!==value&&"malignmark"!==value)||2===t&&"svg"===value&&current.namespaceURI===NAMESPACE.MATHML&&"annotation-xml"===current.localName||isHTMLIntegrationPoint(current)?(text_integration_mode=!0,parser(t,value,arg3,arg4),text_integration_mode=!1):insertForeignToken(t,value,arg3,arg4):parser(t,value,arg3,arg4)};function insertComment(data){var parent=stack.top;foster_parent_mode&&isA(parent,tablesectionrowSet)?fosterParent((function(doc){return doc.createComment(data)})):(parent instanceof impl.HTMLTemplateElement&&(parent=parent.content),parent._appendChild(parent.ownerDocument.createComment(data)))}function insertText(s){var parent=stack.top;if(foster_parent_mode&&isA(parent,tablesectionrowSet))fosterParent((function(doc){return doc.createTextNode(s)}));else{parent instanceof impl.HTMLTemplateElement&&(parent=parent.content);var lastChild=parent.lastChild;lastChild&&lastChild.nodeType===Node.TEXT_NODE?lastChild.appendData(s):parent._appendChild(parent.ownerDocument.createTextNode(s))}}function createHTMLElt(doc,name,attrs){var elt=html.createElement(doc,name,null);if(attrs)for(var i=0,n=attrs.length;i<n;i++)elt._setAttribute(attrs[i][0],attrs[i][1]);return elt}var foster_parent_mode=!1;function insertHTMLElement(name,attrs){var elt=insertElement((function(doc){return createHTMLElt(doc,name,attrs)}));return isA(elt,formassociatedSet)&&(elt._form=form_element_pointer),elt}function insertElement(eltFunc){var elt;return foster_parent_mode&&isA(stack.top,tablesectionrowSet)?elt=fosterParent(eltFunc):stack.top instanceof impl.HTMLTemplateElement?(elt=eltFunc(stack.top.content.ownerDocument),stack.top.content._appendChild(elt)):(elt=eltFunc(stack.top.ownerDocument),stack.top._appendChild(elt)),stack.push(elt),elt}function insertForeignElement(name,attrs,ns){return insertElement((function(doc){var elt=doc._createElementNS(name,ns,null);if(attrs)for(var i=0,n=attrs.length;i<n;i++){var attr=attrs[i];2===attr.length?elt._setAttribute(attr[0],attr[1]):elt._setAttributeNS(attr[2],attr[0],attr[1])}return elt}))}function lastElementOfType(type){for(var i=stack.elements.length-1;i>=0;i--)if(stack.elements[i]instanceof type)return i;return-1}function fosterParent(eltFunc){var parent,before,lastTable,lastTemplate,elt,prev;if((lastTable=lastElementOfType(impl.HTMLTableElement),(lastTemplate=lastElementOfType(impl.HTMLTemplateElement))>=0&&(lastTable<0||lastTemplate>lastTable)?parent=stack.elements[lastTemplate]:lastTable>=0&&((parent=stack.elements[lastTable].parentNode)?before=stack.elements[lastTable]:parent=stack.elements[lastTable-1]),parent||(parent=stack.elements[0]),parent instanceof impl.HTMLTemplateElement&&(parent=parent.content),(elt=eltFunc(parent.ownerDocument)).nodeType===Node.TEXT_NODE)&&((prev=before?before.previousSibling:parent.lastChild)&&prev.nodeType===Node.TEXT_NODE))return prev.appendData(elt.data),elt;return before?parent.insertBefore(elt,before):parent._appendChild(elt),elt}function resetInsertionMode(){for(var last=!1,i=stack.elements.length-1;i>=0;i--){var node=stack.elements[i];if(0===i&&(last=!0,fragment&&(node=fragmentContext)),node.namespaceURI===NAMESPACE.HTML){var tag=node.localName;switch(tag){case"select":for(var j=i;j>0;){var ancestor=stack.elements[--j];if(ancestor instanceof impl.HTMLTemplateElement)break;if(ancestor instanceof impl.HTMLTableElement)return void(parser=in_select_in_table_mode)}return void(parser=in_select_mode);case"tr":return void(parser=in_row_mode);case"tbody":case"tfoot":case"thead":return void(parser=in_table_body_mode);case"caption":return void(parser=in_caption_mode);case"colgroup":return void(parser=in_column_group_mode);case"table":return void(parser=in_table_mode);case"template":return void(parser=templateInsertionModes[templateInsertionModes.length-1]);case"body":return void(parser=in_body_mode);case"frameset":return void(parser=in_frameset_mode);case"html":return void(parser=null===head_element_pointer?before_head_mode:after_head_mode);default:if(!last){if("head"===tag)return void(parser=in_head_mode);if("td"===tag||"th"===tag)return void(parser=in_cell_mode)}}}if(last)return void(parser=in_body_mode)}}function parseRawText(name,attrs){insertHTMLElement(name,attrs),tokenizer=rawtext_state,originalInsertionMode=parser,parser=text_mode}function afeclone(doc,i){return{elt:createHTMLElt(doc,afe.list[i].localName,afe.attrs[i]),attrs:afe.attrs[i]}}function afereconstruct(){if(0!==afe.list.length){var entry=afe.list[afe.list.length-1];if(entry!==afe.MARKER&&-1===stack.elements.lastIndexOf(entry)){for(var i=afe.list.length-2;i>=0&&(entry=afe.list[i])!==afe.MARKER&&-1===stack.elements.lastIndexOf(entry);i--);for(i+=1;i<afe.list.length;i++){var newelt=insertElement((function(doc){return afeclone(doc,i).elt}));afe.list[i]=newelt}}}}var BOOKMARK={localName:"BM"};function stopParsing(){delete doc._parser,stack.elements.length=0,doc.defaultView&&doc.defaultView.dispatchEvent(new impl.Event("load",{}))}function reconsume(c,new_state){tokenizer=new_state,nextchar--}function data_state(c){switch(c){case 38:return_state=data_state,tokenizer=character_reference_state;break;case 60:if(function emitSimpleTag(){if(nextchar===numchars)return!1;SIMPLETAG.lastIndex=nextchar;var matched=SIMPLETAG.exec(chars);if(!matched)throw new Error("should never happen");var tagname=matched[2];return!!tagname&&(matched[1]?(nextchar+=tagname.length+2,insertToken(3,tagname)):(nextchar+=tagname.length+1,lasttagname=tagname,insertToken(2,tagname,NOATTRS)),!0)}())break;tokenizer=tag_open_state;break;case 0:textrun.push(c),textIncludesNUL=!0;break;case-1:emitEOF();break;default:emitCharsWhile(DATATEXT)||textrun.push(c)}}function rcdata_state(c){switch(c){case 38:return_state=rcdata_state,tokenizer=character_reference_state;break;case 60:tokenizer=rcdata_less_than_sign_state;break;case 0:textrun.push(65533),textIncludesNUL=!0;break;case-1:emitEOF();break;default:textrun.push(c)}}function rawtext_state(c){switch(c){case 60:tokenizer=rawtext_less_than_sign_state;break;case 0:textrun.push(65533);break;case-1:emitEOF();break;default:emitCharsWhile(RAWTEXT)||textrun.push(c)}}function script_data_state(c){switch(c){case 60:tokenizer=script_data_less_than_sign_state;break;case 0:textrun.push(65533);break;case-1:emitEOF();break;default:emitCharsWhile(RAWTEXT)||textrun.push(c)}}function plaintext_state(c){switch(c){case 0:textrun.push(65533);break;case-1:emitEOF();break;default:emitCharsWhile(PLAINTEXT)||textrun.push(c)}}function tag_open_state(c){switch(c){case 33:tokenizer=markup_declaration_open_state;break;case 47:tokenizer=end_tag_open_state;break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:!function beginTagName(){is_end_tag=!1,tagnamebuf="",attributes.length=0}(),reconsume(0,tag_name_state);break;case 63:reconsume(0,bogus_comment_state);break;default:textrun.push(60),reconsume(0,data_state)}}function end_tag_open_state(c){switch(c){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:beginEndTagName(),reconsume(0,tag_name_state);break;case 62:tokenizer=data_state;break;case-1:textrun.push(60),textrun.push(47),emitEOF();break;default:reconsume(0,bogus_comment_state)}}function tag_name_state(c){switch(c){case 9:case 10:case 12:case 32:tokenizer=before_attribute_name_state;break;case 47:tokenizer=self_closing_start_tag_state;break;case 62:tokenizer=data_state,emitTag();break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:tagnamebuf+=String.fromCharCode(c+32);break;case 0:tagnamebuf+=String.fromCharCode(65533);break;case-1:emitEOF();break;default:tagnamebuf+=getMatchingChars(TAGNAME)}}function rcdata_less_than_sign_state(c){47===c?(beginTempBuf(),tokenizer=rcdata_end_tag_open_state):(textrun.push(60),reconsume(0,rcdata_state))}function rcdata_end_tag_open_state(c){switch(c){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:beginEndTagName(),reconsume(0,rcdata_end_tag_name_state);break;default:textrun.push(60),textrun.push(47),reconsume(0,rcdata_state)}}function rcdata_end_tag_name_state(c){switch(c){case 9:case 10:case 12:case 32:if(appropriateEndTag(tagnamebuf))return void(tokenizer=before_attribute_name_state);break;case 47:if(appropriateEndTag(tagnamebuf))return void(tokenizer=self_closing_start_tag_state);break;case 62:if(appropriateEndTag(tagnamebuf))return tokenizer=data_state,void emitTag();break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:return tagnamebuf+=String.fromCharCode(c+32),void tempbuf.push(c);case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return tagnamebuf+=String.fromCharCode(c),void tempbuf.push(c)}textrun.push(60),textrun.push(47),pushAll(textrun,tempbuf),reconsume(0,rcdata_state)}function rawtext_less_than_sign_state(c){47===c?(beginTempBuf(),tokenizer=rawtext_end_tag_open_state):(textrun.push(60),reconsume(0,rawtext_state))}function rawtext_end_tag_open_state(c){switch(c){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:beginEndTagName(),reconsume(0,rawtext_end_tag_name_state);break;default:textrun.push(60),textrun.push(47),reconsume(0,rawtext_state)}}function rawtext_end_tag_name_state(c){switch(c){case 9:case 10:case 12:case 32:if(appropriateEndTag(tagnamebuf))return void(tokenizer=before_attribute_name_state);break;case 47:if(appropriateEndTag(tagnamebuf))return void(tokenizer=self_closing_start_tag_state);break;case 62:if(appropriateEndTag(tagnamebuf))return tokenizer=data_state,void emitTag();break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:return tagnamebuf+=String.fromCharCode(c+32),void tempbuf.push(c);case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return tagnamebuf+=String.fromCharCode(c),void tempbuf.push(c)}textrun.push(60),textrun.push(47),pushAll(textrun,tempbuf),reconsume(0,rawtext_state)}function script_data_less_than_sign_state(c){switch(c){case 47:beginTempBuf(),tokenizer=script_data_end_tag_open_state;break;case 33:tokenizer=script_data_escape_start_state,textrun.push(60),textrun.push(33);break;default:textrun.push(60),reconsume(0,script_data_state)}}function script_data_end_tag_open_state(c){switch(c){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:beginEndTagName(),reconsume(0,script_data_end_tag_name_state);break;default:textrun.push(60),textrun.push(47),reconsume(0,script_data_state)}}function script_data_end_tag_name_state(c){switch(c){case 9:case 10:case 12:case 32:if(appropriateEndTag(tagnamebuf))return void(tokenizer=before_attribute_name_state);break;case 47:if(appropriateEndTag(tagnamebuf))return void(tokenizer=self_closing_start_tag_state);break;case 62:if(appropriateEndTag(tagnamebuf))return tokenizer=data_state,void emitTag();break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:return tagnamebuf+=String.fromCharCode(c+32),void tempbuf.push(c);case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return tagnamebuf+=String.fromCharCode(c),void tempbuf.push(c)}textrun.push(60),textrun.push(47),pushAll(textrun,tempbuf),reconsume(0,script_data_state)}function script_data_escape_start_state(c){45===c?(tokenizer=script_data_escape_start_dash_state,textrun.push(45)):reconsume(0,script_data_state)}function script_data_escape_start_dash_state(c){45===c?(tokenizer=script_data_escaped_dash_dash_state,textrun.push(45)):reconsume(0,script_data_state)}function script_data_escaped_state(c){switch(c){case 45:tokenizer=script_data_escaped_dash_state,textrun.push(45);break;case 60:tokenizer=script_data_escaped_less_than_sign_state;break;case 0:textrun.push(65533);break;case-1:emitEOF();break;default:textrun.push(c)}}function script_data_escaped_dash_state(c){switch(c){case 45:tokenizer=script_data_escaped_dash_dash_state,textrun.push(45);break;case 60:tokenizer=script_data_escaped_less_than_sign_state;break;case 0:tokenizer=script_data_escaped_state,textrun.push(65533);break;case-1:emitEOF();break;default:tokenizer=script_data_escaped_state,textrun.push(c)}}function script_data_escaped_dash_dash_state(c){switch(c){case 45:textrun.push(45);break;case 60:tokenizer=script_data_escaped_less_than_sign_state;break;case 62:tokenizer=script_data_state,textrun.push(62);break;case 0:tokenizer=script_data_escaped_state,textrun.push(65533);break;case-1:emitEOF();break;default:tokenizer=script_data_escaped_state,textrun.push(c)}}function script_data_escaped_less_than_sign_state(c){switch(c){case 47:beginTempBuf(),tokenizer=script_data_escaped_end_tag_open_state;break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:beginTempBuf(),textrun.push(60),reconsume(0,script_data_double_escape_start_state);break;default:textrun.push(60),reconsume(0,script_data_escaped_state)}}function script_data_escaped_end_tag_open_state(c){switch(c){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:beginEndTagName(),reconsume(0,script_data_escaped_end_tag_name_state);break;default:textrun.push(60),textrun.push(47),reconsume(0,script_data_escaped_state)}}function script_data_escaped_end_tag_name_state(c){switch(c){case 9:case 10:case 12:case 32:if(appropriateEndTag(tagnamebuf))return void(tokenizer=before_attribute_name_state);break;case 47:if(appropriateEndTag(tagnamebuf))return void(tokenizer=self_closing_start_tag_state);break;case 62:if(appropriateEndTag(tagnamebuf))return tokenizer=data_state,void emitTag();break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:return tagnamebuf+=String.fromCharCode(c+32),void tempbuf.push(c);case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return tagnamebuf+=String.fromCharCode(c),void tempbuf.push(c)}textrun.push(60),textrun.push(47),pushAll(textrun,tempbuf),reconsume(0,script_data_escaped_state)}function script_data_double_escape_start_state(c){switch(c){case 9:case 10:case 12:case 32:case 47:case 62:tokenizer="script"===buf2str(tempbuf)?script_data_double_escaped_state:script_data_escaped_state,textrun.push(c);break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:tempbuf.push(c+32),textrun.push(c);break;case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:tempbuf.push(c),textrun.push(c);break;default:reconsume(0,script_data_escaped_state)}}function script_data_double_escaped_state(c){switch(c){case 45:tokenizer=script_data_double_escaped_dash_state,textrun.push(45);break;case 60:tokenizer=script_data_double_escaped_less_than_sign_state,textrun.push(60);break;case 0:textrun.push(65533);break;case-1:emitEOF();break;default:textrun.push(c)}}function script_data_double_escaped_dash_state(c){switch(c){case 45:tokenizer=script_data_double_escaped_dash_dash_state,textrun.push(45);break;case 60:tokenizer=script_data_double_escaped_less_than_sign_state,textrun.push(60);break;case 0:tokenizer=script_data_double_escaped_state,textrun.push(65533);break;case-1:emitEOF();break;default:tokenizer=script_data_double_escaped_state,textrun.push(c)}}function script_data_double_escaped_dash_dash_state(c){switch(c){case 45:textrun.push(45);break;case 60:tokenizer=script_data_double_escaped_less_than_sign_state,textrun.push(60);break;case 62:tokenizer=script_data_state,textrun.push(62);break;case 0:tokenizer=script_data_double_escaped_state,textrun.push(65533);break;case-1:emitEOF();break;default:tokenizer=script_data_double_escaped_state,textrun.push(c)}}function script_data_double_escaped_less_than_sign_state(c){47===c?(beginTempBuf(),tokenizer=script_data_double_escape_end_state,textrun.push(47)):reconsume(0,script_data_double_escaped_state)}function script_data_double_escape_end_state(c){switch(c){case 9:case 10:case 12:case 32:case 47:case 62:tokenizer="script"===buf2str(tempbuf)?script_data_escaped_state:script_data_double_escaped_state,textrun.push(c);break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:tempbuf.push(c+32),textrun.push(c);break;case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:tempbuf.push(c),textrun.push(c);break;default:reconsume(0,script_data_double_escaped_state)}}function before_attribute_name_state(c){switch(c){case 9:case 10:case 12:case 32:break;case 47:tokenizer=self_closing_start_tag_state;break;case 62:tokenizer=data_state,emitTag();break;case-1:emitEOF();break;case 61:beginAttrName(),attrnamebuf+=String.fromCharCode(c),tokenizer=attribute_name_state;break;default:if(function handleSimpleAttribute(){SIMPLEATTR.lastIndex=nextchar-1;var matched=SIMPLEATTR.exec(chars);if(!matched)throw new Error("should never happen");var name=matched[1];if(!name)return!1;var value=matched[2],len=value.length;switch(value[0]){case'"':case"'":value=value.substring(1,len-1),nextchar+=matched[0].length-1,tokenizer=after_attribute_value_quoted_state;break;default:tokenizer=before_attribute_name_state,nextchar+=matched[0].length-1,value=value.substring(0,len-1)}for(var i=0;i<attributes.length;i++)if(attributes[i][0]===name)return!0;return attributes.push([name,value]),!0}())break;beginAttrName(),reconsume(0,attribute_name_state)}}function attribute_name_state(c){switch(c){case 9:case 10:case 12:case 32:case 47:case 62:case-1:reconsume(0,after_attribute_name_state);break;case 61:tokenizer=before_attribute_value_state;break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:attrnamebuf+=String.fromCharCode(c+32);break;case 0:attrnamebuf+=String.fromCharCode(65533);break;case 34:case 39:case 60:default:attrnamebuf+=getMatchingChars(ATTRNAME)}}function after_attribute_name_state(c){switch(c){case 9:case 10:case 12:case 32:break;case 47:addAttribute(attrnamebuf),tokenizer=self_closing_start_tag_state;break;case 61:tokenizer=before_attribute_value_state;break;case 62:tokenizer=data_state,addAttribute(attrnamebuf),emitTag();break;case-1:addAttribute(attrnamebuf),emitEOF();break;default:addAttribute(attrnamebuf),beginAttrName(),reconsume(0,attribute_name_state)}}function before_attribute_value_state(c){switch(c){case 9:case 10:case 12:case 32:break;case 34:beginAttrValue(),tokenizer=attribute_value_double_quoted_state;break;case 39:beginAttrValue(),tokenizer=attribute_value_single_quoted_state;break;case 62:default:beginAttrValue(),reconsume(0,attribute_value_unquoted_state)}}function attribute_value_double_quoted_state(c){switch(c){case 34:addAttribute(attrnamebuf,attrvaluebuf),tokenizer=after_attribute_value_quoted_state;break;case 38:return_state=attribute_value_double_quoted_state,tokenizer=character_reference_state;break;case 0:attrvaluebuf+=String.fromCharCode(65533);break;case-1:emitEOF();break;case 10:attrvaluebuf+=String.fromCharCode(c);break;default:attrvaluebuf+=getMatchingChars(DBLQUOTEATTRVAL)}}function attribute_value_single_quoted_state(c){switch(c){case 39:addAttribute(attrnamebuf,attrvaluebuf),tokenizer=after_attribute_value_quoted_state;break;case 38:return_state=attribute_value_single_quoted_state,tokenizer=character_reference_state;break;case 0:attrvaluebuf+=String.fromCharCode(65533);break;case-1:emitEOF();break;case 10:attrvaluebuf+=String.fromCharCode(c);break;default:attrvaluebuf+=getMatchingChars(SINGLEQUOTEATTRVAL)}}function attribute_value_unquoted_state(c){switch(c){case 9:case 10:case 12:case 32:addAttribute(attrnamebuf,attrvaluebuf),tokenizer=before_attribute_name_state;break;case 38:return_state=attribute_value_unquoted_state,tokenizer=character_reference_state;break;case 62:addAttribute(attrnamebuf,attrvaluebuf),tokenizer=data_state,emitTag();break;case 0:attrvaluebuf+=String.fromCharCode(65533);break;case-1:nextchar--,tokenizer=data_state;break;case 34:case 39:case 60:case 61:case 96:default:attrvaluebuf+=getMatchingChars(UNQUOTEDATTRVAL)}}function after_attribute_value_quoted_state(c){switch(c){case 9:case 10:case 12:case 32:tokenizer=before_attribute_name_state;break;case 47:tokenizer=self_closing_start_tag_state;break;case 62:tokenizer=data_state,emitTag();break;case-1:emitEOF();break;default:reconsume(0,before_attribute_name_state)}}function self_closing_start_tag_state(c){switch(c){case 62:tokenizer=data_state,function emitSelfClosingTag(){is_end_tag?insertToken(3,tagnamebuf,null,!0):insertToken(2,tagnamebuf,attributes,!0)}();break;case-1:emitEOF();break;default:reconsume(0,before_attribute_name_state)}}function bogus_comment_state(c,lookahead,eof){var len=lookahead.length;nextchar+=eof?len-1:len;var comment=lookahead.substring(0,len-1);comment=(comment=(comment=comment.replace(/\u0000/g,"\ufffd")).replace(/\u000D\u000A/g,"\n")).replace(/\u000D/g,"\n"),insertToken(4,comment),tokenizer=data_state}function markup_declaration_open_state(c,lookahead,eof){if("-"===lookahead[0]&&"-"===lookahead[1])return nextchar+=2,beginComment(),void(tokenizer=comment_start_state);"DOCTYPE"===lookahead.toUpperCase()?(nextchar+=7,tokenizer=doctype_state):"[CDATA["===lookahead&&function cdataAllowed(){return stack.top&&"http://www.w3.org/1999/xhtml"!==stack.top.namespaceURI}()?(nextchar+=7,tokenizer=cdata_section_state):tokenizer=bogus_comment_state}function comment_start_state(c){switch(beginComment(),c){case 45:tokenizer=comment_start_dash_state;break;case 62:tokenizer=data_state,insertToken(4,buf2str(commentbuf));break;default:reconsume(0,comment_state)}}function comment_start_dash_state(c){switch(c){case 45:tokenizer=comment_end_state;break;case 62:tokenizer=data_state,insertToken(4,buf2str(commentbuf));break;case-1:insertToken(4,buf2str(commentbuf)),emitEOF();break;default:commentbuf.push(45),reconsume(0,comment_state)}}function comment_state(c){switch(c){case 60:commentbuf.push(c),tokenizer=comment_less_than_sign_state;break;case 45:tokenizer=comment_end_dash_state;break;case 0:commentbuf.push(65533);break;case-1:insertToken(4,buf2str(commentbuf)),emitEOF();break;default:commentbuf.push(c)}}function comment_less_than_sign_state(c){switch(c){case 33:commentbuf.push(c),tokenizer=comment_less_than_sign_bang_state;break;case 60:commentbuf.push(c);break;default:reconsume(0,comment_state)}}function comment_less_than_sign_bang_state(c){switch(c){case 45:tokenizer=comment_less_than_sign_bang_dash_state;break;default:reconsume(0,comment_state)}}function comment_less_than_sign_bang_dash_state(c){switch(c){case 45:tokenizer=comment_less_than_sign_bang_dash_dash_state;break;default:reconsume(0,comment_end_dash_state)}}function comment_less_than_sign_bang_dash_dash_state(c){switch(c){case 62:case-1:default:reconsume(0,comment_end_state)}}function comment_end_dash_state(c){switch(c){case 45:tokenizer=comment_end_state;break;case-1:insertToken(4,buf2str(commentbuf)),emitEOF();break;default:commentbuf.push(45),reconsume(0,comment_state)}}function comment_end_state(c){switch(c){case 62:tokenizer=data_state,insertToken(4,buf2str(commentbuf));break;case 33:tokenizer=comment_end_bang_state;break;case 45:commentbuf.push(45);break;case-1:insertToken(4,buf2str(commentbuf)),emitEOF();break;default:commentbuf.push(45),commentbuf.push(45),reconsume(0,comment_state)}}function comment_end_bang_state(c){switch(c){case 45:commentbuf.push(45),commentbuf.push(45),commentbuf.push(33),tokenizer=comment_end_dash_state;break;case 62:tokenizer=data_state,insertToken(4,buf2str(commentbuf));break;case-1:insertToken(4,buf2str(commentbuf)),emitEOF();break;default:commentbuf.push(45),commentbuf.push(45),commentbuf.push(33),reconsume(0,comment_state)}}function doctype_state(c){switch(c){case 9:case 10:case 12:case 32:tokenizer=before_doctype_name_state;break;case-1:beginDoctype(),forcequirks(),emitDoctype(),emitEOF();break;default:reconsume(0,before_doctype_name_state)}}function before_doctype_name_state(c){switch(c){case 9:case 10:case 12:case 32:break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:beginDoctype(),doctypenamebuf.push(c+32),tokenizer=doctype_name_state;break;case 0:beginDoctype(),doctypenamebuf.push(65533),tokenizer=doctype_name_state;break;case 62:beginDoctype(),forcequirks(),tokenizer=data_state,emitDoctype();break;case-1:beginDoctype(),forcequirks(),emitDoctype(),emitEOF();break;default:beginDoctype(),doctypenamebuf.push(c),tokenizer=doctype_name_state}}function doctype_name_state(c){switch(c){case 9:case 10:case 12:case 32:tokenizer=after_doctype_name_state;break;case 62:tokenizer=data_state,emitDoctype();break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:doctypenamebuf.push(c+32);break;case 0:doctypenamebuf.push(65533);break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:doctypenamebuf.push(c)}}function after_doctype_name_state(c,lookahead,eof){switch(c){case 9:case 10:case 12:case 32:nextchar+=1;break;case 62:tokenizer=data_state,nextchar+=1,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:"PUBLIC"===(lookahead=lookahead.toUpperCase())?(nextchar+=6,tokenizer=after_doctype_public_keyword_state):"SYSTEM"===lookahead?(nextchar+=6,tokenizer=after_doctype_system_keyword_state):(forcequirks(),tokenizer=bogus_doctype_state)}}function after_doctype_public_keyword_state(c){switch(c){case 9:case 10:case 12:case 32:tokenizer=before_doctype_public_identifier_state;break;case 34:beginDoctypePublicId(),tokenizer=doctype_public_identifier_double_quoted_state;break;case 39:beginDoctypePublicId(),tokenizer=doctype_public_identifier_single_quoted_state;break;case 62:forcequirks(),tokenizer=data_state,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:forcequirks(),tokenizer=bogus_doctype_state}}function before_doctype_public_identifier_state(c){switch(c){case 9:case 10:case 12:case 32:break;case 34:beginDoctypePublicId(),tokenizer=doctype_public_identifier_double_quoted_state;break;case 39:beginDoctypePublicId(),tokenizer=doctype_public_identifier_single_quoted_state;break;case 62:forcequirks(),tokenizer=data_state,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:forcequirks(),tokenizer=bogus_doctype_state}}function doctype_public_identifier_double_quoted_state(c){switch(c){case 34:tokenizer=after_doctype_public_identifier_state;break;case 0:doctypepublicbuf.push(65533);break;case 62:forcequirks(),tokenizer=data_state,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:doctypepublicbuf.push(c)}}function doctype_public_identifier_single_quoted_state(c){switch(c){case 39:tokenizer=after_doctype_public_identifier_state;break;case 0:doctypepublicbuf.push(65533);break;case 62:forcequirks(),tokenizer=data_state,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:doctypepublicbuf.push(c)}}function after_doctype_public_identifier_state(c){switch(c){case 9:case 10:case 12:case 32:tokenizer=between_doctype_public_and_system_identifiers_state;break;case 62:tokenizer=data_state,emitDoctype();break;case 34:beginDoctypeSystemId(),tokenizer=doctype_system_identifier_double_quoted_state;break;case 39:beginDoctypeSystemId(),tokenizer=doctype_system_identifier_single_quoted_state;break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:forcequirks(),tokenizer=bogus_doctype_state}}function between_doctype_public_and_system_identifiers_state(c){switch(c){case 9:case 10:case 12:case 32:break;case 62:tokenizer=data_state,emitDoctype();break;case 34:beginDoctypeSystemId(),tokenizer=doctype_system_identifier_double_quoted_state;break;case 39:beginDoctypeSystemId(),tokenizer=doctype_system_identifier_single_quoted_state;break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:forcequirks(),tokenizer=bogus_doctype_state}}function after_doctype_system_keyword_state(c){switch(c){case 9:case 10:case 12:case 32:tokenizer=before_doctype_system_identifier_state;break;case 34:beginDoctypeSystemId(),tokenizer=doctype_system_identifier_double_quoted_state;break;case 39:beginDoctypeSystemId(),tokenizer=doctype_system_identifier_single_quoted_state;break;case 62:forcequirks(),tokenizer=data_state,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:forcequirks(),tokenizer=bogus_doctype_state}}function before_doctype_system_identifier_state(c){switch(c){case 9:case 10:case 12:case 32:break;case 34:beginDoctypeSystemId(),tokenizer=doctype_system_identifier_double_quoted_state;break;case 39:beginDoctypeSystemId(),tokenizer=doctype_system_identifier_single_quoted_state;break;case 62:forcequirks(),tokenizer=data_state,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:forcequirks(),tokenizer=bogus_doctype_state}}function doctype_system_identifier_double_quoted_state(c){switch(c){case 34:tokenizer=after_doctype_system_identifier_state;break;case 0:doctypesystembuf.push(65533);break;case 62:forcequirks(),tokenizer=data_state,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:doctypesystembuf.push(c)}}function doctype_system_identifier_single_quoted_state(c){switch(c){case 39:tokenizer=after_doctype_system_identifier_state;break;case 0:doctypesystembuf.push(65533);break;case 62:forcequirks(),tokenizer=data_state,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:doctypesystembuf.push(c)}}function after_doctype_system_identifier_state(c){switch(c){case 9:case 10:case 12:case 32:break;case 62:tokenizer=data_state,emitDoctype();break;case-1:forcequirks(),emitDoctype(),emitEOF();break;default:tokenizer=bogus_doctype_state}}function bogus_doctype_state(c){switch(c){case 62:tokenizer=data_state,emitDoctype();break;case-1:emitDoctype(),emitEOF()}}function cdata_section_state(c){switch(c){case 93:tokenizer=cdata_section_bracket_state;break;case-1:emitEOF();break;case 0:textIncludesNUL=!0;default:emitCharsWhile(CDATATEXT)||textrun.push(c)}}function cdata_section_bracket_state(c){switch(c){case 93:tokenizer=cdata_section_end_state;break;default:textrun.push(93),reconsume(0,cdata_section_state)}}function cdata_section_end_state(c){switch(c){case 93:textrun.push(93);break;case 62:flushText(),tokenizer=data_state;break;default:textrun.push(93),textrun.push(93),reconsume(0,cdata_section_state)}}function character_reference_state(c){switch(beginTempBuf(),tempbuf.push(38),c){case 9:case 10:case 12:case 32:case 60:case 38:case-1:reconsume(0,character_reference_end_state);break;case 35:tempbuf.push(c),tokenizer=numeric_character_reference_state;break;default:reconsume(0,named_character_reference_state)}}function named_character_reference_state(c){NAMEDCHARREF.lastIndex=nextchar;var matched=NAMEDCHARREF.exec(chars);if(!matched)throw new Error("should never happen");var name=matched[1];if(name){switch(nextchar+=name.length,pushAll(tempbuf,function str2buf(s){for(var result=[],i=0;i<s.length;i++)result[i]=s.charCodeAt(i);return result}(name)),return_state){case attribute_value_double_quoted_state:case attribute_value_single_quoted_state:case attribute_value_unquoted_state:if(";"!==name[name.length-1]&&/[=A-Za-z0-9]/.test(chars[nextchar]))return void(tokenizer=character_reference_end_state)}beginTempBuf();var rv=namedCharRefs[name];"number"==typeof rv?tempbuf.push(rv):pushAll(tempbuf,rv),tokenizer=character_reference_end_state}else tokenizer=character_reference_end_state}function numeric_character_reference_state(c){switch(character_reference_code=0,c){case 120:case 88:tempbuf.push(c),tokenizer=hexadecimal_character_reference_start_state;break;default:reconsume(0,decimal_character_reference_start_state)}}function hexadecimal_character_reference_start_state(c){switch(c){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 66:case 67:case 68:case 69:case 70:case 97:case 98:case 99:case 100:case 101:case 102:reconsume(0,hexadecimal_character_reference_state);break;default:reconsume(0,character_reference_end_state)}}function decimal_character_reference_start_state(c){switch(c){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:reconsume(0,decimal_character_reference_state);break;default:reconsume(0,character_reference_end_state)}}function hexadecimal_character_reference_state(c){switch(c){case 65:case 66:case 67:case 68:case 69:case 70:character_reference_code*=16,character_reference_code+=c-55;break;case 97:case 98:case 99:case 100:case 101:case 102:character_reference_code*=16,character_reference_code+=c-87;break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:character_reference_code*=16,character_reference_code+=c-48;break;case 59:tokenizer=numeric_character_reference_end_state;break;default:reconsume(0,numeric_character_reference_end_state)}}function decimal_character_reference_state(c){switch(c){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:character_reference_code*=10,character_reference_code+=c-48;break;case 59:tokenizer=numeric_character_reference_end_state;break;default:reconsume(0,numeric_character_reference_end_state)}}function numeric_character_reference_end_state(c){character_reference_code in numericCharRefReplacements?character_reference_code=numericCharRefReplacements[character_reference_code]:(character_reference_code>1114111||character_reference_code>=55296&&character_reference_code<57344)&&(character_reference_code=65533),beginTempBuf(),character_reference_code<=65535?tempbuf.push(character_reference_code):(character_reference_code-=65536,tempbuf.push(55296+(character_reference_code>>10)),tempbuf.push(56320+(1023&character_reference_code))),reconsume(0,character_reference_end_state)}function character_reference_end_state(c){switch(return_state){case attribute_value_double_quoted_state:case attribute_value_single_quoted_state:case attribute_value_unquoted_state:attrvaluebuf+=buf2str(tempbuf);break;default:pushAll(textrun,tempbuf)}reconsume(0,return_state)}function before_html_mode(t,value,arg3,arg4){var elt;switch(t){case 1:if(0===(value=value.replace(LEADINGWS,"")).length)return;break;case 5:return;case 4:return void doc._appendChild(doc.createComment(value));case 2:if("html"===value)return elt=createHTMLElt(doc,value,arg3),stack.push(elt),doc.appendChild(elt),void(parser=before_head_mode);break;case 3:switch(value){case"html":case"head":case"body":case"br":break;default:return}}elt=createHTMLElt(doc,"html",null),stack.push(elt),doc.appendChild(elt),(parser=before_head_mode)(t,value,arg3,arg4)}function before_head_mode(t,value,arg3,arg4){switch(t){case 1:if(0===(value=value.replace(LEADINGWS,"")).length)return;break;case 5:return;case 4:return void insertComment(value);case 2:switch(value){case"html":return void in_body_mode(t,value,arg3,arg4);case"head":var elt=insertHTMLElement(value,arg3);return head_element_pointer=elt,void(parser=in_head_mode)}break;case 3:switch(value){case"html":case"head":case"body":case"br":break;default:return}}before_head_mode(2,"head",null),parser(t,value,arg3,arg4)}function in_head_mode(t,value,arg3,arg4){switch(t){case 1:var ws=value.match(LEADINGWS);if(ws&&(insertText(ws[0]),value=value.substring(ws[0].length)),0===value.length)return;break;case 4:return void insertComment(value);case 5:return;case 2:switch(value){case"html":return void in_body_mode(t,value,arg3,arg4);case"meta":case"base":case"basefont":case"bgsound":case"link":return insertHTMLElement(value,arg3),void stack.pop();case"title":return void function parseRCDATA(name,attrs){insertHTMLElement(name,attrs),tokenizer=rcdata_state,originalInsertionMode=parser,parser=text_mode}(value,arg3);case"noscript":if(!scripting_enabled)return insertHTMLElement(value,arg3),void(parser=in_head_noscript_mode);case"noframes":case"style":return void parseRawText(value,arg3);case"script":return insertElement((function(doc){var elt=createHTMLElt(doc,value,arg3);return elt._parser_inserted=!0,elt._force_async=!1,fragment&&(elt._already_started=!0),flushText(),elt})),tokenizer=script_data_state,originalInsertionMode=parser,void(parser=text_mode);case"template":return insertHTMLElement(value,arg3),afe.insertMarker(),frameset_ok=!1,parser=in_template_mode,void templateInsertionModes.push(parser);case"head":return}break;case 3:switch(value){case"head":return stack.pop(),void(parser=after_head_mode);case"body":case"html":case"br":break;case"template":if(!stack.contains("template"))return;return stack.generateImpliedEndTags(null,"thorough"),stack.popTag("template"),afe.clearToMarker(),templateInsertionModes.pop(),void resetInsertionMode();default:return}}in_head_mode(3,"head",null),parser(t,value,arg3,arg4)}function in_head_noscript_mode(t,value,arg3,arg4){switch(t){case 5:return;case 4:return void in_head_mode(t,value);case 1:var ws=value.match(LEADINGWS);if(ws&&(in_head_mode(t,ws[0]),value=value.substring(ws[0].length)),0===value.length)return;break;case 2:switch(value){case"html":return void in_body_mode(t,value,arg3,arg4);case"basefont":case"bgsound":case"link":case"meta":case"noframes":case"style":return void in_head_mode(t,value,arg3);case"head":case"noscript":return}break;case 3:switch(value){case"noscript":return stack.pop(),void(parser=in_head_mode);case"br":break;default:return}}in_head_noscript_mode(3,"noscript",null),parser(t,value,arg3,arg4)}function after_head_mode(t,value,arg3,arg4){switch(t){case 1:var ws=value.match(LEADINGWS);if(ws&&(insertText(ws[0]),value=value.substring(ws[0].length)),0===value.length)return;break;case 4:return void insertComment(value);case 5:return;case 2:switch(value){case"html":return void in_body_mode(t,value,arg3,arg4);case"body":return insertHTMLElement(value,arg3),frameset_ok=!1,void(parser=in_body_mode);case"frameset":return insertHTMLElement(value,arg3),void(parser=in_frameset_mode);case"base":case"basefont":case"bgsound":case"link":case"meta":case"noframes":case"script":case"style":case"template":case"title":return stack.push(head_element_pointer),in_head_mode(2,value,arg3),void stack.removeElement(head_element_pointer);case"head":return}break;case 3:switch(value){case"template":return in_head_mode(t,value,arg3,arg4);case"body":case"html":case"br":break;default:return}}after_head_mode(2,"body",null),frameset_ok=!0,parser(t,value,arg3,arg4)}function in_body_mode(t,value,arg3,arg4){var body,i,node,elt;switch(t){case 1:if(textIncludesNUL&&0===(value=value.replace(NULCHARS,"")).length)return;return frameset_ok&&NONWS.test(value)&&(frameset_ok=!1),afereconstruct(),void insertText(value);case 5:return;case 4:return void insertComment(value);case-1:return templateInsertionModes.length?in_template_mode(t):void stopParsing();case 2:switch(value){case"html":if(stack.contains("template"))return;return void transferAttributes(arg3,stack.elements[0]);case"base":case"basefont":case"bgsound":case"link":case"meta":case"noframes":case"script":case"style":case"template":case"title":return void in_head_mode(2,value,arg3);case"body":if(!(body=stack.elements[1])||!(body instanceof impl.HTMLBodyElement)||stack.contains("template"))return;return frameset_ok=!1,void transferAttributes(arg3,body);case"frameset":if(!frameset_ok)return;if(!((body=stack.elements[1])&&body instanceof impl.HTMLBodyElement))return;for(body.parentNode&&body.parentNode.removeChild(body);!(stack.top instanceof impl.HTMLHtmlElement);)stack.pop();return insertHTMLElement(value,arg3),void(parser=in_frameset_mode);case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"nav":case"ol":case"p":case"section":case"summary":case"ul":return stack.inButtonScope("p")&&in_body_mode(3,"p"),void insertHTMLElement(value,arg3);case"menu":return stack.inButtonScope("p")&&in_body_mode(3,"p"),isA(stack.top,"menuitem")&&stack.pop(),void insertHTMLElement(value,arg3);case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return stack.inButtonScope("p")&&in_body_mode(3,"p"),stack.top instanceof impl.HTMLHeadingElement&&stack.pop(),void insertHTMLElement(value,arg3);case"pre":case"listing":return stack.inButtonScope("p")&&in_body_mode(3,"p"),insertHTMLElement(value,arg3),ignore_linefeed=!0,void(frameset_ok=!1);case"form":if(form_element_pointer&&!stack.contains("template"))return;return stack.inButtonScope("p")&&in_body_mode(3,"p"),elt=insertHTMLElement(value,arg3),void(stack.contains("template")||(form_element_pointer=elt));case"li":for(frameset_ok=!1,i=stack.elements.length-1;i>=0;i--){if((node=stack.elements[i])instanceof impl.HTMLLIElement){in_body_mode(3,"li");break}if(isA(node,specialSet)&&!isA(node,addressdivpSet))break}return stack.inButtonScope("p")&&in_body_mode(3,"p"),void insertHTMLElement(value,arg3);case"dd":case"dt":for(frameset_ok=!1,i=stack.elements.length-1;i>=0;i--){if(isA(node=stack.elements[i],dddtSet)){in_body_mode(3,node.localName);break}if(isA(node,specialSet)&&!isA(node,addressdivpSet))break}return stack.inButtonScope("p")&&in_body_mode(3,"p"),void insertHTMLElement(value,arg3);case"plaintext":return stack.inButtonScope("p")&&in_body_mode(3,"p"),insertHTMLElement(value,arg3),void(tokenizer=plaintext_state);case"button":return void(stack.inScope("button")?(in_body_mode(3,"button"),parser(t,value,arg3,arg4)):(afereconstruct(),insertHTMLElement(value,arg3),frameset_ok=!1));case"a":var activeElement=afe.findElementByTag("a");activeElement&&(in_body_mode(3,value),afe.remove(activeElement),stack.removeElement(activeElement));case"b":case"big":case"code":case"em":case"font":case"i":case"s":case"small":case"strike":case"strong":case"tt":case"u":return afereconstruct(),void afe.push(insertHTMLElement(value,arg3),arg3);case"nobr":return afereconstruct(),stack.inScope(value)&&(in_body_mode(3,value),afereconstruct()),void afe.push(insertHTMLElement(value,arg3),arg3);case"applet":case"marquee":case"object":return afereconstruct(),insertHTMLElement(value,arg3),afe.insertMarker(),void(frameset_ok=!1);case"table":return!doc._quirks&&stack.inButtonScope("p")&&in_body_mode(3,"p"),insertHTMLElement(value,arg3),frameset_ok=!1,void(parser=in_table_mode);case"area":case"br":case"embed":case"img":case"keygen":case"wbr":return afereconstruct(),insertHTMLElement(value,arg3),stack.pop(),void(frameset_ok=!1);case"input":afereconstruct(),elt=insertHTMLElement(value,arg3),stack.pop();var type=elt.getAttribute("type");return void(type&&"hidden"===type.toLowerCase()||(frameset_ok=!1));case"param":case"source":case"track":return insertHTMLElement(value,arg3),void stack.pop();case"hr":return stack.inButtonScope("p")&&in_body_mode(3,"p"),isA(stack.top,"menuitem")&&stack.pop(),insertHTMLElement(value,arg3),stack.pop(),void(frameset_ok=!1);case"image":return void in_body_mode(2,"img",arg3,arg4);case"textarea":return insertHTMLElement(value,arg3),ignore_linefeed=!0,frameset_ok=!1,tokenizer=rcdata_state,originalInsertionMode=parser,void(parser=text_mode);case"xmp":return stack.inButtonScope("p")&&in_body_mode(3,"p"),afereconstruct(),frameset_ok=!1,void parseRawText(value,arg3);case"iframe":return frameset_ok=!1,void parseRawText(value,arg3);case"noembed":return void parseRawText(value,arg3);case"noscript":if(scripting_enabled)return void parseRawText(value,arg3);break;case"select":return afereconstruct(),insertHTMLElement(value,arg3),frameset_ok=!1,void(parser=parser===in_table_mode||parser===in_caption_mode||parser===in_table_body_mode||parser===in_row_mode||parser===in_cell_mode?in_select_in_table_mode:in_select_mode);case"optgroup":case"option":return stack.top instanceof impl.HTMLOptionElement&&in_body_mode(3,"option"),afereconstruct(),void insertHTMLElement(value,arg3);case"menuitem":return isA(stack.top,"menuitem")&&stack.pop(),afereconstruct(),void insertHTMLElement(value,arg3);case"rb":case"rtc":return stack.inScope("ruby")&&stack.generateImpliedEndTags(),void insertHTMLElement(value,arg3);case"rp":case"rt":return stack.inScope("ruby")&&stack.generateImpliedEndTags("rtc"),void insertHTMLElement(value,arg3);case"math":return afereconstruct(),adjustMathMLAttributes(arg3),adjustForeignAttributes(arg3),insertForeignElement(value,arg3,NAMESPACE.MATHML),void(arg4&&stack.pop());case"svg":return afereconstruct(),adjustSVGAttributes(arg3),adjustForeignAttributes(arg3),insertForeignElement(value,arg3,NAMESPACE.SVG),void(arg4&&stack.pop());case"caption":case"col":case"colgroup":case"frame":case"head":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return}return afereconstruct(),void insertHTMLElement(value,arg3);case 3:switch(value){case"template":return void in_head_mode(3,value,arg3);case"body":if(!stack.inScope("body"))return;return void(parser=after_body_mode);case"html":if(!stack.inScope("body"))return;return void(parser=after_body_mode)(t,value,arg3);case"address":case"article":case"aside":case"blockquote":case"button":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"listing":case"main":case"menu":case"nav":case"ol":case"pre":case"section":case"summary":case"ul":if(!stack.inScope(value))return;return stack.generateImpliedEndTags(),void stack.popTag(value);case"form":if(stack.contains("template")){if(!stack.inScope("form"))return;stack.generateImpliedEndTags(),stack.popTag("form")}else{var openform=form_element_pointer;if(form_element_pointer=null,!openform||!stack.elementInScope(openform))return;stack.generateImpliedEndTags(),stack.removeElement(openform)}return;case"p":return void(stack.inButtonScope(value)?(stack.generateImpliedEndTags(value),stack.popTag(value)):(in_body_mode(2,value,null),parser(t,value,arg3,arg4)));case"li":if(!stack.inListItemScope(value))return;return stack.generateImpliedEndTags(value),void stack.popTag(value);case"dd":case"dt":if(!stack.inScope(value))return;return stack.generateImpliedEndTags(value),void stack.popTag(value);case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":if(!stack.elementTypeInScope(impl.HTMLHeadingElement))return;return stack.generateImpliedEndTags(),void stack.popElementType(impl.HTMLHeadingElement);case"sarcasm":break;case"a":case"b":case"big":case"code":case"em":case"font":case"i":case"nobr":case"s":case"small":case"strike":case"strong":case"tt":case"u":if(function adoptionAgency(tag){if(isA(stack.top,tag)&&-1===afe.indexOf(stack.top))return stack.pop(),!0;for(var outer=0;outer<8;){outer++;var fmtelt=afe.findElementByTag(tag);if(!fmtelt)return!1;var index=stack.elements.lastIndexOf(fmtelt);if(-1===index)return afe.remove(fmtelt),!0;if(!stack.elementInScope(fmtelt))return!0;for(var furthestblockindex,furthestblock=null,i=index+1;i<stack.elements.length;i++)if(isA(stack.elements[i],specialSet)){furthestblock=stack.elements[i],furthestblockindex=i;break}if(!furthestblock)return stack.popElement(fmtelt),afe.remove(fmtelt),!0;var ancestor=stack.elements[index-1];afe.insertAfter(fmtelt,BOOKMARK);for(var nodeafeindex,node=furthestblock,lastnode=furthestblock,nodeindex=furthestblockindex,inner=0;inner++,(node=stack.elements[--nodeindex])!==fmtelt;)if(nodeafeindex=afe.indexOf(node),inner>3&&-1!==nodeafeindex&&(afe.remove(node),nodeafeindex=-1),-1!==nodeafeindex){var newelt=afeclone(ancestor.ownerDocument,nodeafeindex);afe.replace(node,newelt.elt,newelt.attrs),stack.elements[nodeindex]=newelt.elt,node=newelt.elt,lastnode===furthestblock&&(afe.remove(BOOKMARK),afe.insertAfter(newelt.elt,BOOKMARK)),node._appendChild(lastnode),lastnode=node}else stack.removeElement(node);foster_parent_mode&&isA(ancestor,tablesectionrowSet)?fosterParent((function(){return lastnode})):ancestor instanceof impl.HTMLTemplateElement?ancestor.content._appendChild(lastnode):ancestor._appendChild(lastnode);for(var newelt2=afeclone(furthestblock.ownerDocument,afe.indexOf(fmtelt));furthestblock.hasChildNodes();)newelt2.elt._appendChild(furthestblock.firstChild);furthestblock._appendChild(newelt2.elt),afe.remove(fmtelt),afe.replace(BOOKMARK,newelt2.elt,newelt2.attrs),stack.removeElement(fmtelt);var pos=stack.elements.lastIndexOf(furthestblock);stack.elements.splice(pos+1,0,newelt2.elt)}return!0}(value))return;break;case"applet":case"marquee":case"object":if(!stack.inScope(value))return;return stack.generateImpliedEndTags(),stack.popTag(value),void afe.clearToMarker();case"br":return void in_body_mode(2,value,null)}for(i=stack.elements.length-1;i>=0;i--){if(isA(node=stack.elements[i],value)){stack.generateImpliedEndTags(value),stack.popElement(node);break}if(isA(node,specialSet))return}return}}function text_mode(t,value,arg3,arg4){switch(t){case 1:return void insertText(value);case-1:return stack.top instanceof impl.HTMLScriptElement&&(stack.top._already_started=!0),stack.pop(),void(parser=originalInsertionMode)(t);case 3:return void("script"===value?function handleScriptEnd(){stack.pop(),parser=originalInsertionMode}():(stack.pop(),parser=originalInsertionMode));default:return}}function in_table_mode(t,value,arg3,arg4){switch(t){case 1:if(text_integration_mode)return void in_body_mode(t,value,arg3,arg4);if(isA(stack.top,tablesectionrowSet))return pending_table_text=[],originalInsertionMode=parser,void(parser=in_table_text_mode)(t,value,arg3,arg4);break;case 4:return void insertComment(value);case 5:return;case 2:switch(value){case"caption":return stack.clearToContext(tableContextSet),afe.insertMarker(),insertHTMLElement(value,arg3),void(parser=in_caption_mode);case"colgroup":return stack.clearToContext(tableContextSet),insertHTMLElement(value,arg3),void(parser=in_column_group_mode);case"col":return in_table_mode(2,"colgroup",null),void parser(t,value,arg3,arg4);case"tbody":case"tfoot":case"thead":return stack.clearToContext(tableContextSet),insertHTMLElement(value,arg3),void(parser=in_table_body_mode);case"td":case"th":case"tr":return in_table_mode(2,"tbody",null),void parser(t,value,arg3,arg4);case"table":if(!stack.inTableScope(value))return;return in_table_mode(3,value),void parser(t,value,arg3,arg4);case"style":case"script":case"template":return void in_head_mode(t,value,arg3,arg4);case"input":if("hidden"!==function getTypeAttr(attrs){for(var i=0,n=attrs.length;i<n;i++)if("type"===attrs[i][0])return attrs[i][1].toLowerCase();return null}(arg3))break;return insertHTMLElement(value,arg3),void stack.pop();case"form":if(form_element_pointer||stack.contains("template"))return;return form_element_pointer=insertHTMLElement(value,arg3),void stack.popElement(form_element_pointer)}break;case 3:switch(value){case"table":if(!stack.inTableScope(value))return;return stack.popTag(value),void resetInsertionMode();case"body":case"caption":case"col":case"colgroup":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return;case"template":return void in_head_mode(t,value,arg3,arg4)}break;case-1:return void in_body_mode(t,value,arg3,arg4)}foster_parent_mode=!0,in_body_mode(t,value,arg3,arg4),foster_parent_mode=!1}function in_table_text_mode(t,value,arg3,arg4){if(1===t){if(textIncludesNUL&&0===(value=value.replace(NULCHARS,"")).length)return;pending_table_text.push(value)}else{var s=pending_table_text.join("");pending_table_text.length=0,NONWS.test(s)?(foster_parent_mode=!0,in_body_mode(1,s),foster_parent_mode=!1):insertText(s),(parser=originalInsertionMode)(t,value,arg3,arg4)}}function in_caption_mode(t,value,arg3,arg4){function end_caption(){return!!stack.inTableScope("caption")&&(stack.generateImpliedEndTags(),stack.popTag("caption"),afe.clearToMarker(),parser=in_table_mode,!0)}switch(t){case 2:switch(value){case"caption":case"col":case"colgroup":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return void(end_caption()&&parser(t,value,arg3,arg4))}break;case 3:switch(value){case"caption":return void end_caption();case"table":return void(end_caption()&&parser(t,value,arg3,arg4));case"body":case"col":case"colgroup":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return}}in_body_mode(t,value,arg3,arg4)}function in_column_group_mode(t,value,arg3,arg4){switch(t){case 1:var ws=value.match(LEADINGWS);if(ws&&(insertText(ws[0]),value=value.substring(ws[0].length)),0===value.length)return;break;case 4:return void insertComment(value);case 5:return;case 2:switch(value){case"html":return void in_body_mode(t,value,arg3,arg4);case"col":return insertHTMLElement(value,arg3),void stack.pop();case"template":return void in_head_mode(t,value,arg3,arg4)}break;case 3:switch(value){case"colgroup":if(!isA(stack.top,"colgroup"))return;return stack.pop(),void(parser=in_table_mode);case"col":return;case"template":return void in_head_mode(t,value,arg3,arg4)}break;case-1:return void in_body_mode(t,value,arg3,arg4)}isA(stack.top,"colgroup")&&(in_column_group_mode(3,"colgroup"),parser(t,value,arg3,arg4))}function in_table_body_mode(t,value,arg3,arg4){function endsect(){(stack.inTableScope("tbody")||stack.inTableScope("thead")||stack.inTableScope("tfoot"))&&(stack.clearToContext(tableBodyContextSet),in_table_body_mode(3,stack.top.localName,null),parser(t,value,arg3,arg4))}switch(t){case 2:switch(value){case"tr":return stack.clearToContext(tableBodyContextSet),insertHTMLElement(value,arg3),void(parser=in_row_mode);case"th":case"td":return in_table_body_mode(2,"tr",null),void parser(t,value,arg3,arg4);case"caption":case"col":case"colgroup":case"tbody":case"tfoot":case"thead":return void endsect()}break;case 3:switch(value){case"table":return void endsect();case"tbody":case"tfoot":case"thead":return void(stack.inTableScope(value)&&(stack.clearToContext(tableBodyContextSet),stack.pop(),parser=in_table_mode));case"body":case"caption":case"col":case"colgroup":case"html":case"td":case"th":case"tr":return}}in_table_mode(t,value,arg3,arg4)}function in_row_mode(t,value,arg3,arg4){function endrow(){return!!stack.inTableScope("tr")&&(stack.clearToContext(tableRowContextSet),stack.pop(),parser=in_table_body_mode,!0)}switch(t){case 2:switch(value){case"th":case"td":return stack.clearToContext(tableRowContextSet),insertHTMLElement(value,arg3),parser=in_cell_mode,void afe.insertMarker();case"caption":case"col":case"colgroup":case"tbody":case"tfoot":case"thead":case"tr":return void(endrow()&&parser(t,value,arg3,arg4))}break;case 3:switch(value){case"tr":return void endrow();case"table":return void(endrow()&&parser(t,value,arg3,arg4));case"tbody":case"tfoot":case"thead":return void(stack.inTableScope(value)&&endrow()&&parser(t,value,arg3,arg4));case"body":case"caption":case"col":case"colgroup":case"html":case"td":case"th":return}}in_table_mode(t,value,arg3,arg4)}function in_cell_mode(t,value,arg3,arg4){switch(t){case 2:switch(value){case"caption":case"col":case"colgroup":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return void(stack.inTableScope("td")?(in_cell_mode(3,"td"),parser(t,value,arg3,arg4)):stack.inTableScope("th")&&(in_cell_mode(3,"th"),parser(t,value,arg3,arg4)))}break;case 3:switch(value){case"td":case"th":if(!stack.inTableScope(value))return;return stack.generateImpliedEndTags(),stack.popTag(value),afe.clearToMarker(),void(parser=in_row_mode);case"body":case"caption":case"col":case"colgroup":case"html":return;case"table":case"tbody":case"tfoot":case"thead":case"tr":if(!stack.inTableScope(value))return;return in_cell_mode(3,stack.inTableScope("td")?"td":"th"),void parser(t,value,arg3,arg4)}}in_body_mode(t,value,arg3,arg4)}function in_select_mode(t,value,arg3,arg4){switch(t){case 1:if(textIncludesNUL&&0===(value=value.replace(NULCHARS,"")).length)return;return void insertText(value);case 4:return void insertComment(value);case 5:return;case-1:return void in_body_mode(t,value,arg3,arg4);case 2:switch(value){case"html":return void in_body_mode(t,value,arg3,arg4);case"option":return stack.top instanceof impl.HTMLOptionElement&&in_select_mode(3,value),void insertHTMLElement(value,arg3);case"optgroup":return stack.top instanceof impl.HTMLOptionElement&&in_select_mode(3,"option"),stack.top instanceof impl.HTMLOptGroupElement&&in_select_mode(3,value),void insertHTMLElement(value,arg3);case"select":return void in_select_mode(3,value);case"input":case"keygen":case"textarea":if(!stack.inSelectScope("select"))return;return in_select_mode(3,"select"),void parser(t,value,arg3,arg4);case"script":case"template":return void in_head_mode(t,value,arg3,arg4)}break;case 3:switch(value){case"optgroup":return stack.top instanceof impl.HTMLOptionElement&&stack.elements[stack.elements.length-2]instanceof impl.HTMLOptGroupElement&&in_select_mode(3,"option"),void(stack.top instanceof impl.HTMLOptGroupElement&&stack.pop());case"option":return void(stack.top instanceof impl.HTMLOptionElement&&stack.pop());case"select":if(!stack.inSelectScope(value))return;return stack.popTag(value),void resetInsertionMode();case"template":return void in_head_mode(t,value,arg3,arg4)}}}function in_select_in_table_mode(t,value,arg3,arg4){switch(value){case"caption":case"table":case"tbody":case"tfoot":case"thead":case"tr":case"td":case"th":switch(t){case 2:return in_select_in_table_mode(3,"select"),void parser(t,value,arg3,arg4);case 3:return void(stack.inTableScope(value)&&(in_select_in_table_mode(3,"select"),parser(t,value,arg3,arg4)))}}in_select_mode(t,value,arg3,arg4)}function in_template_mode(t,value,arg3,arg4){function switchModeAndReprocess(mode){parser=mode,templateInsertionModes[templateInsertionModes.length-1]=parser,parser(t,value,arg3,arg4)}switch(t){case 1:case 4:case 5:return void in_body_mode(t,value,arg3,arg4);case-1:return void(stack.contains("template")?(stack.popTag("template"),afe.clearToMarker(),templateInsertionModes.pop(),resetInsertionMode(),parser(t,value,arg3,arg4)):stopParsing());case 2:switch(value){case"base":case"basefont":case"bgsound":case"link":case"meta":case"noframes":case"script":case"style":case"template":case"title":return void in_head_mode(t,value,arg3,arg4);case"caption":case"colgroup":case"tbody":case"tfoot":case"thead":return void switchModeAndReprocess(in_table_mode);case"col":return void switchModeAndReprocess(in_column_group_mode);case"tr":return void switchModeAndReprocess(in_table_body_mode);case"td":case"th":return void switchModeAndReprocess(in_row_mode)}return void switchModeAndReprocess(in_body_mode);case 3:switch(value){case"template":return void in_head_mode(t,value,arg3,arg4);default:return}}}function after_body_mode(t,value,arg3,arg4){switch(t){case 1:if(NONWS.test(value))break;return void in_body_mode(t,value);case 4:return void stack.elements[0]._appendChild(doc.createComment(value));case 5:return;case-1:return void stopParsing();case 2:if("html"===value)return void in_body_mode(t,value,arg3,arg4);break;case 3:if("html"===value){if(fragment)return;return void(parser=after_after_body_mode)}}(parser=in_body_mode)(t,value,arg3,arg4)}function in_frameset_mode(t,value,arg3,arg4){switch(t){case 1:return void((value=value.replace(ALLNONWS,"")).length>0&&insertText(value));case 4:return void insertComment(value);case 5:return;case-1:return void stopParsing();case 2:switch(value){case"html":return void in_body_mode(t,value,arg3,arg4);case"frameset":return void insertHTMLElement(value,arg3);case"frame":return insertHTMLElement(value,arg3),void stack.pop();case"noframes":return void in_head_mode(t,value,arg3,arg4)}break;case 3:if("frameset"===value){if(fragment&&stack.top instanceof impl.HTMLHtmlElement)return;return stack.pop(),void(fragment||stack.top instanceof impl.HTMLFrameSetElement||(parser=after_frameset_mode))}}}function after_frameset_mode(t,value,arg3,arg4){switch(t){case 1:return void((value=value.replace(ALLNONWS,"")).length>0&&insertText(value));case 4:return void insertComment(value);case 5:return;case-1:return void stopParsing();case 2:switch(value){case"html":return void in_body_mode(t,value,arg3,arg4);case"noframes":return void in_head_mode(t,value,arg3,arg4)}break;case 3:if("html"===value)return void(parser=after_after_frameset_mode)}}function after_after_body_mode(t,value,arg3,arg4){switch(t){case 1:if(NONWS.test(value))break;return void in_body_mode(t,value,arg3,arg4);case 4:return void doc._appendChild(doc.createComment(value));case 5:return void in_body_mode(t,value,arg3,arg4);case-1:return void stopParsing();case 2:if("html"===value)return void in_body_mode(t,value,arg3,arg4)}(parser=in_body_mode)(t,value,arg3,arg4)}function after_after_frameset_mode(t,value,arg3,arg4){switch(t){case 1:return void((value=value.replace(ALLNONWS,"")).length>0&&in_body_mode(t,value,arg3,arg4));case 4:return void doc._appendChild(doc.createComment(value));case 5:return void in_body_mode(t,value,arg3,arg4);case-1:return void stopParsing();case 2:switch(value){case"html":return void in_body_mode(t,value,arg3,arg4);case"noframes":return void in_head_mode(t,value,arg3,arg4)}}}function insertForeignToken(t,value,arg3,arg4){var current;switch(t){case 1:return frameset_ok&&NONWSNONNUL.test(value)&&(frameset_ok=!1),textIncludesNUL&&(value=value.replace(NULCHARS,"\ufffd")),void insertText(value);case 4:return void insertComment(value);case 5:return;case 2:switch(value){case"font":if(!function isHTMLFont(attrs){for(var i=0,n=attrs.length;i<n;i++)switch(attrs[i][0]){case"color":case"face":case"size":return!0}return!1}(arg3))break;case"b":case"big":case"blockquote":case"body":case"br":case"center":case"code":case"dd":case"div":case"dl":case"dt":case"em":case"embed":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"head":case"hr":case"i":case"img":case"li":case"listing":case"menu":case"meta":case"nobr":case"ol":case"p":case"pre":case"ruby":case"s":case"small":case"span":case"strong":case"strike":case"sub":case"sup":case"table":case"tt":case"u":case"ul":case"var":if(fragment)break;do{stack.pop(),current=stack.top}while(current.namespaceURI!==NAMESPACE.HTML&&!isMathmlTextIntegrationPoint(current)&&!isHTMLIntegrationPoint(current));return void insertToken(t,value,arg3,arg4)}return(current=1===stack.elements.length&&fragment?fragmentContext:stack.top).namespaceURI===NAMESPACE.MATHML?adjustMathMLAttributes(arg3):current.namespaceURI===NAMESPACE.SVG&&(value=function adjustSVGTagName(name){return name in svgTagNameAdjustments?svgTagNameAdjustments[name]:name}(value),adjustSVGAttributes(arg3)),adjustForeignAttributes(arg3),insertForeignElement(value,arg3,current.namespaceURI),void(arg4&&("script"===value&&(current.namespaceURI,NAMESPACE.SVG),stack.pop()));case 3:if(current=stack.top,"script"===value&&current.namespaceURI===NAMESPACE.SVG&&"script"===current.localName)stack.pop();else for(var i=stack.elements.length-1,node=stack.elements[i];;){if(node.localName.toLowerCase()===value){stack.popElement(node);break}if((node=stack.elements[--i]).namespaceURI===NAMESPACE.HTML){parser(t,value,arg3,arg4);break}}return}}return bogus_comment_state.lookahead=">",markup_declaration_open_state.lookahead=7,after_doctype_name_state.lookahead=6,named_character_reference_state.lookahead=-32,htmlparser.testTokenizer=function(input,initialState,lastStartTag,charbychar){var tokens=[];switch(initialState){case"PCDATA state":tokenizer=data_state;break;case"RCDATA state":tokenizer=rcdata_state;break;case"RAWTEXT state":tokenizer=rawtext_state;break;case"PLAINTEXT state":tokenizer=plaintext_state}if(lastStartTag&&(lasttagname=lastStartTag),insertToken=function(t,value,arg3,arg4){switch(flushText(),t){case 1:tokens.length>0&&"Character"===tokens[tokens.length-1][0]?tokens[tokens.length-1][1]+=value:tokens.push(["Character",value]);break;case 4:tokens.push(["Comment",value]);break;case 5:tokens.push(["DOCTYPE",value,void 0===arg3?null:arg3,void 0===arg4?null:arg4,!force_quirks]);break;case 2:for(var attrs=Object.create(null),i=0;i<arg3.length;i++){var a=arg3[i];1===a.length?attrs[a[0]]="":attrs[a[0]]=a[1]}var token=["StartTag",value,attrs];arg4&&token.push(!0),tokens.push(token);break;case 3:tokens.push(["EndTag",value])}},charbychar){for(var i=0;i<input.length;i++)this.parse(input[i]);this.parse("",!0)}else this.parse(input,!0);return tokens},htmlparser}HTMLParser.ElementStack=function ElementStack(){this.elements=[],this.top=null},HTMLParser.ElementStack.prototype.push=function(e){this.elements.push(e),this.top=e},HTMLParser.ElementStack.prototype.pop=function(e){this.elements.pop(),this.top=this.elements[this.elements.length-1]},HTMLParser.ElementStack.prototype.popTag=function(tag){for(var i=this.elements.length-1;i>0;i--){if(isA(this.elements[i],tag))break}this.elements.length=i,this.top=this.elements[i-1]},HTMLParser.ElementStack.prototype.popElementType=function(type){for(var i=this.elements.length-1;i>0&&!(this.elements[i]instanceof type);i--);this.elements.length=i,this.top=this.elements[i-1]},HTMLParser.ElementStack.prototype.popElement=function(e){for(var i=this.elements.length-1;i>0&&this.elements[i]!==e;i--);this.elements.length=i,this.top=this.elements[i-1]},HTMLParser.ElementStack.prototype.removeElement=function(e){if(this.top===e)this.pop();else{var idx=this.elements.lastIndexOf(e);-1!==idx&&this.elements.splice(idx,1)}},HTMLParser.ElementStack.prototype.clearToContext=function(set){for(var i=this.elements.length-1;i>0&&!isA(this.elements[i],set);i--);this.elements.length=i+1,this.top=this.elements[i]},HTMLParser.ElementStack.prototype.contains=function(tag){return this.inSpecificScope(tag,Object.create(null))},HTMLParser.ElementStack.prototype.inSpecificScope=function(tag,set){for(var i=this.elements.length-1;i>=0;i--){var elt=this.elements[i];if(isA(elt,tag))return!0;if(isA(elt,set))return!1}return!1},HTMLParser.ElementStack.prototype.elementInSpecificScope=function(target,set){for(var i=this.elements.length-1;i>=0;i--){var elt=this.elements[i];if(elt===target)return!0;if(isA(elt,set))return!1}return!1},HTMLParser.ElementStack.prototype.elementTypeInSpecificScope=function(target,set){for(var i=this.elements.length-1;i>=0;i--){var elt=this.elements[i];if(elt instanceof target)return!0;if(isA(elt,set))return!1}return!1},HTMLParser.ElementStack.prototype.inScope=function(tag){return this.inSpecificScope(tag,inScopeSet)},HTMLParser.ElementStack.prototype.elementInScope=function(e){return this.elementInSpecificScope(e,inScopeSet)},HTMLParser.ElementStack.prototype.elementTypeInScope=function(type){return this.elementTypeInSpecificScope(type,inScopeSet)},HTMLParser.ElementStack.prototype.inButtonScope=function(tag){return this.inSpecificScope(tag,inButtonScopeSet)},HTMLParser.ElementStack.prototype.inListItemScope=function(tag){return this.inSpecificScope(tag,inListItemScopeSet)},HTMLParser.ElementStack.prototype.inTableScope=function(tag){return this.inSpecificScope(tag,inTableScopeSet)},HTMLParser.ElementStack.prototype.inSelectScope=function(tag){for(var i=this.elements.length-1;i>=0;i--){var elt=this.elements[i];if(elt.namespaceURI!==NAMESPACE.HTML)return!1;var localname=elt.localName;if(localname===tag)return!0;if("optgroup"!==localname&&"option"!==localname)return!1}return!1},HTMLParser.ElementStack.prototype.generateImpliedEndTags=function(butnot,thorough){for(var endTagSet=thorough?thoroughImpliedEndTagsSet:impliedEndTagsSet,i=this.elements.length-1;i>=0;i--){var e=this.elements[i];if(butnot&&isA(e,butnot))break;if(!isA(this.elements[i],endTagSet))break}this.elements.length=i+1,this.top=this.elements[i]},HTMLParser.ActiveFormattingElements=function AFE(){this.list=[],this.attrs=[]},HTMLParser.ActiveFormattingElements.prototype.MARKER={localName:"|"},HTMLParser.ActiveFormattingElements.prototype.insertMarker=function(){this.list.push(this.MARKER),this.attrs.push(this.MARKER)},HTMLParser.ActiveFormattingElements.prototype.push=function(elt,attrs){for(var count=0,i=this.list.length-1;i>=0&&this.list[i]!==this.MARKER;i--)if(equal(elt,this.list[i],this.attrs[i])&&3===++count){this.list.splice(i,1),this.attrs.splice(i,1);break}this.list.push(elt);for(var attrcopy=[],ii=0;ii<attrs.length;ii++)attrcopy[ii]=attrs[ii];function equal(newelt,oldelt,oldattrs){if(newelt.localName!==oldelt.localName)return!1;if(newelt._numattrs!==oldattrs.length)return!1;for(var i=0,n=oldattrs.length;i<n;i++){var oldname=oldattrs[i][0],oldval=oldattrs[i][1];if(!newelt.hasAttribute(oldname))return!1;if(newelt.getAttribute(oldname)!==oldval)return!1}return!0}this.attrs.push(attrcopy)},HTMLParser.ActiveFormattingElements.prototype.clearToMarker=function(){for(var i=this.list.length-1;i>=0&&this.list[i]!==this.MARKER;i--);i<0&&(i=0),this.list.length=i,this.attrs.length=i},HTMLParser.ActiveFormattingElements.prototype.findElementByTag=function(tag){for(var i=this.list.length-1;i>=0;i--){var elt=this.list[i];if(elt===this.MARKER)break;if(elt.localName===tag)return elt}return null},HTMLParser.ActiveFormattingElements.prototype.indexOf=function(e){return this.list.lastIndexOf(e)},HTMLParser.ActiveFormattingElements.prototype.remove=function(e){var idx=this.list.lastIndexOf(e);-1!==idx&&(this.list.splice(idx,1),this.attrs.splice(idx,1))},HTMLParser.ActiveFormattingElements.prototype.replace=function(a,b,attrs){var idx=this.list.lastIndexOf(a);-1!==idx&&(this.list[idx]=b,this.attrs[idx]=attrs)},HTMLParser.ActiveFormattingElements.prototype.insertAfter=function(a,b){var idx=this.list.lastIndexOf(a);-1!==idx&&(this.list.splice(idx,0,b),this.attrs.splice(idx,0,b))}},yCtX:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return fromArray}));var _Observable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("HDdC"),_util_subscribeToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ngJS"),_scheduled_scheduleArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("jZKg");function fromArray(input,scheduler){return scheduler?Object(_scheduled_scheduleArray__WEBPACK_IMPORTED_MODULE_2__.a)(input,scheduler):new _Observable__WEBPACK_IMPORTED_MODULE_0__.a(Object(_util_subscribeToArray__WEBPACK_IMPORTED_MODULE_1__.a)(input))}},"z+Ro":function(module,__webpack_exports__,__webpack_require__){"use strict";function isScheduler(value){return value&&"function"==typeof value.schedule}__webpack_require__.d(__webpack_exports__,"a",(function(){return isScheduler}))},zOVX:function(module,exports,__webpack_require__){"use strict";var Event=__webpack_require__("KUlC"),MouseEvent=__webpack_require__("C+Lp"),utils=__webpack_require__("Wo4J");function EventTarget(){}module.exports=EventTarget,EventTarget.prototype={addEventListener:function addEventListener(type,listener,capture){if(listener){void 0===capture&&(capture=!1),this._listeners||(this._listeners=Object.create(null)),this._listeners[type]||(this._listeners[type]=[]);for(var list=this._listeners[type],i=0,n=list.length;i<n;i++){var l=list[i];if(l.listener===listener&&l.capture===capture)return}var obj={listener:listener,capture:capture};"function"==typeof listener&&(obj.f=listener),list.push(obj)}},removeEventListener:function removeEventListener(type,listener,capture){if(void 0===capture&&(capture=!1),this._listeners){var list=this._listeners[type];if(list)for(var i=0,n=list.length;i<n;i++){var l=list[i];if(l.listener===listener&&l.capture===capture)return void(1===list.length?this._listeners[type]=void 0:list.splice(i,1))}}},dispatchEvent:function dispatchEvent(event){return this._dispatchEvent(event,!1)},_dispatchEvent:function _dispatchEvent(event,trusted){function invoke(target,event){var type=event.type,phase=event.eventPhase;if(event.currentTarget=target,phase!==Event.CAPTURING_PHASE&&target._handlers&&target._handlers[type]){var rv,handler=target._handlers[type];if("function"==typeof handler)rv=handler.call(event.currentTarget,event);else{var f=handler.handleEvent;if("function"!=typeof f)throw new TypeError("handleEvent property of event handler object isnot a function.");rv=f.call(handler,event)}switch(event.type){case"mouseover":!0===rv&&event.preventDefault();break;case"beforeunload":default:!1===rv&&event.preventDefault()}}var list=target._listeners&&target._listeners[type];if(list)for(var i=0,n=(list=list.slice()).length;i<n;i++){if(event._immediatePropagationStopped)return;var l=list[i];if(!(phase===Event.CAPTURING_PHASE&&!l.capture||phase===Event.BUBBLING_PHASE&&l.capture))if(l.f)l.f.call(event.currentTarget,event);else{var fn=l.listener.handleEvent;if("function"!=typeof fn)throw new TypeError("handleEvent property of event listener object is not a function.");fn.call(l.listener,event)}}}"boolean"!=typeof trusted&&(trusted=!1),event._initialized&&!event._dispatching||utils.InvalidStateError(),event.isTrusted=trusted,event._dispatching=!0,event.target=this;for(var ancestors=[],n=this.parentNode;n;n=n.parentNode)ancestors.push(n);event.eventPhase=Event.CAPTURING_PHASE;for(var i=ancestors.length-1;i>=0&&(invoke(ancestors[i],event),!event._propagationStopped);i--);if(event._propagationStopped||(event.eventPhase=Event.AT_TARGET,invoke(this,event)),event.bubbles&&!event._propagationStopped){event.eventPhase=Event.BUBBLING_PHASE;for(var ii=0,nn=ancestors.length;ii<nn&&(invoke(ancestors[ii],event),!event._propagationStopped);ii++);}if(event._dispatching=!1,event.eventPhase=Event.AT_TARGET,event.currentTarget=null,trusted&&!event.defaultPrevented&&event instanceof MouseEvent)switch(event.type){case"mousedown":this._armed={x:event.clientX,y:event.clientY,t:event.timeStamp};break;case"mouseout":case"mouseover":this._armed=null;break;case"mouseup":this._isClick(event)&&this._doClick(event),this._armed=null}return!event.defaultPrevented},_isClick:function(event){return null!==this._armed&&"mouseup"===event.type&&event.isTrusted&&0===event.button&&event.timeStamp-this._armed.t<1e3&&Math.abs(event.clientX-this._armed.x)<10&&Math.abs(event.clientY-this._armed.Y)<10},_doClick:function(event){if(!this._click_in_progress){this._click_in_progress=!0;for(var activated=this;activated&&!activated._post_click_activation_steps;)activated=activated.parentNode;activated&&activated._pre_click_activation_steps&&activated._pre_click_activation_steps();var click=this.ownerDocument.createEvent("MouseEvent");click.initMouseEvent("click",!0,!0,this.ownerDocument.defaultView,1,event.screenX,event.screenY,event.clientX,event.clientY,event.ctrlKey,event.altKey,event.shiftKey,event.metaKey,event.button,null);var result=this._dispatchEvent(click,!0);activated&&(result?activated._post_click_activation_steps&&activated._post_click_activation_steps(click):activated._cancelled_activation_steps&&activated._cancelled_activation_steps())}},_setEventHandler:function _setEventHandler(type,handler){this._handlers||(this._handlers=Object.create(null)),this._handlers[type]=handler},_getEventHandler:function _getEventHandler(type){return this._handlers&&this._handlers[type]||null}}},zmfh:function(module,exports,__webpack_require__){"use strict";module.exports=Leaf;var Node=__webpack_require__("P6n3"),NodeList=__webpack_require__("Igrf"),utils=__webpack_require__("Wo4J"),HierarchyRequestError=utils.HierarchyRequestError,NotFoundError=utils.NotFoundError;function Leaf(){Node.call(this)}Leaf.prototype=Object.create(Node.prototype,{hasChildNodes:{value:function(){return!1}},firstChild:{value:null},lastChild:{value:null},insertBefore:{value:function(node,child){if(!node.nodeType)throw new TypeError("not a node");HierarchyRequestError()}},replaceChild:{value:function(node,child){if(!node.nodeType)throw new TypeError("not a node");HierarchyRequestError()}},removeChild:{value:function(node){if(!node.nodeType)throw new TypeError("not a node");NotFoundError()}},removeChildren:{value:function(){}},childNodes:{get:function(){return this._childNodes||(this._childNodes=new NodeList),this._childNodes}}})},zn8P:function(module,exports){function webpackEmptyAsyncContext(req){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}))}webpackEmptyAsyncContext.keys=function(){return[]},webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,module.exports=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id="zn8P"}}));